var Ple=Object.defineProperty;var Ole=(t,e,n)=>e in t?Ple(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Je=(t,e,n)=>(Ole(t,typeof e!="symbol"?e+"":e,n),n),yD=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var me=(t,e,n)=>(yD(t,e,"read from private field"),n?n.call(t):e.get(t)),dn=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ft=(t,e,n,r)=>(yD(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var xA=(t,e,n,r)=>({set _(i){Ft(t,e,i,n)},get _(){return me(t,e,r)}}),li=(t,e,n)=>(yD(t,e,"access private method"),n);function fK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var mK={exports:{}},Dx={},gK={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE=Symbol.for("react.element"),Dle=Symbol.for("react.portal"),Nle=Symbol.for("react.fragment"),Rle=Symbol.for("react.strict_mode"),kle=Symbol.for("react.profiler"),Mle=Symbol.for("react.provider"),Lle=Symbol.for("react.context"),Fle=Symbol.for("react.forward_ref"),$le=Symbol.for("react.suspense"),jle=Symbol.for("react.memo"),Ule=Symbol.for("react.lazy"),l4=Symbol.iterator;function Ble(t){return t===null||typeof t!="object"?null:(t=l4&&t[l4]||t["@@iterator"],typeof t=="function"?t:null)}var yK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vK=Object.assign,wK={};function Xv(t,e,n){this.props=t,this.context=e,this.refs=wK,this.updater=n||yK}Xv.prototype.isReactComponent={};Xv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bK(){}bK.prototype=Xv.prototype;function W3(t,e,n){this.props=t,this.context=e,this.refs=wK,this.updater=n||yK}var q3=W3.prototype=new bK;q3.constructor=W3;vK(q3,Xv.prototype);q3.isPureReactComponent=!0;var u4=Array.isArray,_K=Object.prototype.hasOwnProperty,K3={current:null},EK={key:!0,ref:!0,__self:!0,__source:!0};function AK(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_K.call(e,r)&&!EK.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:JE,type:t,key:s,ref:o,props:i,_owner:K3.current}}function zle(t,e){return{$$typeof:JE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G3(t){return typeof t=="object"&&t!==null&&t.$$typeof===JE}function Vle(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d4=/\/+/g;function vD(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vle(""+t.key):e.toString(36)}function QC(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case JE:case Dle:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vD(o,0):r,u4(i)?(n="",t!=null&&(n=t.replace(d4,"$&/")+"/"),QC(i,e,n,"",function(l){return l})):i!=null&&(G3(i)&&(i=zle(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(d4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",u4(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+vD(s,a);o+=QC(s,e,n,c,i)}else if(c=Ble(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+vD(s,a++),o+=QC(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function PA(t,e,n){if(t==null)return t;var r=[],i=0;return QC(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Hle(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fo={current:null},ZC={transition:null},Wle={ReactCurrentDispatcher:fo,ReactCurrentBatchConfig:ZC,ReactCurrentOwner:K3};function CK(){throw Error("act(...) is not supported in production builds of React.")}gn.Children={map:PA,forEach:function(t,e,n){PA(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return PA(t,function(){e++}),e},toArray:function(t){return PA(t,function(e){return e})||[]},only:function(t){if(!G3(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gn.Component=Xv;gn.Fragment=Nle;gn.Profiler=kle;gn.PureComponent=W3;gn.StrictMode=Rle;gn.Suspense=$le;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wle;gn.act=CK;gn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vK({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=K3.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)_K.call(e,c)&&!EK.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:JE,type:t.type,key:i,ref:s,props:r,_owner:o}};gn.createContext=function(t){return t={$$typeof:Lle,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mle,_context:t},t.Consumer=t};gn.createElement=AK;gn.createFactory=function(t){var e=AK.bind(null,t);return e.type=t,e};gn.createRef=function(){return{current:null}};gn.forwardRef=function(t){return{$$typeof:Fle,render:t}};gn.isValidElement=G3;gn.lazy=function(t){return{$$typeof:Ule,_payload:{_status:-1,_result:t},_init:Hle}};gn.memo=function(t,e){return{$$typeof:jle,type:t,compare:e===void 0?null:e}};gn.startTransition=function(t){var e=ZC.transition;ZC.transition={};try{t()}finally{ZC.transition=e}};gn.unstable_act=CK;gn.useCallback=function(t,e){return fo.current.useCallback(t,e)};gn.useContext=function(t){return fo.current.useContext(t)};gn.useDebugValue=function(){};gn.useDeferredValue=function(t){return fo.current.useDeferredValue(t)};gn.useEffect=function(t,e){return fo.current.useEffect(t,e)};gn.useId=function(){return fo.current.useId()};gn.useImperativeHandle=function(t,e,n){return fo.current.useImperativeHandle(t,e,n)};gn.useInsertionEffect=function(t,e){return fo.current.useInsertionEffect(t,e)};gn.useLayoutEffect=function(t,e){return fo.current.useLayoutEffect(t,e)};gn.useMemo=function(t,e){return fo.current.useMemo(t,e)};gn.useReducer=function(t,e,n){return fo.current.useReducer(t,e,n)};gn.useRef=function(t){return fo.current.useRef(t)};gn.useState=function(t){return fo.current.useState(t)};gn.useSyncExternalStore=function(t,e,n){return fo.current.useSyncExternalStore(t,e,n)};gn.useTransition=function(){return fo.current.useTransition()};gn.version="18.3.1";gK.exports=gn;var M=gK.exports;const ce=cs(M),Y3=fK({__proto__:null,default:ce},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qle=M,Kle=Symbol.for("react.element"),Gle=Symbol.for("react.fragment"),Yle=Object.prototype.hasOwnProperty,Qle=qle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zle={key:!0,ref:!0,__self:!0,__source:!0};function TK(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yle.call(e,r)&&!Zle.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Kle,type:t,key:s,ref:o,props:i,_owner:Qle.current}}Dx.Fragment=Gle;Dx.jsx=TK;Dx.jsxs=TK;mK.exports=Dx;var C=mK.exports,wk={},SK={exports:{}},ma={},IK={exports:{}},xK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Q){var G=V.length;V.push(Q);e:for(;0<G;){var ee=G-1>>>1,ne=V[ee];if(0<i(ne,Q))V[ee]=Q,V[G]=ne,G=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],G=V.pop();if(G!==Q){V[0]=G;e:for(var ee=0,ne=V.length,le=ne>>>1;ee<le;){var ue=2*(ee+1)-1,re=V[ue],oe=ue+1,ye=V[oe];if(0>i(re,G))oe<ne&&0>i(ye,re)?(V[ee]=ye,V[oe]=G,ee=oe):(V[ee]=re,V[ue]=G,ee=ue);else if(oe<ne&&0>i(ye,G))V[ee]=ye,V[oe]=G,ee=oe;else break e}}return Q}function i(V,Q){var G=V.sortIndex-Q.sortIndex;return G!==0?G:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,h=null,f=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(V){for(var Q=n(l);Q!==null;){if(Q.callback===null)r(l);else if(Q.startTime<=V)r(l),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(l)}}function I(V){if(y=!1,A(V),!g)if(n(c)!==null)g=!0,z(P);else{var Q=n(l);Q!==null&&Y(I,Q.startTime-V)}}function P(V,Q){g=!1,y&&(y=!1,b(S),S=-1),p=!0;var G=f;try{for(A(Q),h=n(c);h!==null&&(!(h.expirationTime>Q)||V&&!R());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var ne=ee(h.expirationTime<=Q);Q=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(c)&&r(c),A(Q)}else r(c);h=n(c)}if(h!==null)var le=!0;else{var ue=n(l);ue!==null&&Y(I,ue.startTime-Q),le=!1}return le}finally{h=null,f=G,p=!1}}var D=!1,T=null,S=-1,x=5,N=-1;function R(){return!(t.unstable_now()-N<x)}function $(){if(T!==null){var V=t.unstable_now();N=V;var Q=!0;try{Q=T(!0,V)}finally{Q?j():(D=!1,T=null)}}else D=!1}var j;if(typeof _=="function")j=function(){_($)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,B=K.port2;K.port1.onmessage=$,j=function(){B.postMessage(null)}}else j=function(){v($,0)};function z(V){T=V,D||(D=!0,j())}function Y(V,Q){S=v(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,z(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var G=f;f=Q;try{return V()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=f;f=V;try{return Q()}finally{f=G}},t.unstable_scheduleCallback=function(V,Q,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=G+ne,V={id:u++,callback:Q,priorityLevel:V,startTime:G,expirationTime:ne,sortIndex:-1},G>ee?(V.sortIndex=G,e(l,V),n(c)===null&&V===n(l)&&(y?(b(S),S=-1):y=!0,Y(I,G-ee))):(V.sortIndex=ne,e(c,V),g||p||(g=!0,z(P))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var Q=f;return function(){var G=f;f=Q;try{return V.apply(this,arguments)}finally{f=G}}}})(xK);IK.exports=xK;var Jle=IK.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xle=M,ha=Jle;function Ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PK=new Set,Qb={};function Om(t,e){ov(t,e),ov(t+"Capture",e)}function ov(t,e){for(Qb[t]=e,t=0;t<e.length;t++)PK.add(e[t])}var Zu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bk=Object.prototype.hasOwnProperty,eue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h4={},f4={};function tue(t){return bk.call(f4,t)?!0:bk.call(h4,t)?!1:eue.test(t)?f4[t]=!0:(h4[t]=!0,!1)}function nue(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rue(t,e,n,r){if(e===null||typeof e>"u"||nue(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function po(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ps[t]=new po(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ps[e]=new po(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ps[t]=new po(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ps[t]=new po(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ps[t]=new po(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ps[t]=new po(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ps[t]=new po(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ps[t]=new po(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ps[t]=new po(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q3=/[\-:]([a-z])/g;function Z3(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q3,Z3);Ps[e]=new po(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q3,Z3);Ps[e]=new po(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q3,Z3);Ps[e]=new po(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ps[t]=new po(t,1,!1,t.toLowerCase(),null,!1,!1)});Ps.xlinkHref=new po("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ps[t]=new po(t,1,!1,t.toLowerCase(),null,!0,!0)});function J3(t,e,n,r){var i=Ps.hasOwnProperty(e)?Ps[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rue(e,n,i,r)&&(n=null),r||i===null?tue(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var md=Xle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,OA=Symbol.for("react.element"),oy=Symbol.for("react.portal"),ay=Symbol.for("react.fragment"),X3=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),OK=Symbol.for("react.provider"),DK=Symbol.for("react.context"),eF=Symbol.for("react.forward_ref"),Ek=Symbol.for("react.suspense"),Ak=Symbol.for("react.suspense_list"),tF=Symbol.for("react.memo"),Qd=Symbol.for("react.lazy"),NK=Symbol.for("react.offscreen"),p4=Symbol.iterator;function t0(t){return t===null||typeof t!="object"?null:(t=p4&&t[p4]||t["@@iterator"],typeof t=="function"?t:null)}var Qr=Object.assign,wD;function q0(t){if(wD===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wD=e&&e[1]||""}return`
`+wD+t}var bD=!1;function _D(t,e){if(!t||bD)return"";bD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{bD=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?q0(t):""}function iue(t){switch(t.tag){case 5:return q0(t.type);case 16:return q0("Lazy");case 13:return q0("Suspense");case 19:return q0("SuspenseList");case 0:case 2:case 15:return t=_D(t.type,!1),t;case 11:return t=_D(t.type.render,!1),t;case 1:return t=_D(t.type,!0),t;default:return""}}function Ck(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ay:return"Fragment";case oy:return"Portal";case _k:return"Profiler";case X3:return"StrictMode";case Ek:return"Suspense";case Ak:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DK:return(t.displayName||"Context")+".Consumer";case OK:return(t._context.displayName||"Context")+".Provider";case eF:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tF:return e=t.displayName||null,e!==null?e:Ck(t.type)||"Memo";case Qd:e=t._payload,t=t._init;try{return Ck(t(e))}catch{}}return null}function sue(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ck(e);case 8:return e===X3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RK(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oue(t){var e=RK(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function DA(t){t._valueTracker||(t._valueTracker=oue(t))}function kK(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=RK(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function aS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tk(t,e){var n=e.checked;return Qr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MK(t,e){e=e.checked,e!=null&&J3(t,"checked",e,!1)}function Sk(t,e){MK(t,e);var n=Xh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ik(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ik(t,e.type,Xh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ik(t,e,n){(e!=="number"||aS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var K0=Array.isArray;function Iy(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Qr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ie(92));if(K0(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xh(n)}}function LK(t,e){var n=Xh(e.value),r=Xh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function v4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FK(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FK(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var NA,$K=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(NA=NA||document.createElement("div"),NA.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=NA.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aue=["Webkit","ms","Moz","O"];Object.keys(gb).forEach(function(t){aue.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gb[e]=gb[t]})});function jK(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gb.hasOwnProperty(t)&&gb[t]?(""+e).trim():e+"px"}function UK(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jK(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cue=Qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ok(t,e){if(e){if(cue[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function Dk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nk=null;function nF(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rk=null,xy=null,Py=null;function w4(t){if(t=t1(t)){if(typeof Rk!="function")throw Error(Ie(280));var e=t.stateNode;e&&(e=Lx(e),Rk(t.stateNode,t.type,e))}}function BK(t){xy?Py?Py.push(t):Py=[t]:xy=t}function zK(){if(xy){var t=xy,e=Py;if(Py=xy=null,w4(t),e)for(t=0;t<e.length;t++)w4(e[t])}}function VK(t,e){return t(e)}function HK(){}var ED=!1;function WK(t,e,n){if(ED)return t(e,n);ED=!0;try{return VK(t,e,n)}finally{ED=!1,(xy!==null||Py!==null)&&(HK(),zK())}}function Jb(t,e){var n=t.stateNode;if(n===null)return null;var r=Lx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ie(231,e,typeof n));return n}var kk=!1;if(Zu)try{var n0={};Object.defineProperty(n0,"passive",{get:function(){kk=!0}}),window.addEventListener("test",n0,n0),window.removeEventListener("test",n0,n0)}catch{kk=!1}function lue(t,e,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var yb=!1,cS=null,lS=!1,Mk=null,uue={onError:function(t){yb=!0,cS=t}};function due(t,e,n,r,i,s,o,a,c){yb=!1,cS=null,lue.apply(uue,arguments)}function hue(t,e,n,r,i,s,o,a,c){if(due.apply(this,arguments),yb){if(yb){var l=cS;yb=!1,cS=null}else throw Error(Ie(198));lS||(lS=!0,Mk=l)}}function Dm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qK(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b4(t){if(Dm(t)!==t)throw Error(Ie(188))}function fue(t){var e=t.alternate;if(!e){if(e=Dm(t),e===null)throw Error(Ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b4(i),t;if(s===r)return b4(i),e;s=s.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?t:e}function KK(t){return t=fue(t),t!==null?GK(t):null}function GK(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GK(t);if(e!==null)return e;t=t.sibling}return null}var YK=ha.unstable_scheduleCallback,_4=ha.unstable_cancelCallback,pue=ha.unstable_shouldYield,mue=ha.unstable_requestPaint,fi=ha.unstable_now,gue=ha.unstable_getCurrentPriorityLevel,rF=ha.unstable_ImmediatePriority,QK=ha.unstable_UserBlockingPriority,uS=ha.unstable_NormalPriority,yue=ha.unstable_LowPriority,ZK=ha.unstable_IdlePriority,Nx=null,Il=null;function vue(t){if(Il&&typeof Il.onCommitFiberRoot=="function")try{Il.onCommitFiberRoot(Nx,t,void 0,(t.current.flags&128)===128)}catch{}}var Oc=Math.clz32?Math.clz32:_ue,wue=Math.log,bue=Math.LN2;function _ue(t){return t>>>=0,t===0?32:31-(wue(t)/bue|0)|0}var RA=64,kA=4194304;function G0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dS(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=G0(a):(s&=o,s!==0&&(r=G0(s)))}else o=n&~i,o!==0?r=G0(o):s!==0&&(r=G0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Oc(e),i=1<<n,r|=t[n],e&=~i;return r}function Eue(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aue(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Oc(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=Eue(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Lk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JK(){var t=RA;return RA<<=1,!(RA&4194240)&&(RA=64),t}function AD(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function XE(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oc(e),t[e]=n}function Cue(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Oc(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iF(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Oc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Jn=0;function XK(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eG,sF,tG,nG,rG,Fk=!1,MA=[],Oh=null,Dh=null,Nh=null,Xb=new Map,e_=new Map,rh=[],Tue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E4(t,e){switch(t){case"focusin":case"focusout":Oh=null;break;case"dragenter":case"dragleave":Dh=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":Xb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":e_.delete(e.pointerId)}}function r0(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=t1(e),e!==null&&sF(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sue(t,e,n,r,i){switch(e){case"focusin":return Oh=r0(Oh,t,e,n,r,i),!0;case"dragenter":return Dh=r0(Dh,t,e,n,r,i),!0;case"mouseover":return Nh=r0(Nh,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xb.set(s,r0(Xb.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,e_.set(s,r0(e_.get(s)||null,t,e,n,r,i)),!0}return!1}function iG(t){var e=ap(t.target);if(e!==null){var n=Dm(e);if(n!==null){if(e=n.tag,e===13){if(e=qK(n),e!==null){t.blockedOn=e,rG(t.priority,function(){tG(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function JC(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$k(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nk=r,n.target.dispatchEvent(r),Nk=null}else return e=t1(n),e!==null&&sF(e),t.blockedOn=n,!1;e.shift()}return!0}function A4(t,e,n){JC(t)&&n.delete(e)}function Iue(){Fk=!1,Oh!==null&&JC(Oh)&&(Oh=null),Dh!==null&&JC(Dh)&&(Dh=null),Nh!==null&&JC(Nh)&&(Nh=null),Xb.forEach(A4),e_.forEach(A4)}function i0(t,e){t.blockedOn===e&&(t.blockedOn=null,Fk||(Fk=!0,ha.unstable_scheduleCallback(ha.unstable_NormalPriority,Iue)))}function t_(t){function e(i){return i0(i,t)}if(0<MA.length){i0(MA[0],t);for(var n=1;n<MA.length;n++){var r=MA[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oh!==null&&i0(Oh,t),Dh!==null&&i0(Dh,t),Nh!==null&&i0(Nh,t),Xb.forEach(e),e_.forEach(e),n=0;n<rh.length;n++)r=rh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rh.length&&(n=rh[0],n.blockedOn===null);)iG(n),n.blockedOn===null&&rh.shift()}var Oy=md.ReactCurrentBatchConfig,hS=!0;function xue(t,e,n,r){var i=Jn,s=Oy.transition;Oy.transition=null;try{Jn=1,oF(t,e,n,r)}finally{Jn=i,Oy.transition=s}}function Pue(t,e,n,r){var i=Jn,s=Oy.transition;Oy.transition=null;try{Jn=4,oF(t,e,n,r)}finally{Jn=i,Oy.transition=s}}function oF(t,e,n,r){if(hS){var i=$k(t,e,n,r);if(i===null)RD(t,e,r,fS,n),E4(t,r);else if(Sue(i,t,e,n,r))r.stopPropagation();else if(E4(t,r),e&4&&-1<Tue.indexOf(t)){for(;i!==null;){var s=t1(i);if(s!==null&&eG(s),s=$k(t,e,n,r),s===null&&RD(t,e,r,fS,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else RD(t,e,r,null,n)}}var fS=null;function $k(t,e,n,r){if(fS=null,t=nF(r),t=ap(t),t!==null)if(e=Dm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qK(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fS=t,null}function sG(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gue()){case rF:return 1;case QK:return 4;case uS:case yue:return 16;case ZK:return 536870912;default:return 16}default:return 16}}var bh=null,aF=null,XC=null;function oG(){if(XC)return XC;var t,e=aF,n=e.length,r,i="value"in bh?bh.value:bh.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return XC=i.slice(t,1<r?1-r:void 0)}function eT(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function LA(){return!0}function C4(){return!1}function ga(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?LA:C4,this.isPropagationStopped=C4,this}return Qr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=LA)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=LA)},persist:function(){},isPersistent:LA}),e}var ew={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cF=ga(ew),e1=Qr({},ew,{view:0,detail:0}),Oue=ga(e1),CD,TD,s0,Rx=Qr({},e1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lF,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==s0&&(s0&&t.type==="mousemove"?(CD=t.screenX-s0.screenX,TD=t.screenY-s0.screenY):TD=CD=0,s0=t),CD)},movementY:function(t){return"movementY"in t?t.movementY:TD}}),T4=ga(Rx),Due=Qr({},Rx,{dataTransfer:0}),Nue=ga(Due),Rue=Qr({},e1,{relatedTarget:0}),SD=ga(Rue),kue=Qr({},ew,{animationName:0,elapsedTime:0,pseudoElement:0}),Mue=ga(kue),Lue=Qr({},ew,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fue=ga(Lue),$ue=Qr({},ew,{data:0}),S4=ga($ue),jue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zue(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bue[t])?!!e[t]:!1}function lF(){return zue}var Vue=Qr({},e1,{key:function(t){if(t.key){var e=jue[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eT(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uue[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lF,charCode:function(t){return t.type==="keypress"?eT(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eT(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hue=ga(Vue),Wue=Qr({},Rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I4=ga(Wue),que=Qr({},e1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lF}),Kue=ga(que),Gue=Qr({},ew,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yue=ga(Gue),Que=Qr({},Rx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zue=ga(Que),Jue=[9,13,27,32],uF=Zu&&"CompositionEvent"in window,vb=null;Zu&&"documentMode"in document&&(vb=document.documentMode);var Xue=Zu&&"TextEvent"in window&&!vb,aG=Zu&&(!uF||vb&&8<vb&&11>=vb),x4=String.fromCharCode(32),P4=!1;function cG(t,e){switch(t){case"keyup":return Jue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cy=!1;function ede(t,e){switch(t){case"compositionend":return lG(e);case"keypress":return e.which!==32?null:(P4=!0,x4);case"textInput":return t=e.data,t===x4&&P4?null:t;default:return null}}function tde(t,e){if(cy)return t==="compositionend"||!uF&&cG(t,e)?(t=oG(),XC=aF=bh=null,cy=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aG&&e.locale!=="ko"?null:e.data;default:return null}}var nde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nde[t.type]:e==="textarea"}function uG(t,e,n,r){BK(r),e=pS(e,"onChange"),0<e.length&&(n=new cF("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wb=null,n_=null;function rde(t){_G(t,0)}function kx(t){var e=dy(t);if(kK(e))return t}function ide(t,e){if(t==="change")return e}var dG=!1;if(Zu){var ID;if(Zu){var xD="oninput"in document;if(!xD){var D4=document.createElement("div");D4.setAttribute("oninput","return;"),xD=typeof D4.oninput=="function"}ID=xD}else ID=!1;dG=ID&&(!document.documentMode||9<document.documentMode)}function N4(){wb&&(wb.detachEvent("onpropertychange",hG),n_=wb=null)}function hG(t){if(t.propertyName==="value"&&kx(n_)){var e=[];uG(e,n_,t,nF(t)),WK(rde,e)}}function sde(t,e,n){t==="focusin"?(N4(),wb=e,n_=n,wb.attachEvent("onpropertychange",hG)):t==="focusout"&&N4()}function ode(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kx(n_)}function ade(t,e){if(t==="click")return kx(e)}function cde(t,e){if(t==="input"||t==="change")return kx(e)}function lde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fc=typeof Object.is=="function"?Object.is:lde;function r_(t,e){if(Fc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bk.call(e,i)||!Fc(t[i],e[i]))return!1}return!0}function R4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k4(t,e){var n=R4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R4(n)}}function fG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pG(){for(var t=window,e=aS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=aS(t.document)}return e}function dF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ude(t){var e=pG(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fG(n.ownerDocument.documentElement,n)){if(r!==null&&dF(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=k4(n,s);var o=k4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dde=Zu&&"documentMode"in document&&11>=document.documentMode,ly=null,jk=null,bb=null,Uk=!1;function M4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uk||ly==null||ly!==aS(r)||(r=ly,"selectionStart"in r&&dF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bb&&r_(bb,r)||(bb=r,r=pS(jk,"onSelect"),0<r.length&&(e=new cF("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ly)))}function FA(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uy={animationend:FA("Animation","AnimationEnd"),animationiteration:FA("Animation","AnimationIteration"),animationstart:FA("Animation","AnimationStart"),transitionend:FA("Transition","TransitionEnd")},PD={},mG={};Zu&&(mG=document.createElement("div").style,"AnimationEvent"in window||(delete uy.animationend.animation,delete uy.animationiteration.animation,delete uy.animationstart.animation),"TransitionEvent"in window||delete uy.transitionend.transition);function Mx(t){if(PD[t])return PD[t];if(!uy[t])return t;var e=uy[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mG)return PD[t]=e[n];return t}var gG=Mx("animationend"),yG=Mx("animationiteration"),vG=Mx("animationstart"),wG=Mx("transitionend"),bG=new Map,L4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tf(t,e){bG.set(t,e),Om(e,[t])}for(var OD=0;OD<L4.length;OD++){var DD=L4[OD],hde=DD.toLowerCase(),fde=DD[0].toUpperCase()+DD.slice(1);Tf(hde,"on"+fde)}Tf(gG,"onAnimationEnd");Tf(yG,"onAnimationIteration");Tf(vG,"onAnimationStart");Tf("dblclick","onDoubleClick");Tf("focusin","onFocus");Tf("focusout","onBlur");Tf(wG,"onTransitionEnd");ov("onMouseEnter",["mouseout","mouseover"]);ov("onMouseLeave",["mouseout","mouseover"]);ov("onPointerEnter",["pointerout","pointerover"]);ov("onPointerLeave",["pointerout","pointerover"]);Om("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Om("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Om("onBeforeInput",["compositionend","keypress","textInput","paste"]);Om("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Om("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Om("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pde=new Set("cancel close invalid load scroll toggle".split(" ").concat(Y0));function F4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hue(r,e,void 0,t),t.currentTarget=null}function _G(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;F4(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;F4(i,a,l),s=c}}}if(lS)throw t=Mk,lS=!1,Mk=null,t}function Sr(t,e){var n=e[Wk];n===void 0&&(n=e[Wk]=new Set);var r=t+"__bubble";n.has(r)||(EG(e,t,2,!1),n.add(r))}function ND(t,e,n){var r=0;e&&(r|=4),EG(n,t,r,e)}var $A="_reactListening"+Math.random().toString(36).slice(2);function i_(t){if(!t[$A]){t[$A]=!0,PK.forEach(function(n){n!=="selectionchange"&&(pde.has(n)||ND(n,!1,t),ND(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$A]||(e[$A]=!0,ND("selectionchange",!1,e))}}function EG(t,e,n,r){switch(sG(e)){case 1:var i=xue;break;case 4:i=Pue;break;default:i=oF}n=i.bind(null,e,n,t),i=void 0,!kk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function RD(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ap(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}WK(function(){var l=s,u=nF(n),h=[];e:{var f=bG.get(t);if(f!==void 0){var p=cF,g=t;switch(t){case"keypress":if(eT(n)===0)break e;case"keydown":case"keyup":p=Hue;break;case"focusin":g="focus",p=SD;break;case"focusout":g="blur",p=SD;break;case"beforeblur":case"afterblur":p=SD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=T4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nue;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kue;break;case gG:case yG:case vG:p=Mue;break;case wG:p=Yue;break;case"scroll":p=Oue;break;case"wheel":p=Zue;break;case"copy":case"cut":case"paste":p=Fue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I4}var y=(e&4)!==0,v=!y&&t==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var _=l,A;_!==null;){A=_;var I=A.stateNode;if(A.tag===5&&I!==null&&(A=I,b!==null&&(I=Jb(_,b),I!=null&&y.push(s_(_,I,A)))),v)break;_=_.return}0<y.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Nk&&(g=n.relatedTarget||n.fromElement)&&(ap(g)||g[Ju]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=l,g=g?ap(g):null,g!==null&&(v=Dm(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(y=T4,I="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=I4,I="onPointerLeave",b="onPointerEnter",_="pointer"),v=p==null?f:dy(p),A=g==null?f:dy(g),f=new y(I,_+"leave",p,n,u),f.target=v,f.relatedTarget=A,I=null,ap(u)===l&&(y=new y(b,_+"enter",g,n,u),y.target=A,y.relatedTarget=v,I=y),v=I,p&&g)t:{for(y=p,b=g,_=0,A=y;A;A=wg(A))_++;for(A=0,I=b;I;I=wg(I))A++;for(;0<_-A;)y=wg(y),_--;for(;0<A-_;)b=wg(b),A--;for(;_--;){if(y===b||b!==null&&y===b.alternate)break t;y=wg(y),b=wg(b)}y=null}else y=null;p!==null&&$4(h,f,p,y,!1),g!==null&&v!==null&&$4(h,v,g,y,!0)}}e:{if(f=l?dy(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var P=ide;else if(O4(f))if(dG)P=cde;else{P=ode;var D=sde}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=ade);if(P&&(P=P(t,l))){uG(h,P,n,u);break e}D&&D(t,f,l),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Ik(f,"number",f.value)}switch(D=l?dy(l):window,t){case"focusin":(O4(D)||D.contentEditable==="true")&&(ly=D,jk=l,bb=null);break;case"focusout":bb=jk=ly=null;break;case"mousedown":Uk=!0;break;case"contextmenu":case"mouseup":case"dragend":Uk=!1,M4(h,n,u);break;case"selectionchange":if(dde)break;case"keydown":case"keyup":M4(h,n,u)}var T;if(uF)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else cy?cG(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(aG&&n.locale!=="ko"&&(cy||S!=="onCompositionStart"?S==="onCompositionEnd"&&cy&&(T=oG()):(bh=u,aF="value"in bh?bh.value:bh.textContent,cy=!0)),D=pS(l,S),0<D.length&&(S=new S4(S,t,null,n,u),h.push({event:S,listeners:D}),T?S.data=T:(T=lG(n),T!==null&&(S.data=T)))),(T=Xue?ede(t,n):tde(t,n))&&(l=pS(l,"onBeforeInput"),0<l.length&&(u=new S4("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:l}),u.data=T))}_G(h,e)})}function s_(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pS(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jb(t,n),s!=null&&r.unshift(s_(t,s,i)),s=Jb(t,e),s!=null&&r.push(s_(t,s,i))),t=t.return}return r}function wg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $4(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Jb(n,s),c!=null&&o.unshift(s_(n,c,a))):i||(c=Jb(n,s),c!=null&&o.push(s_(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mde=/\r\n?/g,gde=/\u0000|\uFFFD/g;function j4(t){return(typeof t=="string"?t:""+t).replace(mde,`
`).replace(gde,"")}function jA(t,e,n){if(e=j4(e),j4(t)!==e&&n)throw Error(Ie(425))}function mS(){}var Bk=null,zk=null;function Vk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hk=typeof setTimeout=="function"?setTimeout:void 0,yde=typeof clearTimeout=="function"?clearTimeout:void 0,U4=typeof Promise=="function"?Promise:void 0,vde=typeof queueMicrotask=="function"?queueMicrotask:typeof U4<"u"?function(t){return U4.resolve(null).then(t).catch(wde)}:Hk;function wde(t){setTimeout(function(){throw t})}function kD(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),t_(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);t_(e)}function Rh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tw=Math.random().toString(36).slice(2),wl="__reactFiber$"+tw,o_="__reactProps$"+tw,Ju="__reactContainer$"+tw,Wk="__reactEvents$"+tw,bde="__reactListeners$"+tw,_de="__reactHandles$"+tw;function ap(t){var e=t[wl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ju]||n[wl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B4(t);t!==null;){if(n=t[wl])return n;t=B4(t)}return e}t=n,n=t.parentNode}return null}function t1(t){return t=t[wl]||t[Ju],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dy(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ie(33))}function Lx(t){return t[o_]||null}var qk=[],hy=-1;function Sf(t){return{current:t}}function Nr(t){0>hy||(t.current=qk[hy],qk[hy]=null,hy--)}function Cr(t,e){hy++,qk[hy]=t.current,t.current=e}var ef={},Ks=Sf(ef),Fo=Sf(!1),Wp=ef;function av(t,e){var n=t.type.contextTypes;if(!n)return ef;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $o(t){return t=t.childContextTypes,t!=null}function gS(){Nr(Fo),Nr(Ks)}function z4(t,e,n){if(Ks.current!==ef)throw Error(Ie(168));Cr(Ks,e),Cr(Fo,n)}function AG(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ie(108,sue(t)||"Unknown",i));return Qr({},n,r)}function yS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ef,Wp=Ks.current,Cr(Ks,t),Cr(Fo,Fo.current),!0}function V4(t,e,n){var r=t.stateNode;if(!r)throw Error(Ie(169));n?(t=AG(t,e,Wp),r.__reactInternalMemoizedMergedChildContext=t,Nr(Fo),Nr(Ks),Cr(Ks,t)):Nr(Fo),Cr(Fo,n)}var Au=null,Fx=!1,MD=!1;function CG(t){Au===null?Au=[t]:Au.push(t)}function Ede(t){Fx=!0,CG(t)}function If(){if(!MD&&Au!==null){MD=!0;var t=0,e=Jn;try{var n=Au;for(Jn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Au=null,Fx=!1}catch(i){throw Au!==null&&(Au=Au.slice(t+1)),YK(rF,If),i}finally{Jn=e,MD=!1}}return null}var fy=[],py=0,vS=null,wS=0,$a=[],ja=0,qp=null,Du=1,Nu="";function Hf(t,e){fy[py++]=wS,fy[py++]=vS,vS=t,wS=e}function TG(t,e,n){$a[ja++]=Du,$a[ja++]=Nu,$a[ja++]=qp,qp=t;var r=Du;t=Nu;var i=32-Oc(r)-1;r&=~(1<<i),n+=1;var s=32-Oc(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Du=1<<32-Oc(e)+i|n<<i|r,Nu=s+t}else Du=1<<s|n<<i|r,Nu=t}function hF(t){t.return!==null&&(Hf(t,1),TG(t,1,0))}function fF(t){for(;t===vS;)vS=fy[--py],fy[py]=null,wS=fy[--py],fy[py]=null;for(;t===qp;)qp=$a[--ja],$a[ja]=null,Nu=$a[--ja],$a[ja]=null,Du=$a[--ja],$a[ja]=null}var la=null,aa=null,jr=!1,Ec=null;function SG(t,e){var n=za(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,la=t,aa=Rh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,la=t,aa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qp!==null?{id:Du,overflow:Nu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=za(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,la=t,aa=null,!0):!1;default:return!1}}function Kk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gk(t){if(jr){var e=aa;if(e){var n=e;if(!H4(t,e)){if(Kk(t))throw Error(Ie(418));e=Rh(n.nextSibling);var r=la;e&&H4(t,e)?SG(r,n):(t.flags=t.flags&-4097|2,jr=!1,la=t)}}else{if(Kk(t))throw Error(Ie(418));t.flags=t.flags&-4097|2,jr=!1,la=t}}}function W4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;la=t}function UA(t){if(t!==la)return!1;if(!jr)return W4(t),jr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vk(t.type,t.memoizedProps)),e&&(e=aa)){if(Kk(t))throw IG(),Error(Ie(418));for(;e;)SG(t,e),e=Rh(e.nextSibling)}if(W4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){aa=Rh(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}aa=null}}else aa=la?Rh(t.stateNode.nextSibling):null;return!0}function IG(){for(var t=aa;t;)t=Rh(t.nextSibling)}function cv(){aa=la=null,jr=!1}function pF(t){Ec===null?Ec=[t]:Ec.push(t)}var Ade=md.ReactCurrentBatchConfig;function o0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,t))}return t}function BA(t,e){throw t=Object.prototype.toString.call(e),Error(Ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q4(t){var e=t._init;return e(t._payload)}function xG(t){function e(b,_){if(t){var A=b.deletions;A===null?(b.deletions=[_],b.flags|=16):A.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=Fh(b,_),b.index=0,b.sibling=null,b}function s(b,_,A){return b.index=A,t?(A=b.alternate,A!==null?(A=A.index,A<_?(b.flags|=2,_):A):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,A,I){return _===null||_.tag!==6?(_=zD(A,b.mode,I),_.return=b,_):(_=i(_,A),_.return=b,_)}function c(b,_,A,I){var P=A.type;return P===ay?u(b,_,A.props.children,I,A.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qd&&q4(P)===_.type)?(I=i(_,A.props),I.ref=o0(b,_,A),I.return=b,I):(I=aT(A.type,A.key,A.props,null,b.mode,I),I.ref=o0(b,_,A),I.return=b,I)}function l(b,_,A,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=VD(A,b.mode,I),_.return=b,_):(_=i(_,A.children||[]),_.return=b,_)}function u(b,_,A,I,P){return _===null||_.tag!==7?(_=Np(A,b.mode,I,P),_.return=b,_):(_=i(_,A),_.return=b,_)}function h(b,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=zD(""+_,b.mode,A),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case OA:return A=aT(_.type,_.key,_.props,null,b.mode,A),A.ref=o0(b,null,_),A.return=b,A;case oy:return _=VD(_,b.mode,A),_.return=b,_;case Qd:var I=_._init;return h(b,I(_._payload),A)}if(K0(_)||t0(_))return _=Np(_,b.mode,A,null),_.return=b,_;BA(b,_)}return null}function f(b,_,A,I){var P=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return P!==null?null:a(b,_,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case OA:return A.key===P?c(b,_,A,I):null;case oy:return A.key===P?l(b,_,A,I):null;case Qd:return P=A._init,f(b,_,P(A._payload),I)}if(K0(A)||t0(A))return P!==null?null:u(b,_,A,I,null);BA(b,A)}return null}function p(b,_,A,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return b=b.get(A)||null,a(_,b,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case OA:return b=b.get(I.key===null?A:I.key)||null,c(_,b,I,P);case oy:return b=b.get(I.key===null?A:I.key)||null,l(_,b,I,P);case Qd:var D=I._init;return p(b,_,A,D(I._payload),P)}if(K0(I)||t0(I))return b=b.get(A)||null,u(_,b,I,P,null);BA(_,I)}return null}function g(b,_,A,I){for(var P=null,D=null,T=_,S=_=0,x=null;T!==null&&S<A.length;S++){T.index>S?(x=T,T=null):x=T.sibling;var N=f(b,T,A[S],I);if(N===null){T===null&&(T=x);break}t&&T&&N.alternate===null&&e(b,T),_=s(N,_,S),D===null?P=N:D.sibling=N,D=N,T=x}if(S===A.length)return n(b,T),jr&&Hf(b,S),P;if(T===null){for(;S<A.length;S++)T=h(b,A[S],I),T!==null&&(_=s(T,_,S),D===null?P=T:D.sibling=T,D=T);return jr&&Hf(b,S),P}for(T=r(b,T);S<A.length;S++)x=p(T,b,S,A[S],I),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?S:x.key),_=s(x,_,S),D===null?P=x:D.sibling=x,D=x);return t&&T.forEach(function(R){return e(b,R)}),jr&&Hf(b,S),P}function y(b,_,A,I){var P=t0(A);if(typeof P!="function")throw Error(Ie(150));if(A=P.call(A),A==null)throw Error(Ie(151));for(var D=P=null,T=_,S=_=0,x=null,N=A.next();T!==null&&!N.done;S++,N=A.next()){T.index>S?(x=T,T=null):x=T.sibling;var R=f(b,T,N.value,I);if(R===null){T===null&&(T=x);break}t&&T&&R.alternate===null&&e(b,T),_=s(R,_,S),D===null?P=R:D.sibling=R,D=R,T=x}if(N.done)return n(b,T),jr&&Hf(b,S),P;if(T===null){for(;!N.done;S++,N=A.next())N=h(b,N.value,I),N!==null&&(_=s(N,_,S),D===null?P=N:D.sibling=N,D=N);return jr&&Hf(b,S),P}for(T=r(b,T);!N.done;S++,N=A.next())N=p(T,b,S,N.value,I),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?S:N.key),_=s(N,_,S),D===null?P=N:D.sibling=N,D=N);return t&&T.forEach(function($){return e(b,$)}),jr&&Hf(b,S),P}function v(b,_,A,I){if(typeof A=="object"&&A!==null&&A.type===ay&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case OA:e:{for(var P=A.key,D=_;D!==null;){if(D.key===P){if(P=A.type,P===ay){if(D.tag===7){n(b,D.sibling),_=i(D,A.props.children),_.return=b,b=_;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qd&&q4(P)===D.type){n(b,D.sibling),_=i(D,A.props),_.ref=o0(b,D,A),_.return=b,b=_;break e}n(b,D);break}else e(b,D);D=D.sibling}A.type===ay?(_=Np(A.props.children,b.mode,I,A.key),_.return=b,b=_):(I=aT(A.type,A.key,A.props,null,b.mode,I),I.ref=o0(b,_,A),I.return=b,b=I)}return o(b);case oy:e:{for(D=A.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(b,_.sibling),_=i(_,A.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=VD(A,b.mode,I),_.return=b,b=_}return o(b);case Qd:return D=A._init,v(b,_,D(A._payload),I)}if(K0(A))return g(b,_,A,I);if(t0(A))return y(b,_,A,I);BA(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,A),_.return=b,b=_):(n(b,_),_=zD(A,b.mode,I),_.return=b,b=_),o(b)):n(b,_)}return v}var lv=xG(!0),PG=xG(!1),bS=Sf(null),_S=null,my=null,mF=null;function gF(){mF=my=_S=null}function yF(t){var e=bS.current;Nr(bS),t._currentValue=e}function Yk(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dy(t,e){_S=t,mF=my=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ko=!0),t.firstContext=null)}function Ga(t){var e=t._currentValue;if(mF!==t)if(t={context:t,memoizedValue:e,next:null},my===null){if(_S===null)throw Error(Ie(308));my=t,_S.dependencies={lanes:0,firstContext:t}}else my=my.next=t;return e}var cp=null;function vF(t){cp===null?cp=[t]:cp.push(t)}function OG(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vF(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xu(t,r)}function Xu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zd=!1;function wF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DG(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Dn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xu(t,n)}return i=r.interleaved,i===null?(e.next=e,vF(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xu(t,n)}function tT(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iF(t,n)}}function K4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ES(t,e,n,r){var i=t.updateQueue;Zd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,u=l=c=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Qr({},h,f);break e;case 2:Zd=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=p,c=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Gp|=o,t.lanes=o,t.memoizedState=h}}function G4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var n1={},xl=Sf(n1),a_=Sf(n1),c_=Sf(n1);function lp(t){if(t===n1)throw Error(Ie(174));return t}function bF(t,e){switch(Cr(c_,e),Cr(a_,t),Cr(xl,n1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pk(e,t)}Nr(xl),Cr(xl,e)}function uv(){Nr(xl),Nr(a_),Nr(c_)}function NG(t){lp(c_.current);var e=lp(xl.current),n=Pk(e,t.type);e!==n&&(Cr(a_,t),Cr(xl,n))}function _F(t){a_.current===t&&(Nr(xl),Nr(a_))}var Kr=Sf(0);function AS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LD=[];function EF(){for(var t=0;t<LD.length;t++)LD[t]._workInProgressVersionPrimary=null;LD.length=0}var nT=md.ReactCurrentDispatcher,FD=md.ReactCurrentBatchConfig,Kp=0,Yr=null,Fi=null,Ji=null,CS=!1,_b=!1,l_=0,Cde=0;function Fs(){throw Error(Ie(321))}function AF(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fc(t[n],e[n]))return!1;return!0}function CF(t,e,n,r,i,s){if(Kp=s,Yr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nT.current=t===null||t.memoizedState===null?xde:Pde,t=n(r,i),_b){s=0;do{if(_b=!1,l_=0,25<=s)throw Error(Ie(301));s+=1,Ji=Fi=null,e.updateQueue=null,nT.current=Ode,t=n(r,i)}while(_b)}if(nT.current=TS,e=Fi!==null&&Fi.next!==null,Kp=0,Ji=Fi=Yr=null,CS=!1,e)throw Error(Ie(300));return t}function TF(){var t=l_!==0;return l_=0,t}function al(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ji===null?Yr.memoizedState=Ji=t:Ji=Ji.next=t,Ji}function Ya(){if(Fi===null){var t=Yr.alternate;t=t!==null?t.memoizedState:null}else t=Fi.next;var e=Ji===null?Yr.memoizedState:Ji.next;if(e!==null)Ji=e,Fi=t;else{if(t===null)throw Error(Ie(310));Fi=t,t={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},Ji===null?Yr.memoizedState=Ji=t:Ji=Ji.next=t}return Ji}function u_(t,e){return typeof e=="function"?e(t):e}function $D(t){var e=Ya(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=Fi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((Kp&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,Yr.lanes|=u,Gp|=u}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,Fc(r,e.memoizedState)||(ko=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yr.lanes|=s,Gp|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jD(t){var e=Ya(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fc(s,e.memoizedState)||(ko=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function RG(){}function kG(t,e){var n=Yr,r=Ya(),i=e(),s=!Fc(r.memoizedState,i);if(s&&(r.memoizedState=i,ko=!0),r=r.queue,SF(FG.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ji!==null&&Ji.memoizedState.tag&1){if(n.flags|=2048,d_(9,LG.bind(null,n,r,i,e),void 0,null),os===null)throw Error(Ie(349));Kp&30||MG(n,e,i)}return i}function MG(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yr.updateQueue,e===null?(e={lastEffect:null,stores:null},Yr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LG(t,e,n,r){e.value=n,e.getSnapshot=r,$G(e)&&jG(t)}function FG(t,e,n){return n(function(){$G(e)&&jG(t)})}function $G(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fc(t,n)}catch{return!0}}function jG(t){var e=Xu(t,1);e!==null&&Dc(e,t,1,-1)}function Y4(t){var e=al();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:t},e.queue=t,t=t.dispatch=Ide.bind(null,Yr,t),[e.memoizedState,t]}function d_(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yr.updateQueue,e===null?(e={lastEffect:null,stores:null},Yr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UG(){return Ya().memoizedState}function rT(t,e,n,r){var i=al();Yr.flags|=t,i.memoizedState=d_(1|e,n,void 0,r===void 0?null:r)}function $x(t,e,n,r){var i=Ya();r=r===void 0?null:r;var s=void 0;if(Fi!==null){var o=Fi.memoizedState;if(s=o.destroy,r!==null&&AF(r,o.deps)){i.memoizedState=d_(e,n,s,r);return}}Yr.flags|=t,i.memoizedState=d_(1|e,n,s,r)}function Q4(t,e){return rT(8390656,8,t,e)}function SF(t,e){return $x(2048,8,t,e)}function BG(t,e){return $x(4,2,t,e)}function zG(t,e){return $x(4,4,t,e)}function VG(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HG(t,e,n){return n=n!=null?n.concat([t]):null,$x(4,4,VG.bind(null,e,t),n)}function IF(){}function WG(t,e){var n=Ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AF(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qG(t,e){var n=Ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AF(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KG(t,e,n){return Kp&21?(Fc(n,e)||(n=JK(),Yr.lanes|=n,Gp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ko=!0),t.memoizedState=n)}function Tde(t,e){var n=Jn;Jn=n!==0&&4>n?n:4,t(!0);var r=FD.transition;FD.transition={};try{t(!1),e()}finally{Jn=n,FD.transition=r}}function GG(){return Ya().memoizedState}function Sde(t,e,n){var r=Lh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YG(t))QG(e,n);else if(n=OG(t,e,n,r),n!==null){var i=co();Dc(n,t,r,i),ZG(n,e,r)}}function Ide(t,e,n){var r=Lh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YG(t))QG(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fc(a,o)){var c=e.interleaved;c===null?(i.next=i,vF(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=OG(t,e,i,r),n!==null&&(i=co(),Dc(n,t,r,i),ZG(n,e,r))}}function YG(t){var e=t.alternate;return t===Yr||e!==null&&e===Yr}function QG(t,e){_b=CS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZG(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iF(t,n)}}var TS={readContext:Ga,useCallback:Fs,useContext:Fs,useEffect:Fs,useImperativeHandle:Fs,useInsertionEffect:Fs,useLayoutEffect:Fs,useMemo:Fs,useReducer:Fs,useRef:Fs,useState:Fs,useDebugValue:Fs,useDeferredValue:Fs,useTransition:Fs,useMutableSource:Fs,useSyncExternalStore:Fs,useId:Fs,unstable_isNewReconciler:!1},xde={readContext:Ga,useCallback:function(t,e){return al().memoizedState=[t,e===void 0?null:e],t},useContext:Ga,useEffect:Q4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rT(4194308,4,VG.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rT(4194308,4,t,e)},useInsertionEffect:function(t,e){return rT(4,2,t,e)},useMemo:function(t,e){var n=al();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=al();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Sde.bind(null,Yr,t),[r.memoizedState,t]},useRef:function(t){var e=al();return t={current:t},e.memoizedState=t},useState:Y4,useDebugValue:IF,useDeferredValue:function(t){return al().memoizedState=t},useTransition:function(){var t=Y4(!1),e=t[0];return t=Tde.bind(null,t[1]),al().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yr,i=al();if(jr){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=e(),os===null)throw Error(Ie(349));Kp&30||MG(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Q4(FG.bind(null,r,s,t),[t]),r.flags|=2048,d_(9,LG.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=al(),e=os.identifierPrefix;if(jr){var n=Nu,r=Du;n=(r&~(1<<32-Oc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=l_++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Cde++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pde={readContext:Ga,useCallback:WG,useContext:Ga,useEffect:SF,useImperativeHandle:HG,useInsertionEffect:BG,useLayoutEffect:zG,useMemo:qG,useReducer:$D,useRef:UG,useState:function(){return $D(u_)},useDebugValue:IF,useDeferredValue:function(t){var e=Ya();return KG(e,Fi.memoizedState,t)},useTransition:function(){var t=$D(u_)[0],e=Ya().memoizedState;return[t,e]},useMutableSource:RG,useSyncExternalStore:kG,useId:GG,unstable_isNewReconciler:!1},Ode={readContext:Ga,useCallback:WG,useContext:Ga,useEffect:SF,useImperativeHandle:HG,useInsertionEffect:BG,useLayoutEffect:zG,useMemo:qG,useReducer:jD,useRef:UG,useState:function(){return jD(u_)},useDebugValue:IF,useDeferredValue:function(t){var e=Ya();return Fi===null?e.memoizedState=t:KG(e,Fi.memoizedState,t)},useTransition:function(){var t=jD(u_)[0],e=Ya().memoizedState;return[t,e]},useMutableSource:RG,useSyncExternalStore:kG,useId:GG,unstable_isNewReconciler:!1};function gc(t,e){if(t&&t.defaultProps){e=Qr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jx={isMounted:function(t){return(t=t._reactInternals)?Dm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=co(),i=Lh(t),s=Lu(r,i);s.payload=e,n!=null&&(s.callback=n),e=kh(t,s,i),e!==null&&(Dc(e,t,i,r),tT(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=co(),i=Lh(t),s=Lu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kh(t,s,i),e!==null&&(Dc(e,t,i,r),tT(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=co(),r=Lh(t),i=Lu(n,r);i.tag=2,e!=null&&(i.callback=e),e=kh(t,i,r),e!==null&&(Dc(e,t,r,n),tT(e,t,r))}};function Z4(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!r_(n,r)||!r_(i,s):!0}function JG(t,e,n){var r=!1,i=ef,s=e.contextType;return typeof s=="object"&&s!==null?s=Ga(s):(i=$o(e)?Wp:Ks.current,r=e.contextTypes,s=(r=r!=null)?av(t,i):ef),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function J4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jx.enqueueReplaceState(e,e.state,null)}function Zk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wF(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ga(s):(s=$o(e)?Wp:Ks.current,i.context=av(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qk(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jx.enqueueReplaceState(i,i.state,null),ES(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dv(t,e){try{var n="",r=e;do n+=iue(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function UD(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dde=typeof WeakMap=="function"?WeakMap:Map;function XG(t,e,n){n=Lu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){IS||(IS=!0,c2=r),Jk(t,e)},n}function eY(t,e,n){n=Lu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jk(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jk(t,e),typeof r!="function"&&(Mh===null?Mh=new Set([this]):Mh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function X4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dde;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Wde.bind(null,t,e,n),e.then(t,t))}function eB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tB(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lu(-1,1),e.tag=2,kh(n,e,1))),n.lanes|=1),t)}var Nde=md.ReactCurrentOwner,ko=!1;function no(t,e,n,r){e.child=t===null?PG(e,null,n,r):lv(e,t.child,n,r)}function nB(t,e,n,r,i){n=n.render;var s=e.ref;return Dy(e,i),r=CF(t,e,n,r,s,i),n=TF(),t!==null&&!ko?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ed(t,e,i)):(jr&&n&&hF(e),e.flags|=1,no(t,e,r,i),e.child)}function rB(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!MF(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tY(t,e,s,r,i)):(t=aT(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:r_,n(o,r)&&t.ref===e.ref)return ed(t,e,i)}return e.flags|=1,t=Fh(s,r),t.ref=e.ref,t.return=e,e.child=t}function tY(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(r_(s,r)&&t.ref===e.ref)if(ko=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ko=!0);else return e.lanes=t.lanes,ed(t,e,i)}return Xk(t,e,n,r,i)}function nY(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(yy,ea),ea|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(yy,ea),ea|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Cr(yy,ea),ea|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Cr(yy,ea),ea|=r;return no(t,e,i,n),e.child}function rY(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xk(t,e,n,r,i){var s=$o(n)?Wp:Ks.current;return s=av(e,s),Dy(e,i),n=CF(t,e,n,r,s,i),r=TF(),t!==null&&!ko?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ed(t,e,i)):(jr&&r&&hF(e),e.flags|=1,no(t,e,n,i),e.child)}function iB(t,e,n,r,i){if($o(n)){var s=!0;yS(e)}else s=!1;if(Dy(e,i),e.stateNode===null)iT(t,e),JG(e,n,r),Zk(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ga(l):(l=$o(n)?Wp:Ks.current,l=av(e,l));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&J4(e,o,r,l),Zd=!1;var f=e.memoizedState;o.state=f,ES(e,r,o,i),c=e.memoizedState,a!==r||f!==c||Fo.current||Zd?(typeof u=="function"&&(Qk(e,n,u,r),c=e.memoizedState),(a=Zd||Z4(e,n,a,r,f,c,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DG(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:gc(e.type,a),o.props=l,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ga(c):(c=$o(n)?Wp:Ks.current,c=av(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&J4(e,o,r,c),Zd=!1,f=e.memoizedState,o.state=f,ES(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||Fo.current||Zd?(typeof p=="function"&&(Qk(e,n,p,r),g=e.memoizedState),(l=Zd||Z4(e,n,l,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return e2(t,e,n,r,s,i)}function e2(t,e,n,r,i,s){rY(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&V4(e,n,!1),ed(t,e,s);r=e.stateNode,Nde.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lv(e,t.child,null,s),e.child=lv(e,null,a,s)):no(t,e,a,s),e.memoizedState=r.state,i&&V4(e,n,!0),e.child}function iY(t){var e=t.stateNode;e.pendingContext?z4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z4(t,e.context,!1),bF(t,e.containerInfo)}function sB(t,e,n,r,i){return cv(),pF(i),e.flags|=256,no(t,e,n,r),e.child}var t2={dehydrated:null,treeContext:null,retryLane:0};function n2(t){return{baseLanes:t,cachePool:null,transitions:null}}function sY(t,e,n){var r=e.pendingProps,i=Kr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Cr(Kr,i&1),t===null)return Gk(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zx(o,r,0,null),t=Np(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=n2(n),e.memoizedState=t2,t):xF(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Rde(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Fh(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fh(a,s):(s=Np(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?n2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=t2,r}return s=t.child,t=s.sibling,r=Fh(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xF(t,e){return e=zx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zA(t,e,n,r){return r!==null&&pF(r),lv(e,t.child,null,n),t=xF(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rde(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=UD(Error(Ie(422))),zA(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zx({mode:"visible",children:r.children},i,0,null),s=Np(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lv(e,t.child,null,o),e.child.memoizedState=n2(o),e.memoizedState=t2,s);if(!(e.mode&1))return zA(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ie(419)),r=UD(s,r,void 0),zA(t,e,o,r)}if(a=(o&t.childLanes)!==0,ko||a){if(r=os,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xu(t,i),Dc(r,t,i,-1))}return kF(),r=UD(Error(Ie(421))),zA(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qde.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,aa=Rh(i.nextSibling),la=e,jr=!0,Ec=null,t!==null&&($a[ja++]=Du,$a[ja++]=Nu,$a[ja++]=qp,Du=t.id,Nu=t.overflow,qp=e),e=xF(e,r.children),e.flags|=4096,e)}function oB(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yk(t.return,e,n)}function BD(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oY(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(no(t,e,r.children,n),r=Kr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oB(t,n,e);else if(t.tag===19)oB(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Cr(Kr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&AS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),BD(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&AS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}BD(e,!0,n,null,s);break;case"together":BD(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iT(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ed(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ie(153));if(e.child!==null){for(t=e.child,n=Fh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kde(t,e,n){switch(e.tag){case 3:iY(e),cv();break;case 5:NG(e);break;case 1:$o(e.type)&&yS(e);break;case 4:bF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Cr(bS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Cr(Kr,Kr.current&1),e.flags|=128,null):n&e.child.childLanes?sY(t,e,n):(Cr(Kr,Kr.current&1),t=ed(t,e,n),t!==null?t.sibling:null);Cr(Kr,Kr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oY(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cr(Kr,Kr.current),r)break;return null;case 22:case 23:return e.lanes=0,nY(t,e,n)}return ed(t,e,n)}var aY,r2,cY,lY;aY=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r2=function(){};cY=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lp(xl.current);var s=null;switch(n){case"input":i=Tk(t,i),r=Tk(t,r),s=[];break;case"select":i=Qr({},i,{value:void 0}),r=Qr({},r,{value:void 0}),s=[];break;case"textarea":i=xk(t,i),r=xk(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mS)}Ok(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Qb.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Qb.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Sr("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};lY=function(t,e,n,r){n!==r&&(e.flags|=4)};function a0(t,e){if(!jr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $s(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Mde(t,e,n){var r=e.pendingProps;switch(fF(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(e),null;case 1:return $o(e.type)&&gS(),$s(e),null;case 3:return r=e.stateNode,uv(),Nr(Fo),Nr(Ks),EF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(UA(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ec!==null&&(d2(Ec),Ec=null))),r2(t,e),$s(e),null;case 5:_F(e);var i=lp(c_.current);if(n=e.type,t!==null&&e.stateNode!=null)cY(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ie(166));return $s(e),null}if(t=lp(xl.current),UA(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wl]=e,r[o_]=s,t=(e.mode&1)!==0,n){case"dialog":Sr("cancel",r),Sr("close",r);break;case"iframe":case"object":case"embed":Sr("load",r);break;case"video":case"audio":for(i=0;i<Y0.length;i++)Sr(Y0[i],r);break;case"source":Sr("error",r);break;case"img":case"image":case"link":Sr("error",r),Sr("load",r);break;case"details":Sr("toggle",r);break;case"input":m4(r,s),Sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sr("invalid",r);break;case"textarea":y4(r,s),Sr("invalid",r)}Ok(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&jA(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&jA(r.textContent,a,t),i=["children",""+a]):Qb.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Sr("scroll",r)}switch(n){case"input":DA(r),g4(r,s,!0);break;case"textarea":DA(r),v4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mS)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FK(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wl]=e,t[o_]=r,aY(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dk(n,r),n){case"dialog":Sr("cancel",t),Sr("close",t),i=r;break;case"iframe":case"object":case"embed":Sr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Y0.length;i++)Sr(Y0[i],t);i=r;break;case"source":Sr("error",t),i=r;break;case"img":case"image":case"link":Sr("error",t),Sr("load",t),i=r;break;case"details":Sr("toggle",t),i=r;break;case"input":m4(t,r),i=Tk(t,r),Sr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qr({},r,{value:void 0}),Sr("invalid",t);break;case"textarea":y4(t,r),i=xk(t,r),Sr("invalid",t);break;default:i=r}Ok(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?UK(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$K(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zb(t,c):typeof c=="number"&&Zb(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qb.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Sr("scroll",t):c!=null&&J3(t,s,c,o))}switch(n){case"input":DA(t),g4(t,r,!1);break;case"textarea":DA(t),v4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xh(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Iy(t,!!r.multiple,s,!1):r.defaultValue!=null&&Iy(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $s(e),null;case 6:if(t&&e.stateNode!=null)lY(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ie(166));if(n=lp(c_.current),lp(xl.current),UA(e)){if(r=e.stateNode,n=e.memoizedProps,r[wl]=e,(s=r.nodeValue!==n)&&(t=la,t!==null))switch(t.tag){case 3:jA(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jA(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wl]=e,e.stateNode=r}return $s(e),null;case 13:if(Nr(Kr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jr&&aa!==null&&e.mode&1&&!(e.flags&128))IG(),cv(),e.flags|=98560,s=!1;else if(s=UA(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[wl]=e}else cv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$s(e),s=!1}else Ec!==null&&(d2(Ec),Ec=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kr.current&1?ji===0&&(ji=3):kF())),e.updateQueue!==null&&(e.flags|=4),$s(e),null);case 4:return uv(),r2(t,e),t===null&&i_(e.stateNode.containerInfo),$s(e),null;case 10:return yF(e.type._context),$s(e),null;case 17:return $o(e.type)&&gS(),$s(e),null;case 19:if(Nr(Kr),s=e.memoizedState,s===null)return $s(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)a0(s,!1);else{if(ji!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=AS(t),o!==null){for(e.flags|=128,a0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cr(Kr,Kr.current&1|2),e.child}t=t.sibling}s.tail!==null&&fi()>hv&&(e.flags|=128,r=!0,a0(s,!1),e.lanes=4194304)}else{if(!r)if(t=AS(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),a0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jr)return $s(e),null}else 2*fi()-s.renderingStartTime>hv&&n!==1073741824&&(e.flags|=128,r=!0,a0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fi(),e.sibling=null,n=Kr.current,Cr(Kr,r?n&1|2:n&1),e):($s(e),null);case 22:case 23:return RF(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ea&1073741824&&($s(e),e.subtreeFlags&6&&(e.flags|=8192)):$s(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function Lde(t,e){switch(fF(e),e.tag){case 1:return $o(e.type)&&gS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uv(),Nr(Fo),Nr(Ks),EF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _F(e),null;case 13:if(Nr(Kr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));cv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nr(Kr),null;case 4:return uv(),null;case 10:return yF(e.type._context),null;case 22:case 23:return RF(),null;case 24:return null;default:return null}}var VA=!1,Ws=!1,Fde=typeof WeakSet=="function"?WeakSet:Set,ct=null;function gy(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ti(t,e,r)}else n.current=null}function i2(t,e,n){try{n()}catch(r){ti(t,e,r)}}var aB=!1;function $de(t,e){if(Bk=hS,t=pG(),dF(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++u===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zk={focusedElem:t,selectionRange:n},hS=!1,ct=e;ct!==null;)if(e=ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ct=t;else for(;ct!==null;){e=ct;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:gc(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(I){ti(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}return g=aB,aB=!1,g}function Eb(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&i2(e,n,s)}i=i.next}while(i!==r)}}function Ux(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function s2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uY(t){var e=t.alternate;e!==null&&(t.alternate=null,uY(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wl],delete e[o_],delete e[Wk],delete e[bde],delete e[_de])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dY(t){return t.tag===5||t.tag===3||t.tag===4}function cB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dY(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function o2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mS));else if(r!==4&&(t=t.child,t!==null))for(o2(t,e,n),t=t.sibling;t!==null;)o2(t,e,n),t=t.sibling}function a2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(a2(t,e,n),t=t.sibling;t!==null;)a2(t,e,n),t=t.sibling}var ys=null,bc=!1;function kd(t,e,n){for(n=n.child;n!==null;)hY(t,e,n),n=n.sibling}function hY(t,e,n){if(Il&&typeof Il.onCommitFiberUnmount=="function")try{Il.onCommitFiberUnmount(Nx,n)}catch{}switch(n.tag){case 5:Ws||gy(n,e);case 6:var r=ys,i=bc;ys=null,kd(t,e,n),ys=r,bc=i,ys!==null&&(bc?(t=ys,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ys.removeChild(n.stateNode));break;case 18:ys!==null&&(bc?(t=ys,n=n.stateNode,t.nodeType===8?kD(t.parentNode,n):t.nodeType===1&&kD(t,n),t_(t)):kD(ys,n.stateNode));break;case 4:r=ys,i=bc,ys=n.stateNode.containerInfo,bc=!0,kd(t,e,n),ys=r,bc=i;break;case 0:case 11:case 14:case 15:if(!Ws&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&i2(n,e,o),i=i.next}while(i!==r)}kd(t,e,n);break;case 1:if(!Ws&&(gy(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ti(n,e,a)}kd(t,e,n);break;case 21:kd(t,e,n);break;case 22:n.mode&1?(Ws=(r=Ws)||n.memoizedState!==null,kd(t,e,n),Ws=r):kd(t,e,n);break;default:kd(t,e,n)}}function lB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fde),e.forEach(function(r){var i=Kde.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function uc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ys=a.stateNode,bc=!1;break e;case 3:ys=a.stateNode.containerInfo,bc=!0;break e;case 4:ys=a.stateNode.containerInfo,bc=!0;break e}a=a.return}if(ys===null)throw Error(Ie(160));hY(s,o,i),ys=null,bc=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){ti(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fY(e,t),e=e.sibling}function fY(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(uc(e,t),Xc(t),r&4){try{Eb(3,t,t.return),Ux(3,t)}catch(y){ti(t,t.return,y)}try{Eb(5,t,t.return)}catch(y){ti(t,t.return,y)}}break;case 1:uc(e,t),Xc(t),r&512&&n!==null&&gy(n,n.return);break;case 5:if(uc(e,t),Xc(t),r&512&&n!==null&&gy(n,n.return),t.flags&32){var i=t.stateNode;try{Zb(i,"")}catch(y){ti(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MK(i,s),Dk(a,o);var l=Dk(a,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?UK(i,h):u==="dangerouslySetInnerHTML"?$K(i,h):u==="children"?Zb(i,h):J3(i,u,h,l)}switch(a){case"input":Sk(i,s);break;case"textarea":LK(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Iy(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Iy(i,!!s.multiple,s.defaultValue,!0):Iy(i,!!s.multiple,s.multiple?[]:"",!1))}i[o_]=s}catch(y){ti(t,t.return,y)}}break;case 6:if(uc(e,t),Xc(t),r&4){if(t.stateNode===null)throw Error(Ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ti(t,t.return,y)}}break;case 3:if(uc(e,t),Xc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{t_(e.containerInfo)}catch(y){ti(t,t.return,y)}break;case 4:uc(e,t),Xc(t);break;case 13:uc(e,t),Xc(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(DF=fi())),r&4&&lB(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ws=(l=Ws)||u,uc(e,t),Ws=l):uc(e,t),Xc(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(ct=t,u=t.child;u!==null;){for(h=ct=u;ct!==null;){switch(f=ct,p=f.child,f.tag){case 0:case 11:case 14:case 15:Eb(4,f,f.return);break;case 1:gy(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ti(r,n,y)}}break;case 5:gy(f,f.return);break;case 22:if(f.memoizedState!==null){dB(h);continue}}p!==null?(p.return=f,ct=p):dB(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=jK("display",o))}catch(y){ti(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){ti(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:uc(e,t),Xc(t),r&4&&lB(t);break;case 21:break;default:uc(e,t),Xc(t)}}function Xc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dY(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zb(i,""),r.flags&=-33);var s=cB(t);a2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cB(t);o2(t,a,o);break;default:throw Error(Ie(161))}}catch(c){ti(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jde(t,e,n){ct=t,pY(t)}function pY(t,e,n){for(var r=(t.mode&1)!==0;ct!==null;){var i=ct,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||VA;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ws;a=VA;var l=Ws;if(VA=o,(Ws=c)&&!l)for(ct=i;ct!==null;)o=ct,c=o.child,o.tag===22&&o.memoizedState!==null?hB(i):c!==null?(c.return=o,ct=c):hB(i);for(;s!==null;)ct=s,pY(s),s=s.sibling;ct=i,VA=a,Ws=l}uB(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ct=s):uB(t)}}function uB(t){for(;ct!==null;){var e=ct;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ws||Ux(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ws)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&G4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G4(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&t_(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Ws||e.flags&512&&s2(e)}catch(f){ti(e,e.return,f)}}if(e===t){ct=null;break}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}}function dB(t){for(;ct!==null;){var e=ct;if(e===t){ct=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ct=n;break}ct=e.return}}function hB(t){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ux(4,e)}catch(c){ti(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ti(e,i,c)}}var s=e.return;try{s2(e)}catch(c){ti(e,s,c)}break;case 5:var o=e.return;try{s2(e)}catch(c){ti(e,o,c)}}}catch(c){ti(e,e.return,c)}if(e===t){ct=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ct=a;break}ct=e.return}}var Ude=Math.ceil,SS=md.ReactCurrentDispatcher,PF=md.ReactCurrentOwner,Wa=md.ReactCurrentBatchConfig,Dn=0,os=null,xi=null,xs=0,ea=0,yy=Sf(0),ji=0,h_=null,Gp=0,Bx=0,OF=0,Ab=null,No=null,DF=0,hv=1/0,Eu=null,IS=!1,c2=null,Mh=null,HA=!1,_h=null,xS=0,Cb=0,l2=null,sT=-1,oT=0;function co(){return Dn&6?fi():sT!==-1?sT:sT=fi()}function Lh(t){return t.mode&1?Dn&2&&xs!==0?xs&-xs:Ade.transition!==null?(oT===0&&(oT=JK()),oT):(t=Jn,t!==0||(t=window.event,t=t===void 0?16:sG(t.type)),t):1}function Dc(t,e,n,r){if(50<Cb)throw Cb=0,l2=null,Error(Ie(185));XE(t,n,r),(!(Dn&2)||t!==os)&&(t===os&&(!(Dn&2)&&(Bx|=n),ji===4&&ih(t,xs)),jo(t,r),n===1&&Dn===0&&!(e.mode&1)&&(hv=fi()+500,Fx&&If()))}function jo(t,e){var n=t.callbackNode;Aue(t,e);var r=dS(t,t===os?xs:0);if(r===0)n!==null&&_4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_4(n),e===1)t.tag===0?Ede(fB.bind(null,t)):CG(fB.bind(null,t)),vde(function(){!(Dn&6)&&If()}),n=null;else{switch(XK(r)){case 1:n=rF;break;case 4:n=QK;break;case 16:n=uS;break;case 536870912:n=ZK;break;default:n=uS}n=EY(n,mY.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mY(t,e){if(sT=-1,oT=0,Dn&6)throw Error(Ie(327));var n=t.callbackNode;if(Ny()&&t.callbackNode!==n)return null;var r=dS(t,t===os?xs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=PS(t,r);else{e=r;var i=Dn;Dn|=2;var s=yY();(os!==t||xs!==e)&&(Eu=null,hv=fi()+500,Dp(t,e));do try{Vde();break}catch(a){gY(t,a)}while(1);gF(),SS.current=s,Dn=i,xi!==null?e=0:(os=null,xs=0,e=ji)}if(e!==0){if(e===2&&(i=Lk(t),i!==0&&(r=i,e=u2(t,i))),e===1)throw n=h_,Dp(t,0),ih(t,r),jo(t,fi()),n;if(e===6)ih(t,r);else{if(i=t.current.alternate,!(r&30)&&!Bde(i)&&(e=PS(t,r),e===2&&(s=Lk(t),s!==0&&(r=s,e=u2(t,s))),e===1))throw n=h_,Dp(t,0),ih(t,r),jo(t,fi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ie(345));case 2:Wf(t,No,Eu);break;case 3:if(ih(t,r),(r&130023424)===r&&(e=DF+500-fi(),10<e)){if(dS(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){co(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hk(Wf.bind(null,t,No,Eu),e);break}Wf(t,No,Eu);break;case 4:if(ih(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Oc(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=fi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ude(r/1960))-r,10<r){t.timeoutHandle=Hk(Wf.bind(null,t,No,Eu),r);break}Wf(t,No,Eu);break;case 5:Wf(t,No,Eu);break;default:throw Error(Ie(329))}}}return jo(t,fi()),t.callbackNode===n?mY.bind(null,t):null}function u2(t,e){var n=Ab;return t.current.memoizedState.isDehydrated&&(Dp(t,e).flags|=256),t=PS(t,e),t!==2&&(e=No,No=n,e!==null&&d2(e)),t}function d2(t){No===null?No=t:No.push.apply(No,t)}function Bde(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fc(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ih(t,e){for(e&=~OF,e&=~Bx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Oc(e),r=1<<n;t[n]=-1,e&=~r}}function fB(t){if(Dn&6)throw Error(Ie(327));Ny();var e=dS(t,0);if(!(e&1))return jo(t,fi()),null;var n=PS(t,e);if(t.tag!==0&&n===2){var r=Lk(t);r!==0&&(e=r,n=u2(t,r))}if(n===1)throw n=h_,Dp(t,0),ih(t,e),jo(t,fi()),n;if(n===6)throw Error(Ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wf(t,No,Eu),jo(t,fi()),null}function NF(t,e){var n=Dn;Dn|=1;try{return t(e)}finally{Dn=n,Dn===0&&(hv=fi()+500,Fx&&If())}}function Yp(t){_h!==null&&_h.tag===0&&!(Dn&6)&&Ny();var e=Dn;Dn|=1;var n=Wa.transition,r=Jn;try{if(Wa.transition=null,Jn=1,t)return t()}finally{Jn=r,Wa.transition=n,Dn=e,!(Dn&6)&&If()}}function RF(){ea=yy.current,Nr(yy)}function Dp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yde(n)),xi!==null)for(n=xi.return;n!==null;){var r=n;switch(fF(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gS();break;case 3:uv(),Nr(Fo),Nr(Ks),EF();break;case 5:_F(r);break;case 4:uv();break;case 13:Nr(Kr);break;case 19:Nr(Kr);break;case 10:yF(r.type._context);break;case 22:case 23:RF()}n=n.return}if(os=t,xi=t=Fh(t.current,null),xs=ea=e,ji=0,h_=null,OF=Bx=Gp=0,No=Ab=null,cp!==null){for(e=0;e<cp.length;e++)if(n=cp[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}cp=null}return t}function gY(t,e){do{var n=xi;try{if(gF(),nT.current=TS,CS){for(var r=Yr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}CS=!1}if(Kp=0,Ji=Fi=Yr=null,_b=!1,l_=0,PF.current=null,n===null||n.return===null){ji=1,h_=e,xi=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=xs,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=eB(o);if(p!==null){p.flags&=-257,tB(p,o,a,s,e),p.mode&1&&X4(s,l,e),e=p,c=l;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){X4(s,l,e),kF();break e}c=Error(Ie(426))}}else if(jr&&a.mode&1){var v=eB(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tB(v,o,a,s,e),pF(dv(c,a));break e}}s=c=dv(c,a),ji!==4&&(ji=2),Ab===null?Ab=[s]:Ab.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=XG(s,c,e);K4(s,b);break e;case 1:a=c;var _=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Mh===null||!Mh.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=eY(s,a,e);K4(s,I);break e}}s=s.return}while(s!==null)}wY(n)}catch(P){e=P,xi===n&&n!==null&&(xi=n=n.return);continue}break}while(1)}function yY(){var t=SS.current;return SS.current=TS,t===null?TS:t}function kF(){(ji===0||ji===3||ji===2)&&(ji=4),os===null||!(Gp&268435455)&&!(Bx&268435455)||ih(os,xs)}function PS(t,e){var n=Dn;Dn|=2;var r=yY();(os!==t||xs!==e)&&(Eu=null,Dp(t,e));do try{zde();break}catch(i){gY(t,i)}while(1);if(gF(),Dn=n,SS.current=r,xi!==null)throw Error(Ie(261));return os=null,xs=0,ji}function zde(){for(;xi!==null;)vY(xi)}function Vde(){for(;xi!==null&&!pue();)vY(xi)}function vY(t){var e=_Y(t.alternate,t,ea);t.memoizedProps=t.pendingProps,e===null?wY(t):xi=e,PF.current=null}function wY(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Lde(n,e),n!==null){n.flags&=32767,xi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ji=6,xi=null;return}}else if(n=Mde(n,e,ea),n!==null){xi=n;return}if(e=e.sibling,e!==null){xi=e;return}xi=e=t}while(e!==null);ji===0&&(ji=5)}function Wf(t,e,n){var r=Jn,i=Wa.transition;try{Wa.transition=null,Jn=1,Hde(t,e,n,r)}finally{Wa.transition=i,Jn=r}return null}function Hde(t,e,n,r){do Ny();while(_h!==null);if(Dn&6)throw Error(Ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cue(t,s),t===os&&(xi=os=null,xs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||HA||(HA=!0,EY(uS,function(){return Ny(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wa.transition,Wa.transition=null;var o=Jn;Jn=1;var a=Dn;Dn|=4,PF.current=null,$de(t,n),fY(n,t),ude(zk),hS=!!Bk,zk=Bk=null,t.current=n,jde(n),mue(),Dn=a,Jn=o,Wa.transition=s}else t.current=n;if(HA&&(HA=!1,_h=t,xS=i),s=t.pendingLanes,s===0&&(Mh=null),vue(n.stateNode),jo(t,fi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(IS)throw IS=!1,t=c2,c2=null,t;return xS&1&&t.tag!==0&&Ny(),s=t.pendingLanes,s&1?t===l2?Cb++:(Cb=0,l2=t):Cb=0,If(),null}function Ny(){if(_h!==null){var t=XK(xS),e=Wa.transition,n=Jn;try{if(Wa.transition=null,Jn=16>t?16:t,_h===null)var r=!1;else{if(t=_h,_h=null,xS=0,Dn&6)throw Error(Ie(331));var i=Dn;for(Dn|=4,ct=t.current;ct!==null;){var s=ct,o=s.child;if(ct.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(ct=l;ct!==null;){var u=ct;switch(u.tag){case 0:case 11:case 15:Eb(8,u,s)}var h=u.child;if(h!==null)h.return=u,ct=h;else for(;ct!==null;){u=ct;var f=u.sibling,p=u.return;if(uY(u),u===l){ct=null;break}if(f!==null){f.return=p,ct=f;break}ct=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ct=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ct=o;else e:for(;ct!==null;){if(s=ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eb(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ct=b;break e}ct=s.return}}var _=t.current;for(ct=_;ct!==null;){o=ct;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,ct=A;else e:for(o=_;ct!==null;){if(a=ct,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ux(9,a)}}catch(P){ti(a,a.return,P)}if(a===o){ct=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ct=I;break e}ct=a.return}}if(Dn=i,If(),Il&&typeof Il.onPostCommitFiberRoot=="function")try{Il.onPostCommitFiberRoot(Nx,t)}catch{}r=!0}return r}finally{Jn=n,Wa.transition=e}}return!1}function pB(t,e,n){e=dv(n,e),e=XG(t,e,1),t=kh(t,e,1),e=co(),t!==null&&(XE(t,1,e),jo(t,e))}function ti(t,e,n){if(t.tag===3)pB(t,t,n);else for(;e!==null;){if(e.tag===3){pB(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mh===null||!Mh.has(r))){t=dv(n,t),t=eY(e,t,1),e=kh(e,t,1),t=co(),e!==null&&(XE(e,1,t),jo(e,t));break}}e=e.return}}function Wde(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=co(),t.pingedLanes|=t.suspendedLanes&n,os===t&&(xs&n)===n&&(ji===4||ji===3&&(xs&130023424)===xs&&500>fi()-DF?Dp(t,0):OF|=n),jo(t,e)}function bY(t,e){e===0&&(t.mode&1?(e=kA,kA<<=1,!(kA&130023424)&&(kA=4194304)):e=1);var n=co();t=Xu(t,e),t!==null&&(XE(t,e,n),jo(t,n))}function qde(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bY(t,n)}function Kde(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(e),bY(t,n)}var _Y;_Y=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fo.current)ko=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ko=!1,kde(t,e,n);ko=!!(t.flags&131072)}else ko=!1,jr&&e.flags&1048576&&TG(e,wS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;iT(t,e),t=e.pendingProps;var i=av(e,Ks.current);Dy(e,n),i=CF(null,e,r,t,i,n);var s=TF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$o(r)?(s=!0,yS(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wF(e),i.updater=jx,e.stateNode=i,i._reactInternals=e,Zk(e,r,t,n),e=e2(null,e,r,!0,s,n)):(e.tag=0,jr&&s&&hF(e),no(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(iT(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Yde(r),t=gc(r,t),i){case 0:e=Xk(null,e,r,t,n);break e;case 1:e=iB(null,e,r,t,n);break e;case 11:e=nB(null,e,r,t,n);break e;case 14:e=rB(null,e,r,gc(r.type,t),n);break e}throw Error(Ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gc(r,i),Xk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gc(r,i),iB(t,e,r,i,n);case 3:e:{if(iY(e),t===null)throw Error(Ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DG(t,e),ES(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dv(Error(Ie(423)),e),e=sB(t,e,r,n,i);break e}else if(r!==i){i=dv(Error(Ie(424)),e),e=sB(t,e,r,n,i);break e}else for(aa=Rh(e.stateNode.containerInfo.firstChild),la=e,jr=!0,Ec=null,n=PG(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cv(),r===i){e=ed(t,e,n);break e}no(t,e,r,n)}e=e.child}return e;case 5:return NG(e),t===null&&Gk(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vk(r,i)?o=null:s!==null&&Vk(r,s)&&(e.flags|=32),rY(t,e),no(t,e,o,n),e.child;case 6:return t===null&&Gk(e),null;case 13:return sY(t,e,n);case 4:return bF(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lv(e,null,r,n):no(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gc(r,i),nB(t,e,r,i,n);case 7:return no(t,e,e.pendingProps,n),e.child;case 8:return no(t,e,e.pendingProps.children,n),e.child;case 12:return no(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Cr(bS,r._currentValue),r._currentValue=o,s!==null)if(Fc(s.value,o)){if(s.children===i.children&&!Fo.current){e=ed(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Lu(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Yk(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yk(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}no(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dy(e,n),i=Ga(i),r=r(i),e.flags|=1,no(t,e,r,n),e.child;case 14:return r=e.type,i=gc(r,e.pendingProps),i=gc(r.type,i),rB(t,e,r,i,n);case 15:return tY(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gc(r,i),iT(t,e),e.tag=1,$o(r)?(t=!0,yS(e)):t=!1,Dy(e,n),JG(e,r,i),Zk(e,r,i,n),e2(null,e,r,!0,t,n);case 19:return oY(t,e,n);case 22:return nY(t,e,n)}throw Error(Ie(156,e.tag))};function EY(t,e){return YK(t,e)}function Gde(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(t,e,n,r){return new Gde(t,e,n,r)}function MF(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yde(t){if(typeof t=="function")return MF(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eF)return 11;if(t===tF)return 14}return 2}function Fh(t,e){var n=t.alternate;return n===null?(n=za(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function aT(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")MF(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ay:return Np(n.children,i,s,e);case X3:o=8,i|=8;break;case _k:return t=za(12,n,e,i|2),t.elementType=_k,t.lanes=s,t;case Ek:return t=za(13,n,e,i),t.elementType=Ek,t.lanes=s,t;case Ak:return t=za(19,n,e,i),t.elementType=Ak,t.lanes=s,t;case NK:return zx(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OK:o=10;break e;case DK:o=9;break e;case eF:o=11;break e;case tF:o=14;break e;case Qd:o=16,r=null;break e}throw Error(Ie(130,t==null?t:typeof t,""))}return e=za(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Np(t,e,n,r){return t=za(7,t,r,e),t.lanes=n,t}function zx(t,e,n,r){return t=za(22,t,r,e),t.elementType=NK,t.lanes=n,t.stateNode={isHidden:!1},t}function zD(t,e,n){return t=za(6,t,null,e),t.lanes=n,t}function VD(t,e,n){return e=za(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qde(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=AD(0),this.expirationTimes=AD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=AD(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LF(t,e,n,r,i,s,o,a,c){return t=new Qde(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=za(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wF(s),t}function Zde(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oy,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AY(t){if(!t)return ef;t=t._reactInternals;e:{if(Dm(t)!==t||t.tag!==1)throw Error(Ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($o(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(t.tag===1){var n=t.type;if($o(n))return AG(t,n,e)}return e}function CY(t,e,n,r,i,s,o,a,c){return t=LF(n,r,!0,t,i,s,o,a,c),t.context=AY(null),n=t.current,r=co(),i=Lh(n),s=Lu(r,i),s.callback=e??null,kh(n,s,i),t.current.lanes=i,XE(t,i,r),jo(t,r),t}function Vx(t,e,n,r){var i=e.current,s=co(),o=Lh(i);return n=AY(n),e.context===null?e.context=n:e.pendingContext=n,e=Lu(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kh(i,e,o),t!==null&&(Dc(t,i,o,s),tT(t,i,o)),o}function OS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function FF(t,e){mB(t,e),(t=t.alternate)&&mB(t,e)}function Jde(){return null}var TY=typeof reportError=="function"?reportError:function(t){console.error(t)};function $F(t){this._internalRoot=t}Hx.prototype.render=$F.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ie(409));Vx(t,e,null,null)};Hx.prototype.unmount=$F.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yp(function(){Vx(null,t,null,null)}),e[Ju]=null}};function Hx(t){this._internalRoot=t}Hx.prototype.unstable_scheduleHydration=function(t){if(t){var e=nG();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rh.length&&e!==0&&e<rh[n].priority;n++);rh.splice(n,0,t),n===0&&iG(t)}};function jF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gB(){}function Xde(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=OS(o);s.call(l)}}var o=CY(e,r,t,0,null,!1,!1,"",gB);return t._reactRootContainer=o,t[Ju]=o.current,i_(t.nodeType===8?t.parentNode:t),Yp(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=OS(c);a.call(l)}}var c=LF(t,0,!1,null,null,!1,!1,"",gB);return t._reactRootContainer=c,t[Ju]=c.current,i_(t.nodeType===8?t.parentNode:t),Yp(function(){Vx(e,c,n,r)}),c}function qx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=OS(o);a.call(c)}}Vx(e,o,t,i)}else o=Xde(n,e,t,i,r);return OS(o)}eG=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=G0(e.pendingLanes);n!==0&&(iF(e,n|1),jo(e,fi()),!(Dn&6)&&(hv=fi()+500,If()))}break;case 13:Yp(function(){var r=Xu(t,1);if(r!==null){var i=co();Dc(r,t,1,i)}}),FF(t,1)}};sF=function(t){if(t.tag===13){var e=Xu(t,134217728);if(e!==null){var n=co();Dc(e,t,134217728,n)}FF(t,134217728)}};tG=function(t){if(t.tag===13){var e=Lh(t),n=Xu(t,e);if(n!==null){var r=co();Dc(n,t,e,r)}FF(t,e)}};nG=function(){return Jn};rG=function(t,e){var n=Jn;try{return Jn=t,e()}finally{Jn=n}};Rk=function(t,e,n){switch(e){case"input":if(Sk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lx(r);if(!i)throw Error(Ie(90));kK(r),Sk(r,i)}}}break;case"textarea":LK(t,n);break;case"select":e=n.value,e!=null&&Iy(t,!!n.multiple,e,!1)}};VK=NF;HK=Yp;var ehe={usingClientEntryPoint:!1,Events:[t1,dy,Lx,BK,zK,NF]},c0={findFiberByHostInstance:ap,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},the={bundleType:c0.bundleType,version:c0.version,rendererPackageName:c0.rendererPackageName,rendererConfig:c0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:md.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KK(t),t===null?null:t.stateNode},findFiberByHostInstance:c0.findFiberByHostInstance||Jde,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var WA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!WA.isDisabled&&WA.supportsFiber)try{Nx=WA.inject(the),Il=WA}catch{}}ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ehe;ma.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jF(e))throw Error(Ie(200));return Zde(t,e,null,n)};ma.createRoot=function(t,e){if(!jF(t))throw Error(Ie(299));var n=!1,r="",i=TY;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LF(t,1,!1,null,null,n,!1,r,i),t[Ju]=e.current,i_(t.nodeType===8?t.parentNode:t),new $F(e)};ma.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ie(188)):(t=Object.keys(t).join(","),Error(Ie(268,t)));return t=KK(e),t=t===null?null:t.stateNode,t};ma.flushSync=function(t){return Yp(t)};ma.hydrate=function(t,e,n){if(!Wx(e))throw Error(Ie(200));return qx(null,t,e,!0,n)};ma.hydrateRoot=function(t,e,n){if(!jF(t))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TY;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CY(e,null,t,1,n??null,i,!1,s,o),t[Ju]=e.current,i_(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hx(e)};ma.render=function(t,e,n){if(!Wx(e))throw Error(Ie(200));return qx(null,t,e,!1,n)};ma.unmountComponentAtNode=function(t){if(!Wx(t))throw Error(Ie(40));return t._reactRootContainer?(Yp(function(){qx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ju]=null})}),!0):!1};ma.unstable_batchedUpdates=NF;ma.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wx(n))throw Error(Ie(200));if(t==null||t._reactInternals===void 0)throw Error(Ie(38));return qx(t,e,n,!1,r)};ma.version="18.3.1-next-f1338f8080-20240426";function SY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SY)}catch(t){console.error(t)}}SY(),SK.exports=ma;var xf=SK.exports;const IY=cs(xf),nhe=fK({__proto__:null,default:IY},[xf]);var yB=xf;wk.createRoot=yB.createRoot,wk.hydrateRoot=yB.hydrateRoot;var xY={exports:{}},PY={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv=M;function rhe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ihe=typeof Object.is=="function"?Object.is:rhe,she=fv.useState,ohe=fv.useEffect,ahe=fv.useLayoutEffect,che=fv.useDebugValue;function lhe(t,e){var n=e(),r=she({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return ahe(function(){i.value=n,i.getSnapshot=e,HD(i)&&s({inst:i})},[t,n,e]),ohe(function(){return HD(i)&&s({inst:i}),t(function(){HD(i)&&s({inst:i})})},[t]),che(n),n}function HD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ihe(t,n)}catch{return!0}}function uhe(t,e){return e()}var dhe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uhe:lhe;PY.useSyncExternalStore=fv.useSyncExternalStore!==void 0?fv.useSyncExternalStore:dhe;xY.exports=PY;var hhe=xY.exports,OY={exports:{}},DY={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx=M,fhe=hhe;function phe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mhe=typeof Object.is=="function"?Object.is:phe,ghe=fhe.useSyncExternalStore,yhe=Kx.useRef,vhe=Kx.useEffect,whe=Kx.useMemo,bhe=Kx.useDebugValue;DY.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=yhe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=whe(function(){function c(p){if(!l){if(l=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,mhe(u,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(u=p,g):(u=p,h=y)}var l=!1,u,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var a=ghe(t,s[0],s[1]);return vhe(function(){o.hasValue=!0,o.value=a},[a]),bhe(a),a};OY.exports=DY;var _he=OY.exports;function Ehe(t){t()}let NY=Ehe;const Ahe=t=>NY=t,Che=()=>NY,vB=Symbol.for("react-redux-context"),wB=typeof globalThis<"u"?globalThis:{};function The(){var t;if(!M.createContext)return{};const e=(t=wB[vB])!=null?t:wB[vB]=new Map;let n=e.get(M.createContext);return n||(n=M.createContext(null),e.set(M.createContext,n)),n}const tf=The();function UF(t=tf){return function(){return M.useContext(t)}}const RY=UF(),She=()=>{throw new Error("uSES not initialized!")};let kY=She;const Ihe=t=>{kY=t},xhe=(t,e)=>t===e;function Phe(t=tf){const e=t===tf?RY:UF(t);return function(r,i={}){const{equalityFn:s=xhe,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:h,noopCheck:f}=e();M.useRef(!0);const p=M.useCallback({[r.name](y){return r(y)}}[r.name],[r,h,o]),g=kY(l.addNestedSub,c.getState,u||c.getState,p,s);return M.useDebugValue(g),g}}const MY=Phe();function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(null,arguments)}function Ohe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LY={exports:{}},tr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=typeof Symbol=="function"&&Symbol.for,BF=ls?Symbol.for("react.element"):60103,zF=ls?Symbol.for("react.portal"):60106,Gx=ls?Symbol.for("react.fragment"):60107,Yx=ls?Symbol.for("react.strict_mode"):60108,Qx=ls?Symbol.for("react.profiler"):60114,Zx=ls?Symbol.for("react.provider"):60109,Jx=ls?Symbol.for("react.context"):60110,VF=ls?Symbol.for("react.async_mode"):60111,Xx=ls?Symbol.for("react.concurrent_mode"):60111,eP=ls?Symbol.for("react.forward_ref"):60112,tP=ls?Symbol.for("react.suspense"):60113,Dhe=ls?Symbol.for("react.suspense_list"):60120,nP=ls?Symbol.for("react.memo"):60115,rP=ls?Symbol.for("react.lazy"):60116,Nhe=ls?Symbol.for("react.block"):60121,Rhe=ls?Symbol.for("react.fundamental"):60117,khe=ls?Symbol.for("react.responder"):60118,Mhe=ls?Symbol.for("react.scope"):60119;function ya(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case BF:switch(t=t.type,t){case VF:case Xx:case Gx:case Qx:case Yx:case tP:return t;default:switch(t=t&&t.$$typeof,t){case Jx:case eP:case rP:case nP:case Zx:return t;default:return e}}case zF:return e}}}function FY(t){return ya(t)===Xx}tr.AsyncMode=VF;tr.ConcurrentMode=Xx;tr.ContextConsumer=Jx;tr.ContextProvider=Zx;tr.Element=BF;tr.ForwardRef=eP;tr.Fragment=Gx;tr.Lazy=rP;tr.Memo=nP;tr.Portal=zF;tr.Profiler=Qx;tr.StrictMode=Yx;tr.Suspense=tP;tr.isAsyncMode=function(t){return FY(t)||ya(t)===VF};tr.isConcurrentMode=FY;tr.isContextConsumer=function(t){return ya(t)===Jx};tr.isContextProvider=function(t){return ya(t)===Zx};tr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===BF};tr.isForwardRef=function(t){return ya(t)===eP};tr.isFragment=function(t){return ya(t)===Gx};tr.isLazy=function(t){return ya(t)===rP};tr.isMemo=function(t){return ya(t)===nP};tr.isPortal=function(t){return ya(t)===zF};tr.isProfiler=function(t){return ya(t)===Qx};tr.isStrictMode=function(t){return ya(t)===Yx};tr.isSuspense=function(t){return ya(t)===tP};tr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gx||t===Xx||t===Qx||t===Yx||t===tP||t===Dhe||typeof t=="object"&&t!==null&&(t.$$typeof===rP||t.$$typeof===nP||t.$$typeof===Zx||t.$$typeof===Jx||t.$$typeof===eP||t.$$typeof===Rhe||t.$$typeof===khe||t.$$typeof===Mhe||t.$$typeof===Nhe)};tr.typeOf=ya;LY.exports=tr;var Lhe=LY.exports,HF=Lhe,Fhe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$he={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jhe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$Y={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WF={};WF[HF.ForwardRef]=jhe;WF[HF.Memo]=$Y;function bB(t){return HF.isMemo(t)?$Y:WF[t.$$typeof]||Fhe}var Uhe=Object.defineProperty,Bhe=Object.getOwnPropertyNames,_B=Object.getOwnPropertySymbols,zhe=Object.getOwnPropertyDescriptor,Vhe=Object.getPrototypeOf,EB=Object.prototype;function jY(t,e,n){if(typeof e!="string"){if(EB){var r=Vhe(e);r&&r!==EB&&jY(t,r,n)}var i=Bhe(e);_B&&(i=i.concat(_B(e)));for(var s=bB(t),o=bB(e),a=0;a<i.length;++a){var c=i[a];if(!$he[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var l=zhe(e,c);try{Uhe(t,c,l)}catch{}}}}return t}var Hhe=jY;const Whe=cs(Hhe);var ar={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qF=Symbol.for("react.element"),KF=Symbol.for("react.portal"),iP=Symbol.for("react.fragment"),sP=Symbol.for("react.strict_mode"),oP=Symbol.for("react.profiler"),aP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),qhe=Symbol.for("react.server_context"),lP=Symbol.for("react.forward_ref"),uP=Symbol.for("react.suspense"),dP=Symbol.for("react.suspense_list"),hP=Symbol.for("react.memo"),fP=Symbol.for("react.lazy"),Khe=Symbol.for("react.offscreen"),UY;UY=Symbol.for("react.module.reference");function Ja(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qF:switch(t=t.type,t){case iP:case oP:case sP:case uP:case dP:return t;default:switch(t=t&&t.$$typeof,t){case qhe:case cP:case lP:case fP:case hP:case aP:return t;default:return e}}case KF:return e}}}ar.ContextConsumer=cP;ar.ContextProvider=aP;ar.Element=qF;ar.ForwardRef=lP;ar.Fragment=iP;ar.Lazy=fP;ar.Memo=hP;ar.Portal=KF;ar.Profiler=oP;ar.StrictMode=sP;ar.Suspense=uP;ar.SuspenseList=dP;ar.isAsyncMode=function(){return!1};ar.isConcurrentMode=function(){return!1};ar.isContextConsumer=function(t){return Ja(t)===cP};ar.isContextProvider=function(t){return Ja(t)===aP};ar.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qF};ar.isForwardRef=function(t){return Ja(t)===lP};ar.isFragment=function(t){return Ja(t)===iP};ar.isLazy=function(t){return Ja(t)===fP};ar.isMemo=function(t){return Ja(t)===hP};ar.isPortal=function(t){return Ja(t)===KF};ar.isProfiler=function(t){return Ja(t)===oP};ar.isStrictMode=function(t){return Ja(t)===sP};ar.isSuspense=function(t){return Ja(t)===uP};ar.isSuspenseList=function(t){return Ja(t)===dP};ar.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===iP||t===oP||t===sP||t===uP||t===dP||t===Khe||typeof t=="object"&&t!==null&&(t.$$typeof===fP||t.$$typeof===hP||t.$$typeof===aP||t.$$typeof===cP||t.$$typeof===lP||t.$$typeof===UY||t.getModuleId!==void 0)};ar.typeOf=Ja;function Ghe(){const t=Che();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const AB={notify(){},get:()=>[]};function Yhe(t,e){let n,r=AB,i=0,s=!1;function o(y){u();const v=r.subscribe(y);let b=!1;return()=>{b||(b=!0,v(),h())}}function a(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function l(){return s}function u(){i++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=Ghe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=AB)}function f(){s||(s=!0,u())}function p(){s&&(s=!1,h())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}const Qhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zhe=Qhe?M.useLayoutEffect:M.useEffect;function CB(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function DS(t,e){if(CB(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!CB(t[n[i]],e[n[i]]))return!1;return!0}function Jhe({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=M.useMemo(()=>{const l=Yhe(t);return{store:t,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=M.useMemo(()=>t.getState(),[t]);Zhe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const c=e||tf;return M.createElement(c.Provider,{value:o},n)}function BY(t=tf){const e=t===tf?RY:UF(t);return function(){const{store:r}=e();return r}}const zY=BY();function Xhe(t=tf){const e=t===tf?zY:BY(t);return function(){return e().dispatch}}const pP=Xhe();Ihe(_he.useSyncExternalStoreWithSelector);Ahe(xf.unstable_batchedUpdates);function VY(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VY(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rp(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VY(t))&&(r&&(r+=" "),r+=e);return r}function efe(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}efe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var r1=t=>typeof t=="number"&&!isNaN(t),Qp=t=>typeof t=="string",td=t=>typeof t=="function",tfe=t=>Qp(t)||r1(t),h2=t=>Qp(t)||td(t)?t:null,nfe=(t,e)=>t===!1||r1(t)&&t>0?t:e,f2=t=>M.isValidElement(t)||Qp(t)||td(t)||r1(t);function rfe(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function ife({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:c,nodeRef:l,isIn:u,playToast:h}){let f=n?`${t}--${o}`:t,p=n?`${e}--${o}`:e,g=M.useRef(0);return M.useLayoutEffect(()=>{let y=l.current,v=f.split(" "),b=_=>{_.target===l.current&&(h(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),g.current===0&&_.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),M.useEffect(()=>{let y=l.current,v=()=>{y.removeEventListener("animationend",v),r?rfe(y,c,i):c()};u||(a?v():(g.current=1,y.className+=` ${p}`,y.addEventListener("animationend",v)))},[u]),ce.createElement(ce.Fragment,null,s)}}function TB(t,e){return{content:HY(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function HY(t,e,n=!1){return M.isValidElement(t)&&!Qp(t.type)?M.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):td(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function sfe({closeToast:t,theme:e,ariaLabel:n="close"}){return ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ofe({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:c,isIn:l,theme:u}){let h=i||o&&a===0,f={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(f.transform=`scaleX(${a})`);let p=Rp("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),g=td(s)?s({rtl:c,type:r,defaultClassName:p}):Rp(p,s),y={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{l&&n()}};return ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),ce.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:g,style:f,...y}))}var afe=1,WY=()=>`${afe++}`;function cfe(t,e,n){let r=1,i=0,s=[],o=[],a=e,c=new Map,l=new Set,u=_=>(l.add(_),()=>l.delete(_)),h=()=>{o=Array.from(c.values()),l.forEach(_=>_())},f=({containerId:_,toastId:A,updateId:I})=>{let P=_?_!==t:t!==1,D=c.has(A)&&I==null;return P||D},p=(_,A)=>{c.forEach(I=>{var P;(A==null||A===I.props.toastId)&&((P=I.toggle)==null||P.call(I,_))})},g=_=>{var A,I;(I=(A=_.props)==null?void 0:A.onClose)==null||I.call(A,_.removalReason),_.isActive=!1},y=_=>{if(_==null)c.forEach(g);else{let A=c.get(_);A&&g(A)}h()},v=()=>{i-=s.length,s=[]},b=_=>{var A,I;let{toastId:P,updateId:D}=_.props,T=D==null;_.staleId&&c.delete(_.staleId),_.isActive=!0,c.set(P,_),h(),n(TB(_,T?"added":"updated")),T&&((I=(A=_.props).onOpen)==null||I.call(A))};return{id:t,props:a,observe:u,toggle:p,removeToast:y,toasts:c,clearQueue:v,buildToast:(_,A)=>{if(f(A))return;let{toastId:I,updateId:P,data:D,staleId:T,delay:S}=A,x=P==null;x&&i++;let N={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(A).filter(([$,j])=>j!=null)),toastId:I,updateId:P,data:D,isIn:!1,className:h2(A.className||a.toastClassName),progressClassName:h2(A.progressClassName||a.progressClassName),autoClose:A.isLoading?!1:nfe(A.autoClose,a.autoClose),closeToast($){c.get(I).removalReason=$,y(I)},deleteToast(){let $=c.get(I);if($!=null){if(n(TB($,"removed")),c.delete(I),i--,i<0&&(i=0),s.length>0){b(s.shift());return}h()}}};N.closeButton=a.closeButton,A.closeButton===!1||f2(A.closeButton)?N.closeButton=A.closeButton:A.closeButton===!0&&(N.closeButton=f2(a.closeButton)?a.closeButton:!0);let R={content:_,props:N,staleId:T};a.limit&&a.limit>0&&i>a.limit&&x?s.push(R):r1(S)?setTimeout(()=>{b(R)},S):b(R)},setProps(_){a=_},setToggle:(_,A)=>{let I=c.get(_);I&&(I.toggle=A)},isToastActive:_=>{var A;return(A=c.get(_))==null?void 0:A.isActive},getSnapshot:()=>o}}var so=new Map,p_=[],p2=new Set,lfe=t=>p2.forEach(e=>e(t)),qY=()=>so.size>0;function ufe(){p_.forEach(t=>GY(t.content,t.options)),p_=[]}var dfe=(t,{containerId:e})=>{var n;return(n=so.get(e||1))==null?void 0:n.toasts.get(t)};function KY(t,e){var n;if(e)return!!((n=so.get(e))!=null&&n.isToastActive(t));let r=!1;return so.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function hfe(t){if(!qY()){p_=p_.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||tfe(t))so.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=so.get(t.containerId);e?e.removeToast(t.id):so.forEach(n=>{n.removeToast(t.id)})}}var ffe=(t={})=>{so.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function GY(t,e){f2(t)&&(qY()||p_.push({content:t,options:e}),so.forEach(n=>{n.buildToast(t,e)}))}function pfe(t){var e;(e=so.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function YY(t,e){so.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function mfe(t){let e=t.containerId||1;return{subscribe(n){let r=cfe(e,t,lfe);so.set(e,r);let i=r.observe(n);return ufe(),()=>{i(),so.delete(e)}},setProps(n){var r;(r=so.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=so.get(e))==null?void 0:n.getSnapshot()}}}function gfe(t){return p2.add(t),()=>{p2.delete(t)}}function yfe(t){return t&&(Qp(t.toastId)||r1(t.toastId))?t.toastId:WY()}function i1(t,e){return GY(t,e),e.toastId}function mP(t,e){return{...e,type:e&&e.type||t,toastId:yfe(e)}}function gP(t){return(e,n)=>i1(e,mP(t,n))}function vt(t,e){return i1(t,mP("default",e))}vt.loading=(t,e)=>i1(t,mP("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function vfe(t,{pending:e,error:n,success:r},i){let s;e&&(s=Qp(e)?vt.loading(e,i):vt.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(l,u,h)=>{if(u==null){vt.dismiss(s);return}let f={type:l,...o,...i,data:h},p=Qp(u)?{render:u}:u;return s?vt.update(s,{...f,...p}):vt(p.render,{...f,...p}),h},c=td(t)?t():t;return c.then(l=>a("success",r,l)).catch(l=>a("error",n,l)),c}vt.promise=vfe;vt.success=gP("success");vt.info=gP("info");vt.error=gP("error");vt.warning=gP("warning");vt.warn=vt.warning;vt.dark=(t,e)=>i1(t,mP("default",{theme:"dark",...e}));function wfe(t){hfe(t)}vt.dismiss=wfe;vt.clearWaitingQueue=ffe;vt.isActive=KY;vt.update=(t,e={})=>{let n=dfe(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:WY()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,i1(o,s)}};vt.done=t=>{vt.update(t,{progress:1})};vt.onChange=gfe;vt.play=t=>YY(!0,t);vt.pause=t=>YY(!1,t);function bfe(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(mfe(t)).current;i(t);let s=(e=M.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let c=new Map;return t.newestOnTop&&s.reverse(),s.forEach(l=>{let{position:u}=l.props;c.has(u)||c.set(u,[]),c.get(u).push(l)}),Array.from(c,l=>a(l[0],l[1]))}return{getToastToRender:o,isToastActive:KY,count:s==null?void 0:s.length}}function _fe(t){let[e,n]=M.useState(!1),[r,i]=M.useState(!1),s=M.useRef(null),o=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:l,onClick:u,closeOnClick:h}=t;pfe({id:t.toastId,containerId:t.containerId,fn:n}),M.useEffect(()=>{if(t.pauseOnFocusLoss)return f(),()=>{p()}},[t.pauseOnFocusLoss]);function f(){document.hasFocus()||b(),window.addEventListener("focus",v),window.addEventListener("blur",b)}function p(){window.removeEventListener("focus",v),window.removeEventListener("blur",b)}function g(T){if(t.draggable===!0||t.draggable===T.pointerType){_();let S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=S.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(T){let{top:S,bottom:x,left:N,right:R}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=N&&T.clientX<=R&&T.clientY>=S&&T.clientY<=x?b():v()}function v(){n(!0)}function b(){n(!1)}function _(){o.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",P)}function A(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",P)}function I(T){let S=s.current;if(o.canDrag&&S){o.didMove=!0,e&&b(),t.draggableDirection==="x"?o.delta=T.clientX-o.start:o.delta=T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1);let x=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;S.style.transform=`translate3d(${x},0)`,S.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function P(){A();let T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let D={onPointerDown:g,onPointerUp:y};return a&&c&&(D.onMouseEnter=b,t.stacked||(D.onMouseLeave=v)),h&&(D.onClick=T=>{u&&u(T),o.canCloseOnClick&&l(!0)}),{playToast:v,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:D}}var Efe=typeof window<"u"?M.useLayoutEffect:M.useEffect,yP=({theme:t,type:e,isLoading:n,...r})=>ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Afe(t){return ce.createElement(yP,{...t},ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Cfe(t){return ce.createElement(yP,{...t},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Tfe(t){return ce.createElement(yP,{...t},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Sfe(t){return ce.createElement(yP,{...t},ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Ife(){return ce.createElement("div",{className:"Toastify__spinner"})}var m2={info:Cfe,warning:Afe,success:Tfe,error:Sfe,spinner:Ife},xfe=t=>t in m2;function Pfe({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(td(r)?i=r({...s,isLoading:n}):M.isValidElement(r)?i=M.cloneElement(r,s):n?i=m2.spinner():xfe(e)&&(i=m2[e](s))),i}var Ofe=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=_fe(t),{closeButton:o,children:a,autoClose:c,onClick:l,type:u,hideProgressBar:h,closeToast:f,transition:p,position:g,className:y,style:v,progressClassName:b,updateId:_,role:A,progress:I,rtl:P,toastId:D,deleteToast:T,isIn:S,isLoading:x,closeOnClick:N,theme:R,ariaLabel:$}=t,j=Rp("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":N}),K=td(y)?y({rtl:P,position:g,type:u,defaultClassName:j}):Rp(j,y),B=Pfe(t),z=!!I||!c,Y={closeToast:f,type:u,theme:R},V=null;return o===!1||(td(o)?V=o(Y):M.isValidElement(o)?V=M.cloneElement(o,Y):V=sfe(Y)),ce.createElement(p,{isIn:S,done:T,position:g,preventExitTransition:n,nodeRef:r,playToast:s},ce.createElement("div",{id:D,tabIndex:0,onClick:l,"data-in":S,className:K,...i,style:v,ref:r,...S&&{role:A,"aria-label":$}},B!=null&&ce.createElement("div",{className:Rp("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},B),HY(a,t,!e),V,!t.customProgressBar&&ce.createElement(ofe,{..._&&!z?{key:`p-${_}`}:{},rtl:P,theme:R,delay:c,isRunning:e,isIn:S,closeToast:f,hide:h,type:u,className:b,controlledProgress:z,progress:I||0})))},Dfe=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Nfe=ife(Dfe("bounce",!0)),Rfe={position:"top-right",transition:Nfe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function kfe(t){let e={...Rfe,...t},n=t.stacked,[r,i]=M.useState(!0),s=M.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=bfe(e),{className:l,style:u,rtl:h,containerId:f,hotKeys:p}=e;function g(v){let b=Rp("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":h});return td(l)?l({position:v,rtl:h,defaultClassName:b}):Rp(b,h2(l))}function y(){n&&(i(!0),vt.play())}return Efe(()=>{var v;if(n){let b=s.current.querySelectorAll('[data-in="true"]'),_=12,A=(v=e.position)==null?void 0:v.includes("top"),I=0,P=0;Array.from(b).reverse().forEach((D,T)=>{let S=D;S.classList.add("Toastify__toast--stacked"),T>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=A?"top":"bot");let x=I*(r?.2:1)+(r?0:_*T);S.style.setProperty("--y",`${A?x:x*-1}px`),S.style.setProperty("--g",`${_}`),S.style.setProperty("--s",`${1-(r?P:0)}`),I+=S.offsetHeight,P+=.025})}},[r,c,n]),M.useEffect(()=>{function v(b){var _;let A=s.current;p(b)&&((_=A.querySelector('[tabIndex="0"]'))==null||_.focus(),i(!1),vt.pause()),b.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(i(!0),vt.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[p]),ce.createElement("section",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),vt.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((v,b)=>{let _=b.length?{...u}:{...u,pointerEvents:"none"};return ce.createElement("div",{tabIndex:-1,className:g(v),"data-stacked":n,style:_,key:`c-${v}`},b.map(({content:A,props:I})=>ce.createElement(Ofe,{...I,stacked:n,collapseAll:y,isIn:a(I.toastId,I.containerId),key:`t-${I.key}`},A)))}))}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$r.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const SB="popstate";function Mfe(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return m_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zp(i)}return Ffe(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lfe(){return Math.random().toString(36).substr(2,8)}function IB(t,e){return{usr:t.state,key:t.key,idx:e}}function m_(t,e,n,r){return n===void 0&&(n=null),$r({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gd(e):e,{state:n,key:e&&e.key||r||Lfe()})}function Zp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ffe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=di.Pop,c=null,l=u();l==null&&(l=0,o.replaceState($r({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=di.Pop;let v=u(),b=v==null?null:v-l;l=v,c&&c({action:a,location:y.location,delta:b})}function f(v,b){a=di.Push;let _=m_(y.location,v,b);n&&n(_,v),l=u()+1;let A=IB(_,l),I=y.createHref(_);try{o.pushState(A,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(I)}s&&c&&c({action:a,location:y.location,delta:1})}function p(v,b){a=di.Replace;let _=m_(y.location,v,b);n&&n(_,v),l=u();let A=IB(_,l),I=y.createHref(_);o.replaceState(A,"",I),s&&c&&c({action:a,location:y.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:Zp(v);return _=_.replace(/ $/,"%20"),Gt(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let y={get action(){return a},get location(){return t(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(SB,h),c=v,()=>{i.removeEventListener(SB,h),c=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(v){return o.go(v)}};return y}var Qn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qn||(Qn={}));const $fe=new Set(["lazy","caseSensitive","path","id","index","children"]);function jfe(t){return t.index===!0}function NS(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Gt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Gt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),jfe(i)){let c=$r({},i,e(i),{id:a});return r[a]=c,c}else{let c=$r({},i,e(i),{id:a,children:void 0});return r[a]=c,i.children&&(c.children=NS(i.children,e,o,r)),c}})}function Xf(t,e,n){return n===void 0&&(n="/"),cT(t,e,n,!1)}function cT(t,e,n,r){let i=typeof e=="string"?gd(e):e,s=nd(i.pathname||"/",n);if(s==null)return null;let o=QY(t);Bfe(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=Jfe(s);a=Qfe(o[c],l,r)}return a}function Ufe(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function QY(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Gt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Fu([r,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(Gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),QY(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:Gfe(l,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of ZY(s.path))i(s,o,c)}),e}function ZY(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ZY(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Bfe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yfe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zfe=/^:[\w-]+$/,Vfe=3,Hfe=2,Wfe=1,qfe=10,Kfe=-2,xB=t=>t==="*";function Gfe(t,e){let n=t.split("/"),r=n.length;return n.some(xB)&&(r+=Kfe),e&&(r+=Hfe),n.filter(i=>!xB(i)).reduce((i,s)=>i+(zfe.test(s)?Vfe:s===""?Wfe:qfe),r)}function Yfe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Qfe(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=RS({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=RS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Fu([s,h.pathname]),pathnameBase:tpe(Fu([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Fu([s,h.pathnameBase]))}return o}function RS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zfe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function Zfe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Xfe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gd(t):t;return{pathname:n?n.startsWith("/")?n:epe(n,e):e,search:npe(r),hash:rpe(i)}}function epe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function WD(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vP(t,e){let n=JY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gd(t):(i=$r({},t),Gt(!i.pathname||!i.pathname.includes("?"),WD("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),WD("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),WD("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let c=Xfe(i,a),l=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Fu=t=>t.join("/").replace(/\/\/+/g,"/"),tpe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),npe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rpe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class kS{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function g_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XY=["post","put","patch","delete"],ipe=new Set(XY),spe=["get",...XY],ope=new Set(spe),ape=new Set([301,302,303,307,308]),cpe=new Set([307,308]),qD={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lpe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},l0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},GF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,upe=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),eQ="remix-router-transitions";function dpe(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Gt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let Z=t.detectErrorBoundary;i=te=>({hasErrorBoundary:Z(te)})}else i=upe;let s={},o=NS(t.routes,i,void 0,s),a,c=t.basename||"/",l=t.dataStrategy||mpe,u=t.patchRoutesOnNavigation,h=$r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,g=null,y=null,v=null,b=t.hydrationData!=null,_=Xf(o,t.history.location,c),A=!1,I=null;if(_==null&&!u){let Z=xo(404,{pathname:t.history.location.pathname}),{matches:te,route:de}=jB(o);_=te,I={[de.id]:Z}}_&&!t.hydrationData&&dr(_,o,t.history.location.pathname).active&&(_=null);let P;if(_)if(_.some(Z=>Z.route.lazy))P=!1;else if(!_.some(Z=>Z.route.loader))P=!0;else if(h.v7_partialHydration){let Z=t.hydrationData?t.hydrationData.loaderData:null,te=t.hydrationData?t.hydrationData.errors:null;if(te){let de=_.findIndex(ge=>te[ge.route.id]!==void 0);P=_.slice(0,de+1).every(ge=>!y2(ge.route,Z,te))}else P=_.every(de=>!y2(de.route,Z,te))}else P=t.hydrationData!=null;else if(P=!1,_=[],h.v7_partialHydration){let Z=dr(null,o,t.history.location.pathname);Z.active&&Z.matches&&(A=!0,_=Z.matches)}let D,T={historyAction:t.history.action,location:t.history.location,matches:_,initialized:P,navigation:qD,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},S=di.Pop,x=!1,N,R=!1,$=new Map,j=null,K=!1,B=!1,z=[],Y=new Set,V=new Map,Q=0,G=-1,ee=new Map,ne=new Set,le=new Map,ue=new Map,re=new Set,oe=new Map,ye=new Map,Te;function Be(){if(f=t.history.listen(Z=>{let{action:te,location:de,delta:ge}=Z;if(Te){Te(),Te=void 0;return}pv(ye.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=cn({currentLocation:T.location,nextLocation:de,historyAction:te});if(he&&ge!=null){let Qe=new Promise(ht=>{Te=ht});t.history.go(ge*-1),Vt(he,{state:"blocked",location:de,proceed(){Vt(he,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Qe.then(()=>t.history.go(ge))},reset(){let ht=new Map(T.blockers);ht.set(he,l0),Fe({blockers:ht})}});return}return Pt(te,de)}),n){Ppe(e,$);let Z=()=>Ope(e,$);e.addEventListener("pagehide",Z),j=()=>e.removeEventListener("pagehide",Z)}return T.initialized||Pt(di.Pop,T.location,{initialHydration:!0}),D}function et(){f&&f(),j&&j(),p.clear(),N&&N.abort(),T.fetchers.forEach((Z,te)=>lr(te)),T.blockers.forEach((Z,te)=>_e(te))}function tt(Z){return p.add(Z),()=>p.delete(Z)}function Fe(Z,te){te===void 0&&(te={}),T=$r({},T,Z);let de=[],ge=[];h.v7_fetcherPersist&&T.fetchers.forEach((he,Qe)=>{he.state==="idle"&&(re.has(Qe)?ge.push(Qe):de.push(Qe))}),re.forEach(he=>{!T.fetchers.has(he)&&!V.has(he)&&ge.push(he)}),[...p].forEach(he=>he(T,{deletedFetchers:ge,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),h.v7_fetcherPersist?(de.forEach(he=>T.fetchers.delete(he)),ge.forEach(he=>lr(he))):ge.forEach(he=>re.delete(he))}function pt(Z,te,de){var ge,he;let{flushSync:Qe}=de===void 0?{}:de,ht=T.actionData!=null&&T.navigation.formMethod!=null&&_c(T.navigation.formMethod)&&T.navigation.state==="loading"&&((ge=Z.state)==null?void 0:ge._isRedirect)!==!0,je;te.actionData?Object.keys(te.actionData).length>0?je=te.actionData:je=null:ht?je=T.actionData:je=null;let ze=te.loaderData?FB(T.loaderData,te.loaderData,te.matches||[],te.errors):T.loaderData,$e=T.blockers;$e.size>0&&($e=new Map($e),$e.forEach((Ze,Et)=>$e.set(Et,l0)));let nt=x===!0||T.navigation.formMethod!=null&&_c(T.navigation.formMethod)&&((he=Z.state)==null?void 0:he._isRedirect)!==!0;a&&(o=a,a=void 0),K||S===di.Pop||(S===di.Push?t.history.push(Z,Z.state):S===di.Replace&&t.history.replace(Z,Z.state));let Pe;if(S===di.Pop){let Ze=$.get(T.location.pathname);Ze&&Ze.has(Z.pathname)?Pe={currentLocation:T.location,nextLocation:Z}:$.has(Z.pathname)&&(Pe={currentLocation:Z,nextLocation:T.location})}else if(R){let Ze=$.get(T.location.pathname);Ze?Ze.add(Z.pathname):(Ze=new Set([Z.pathname]),$.set(T.location.pathname,Ze)),Pe={currentLocation:T.location,nextLocation:Z}}Fe($r({},te,{actionData:je,loaderData:ze,historyAction:S,location:Z,initialized:!0,navigation:qD,revalidation:"idle",restoreScrollPosition:wn(Z,te.matches||T.matches),preventScrollReset:nt,blockers:$e}),{viewTransitionOpts:Pe,flushSync:Qe===!0}),S=di.Pop,x=!1,R=!1,K=!1,B=!1,z=[]}async function mt(Z,te){if(typeof Z=="number"){t.history.go(Z);return}let de=g2(T.location,T.matches,c,h.v7_prependBasename,Z,h.v7_relativeSplatPath,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:ge,submission:he,error:Qe}=PB(h.v7_normalizeFormMethod,!1,de,te),ht=T.location,je=m_(T.location,ge,te&&te.state);je=$r({},je,t.history.encodeLocation(je));let ze=te&&te.replace!=null?te.replace:void 0,$e=di.Push;ze===!0?$e=di.Replace:ze===!1||he!=null&&_c(he.formMethod)&&he.formAction===T.location.pathname+T.location.search&&($e=di.Replace);let nt=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Pe=(te&&te.flushSync)===!0,Ze=cn({currentLocation:ht,nextLocation:je,historyAction:$e});if(Ze){Vt(Ze,{state:"blocked",location:je,proceed(){Vt(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),mt(Z,te)},reset(){let Et=new Map(T.blockers);Et.set(Ze,l0),Fe({blockers:Et})}});return}return await Pt($e,je,{submission:he,pendingError:Qe,preventScrollReset:nt,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:Pe})}function an(){if(Ye(),Fe({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Pt(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Pt(S||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:R===!0})}}async function Pt(Z,te,de){N&&N.abort(),N=null,S=Z,K=(de&&de.startUninterruptedRevalidation)===!0,Jr(T.location,T.matches),x=(de&&de.preventScrollReset)===!0,R=(de&&de.enableViewTransition)===!0;let ge=a||o,he=de&&de.overrideNavigation,Qe=de!=null&&de.initialHydration&&T.matches&&T.matches.length>0&&!A?T.matches:Xf(ge,te,c),ht=(de&&de.flushSync)===!0;if(Qe&&T.initialized&&!B&&_pe(T.location,te)&&!(de&&de.submission&&_c(de.submission.formMethod))){pt(te,{matches:Qe},{flushSync:ht});return}let je=dr(Qe,ge,te.pathname);if(je.active&&je.matches&&(Qe=je.matches),!Qe){let{error:jt,notFoundMatches:It,route:bn}=ur(te.pathname);pt(te,{matches:It,loaderData:{},errors:{[bn.id]:jt}},{flushSync:ht});return}N=new AbortController;let ze=bg(t.history,te,N.signal,de&&de.submission),$e;if(de&&de.pendingError)$e=[ep(Qe).route.id,{type:Qn.error,error:de.pendingError}];else if(de&&de.submission&&_c(de.submission.formMethod)){let jt=await An(ze,te,de.submission,Qe,je.active,{replace:de.replace,flushSync:ht});if(jt.shortCircuited)return;if(jt.pendingActionResult){let[It,bn]=jt.pendingActionResult;if(na(bn)&&g_(bn.error)&&bn.error.status===404){N=null,pt(te,{matches:jt.matches,loaderData:{},errors:{[It]:bn.error}});return}}Qe=jt.matches||Qe,$e=jt.pendingActionResult,he=KD(te,de.submission),ht=!1,je.active=!1,ze=bg(t.history,ze.url,ze.signal)}let{shortCircuited:nt,matches:Pe,loaderData:Ze,errors:Et}=await Fn(ze,te,Qe,je.active,he,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,de&&de.initialHydration===!0,ht,$e);nt||(N=null,pt(te,$r({matches:Pe||Qe},$B($e),{loaderData:Ze,errors:Et})))}async function An(Z,te,de,ge,he,Qe){Qe===void 0&&(Qe={}),Ye();let ht=Ipe(te,de);if(Fe({navigation:ht},{flushSync:Qe.flushSync===!0}),he){let $e=await Di(ge,te.pathname,Z.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let nt=ep($e.partialMatches).route.id;return{matches:$e.partialMatches,pendingActionResult:[nt,{type:Qn.error,error:$e.error}]}}else if($e.matches)ge=$e.matches;else{let{notFoundMatches:nt,error:Pe,route:Ze}=ur(te.pathname);return{matches:nt,pendingActionResult:[Ze.id,{type:Qn.error,error:Pe}]}}}let je,ze=Q0(ge,te);if(!ze.route.action&&!ze.route.lazy)je={type:Qn.error,error:xo(405,{method:Z.method,pathname:te.pathname,routeId:ze.route.id})};else if(je=(await Me("action",T,Z,[ze],ge,null))[ze.route.id],Z.signal.aborted)return{shortCircuited:!0};if(up(je)){let $e;return Qe&&Qe.replace!=null?$e=Qe.replace:$e=kB(je.response.headers.get("Location"),new URL(Z.url),c)===T.location.pathname+T.location.search,await Ce(Z,je,!0,{submission:de,replace:$e}),{shortCircuited:!0}}if(Eh(je))throw xo(400,{type:"defer-action"});if(na(je)){let $e=ep(ge,ze.route.id);return(Qe&&Qe.replace)!==!0&&(S=di.Push),{matches:ge,pendingActionResult:[$e.route.id,je]}}return{matches:ge,pendingActionResult:[ze.route.id,je]}}async function Fn(Z,te,de,ge,he,Qe,ht,je,ze,$e,nt){let Pe=he||KD(te,Qe),Ze=Qe||ht||BB(Pe),Et=!K&&(!h.v7_partialHydration||!ze);if(ge){if(Et){let pn=fn(nt);Fe($r({navigation:Pe},pn!==void 0?{actionData:pn}:{}),{flushSync:$e})}let St=await Di(de,te.pathname,Z.signal);if(St.type==="aborted")return{shortCircuited:!0};if(St.type==="error"){let pn=ep(St.partialMatches).route.id;return{matches:St.partialMatches,loaderData:{},errors:{[pn]:St.error}}}else if(St.matches)de=St.matches;else{let{error:pn,notFoundMatches:bi,route:ai}=ur(te.pathname);return{matches:bi,loaderData:{},errors:{[ai.id]:pn}}}}let jt=a||o,[It,bn]=DB(t.history,T,de,Ze,te,h.v7_partialHydration&&ze===!0,h.v7_skipActionErrorRevalidation,B,z,Y,re,le,ne,jt,c,nt);if(Xt(St=>!(de&&de.some(pn=>pn.route.id===St))||It&&It.some(pn=>pn.route.id===St)),G=++Q,It.length===0&&bn.length===0){let St=zi();return pt(te,$r({matches:de,loaderData:{},errors:nt&&na(nt[1])?{[nt[0]]:nt[1].error}:null},$B(nt),St?{fetchers:new Map(T.fetchers)}:{}),{flushSync:$e}),{shortCircuited:!0}}if(Et){let St={};if(!ge){St.navigation=Pe;let pn=fn(nt);pn!==void 0&&(St.actionData=pn)}bn.length>0&&(St.fetchers=mr(bn)),Fe(St,{flushSync:$e})}bn.forEach(St=>{$n(St.key),St.controller&&V.set(St.key,St.controller)});let Hi=()=>bn.forEach(St=>$n(St.key));N&&N.signal.addEventListener("abort",Hi);let{loaderResults:yo,fetcherResults:Lt}=await ot(T,de,It,bn,Z);if(Z.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Hi),bn.forEach(St=>V.delete(St.key));let ft=qA(yo);if(ft)return await Ce(Z,ft.result,!0,{replace:je}),{shortCircuited:!0};if(ft=qA(Lt),ft)return ne.add(ft.key),await Ce(Z,ft.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:ln,errors:Tn}=LB(T,de,yo,nt,bn,Lt,oe);oe.forEach((St,pn)=>{St.subscribe(bi=>{(bi||St.done)&&oe.delete(pn)})}),h.v7_partialHydration&&ze&&T.errors&&(Tn=$r({},T.errors,Tn));let Nn=zi(),oi=Oi(G),yr=Nn||oi||bn.length>0;return $r({matches:de,loaderData:ln,errors:Tn},yr?{fetchers:new Map(T.fetchers)}:{})}function fn(Z){if(Z&&!na(Z[1]))return{[Z[0]]:Z[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function mr(Z){return Z.forEach(te=>{let de=T.fetchers.get(te.key),ge=u0(void 0,de?de.data:void 0);T.fetchers.set(te.key,ge)}),new Map(T.fetchers)}function Jt(Z,te,de,ge){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$n(Z);let he=(ge&&ge.flushSync)===!0,Qe=a||o,ht=g2(T.location,T.matches,c,h.v7_prependBasename,de,h.v7_relativeSplatPath,te,ge==null?void 0:ge.relative),je=Xf(Qe,ht,c),ze=dr(je,Qe,ht);if(ze.active&&ze.matches&&(je=ze.matches),!je){Mt(Z,te,xo(404,{pathname:ht}),{flushSync:he});return}let{path:$e,submission:nt,error:Pe}=PB(h.v7_normalizeFormMethod,!0,ht,ge);if(Pe){Mt(Z,te,Pe,{flushSync:he});return}let Ze=Q0(je,$e),Et=(ge&&ge.preventScrollReset)===!0;if(nt&&_c(nt.formMethod)){se(Z,te,$e,Ze,je,ze.active,he,Et,nt);return}le.set(Z,{routeId:te,path:$e}),xe(Z,te,$e,Ze,je,ze.active,he,Et,nt)}async function se(Z,te,de,ge,he,Qe,ht,je,ze){Ye(),le.delete(Z);function $e(ut){if(!ut.route.action&&!ut.route.lazy){let rn=xo(405,{method:ze.formMethod,pathname:de,routeId:te});return Mt(Z,te,rn,{flushSync:ht}),!0}return!1}if(!Qe&&$e(ge))return;let nt=T.fetchers.get(Z);yt(Z,xpe(ze,nt),{flushSync:ht});let Pe=new AbortController,Ze=bg(t.history,de,Pe.signal,ze);if(Qe){let ut=await Di(he,new URL(Ze.url).pathname,Ze.signal,Z);if(ut.type==="aborted")return;if(ut.type==="error"){Mt(Z,te,ut.error,{flushSync:ht});return}else if(ut.matches){if(he=ut.matches,ge=Q0(he,de),$e(ge))return}else{Mt(Z,te,xo(404,{pathname:de}),{flushSync:ht});return}}V.set(Z,Pe);let Et=Q,It=(await Me("action",T,Ze,[ge],he,Z))[ge.route.id];if(Ze.signal.aborted){V.get(Z)===Pe&&V.delete(Z);return}if(h.v7_fetcherPersist&&re.has(Z)){if(up(It)||na(It)){yt(Z,Gd(void 0));return}}else{if(up(It))if(V.delete(Z),G>Et){yt(Z,Gd(void 0));return}else return ne.add(Z),yt(Z,u0(ze)),Ce(Ze,It,!1,{fetcherSubmission:ze,preventScrollReset:je});if(na(It)){Mt(Z,te,It.error);return}}if(Eh(It))throw xo(400,{type:"defer-action"});let bn=T.navigation.location||T.location,Hi=bg(t.history,bn,Pe.signal),yo=a||o,Lt=T.navigation.state!=="idle"?Xf(yo,T.navigation.location,c):T.matches;Gt(Lt,"Didn't find any matches after fetcher action");let ft=++Q;ee.set(Z,ft);let ln=u0(ze,It.data);T.fetchers.set(Z,ln);let[Tn,Nn]=DB(t.history,T,Lt,ze,bn,!1,h.v7_skipActionErrorRevalidation,B,z,Y,re,le,ne,yo,c,[ge.route.id,It]);Nn.filter(ut=>ut.key!==Z).forEach(ut=>{let rn=ut.key,vo=T.fetchers.get(rn),ic=u0(void 0,vo?vo.data:void 0);T.fetchers.set(rn,ic),$n(rn),ut.controller&&V.set(rn,ut.controller)}),Fe({fetchers:new Map(T.fetchers)});let oi=()=>Nn.forEach(ut=>$n(ut.key));Pe.signal.addEventListener("abort",oi);let{loaderResults:yr,fetcherResults:St}=await ot(T,Lt,Tn,Nn,Hi);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",oi),ee.delete(Z),V.delete(Z),Nn.forEach(ut=>V.delete(ut.key));let pn=qA(yr);if(pn)return Ce(Hi,pn.result,!1,{preventScrollReset:je});if(pn=qA(St),pn)return ne.add(pn.key),Ce(Hi,pn.result,!1,{preventScrollReset:je});let{loaderData:bi,errors:ai}=LB(T,Lt,yr,void 0,Nn,St,oe);if(T.fetchers.has(Z)){let ut=Gd(It.data);T.fetchers.set(Z,ut)}Oi(ft),T.navigation.state==="loading"&&ft>G?(Gt(S,"Expected pending action"),N&&N.abort(),pt(T.navigation.location,{matches:Lt,loaderData:bi,errors:ai,fetchers:new Map(T.fetchers)})):(Fe({errors:ai,loaderData:FB(T.loaderData,bi,Lt,ai),fetchers:new Map(T.fetchers)}),B=!1)}async function xe(Z,te,de,ge,he,Qe,ht,je,ze){let $e=T.fetchers.get(Z);yt(Z,u0(ze,$e?$e.data:void 0),{flushSync:ht});let nt=new AbortController,Pe=bg(t.history,de,nt.signal);if(Qe){let It=await Di(he,new URL(Pe.url).pathname,Pe.signal,Z);if(It.type==="aborted")return;if(It.type==="error"){Mt(Z,te,It.error,{flushSync:ht});return}else if(It.matches)he=It.matches,ge=Q0(he,de);else{Mt(Z,te,xo(404,{pathname:de}),{flushSync:ht});return}}V.set(Z,nt);let Ze=Q,jt=(await Me("loader",T,Pe,[ge],he,Z))[ge.route.id];if(Eh(jt)&&(jt=await YF(jt,Pe.signal,!0)||jt),V.get(Z)===nt&&V.delete(Z),!Pe.signal.aborted){if(re.has(Z)){yt(Z,Gd(void 0));return}if(up(jt))if(G>Ze){yt(Z,Gd(void 0));return}else{ne.add(Z),await Ce(Pe,jt,!1,{preventScrollReset:je});return}if(na(jt)){Mt(Z,te,jt.error);return}Gt(!Eh(jt),"Unhandled fetcher deferred data"),yt(Z,Gd(jt.data))}}async function Ce(Z,te,de,ge){let{submission:he,fetcherSubmission:Qe,preventScrollReset:ht,replace:je}=ge===void 0?{}:ge;te.response.headers.has("X-Remix-Revalidate")&&(B=!0);let ze=te.response.headers.get("Location");Gt(ze,"Expected a Location header on the redirect Response"),ze=kB(ze,new URL(Z.url),c);let $e=m_(T.location,ze,{_isRedirect:!0});if(n){let It=!1;if(te.response.headers.has("X-Remix-Reload-Document"))It=!0;else if(GF.test(ze)){const bn=t.history.createURL(ze);It=bn.origin!==e.location.origin||nd(bn.pathname,c)==null}if(It){je?e.location.replace(ze):e.location.assign(ze);return}}N=null;let nt=je===!0||te.response.headers.has("X-Remix-Replace")?di.Replace:di.Push,{formMethod:Pe,formAction:Ze,formEncType:Et}=T.navigation;!he&&!Qe&&Pe&&Ze&&Et&&(he=BB(T.navigation));let jt=he||Qe;if(cpe.has(te.response.status)&&jt&&_c(jt.formMethod))await Pt(nt,$e,{submission:$r({},jt,{formAction:ze}),preventScrollReset:ht||x,enableViewTransition:de?R:void 0});else{let It=KD($e,he);await Pt(nt,$e,{overrideNavigation:It,fetcherSubmission:Qe,preventScrollReset:ht||x,enableViewTransition:de?R:void 0})}}async function Me(Z,te,de,ge,he,Qe){let ht,je={};try{ht=await gpe(l,Z,te,de,ge,he,Qe,s,i)}catch(ze){return ge.forEach($e=>{je[$e.route.id]={type:Qn.error,error:ze}}),je}for(let[ze,$e]of Object.entries(ht))if(Epe($e)){let nt=$e.result;je[ze]={type:Qn.redirect,response:wpe(nt,de,ze,he,c,h.v7_relativeSplatPath)}}else je[ze]=await vpe($e);return je}async function ot(Z,te,de,ge,he){let Qe=Z.matches,ht=Me("loader",Z,he,de,te,null),je=Promise.all(ge.map(async nt=>{if(nt.matches&&nt.match&&nt.controller){let Ze=(await Me("loader",Z,bg(t.history,nt.path,nt.controller.signal),[nt.match],nt.matches,nt.key))[nt.match.route.id];return{[nt.key]:Ze}}else return Promise.resolve({[nt.key]:{type:Qn.error,error:xo(404,{pathname:nt.path})}})})),ze=await ht,$e=(await je).reduce((nt,Pe)=>Object.assign(nt,Pe),{});return await Promise.all([Tpe(te,ze,he.signal,Qe,Z.loaderData),Spe(te,$e,ge)]),{loaderResults:ze,fetcherResults:$e}}function Ye(){B=!0,z.push(...Xt()),le.forEach((Z,te)=>{V.has(te)&&Y.add(te),$n(te)})}function yt(Z,te,de){de===void 0&&(de={}),T.fetchers.set(Z,te),Fe({fetchers:new Map(T.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function Mt(Z,te,de,ge){ge===void 0&&(ge={});let he=ep(T.matches,te);lr(Z),Fe({errors:{[he.route.id]:de},fetchers:new Map(T.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function gr(Z){return ue.set(Z,(ue.get(Z)||0)+1),re.has(Z)&&re.delete(Z),T.fetchers.get(Z)||lpe}function lr(Z){let te=T.fetchers.get(Z);V.has(Z)&&!(te&&te.state==="loading"&&ee.has(Z))&&$n(Z),le.delete(Z),ee.delete(Z),ne.delete(Z),h.v7_fetcherPersist&&re.delete(Z),Y.delete(Z),T.fetchers.delete(Z)}function Ko(Z){let te=(ue.get(Z)||0)-1;te<=0?(ue.delete(Z),re.add(Z),h.v7_fetcherPersist||lr(Z)):ue.set(Z,te),Fe({fetchers:new Map(T.fetchers)})}function $n(Z){let te=V.get(Z);te&&(te.abort(),V.delete(Z))}function wi(Z){for(let te of Z){let de=gr(te),ge=Gd(de.data);T.fetchers.set(te,ge)}}function zi(){let Z=[],te=!1;for(let de of ne){let ge=T.fetchers.get(de);Gt(ge,"Expected fetcher: "+de),ge.state==="loading"&&(ne.delete(de),Z.push(de),te=!0)}return wi(Z),te}function Oi(Z){let te=[];for(let[de,ge]of ee)if(ge<Z){let he=T.fetchers.get(de);Gt(he,"Expected fetcher: "+de),he.state==="loading"&&($n(de),ee.delete(de),te.push(de))}return wi(te),te.length>0}function Vi(Z,te){let de=T.blockers.get(Z)||l0;return ye.get(Z)!==te&&ye.set(Z,te),de}function _e(Z){T.blockers.delete(Z),ye.delete(Z)}function Vt(Z,te){let de=T.blockers.get(Z)||l0;Gt(de.state==="unblocked"&&te.state==="blocked"||de.state==="blocked"&&te.state==="blocked"||de.state==="blocked"&&te.state==="proceeding"||de.state==="blocked"&&te.state==="unblocked"||de.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+de.state+" -> "+te.state);let ge=new Map(T.blockers);ge.set(Z,te),Fe({blockers:ge})}function cn(Z){let{currentLocation:te,nextLocation:de,historyAction:ge}=Z;if(ye.size===0)return;ye.size>1&&pv(!1,"A router only supports one blocker at a time");let he=Array.from(ye.entries()),[Qe,ht]=he[he.length-1],je=T.blockers.get(Qe);if(!(je&&je.state==="proceeding")&&ht({currentLocation:te,nextLocation:de,historyAction:ge}))return Qe}function ur(Z){let te=xo(404,{pathname:Z}),de=a||o,{matches:ge,route:he}=jB(de);return Xt(),{notFoundMatches:ge,route:he,error:te}}function Xt(Z){let te=[];return oe.forEach((de,ge)=>{(!Z||Z(ge))&&(de.cancel(),te.push(ge),oe.delete(ge))}),te}function Cn(Z,te,de){if(g=Z,v=te,y=de||null,!b&&T.navigation===qD){b=!0;let ge=wn(T.location,T.matches);ge!=null&&Fe({restoreScrollPosition:ge})}return()=>{g=null,v=null,y=null}}function Un(Z,te){return y&&y(Z,te.map(ge=>Ufe(ge,T.loaderData)))||Z.key}function Jr(Z,te){if(g&&v){let de=Un(Z,te);g[de]=v()}}function wn(Z,te){if(g){let de=Un(Z,te),ge=g[de];if(typeof ge=="number")return ge}return null}function dr(Z,te,de){if(u)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:cT(te,de,c,!0)}}else return{active:!0,matches:cT(te,de,c,!0)||[]};return{active:!1,matches:null}}async function Di(Z,te,de,ge){if(!u)return{type:"success",matches:Z};let he=Z;for(;;){let Qe=a==null,ht=a||o,je=s;try{await u({signal:de,path:te,matches:he,fetcherKey:ge,patch:(nt,Pe)=>{de.aborted||RB(nt,Pe,ht,je,i)}})}catch(nt){return{type:"error",error:nt,partialMatches:he}}finally{Qe&&!de.aborted&&(o=[...o])}if(de.aborted)return{type:"aborted"};let ze=Xf(ht,te,c);if(ze)return{type:"success",matches:ze};let $e=cT(ht,te,c,!0);if(!$e||he.length===$e.length&&he.every((nt,Pe)=>nt.route.id===$e[Pe].route.id))return{type:"success",matches:null};he=$e}}function si(Z){s={},a=NS(Z,i,void 0,s)}function go(Z,te){let de=a==null;RB(Z,te,a||o,s,i),de&&(o=[...o],Fe({}))}return D={get basename(){return c},get future(){return h},get state(){return T},get routes(){return o},get window(){return e},initialize:Be,subscribe:tt,enableScrollRestoration:Cn,navigate:mt,fetch:Jt,revalidate:an,createHref:Z=>t.history.createHref(Z),encodeLocation:Z=>t.history.encodeLocation(Z),getFetcher:gr,deleteFetcher:Ko,dispose:et,getBlocker:Vi,deleteBlocker:_e,patchRoutes:go,_internalFetchControllers:V,_internalActiveDeferreds:oe,_internalSetRoutes:si},D}function hpe(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function g2(t,e,n,r,i,s,o,a){let c,l;if(o){c=[];for(let h of e)if(c.push(h),h.route.id===o){l=h;break}}else c=e,l=e[e.length-1];let u=wP(i||".",vP(c,s),nd(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l){let h=QF(u.search);if(l.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&h){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Fu([n,u.pathname])),Zp(u)}function PB(t,e,n,r){if(!r||!hpe(r))return{path:n};if(r.formMethod&&!Cpe(r.formMethod))return{path:n,error:xo(405,{method:r.formMethod})};let i=()=>({path:n,error:xo(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=rQ(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!_c(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[y,v]=g;return""+p+y+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!_c(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let c,l;if(r.formData)c=v2(r.formData),l=r.formData;else if(r.body instanceof FormData)c=v2(r.body),l=r.body;else if(r.body instanceof URLSearchParams)c=r.body,l=MB(c);else if(r.body==null)c=new URLSearchParams,l=new FormData;else try{c=new URLSearchParams(r.body),l=MB(c)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(_c(u.formMethod))return{path:n,submission:u};let h=gd(n);return e&&h.search&&QF(h.search)&&c.append("index",""),h.search="?"+c,{path:Zp(h),submission:u}}function OB(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function DB(t,e,n,r,i,s,o,a,c,l,u,h,f,p,g,y){let v=y?na(y[1])?y[1].error:y[1].data:void 0,b=t.createURL(e.location),_=t.createURL(i),A=n;s&&e.errors?A=OB(n,Object.keys(e.errors)[0],!0):y&&na(y[1])&&(A=OB(n,y[0]));let I=y?y[1].statusCode:void 0,P=o&&I&&I>=400,D=A.filter((S,x)=>{let{route:N}=S;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return y2(N,e.loaderData,e.errors);if(fpe(e.loaderData,e.matches[x],S)||c.some(j=>j===S.route.id))return!0;let R=e.matches[x],$=S;return NB(S,$r({currentUrl:b,currentParams:R.params,nextUrl:_,nextParams:$.params},r,{actionResult:v,actionStatus:I,defaultShouldRevalidate:P?!1:a||b.pathname+b.search===_.pathname+_.search||b.search!==_.search||tQ(R,$)}))}),T=[];return h.forEach((S,x)=>{if(s||!n.some(K=>K.route.id===S.routeId)||u.has(x))return;let N=Xf(p,S.path,g);if(!N){T.push({key:x,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(x),$=Q0(N,S.path),j=!1;f.has(x)?j=!1:l.has(x)?(l.delete(x),j=!0):R&&R.state!=="idle"&&R.data===void 0?j=a:j=NB($,$r({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:I,defaultShouldRevalidate:P?!1:a})),j&&T.push({key:x,routeId:S.routeId,path:S.path,matches:N,match:$,controller:new AbortController})}),[D,T]}function y2(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function fpe(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function tQ(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function NB(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function RB(t,e,n,r,i){var s;let o;if(t){let l=r[t];Gt(l,"No route found to patch children into: routeId = "+t),l.children||(l.children=[]),o=l.children}else o=n;let a=e.filter(l=>!o.some(u=>nQ(l,u))),c=NS(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function nQ(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>nQ(n,s))}):!1}async function ppe(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Gt(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";pv(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!$fe.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,$r({},e(i),{lazy:void 0}))}async function mpe(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function gpe(t,e,n,r,i,s,o,a,c,l){let u=s.map(p=>p.route.lazy?ppe(p.route,c,a):void 0),h=s.map((p,g)=>{let y=u[g],v=i.some(_=>_.route.id===p.route.id);return $r({},p,{shouldLoad:v,resolve:async _=>(_&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(v=!0),v?ype(e,r,p,y,_,l):Promise.resolve({type:Qn.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:l});try{await Promise.all(u)}catch{}return f}async function ype(t,e,n,r,i,s){let o,a,c=l=>{let u,h=new Promise((g,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let f=g=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):l({request:e,params:n.params,context:s},...g!==void 0?[g]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(y=>f(y)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([p,h])};try{let l=n.route[t];if(r)if(l){let u,[h]=await Promise.all([c(l).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=h}else if(await r,l=n.route[t],l)o=await c(l);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw xo(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Qn.data,result:void 0};else if(l)o=await c(l);else{let u=new URL(e.url),h=u.pathname+u.search;throw xo(404,{pathname:h})}Gt(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:Qn.error,result:l}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function vpe(t){let{result:e,type:n}=t;if(iQ(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:Qn.error,error:f}}return n===Qn.error?{type:Qn.error,error:new kS(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Qn.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Qn.error){if(UB(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:Qn.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Qn.error,error:new kS(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:g_(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Qn.error,error:e,statusCode:g_(e)?e.status:void 0}}if(Ape(e)){var a,c;return{type:Qn.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}if(UB(e)){var l,u;return{type:Qn.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Qn.data,data:e}}function wpe(t,e,n,r,i,s){let o=t.headers.get("Location");if(Gt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!GF.test(o)){let a=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=g2(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function kB(t,e,n){if(GF.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=nd(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function bg(t,e,n,r){let i=t.createURL(rQ(e)).toString(),s={signal:n};if(r&&_c(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=v2(r.formData):s.body=r.formData}return new Request(i,s)}function v2(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function MB(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function bpe(t,e,n,r,i){let s={},o=null,a,c=!1,l={},u=n&&na(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,p=e[f];if(Gt(!up(p),"Cannot handle redirect results in processLoaderData"),na(p)){let g=p.error;if(u!==void 0&&(g=u,u=void 0),o=o||{},i)o[f]=g;else{let y=ep(t,f);o[y.route.id]==null&&(o[y.route.id]=g)}s[f]=void 0,c||(c=!0,a=g_(p.error)?p.error.status:500),p.headers&&(l[f]=p.headers)}else Eh(p)?(r.set(f,p.deferredData),s[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(a=p.statusCode),p.headers&&(l[f]=p.headers)):(s[f]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(a=p.statusCode),p.headers&&(l[f]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:l}}function LB(t,e,n,r,i,s,o){let{loaderData:a,errors:c}=bpe(e,n,r,o,!1);return i.forEach(l=>{let{key:u,match:h,controller:f}=l,p=s[u];if(Gt(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(na(p)){let g=ep(t.matches,h==null?void 0:h.route.id);c&&c[g.route.id]||(c=$r({},c,{[g.route.id]:p.error})),t.fetchers.delete(u)}else if(up(p))Gt(!1,"Unhandled fetcher revalidation redirect");else if(Eh(p))Gt(!1,"Unhandled fetcher deferred data");else{let g=Gd(p.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:c}}function FB(t,e,n,r){let i=$r({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function $B(t){return t?na(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ep(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function jB(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xo(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(a="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",c='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new kS(t||500,a,new Error(c),!0)}function qA(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(up(i))return{key:r,result:i}}}function rQ(t){let e=typeof t=="string"?gd(t):t;return Zp($r({},e,{hash:""}))}function _pe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Epe(t){return iQ(t.result)&&ape.has(t.result.status)}function Eh(t){return t.type===Qn.deferred}function na(t){return t.type===Qn.error}function up(t){return(t&&t.type)===Qn.redirect}function UB(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Ape(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function iQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Cpe(t){return ope.has(t.toLowerCase())}function _c(t){return ipe.has(t.toLowerCase())}async function Tpe(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,c]=s[o],l=t.find(f=>(f==null?void 0:f.route.id)===a);if(!l)continue;let u=r.find(f=>f.route.id===l.route.id),h=u!=null&&!tQ(u,l)&&(i&&i[l.route.id])!==void 0;Eh(c)&&h&&await YF(c,n,!1).then(f=>{f&&(e[a]=f)})}}async function Spe(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(l=>(l==null?void 0:l.route.id)===s)&&Eh(a)&&(Gt(o,"Expected an AbortController for revalidating fetcher deferred result"),await YF(a,o.signal,!0).then(l=>{l&&(e[i]=l)}))}}async function YF(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Qn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Qn.error,error:i}}return{type:Qn.data,data:t.deferredData.data}}}function QF(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Q0(t,e){let n=typeof e=="string"?gd(e).search:e.search;if(t[t.length-1].route.index&&QF(n||""))return t[t.length-1];let r=JY(t);return r[r.length-1]}function BB(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function KD(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ipe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function u0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xpe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Gd(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ppe(t,e){try{let n=t.sessionStorage.getItem(eQ);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Ope(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(eQ,JSON.stringify(n))}catch(r){pv(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}const s1=M.createContext(null),ZF=M.createContext(null),yd=M.createContext(null),bP=M.createContext(null),vd=M.createContext({outlet:null,matches:[],isDataRoute:!1}),sQ=M.createContext(null);function Dpe(t,e){let{relative:n}=e===void 0?{}:e;nw()||Gt(!1);let{basename:r,navigator:i}=M.useContext(yd),{hash:s,pathname:o,search:a}=EP(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Fu([r,o])),i.createHref({pathname:c,search:a,hash:s})}function nw(){return M.useContext(bP)!=null}function qc(){return nw()||Gt(!1),M.useContext(bP).location}function oQ(t){M.useContext(yd).static||M.useLayoutEffect(t)}function rw(){let{isDataRoute:t}=M.useContext(vd);return t?zpe():Npe()}function Npe(){nw()||Gt(!1);let t=M.useContext(s1),{basename:e,future:n,navigator:r}=M.useContext(yd),{matches:i}=M.useContext(vd),{pathname:s}=qc(),o=JSON.stringify(vP(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return oQ(()=>{a.current=!0}),M.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=wP(l,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Fu([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function _P(){let{matches:t}=M.useContext(vd),e=t[t.length-1];return e?e.params:{}}function EP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(yd),{matches:i}=M.useContext(vd),{pathname:s}=qc(),o=JSON.stringify(vP(i,r.v7_relativeSplatPath));return M.useMemo(()=>wP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function zB(t,e){return aQ(t,e)}function aQ(t,e,n,r){nw()||Gt(!1);let{navigator:i,static:s}=M.useContext(yd),{matches:o}=M.useContext(vd),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=qc(),h;if(e){var f;let b=typeof e=="string"?gd(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Gt(!1),h=b}else h=u;let p=h.pathname||"/",g=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=!s&&n&&n.matches&&n.matches.length>0?n.matches:Xf(t,{pathname:g}),v=Fpe(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Fu([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Fu([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&v?M.createElement(bP.Provider,{value:{location:y_({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:di.Pop}},v):v}function Rpe(){let t=Bpe(),e=g_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,s)}const kpe=M.createElement(Rpe,null);class Mpe extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(vd.Provider,{value:this.props.routeContext},M.createElement(sQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lpe(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(s1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(vd.Provider,{value:e},r)}function Fpe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Gt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,y=null,v=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||kpe,c&&(l<0&&f===0?(Vpe("route-fallback",!1),g=!0,v=null):l===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),_=()=>{let A;return p?A=y:g?A=v:h.route.Component?A=M.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=u,M.createElement(Lpe,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?M.createElement(Mpe,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var cQ=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cQ||{}),MS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(MS||{});function $pe(t){let e=M.useContext(s1);return e||Gt(!1),e}function jpe(t){let e=M.useContext(ZF);return e||Gt(!1),e}function Upe(t){let e=M.useContext(vd);return e||Gt(!1),e}function lQ(t){let e=Upe(),n=e.matches[e.matches.length-1];return n.route.id||Gt(!1),n.route.id}function Bpe(){var t;let e=M.useContext(sQ),n=jpe(MS.UseRouteError),r=lQ(MS.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zpe(){let{router:t}=$pe(cQ.UseNavigateStable),e=lQ(MS.UseNavigateStable),n=M.useRef(!1);return oQ(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,y_({fromRouteId:e},s)))},[t,e])}const VB={};function Vpe(t,e,n){!e&&!VB[t]&&(VB[t]=!0)}function Hpe(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function uQ(t){let{to:e,replace:n,state:r,relative:i}=t;nw()||Gt(!1);let{future:s,static:o}=M.useContext(yd),{matches:a}=M.useContext(vd),{pathname:c}=qc(),l=rw(),u=wP(e,vP(a,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return M.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function dQ(t){Gt(!1)}function Wpe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:s,static:o=!1,future:a}=t;nw()&&Gt(!1);let c=e.replace(/^\/*/,"/"),l=M.useMemo(()=>({basename:c,navigator:s,static:o,future:y_({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=gd(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=M.useMemo(()=>{let v=nd(u,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:g},navigationType:i}},[c,u,h,f,p,g,i]);return y==null?null:M.createElement(yd.Provider,{value:l},M.createElement(bP.Provider,{children:n,value:y}))}new Promise(()=>{});function w2(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,w2(r.props.children,s));return}r.type!==dQ&&Gt(!1),!r.props.index||!r.props.children||Gt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=w2(r.props.children,s)),n.push(o)}),n}function qpe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function hQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kpe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gpe(t,e){return t.button===0&&(!e||e==="_self")&&!Kpe(t)}const Ype=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qpe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Zpe="6";try{window.__reactRouterVersion=Zpe}catch{}function Jpe(t,e){return dpe({basename:e==null?void 0:e.basename,future:mv({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Mfe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Xpe(),routes:t,mapRouteProperties:qpe,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Xpe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=mv({},e,{errors:eme(e.errors)})),e}function eme(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new kS(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const fQ=M.createContext({isTransitioning:!1}),tme=M.createContext(new Map),nme="startTransition",HB=Y3[nme],rme="flushSync",WB=nhe[rme];function ime(t){HB?HB(t):t()}function d0(t){WB?WB(t):t()}let sme=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function ome(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=M.useState(n.state),[o,a]=M.useState(),[c,l]=M.useState({isTransitioning:!1}),[u,h]=M.useState(),[f,p]=M.useState(),[g,y]=M.useState(),v=M.useRef(new Map),{v7_startTransition:b}=r||{},_=M.useCallback(S=>{b?ime(S):S()},[b]),A=M.useCallback((S,x)=>{let{deletedFetchers:N,flushSync:R,viewTransitionOpts:$}=x;S.fetchers.forEach((K,B)=>{K.data!==void 0&&v.current.set(B,K.data)}),N.forEach(K=>v.current.delete(K));let j=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!$||j){R?d0(()=>s(S)):_(()=>s(S));return}if(R){d0(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let K=n.window.document.startViewTransition(()=>{d0(()=>s(S))});K.finished.finally(()=>{d0(()=>{h(void 0),p(void 0),a(void 0),l({isTransitioning:!1})})}),d0(()=>p(K));return}f?(u&&u.resolve(),f.skipTransition(),y({state:S,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(a(S),l({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,f,u,v,_]);M.useLayoutEffect(()=>n.subscribe(A),[n,A]),M.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new sme)},[c]),M.useEffect(()=>{if(u&&o&&n.window){let S=o,x=u.promise,N=n.window.document.startViewTransition(async()=>{_(()=>s(S)),await x});N.finished.finally(()=>{h(void 0),p(void 0),a(void 0),l({isTransitioning:!1})}),p(N)}},[_,o,u,n.window]),M.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),M.useEffect(()=>{!c.isTransitioning&&g&&(a(g.state),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[c.isTransitioning,g]),M.useEffect(()=>{},[]);let I=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,x,N)=>n.navigate(S,{state:x,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(S,x,N)=>n.navigate(S,{replace:!0,state:x,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),P=n.basename||"/",D=M.useMemo(()=>({router:n,navigator:I,static:!1,basename:P}),[n,I,P]),T=M.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return M.useEffect(()=>Hpe(r,n.future),[r,n.future]),M.createElement(M.Fragment,null,M.createElement(s1.Provider,{value:D},M.createElement(ZF.Provider,{value:i},M.createElement(tme.Provider,{value:v.current},M.createElement(fQ.Provider,{value:c},M.createElement(Wpe,{basename:P,location:i.location,navigationType:i.historyAction,navigator:I,future:T},i.initialized||n.future.v7_partialHydration?M.createElement(ame,{routes:n.routes,future:n.future,state:i}):e))))),null)}const ame=M.memo(cme);function cme(t){let{routes:e,future:n,state:r}=t;return aQ(e,void 0,r,n)}const lme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ume=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:h}=e,f=hQ(e,Ype),{basename:p}=M.useContext(yd),g,y=!1;if(typeof l=="string"&&ume.test(l)&&(g=l,lme))try{let A=new URL(window.location.href),I=l.startsWith("//")?new URL(A.protocol+l):new URL(l),P=nd(I.pathname,p);I.origin===A.origin&&P!=null?l=P+I.search+I.hash:y=!0}catch{}let v=Dpe(l,{relative:i}),b=hme(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:i,viewTransition:h});function _(A){r&&r(A),A.defaultPrevented||b(A)}return M.createElement("a",mv({},f,{href:g||v,onClick:y||s?r:_,ref:n,target:c}))}),Md=M.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:l,children:u}=e,h=hQ(e,Qpe),f=EP(c,{relative:h.relative}),p=qc(),g=M.useContext(ZF),{navigator:y,basename:v}=M.useContext(yd),b=g!=null&&fme(f)&&l===!0,_=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,A=p.pathname,I=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(A=A.toLowerCase(),I=I?I.toLowerCase():null,_=_.toLowerCase()),I&&v&&(I=nd(I,v)||I);const P=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=A===_||!o&&A.startsWith(_)&&A.charAt(P)==="/",T=I!=null&&(I===_||!o&&I.startsWith(_)&&I.charAt(_.length)==="/"),S={isActive:D,isPending:T,isTransitioning:b},x=D?r:void 0,N;typeof s=="function"?N=s(S):N=[s,D?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(S):a;return M.createElement(ri,mv({},h,{"aria-current":x,className:N,ref:n,style:R,to:c,viewTransition:l}),typeof u=="function"?u(S):u)});var b2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(b2||(b2={}));var qB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qB||(qB={}));function dme(t){let e=M.useContext(s1);return e||Gt(!1),e}function hme(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=rw(),l=qc(),u=EP(t,{relative:o});return M.useCallback(h=>{if(Gpe(h,n)){h.preventDefault();let f=r!==void 0?r:Zp(l)===Zp(u);c(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[l,c,u,r,i,n,t,s,o,a])}function fme(t,e){e===void 0&&(e={});let n=M.useContext(fQ);n==null&&Gt(!1);let{basename:r}=dme(b2.useViewTransitionState),i=EP(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=nd(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=nd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return RS(i.pathname,o)!=null||RS(i.pathname,s)!=null}var pQ={exports:{}},pme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mme=pme,gme=mme;function mQ(){}function gQ(){}gQ.resetWarningCache=mQ;var yme=function(){function t(r,i,s,o,a,c){if(c!==gme){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gQ,resetWarningCache:mQ};return n.PropTypes=n,n};pQ.exports=yme();var vme=pQ.exports;const We=cs(vme);var wme=typeof Element<"u",bme=typeof Map=="function",_me=typeof Set=="function",Eme=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function lT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!lT(t[r],e[r]))return!1;return!0}var s;if(bme&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!lT(r.value[1],e.get(r.value[0])))return!1;return!0}if(_me&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(Eme&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(wme&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!lT(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var Ame=function(e,n){try{return lT(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Cme=cs(Ame);var Tme=function(t,e,n,r,i,s,o,a){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,s,o,a],u=0;c=new Error(e.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Sme=Tme;const KB=cs(Sme);var Ime=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),l=0;l<o.length;l++){var u=o[l];if(!c(u))return!1;var h=e[u],f=n[u];if(s=r?r.call(i,h,f,u):void 0,s===!1||s===void 0&&h!==f)return!1}return!0};const xme=cs(Ime);function ui(){return ui=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ui.apply(this,arguments)}function JF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_2(t,e)}function _2(t,e){return _2=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_2(t,e)}function GB(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}var xt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},Pme={rel:["amphtml","canonical","alternate"]},Ome={type:["application/ld+json"]},Dme={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},YB=Object.keys(xt).map(function(t){return xt[t]}),LS={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Nme=Object.keys(LS).reduce(function(t,e){return t[LS[e]]=e,t},{}),Ry=function(t,e){for(var n=t.length-1;n>=0;n-=1){var r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},Rme=function(t){var e=Ry(t,xt.TITLE),n=Ry(t,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,function(){return e});var r=Ry(t,"defaultTitle");return e||r||void 0},kme=function(t){return Ry(t,"onChangeClientState")||function(){}},GD=function(t,e){return e.filter(function(n){return n[t]!==void 0}).map(function(n){return n[t]}).reduce(function(n,r){return ui({},n,r)},{})},Mme=function(t,e){return e.filter(function(n){return n[xt.BASE]!==void 0}).map(function(n){return n[xt.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),s=0;s<i.length;s+=1){var o=i[s].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}return n},[])},h0=function(t,e,n){var r={};return n.filter(function(i){return!!Array.isArray(i[t])||(i[t]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+typeof i[t]+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,s){var o={};s.filter(function(h){for(var f,p=Object.keys(h),g=0;g<p.length;g+=1){var y=p[g],v=y.toLowerCase();e.indexOf(v)===-1||f==="rel"&&h[f].toLowerCase()==="canonical"||v==="rel"&&h[v].toLowerCase()==="stylesheet"||(f=v),e.indexOf(y)===-1||y!=="innerHTML"&&y!=="cssText"&&y!=="itemprop"||(f=y)}if(!f||!h[f])return!1;var b=h[f].toLowerCase();return r[f]||(r[f]={}),o[f]||(o[f]={}),!r[f][b]&&(o[f][b]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var a=Object.keys(o),c=0;c<a.length;c+=1){var l=a[c],u=ui({},r[l],o[l]);r[l]=u}return i},[]).reverse()},Lme=function(t,e){if(Array.isArray(t)&&t.length){for(var n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},yQ=function(t){return Array.isArray(t)?t.join(""):t},YD=function(t,e){return Array.isArray(t)?t.reduce(function(n,r){return function(i,s){for(var o=Object.keys(i),a=0;a<o.length;a+=1)if(s[o[a]]&&s[o[a]].includes(i[o[a]]))return!0;return!1}(r,e)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:t}},QB=function(t,e){var n;return ui({},t,((n={})[e]=void 0,n))},Fme=[xt.NOSCRIPT,xt.SCRIPT,xt.STYLE],QD=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},ZB=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n]!==void 0?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r},"")},JB=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(n,r){return n[LS[r]||r]=t[r],n},e)},uT=function(t,e){return e.map(function(n,r){var i,s=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(o){var a=LS[o]||o;a==="innerHTML"||a==="cssText"?s.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:s[a]=n[o]}),ce.createElement(t,s)})},Ta=function(t,e,n){switch(t){case xt.TITLE:return{toComponent:function(){return i=e.titleAttributes,(s={key:r=e.title})["data-rh"]=!0,o=JB(i,s),[ce.createElement(xt.TITLE,o,r)];var r,i,s,o},toString:function(){return function(r,i,s,o){var a=ZB(s),c=yQ(i);return a?"<"+r+' data-rh="true" '+a+">"+QD(c,o)+"</"+r+">":"<"+r+' data-rh="true">'+QD(c,o)+"</"+r+">"}(t,e.title,e.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return JB(e)},toString:function(){return ZB(e)}};default:return{toComponent:function(){return uT(t,e)},toString:function(){return function(r,i,s){return i.reduce(function(o,a){var c=Object.keys(a).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,f){var p=a[f]===void 0?f:f+'="'+QD(a[f],s)+'"';return h?h+" "+p:p},""),l=a.innerHTML||a.cssText||"",u=Fme.indexOf(r)===-1;return o+"<"+r+' data-rh="true" '+c+(u?"/>":">"+l+"</"+r+">")},"")}(t,e,n)}}}},E2=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,s=t.noscriptTags,o=t.styleTags,a=t.title,c=a===void 0?"":a,l=t.titleAttributes,u=t.linkTags,h=t.metaTags,f=t.scriptTags,p={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var g=function(y){var v=y.linkTags,b=y.scriptTags,_=y.encode,A=YD(y.metaTags,Dme),I=YD(v,Pme),P=YD(b,Ome);return{priorityMethods:{toComponent:function(){return[].concat(uT(xt.META,A.priority),uT(xt.LINK,I.priority),uT(xt.SCRIPT,P.priority))},toString:function(){return Ta(xt.META,A.priority,_)+" "+Ta(xt.LINK,I.priority,_)+" "+Ta(xt.SCRIPT,P.priority,_)}},metaTags:A.default,linkTags:I.default,scriptTags:P.default}}(t);p=g.priorityMethods,u=g.linkTags,h=g.metaTags,f=g.scriptTags}return{priority:p,base:Ta(xt.BASE,e,r),bodyAttributes:Ta("bodyAttributes",n,r),htmlAttributes:Ta("htmlAttributes",i,r),link:Ta(xt.LINK,u,r),meta:Ta(xt.META,h,r),noscript:Ta(xt.NOSCRIPT,s,r),script:Ta(xt.SCRIPT,f,r),style:Ta(xt.STYLE,o,r),title:Ta(xt.TITLE,{title:c,titleAttributes:l},r)}},KA=[],A2=function(t,e){var n=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?KA:n.instances},add:function(r){(n.canUseDOM?KA:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?KA:n.instances).indexOf(r);(n.canUseDOM?KA:n.instances).splice(i,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=E2({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},vQ=ce.createContext({}),$me=We.shape({setHelmet:We.func,helmetInstances:We.shape({get:We.func,add:We.func,remove:We.func})}),jme=typeof document<"u",vy=function(t){function e(n){var r;return(r=t.call(this,n)||this).helmetData=new A2(r.props.context,e.canUseDOM),r}return JF(e,t),e.prototype.render=function(){return ce.createElement(vQ.Provider,{value:this.helmetData.value},this.props.children)},e}(M.Component);vy.canUseDOM=jme,vy.propTypes={context:We.shape({helmet:We.shape()}),children:We.node.isRequired},vy.defaultProps={context:{}},vy.displayName="HelmetProvider";var _g=function(t,e){var n,r=document.head||document.querySelector(xt.HEAD),i=r.querySelectorAll(t+"[data-rh]"),s=[].slice.call(i),o=[];return e&&e.length&&e.forEach(function(a){var c=document.createElement(t);for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(l==="innerHTML"?c.innerHTML=a.innerHTML:l==="cssText"?c.styleSheet?c.styleSheet.cssText=a.cssText:c.appendChild(document.createTextNode(a.cssText)):c.setAttribute(l,a[l]===void 0?"":a[l]));c.setAttribute("data-rh","true"),s.some(function(u,h){return n=h,c.isEqualNode(u)})?s.splice(n,1):o.push(c)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),o.forEach(function(a){return r.appendChild(a)}),{oldTags:s,newTags:o}},ZD=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(e),a=0;a<o.length;a+=1){var c=o[a],l=e[c]||"";n.getAttribute(c)!==l&&n.setAttribute(c,l),i.indexOf(c)===-1&&i.push(c);var u=s.indexOf(c);u!==-1&&s.splice(u,1)}for(var h=s.length-1;h>=0;h-=1)n.removeAttribute(s[h]);i.length===s.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==o.join(",")&&n.setAttribute("data-rh",o.join(","))}},XB=function(t,e){var n=t.baseTag,r=t.htmlAttributes,i=t.linkTags,s=t.metaTags,o=t.noscriptTags,a=t.onChangeClientState,c=t.scriptTags,l=t.styleTags,u=t.title,h=t.titleAttributes;ZD(xt.BODY,t.bodyAttributes),ZD(xt.HTML,r),function(y,v){y!==void 0&&document.title!==y&&(document.title=yQ(y)),ZD(xt.TITLE,v)}(u,h);var f={baseTag:_g(xt.BASE,n),linkTags:_g(xt.LINK,i),metaTags:_g(xt.META,s),noscriptTags:_g(xt.NOSCRIPT,o),scriptTags:_g(xt.SCRIPT,c),styleTags:_g(xt.STYLE,l)},p={},g={};Object.keys(f).forEach(function(y){var v=f[y],b=v.newTags,_=v.oldTags;b.length&&(p[y]=b),_.length&&(g[y]=f[y].oldTags)}),e&&e(),a(t,p,g)},f0=null,FS=function(t){function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=t.call.apply(t,[this].concat(s))||this).rendered=!1,r}JF(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!xme(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,s=this.props.context,o=s.setHelmet,a=null,c=(r=s.helmetInstances.get().map(function(l){var u=ui({},l.props);return delete u.context,u}),{baseTag:Mme(["href"],r),bodyAttributes:GD("bodyAttributes",r),defer:Ry(r,"defer"),encode:Ry(r,"encodeSpecialCharacters"),htmlAttributes:GD("htmlAttributes",r),linkTags:h0(xt.LINK,["rel","href"],r),metaTags:h0(xt.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:h0(xt.NOSCRIPT,["innerHTML"],r),onChangeClientState:kme(r),scriptTags:h0(xt.SCRIPT,["src","innerHTML"],r),styleTags:h0(xt.STYLE,["cssText"],r),title:Rme(r),titleAttributes:GD("titleAttributes",r),prioritizeSeoTags:Lme(r,"prioritizeSeoTags")});vy.canUseDOM?(i=c,f0&&cancelAnimationFrame(f0),i.defer?f0=requestAnimationFrame(function(){XB(i,function(){f0=null})}):(XB(i),f0=null)):E2&&(a=E2(c)),o(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},e}(M.Component);FS.propTypes={context:$me.isRequired},FS.displayName="HelmetDispatcher";var Ume=["children"],Bme=["children"],dT=function(t){function e(){return t.apply(this,arguments)||this}JF(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!Cme(QB(this.props,"helmetData"),QB(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case xt.SCRIPT:case xt.NOSCRIPT:return{innerHTML:i};case xt.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,s=r.child,o=r.arrayTypeChildren;return ui({},o,((i={})[s.type]=[].concat(o[s.type]||[],[ui({},r.newChildProps,this.mapNestedChildrenToProps(s,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,s,o=r.child,a=r.newProps,c=r.newChildProps,l=r.nestedChildren;switch(o.type){case xt.TITLE:return ui({},a,((i={})[o.type]=l,i.titleAttributes=ui({},c),i));case xt.BODY:return ui({},a,{bodyAttributes:ui({},c)});case xt.HTML:return ui({},a,{htmlAttributes:ui({},c)});default:return ui({},a,((s={})[o.type]=ui({},c),s))}},n.mapArrayTypeChildrenToProps=function(r,i){var s=ui({},i);return Object.keys(r).forEach(function(o){var a;s=ui({},s,((a={})[o]=r[o],a))}),s},n.warnOnInvalidChildren=function(r,i){return KB(YB.some(function(s){return r.type===s}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+YB.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),KB(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(s){return typeof s!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var s=this,o={};return ce.Children.forEach(r,function(a){if(a&&a.props){var c=a.props,l=c.children,u=GB(c,Ume),h=Object.keys(u).reduce(function(p,g){return p[Nme[g]||g]=u[g],p},{}),f=a.type;switch(typeof f=="symbol"?f=f.toString():s.warnOnInvalidChildren(a,l),f){case xt.FRAGMENT:i=s.mapChildrenToProps(l,i);break;case xt.LINK:case xt.META:case xt.NOSCRIPT:case xt.SCRIPT:case xt.STYLE:o=s.flattenArrayTypeChildren({child:a,arrayTypeChildren:o,newChildProps:h,nestedChildren:l});break;default:i=s.mapObjectTypeChildren({child:a,newProps:i,newChildProps:h,nestedChildren:l})}}}),this.mapArrayTypeChildrenToProps(o,i)},n.render=function(){var r=this.props,i=r.children,s=GB(r,Bme),o=ui({},s),a=s.helmetData;return i&&(o=this.mapChildrenToProps(i,o)),!a||a instanceof A2||(a=new A2(a.context,a.instances)),a?ce.createElement(FS,ui({},o,{context:a.value,helmetData:void 0})):ce.createElement(vQ.Consumer,null,function(c){return ce.createElement(FS,ui({},o,{context:c}))})},e}(M.Component);dT.propTypes={base:We.object,bodyAttributes:We.object,children:We.oneOfType([We.arrayOf(We.node),We.node]),defaultTitle:We.string,defer:We.bool,encodeSpecialCharacters:We.bool,htmlAttributes:We.object,link:We.arrayOf(We.object),meta:We.arrayOf(We.object),noscript:We.arrayOf(We.object),onChangeClientState:We.func,script:We.arrayOf(We.object),style:We.arrayOf(We.object),title:We.string,titleAttributes:We.object,titleTemplate:We.string,prioritizeSeoTags:We.bool,helmetData:We.object},dT.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},dT.displayName="Helmet";function hT(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hT=function(n){return typeof n}:hT=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hT(t)}function zme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vme(t,e,n){return e&&e6(t.prototype,e),n&&e6(t,n),t}function Hme(t,e){return e&&(hT(e)==="object"||typeof e=="function")?e:fT(t)}function C2(t){return C2=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},C2(t)}function fT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T2(t,e)}function T2(t,e){return T2=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},T2(t,e)}function pT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wQ=function(t){Wme(e,t);function e(){var n,r;zme(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Hme(this,(n=C2(e)).call.apply(n,[this].concat(s))),pT(fT(r),"state",{bootstrapped:!1}),pT(fT(r),"_unsubscribe",void 0),pT(fT(r),"handlePersistorState",function(){var a=r.props.persistor,c=a.getState(),l=c.bootstrapped;l&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return Vme(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(M.PureComponent);pT(wQ,"defaultProps",{children:null,loading:null});function Cs(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $c(t){return!!t&&!!t[Pr]}function jc(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ege}(t)||Array.isArray(t)||!!t[Tb]||!!(!((e=t.constructor)===null||e===void 0)&&e[Tb])||AP(t)||CP(t))}function qme(t){return $c(t)||Cs(23,t),t[Pr].t}function nf(t,e,n){n===void 0&&(n=!1),rf(t)===0?(n?Object.keys:ky)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function rf(t){var e=t[Pr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:AP(t)?2:CP(t)?3:0}function $h(t,e){return rf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mT(t,e){return rf(t)===2?t.get(e):t[e]}function bQ(t,e,n){var r=rf(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function _Q(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function AP(t){return Jme&&t instanceof Map}function CP(t){return Xme&&t instanceof Set}function qf(t){return t.o||t.t}function XF(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=AQ(t);delete e[Pr];for(var n=ky(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function e$(t,e){return e===void 0&&(e=!1),t$(t)||$c(t)||!jc(t)||(rf(t)>1&&(t.set=t.add=t.clear=t.delete=Kme),Object.freeze(t),e&&nf(t,function(n,r){return e$(r,!0)},!0)),t}function Kme(){Cs(2)}function t$(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Pl(t){var e=P2[t];return e||Cs(18,t),e}function EQ(t,e){P2[t]||(P2[t]=e)}function S2(){return v_}function JD(t,e){e&&(Pl("Patches"),t.u=[],t.s=[],t.v=e)}function $S(t){I2(t),t.p.forEach(Gme),t.p=null}function I2(t){t===v_&&(v_=t.l)}function t6(t){return v_={p:[],l:v_,h:t,m:!0,_:0}}function Gme(t){var e=t[Pr];e.i===0||e.i===1?e.j():e.g=!0}function XD(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Pl("ES5").S(e,t,r),r?(n[Pr].P&&($S(e),Cs(4)),jc(t)&&(t=jS(e,t),e.l||US(e,t)),e.u&&Pl("Patches").M(n[Pr].t,t,e.u,e.s)):t=jS(e,n,[]),$S(e),e.u&&e.v(e.u,e.s),t!==r$?t:void 0}function jS(t,e,n){if(t$(e))return e;var r=e[Pr];if(!r)return nf(e,function(a,c){return n6(t,r,e,a,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return US(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=XF(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),nf(s,function(a,c){return n6(t,r,i,a,c,n,o)}),US(t,i,!1),n&&t.u&&Pl("Patches").N(r,n,t.u,t.s)}return r.o}function n6(t,e,n,r,i,s,o){if($c(i)){var a=jS(t,i,s&&e&&e.i!==3&&!$h(e.R,r)?s.concat(r):void 0);if(bQ(n,r,a),!$c(a))return;t.m=!1}else o&&n.add(i);if(jc(i)&&!t$(i)){if(!t.h.D&&t._<1)return;jS(t,i),e&&e.A.l||US(t,i)}}function US(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&e$(e,n)}function eN(t,e){var n=t[Pr];return(n?qf(n):t)[e]}function r6(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function sh(t){t.P||(t.P=!0,t.l&&sh(t.l))}function tN(t){t.o||(t.o=XF(t.t))}function x2(t,e,n){var r=AP(e)?Pl("MapSet").F(e,n):CP(e)?Pl("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:S2(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=a,l=w_;o&&(c=[a],l=Z0);var u=Proxy.revocable(c,l),h=u.revoke,f=u.proxy;return a.k=f,a.j=h,f}(e,n):Pl("ES5").J(e,n);return(n?n.A:S2()).p.push(r),r}function Yme(t){return $c(t)||Cs(22,t),function e(n){if(!jc(n))return n;var r,i=n[Pr],s=rf(n);if(i){if(!i.P&&(i.i<4||!Pl("ES5").K(i)))return i.t;i.I=!0,r=i6(n,s),i.I=!1}else r=i6(n,s);return nf(r,function(o,a){i&&mT(i.t,o)===a||bQ(r,o,e(a))}),s===3?new Set(r):r}(t)}function i6(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return XF(t)}function Qme(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var c=this[Pr];return w_.get(c,s)},set:function(c){var l=this[Pr];w_.set(l,s,c)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Pr];if(!a.P)switch(a.i){case 5:r(a)&&sh(a);break;case 4:n(a)&&sh(a)}}}function n(s){for(var o=s.t,a=s.k,c=ky(a),l=c.length-1;l>=0;l--){var u=c[l];if(u!==Pr){var h=o[u];if(h===void 0&&!$h(o,u))return!0;var f=a[u],p=f&&f[Pr];if(p?p.t!==h:!_Q(f,h))return!0}}var g=!!o[Pr];return c.length!==ky(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};EQ("ES5",{J:function(s,o){var a=Array.isArray(s),c=function(u,h){if(u){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=AQ(h);delete g[Pr];for(var y=ky(g),v=0;v<y.length;v++){var b=y[v];g[b]=t(b,u||!!g[b].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(a,s),l={i:a?5:4,A:o?o.A:S2(),P:!1,I:!1,R:{},l:o,t:s,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Pr,{value:l,writable:!0}),c},S:function(s,o,a){a?$c(o)&&o[Pr].A===s&&e(s.p):(s.u&&function c(l){if(l&&typeof l=="object"){var u=l[Pr];if(u){var h=u.t,f=u.k,p=u.R,g=u.i;if(g===4)nf(f,function(A){A!==Pr&&(h[A]!==void 0||$h(h,A)?p[A]||c(f[A]):(p[A]=!0,sh(u)))}),nf(h,function(A){f[A]!==void 0||$h(f,A)||(p[A]=!1,sh(u))});else if(g===5){if(r(u)&&(sh(u),p.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)p[y]=!1;else for(var v=h.length;v<f.length;v++)p[v]=!0;for(var b=Math.min(f.length,h.length),_=0;_<b;_++)f.hasOwnProperty(_)||(p[_]=!0),p[_]===void 0&&c(f[_])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}function Zme(){function t(r){if(!jc(r))return r;if(Array.isArray(r))return r.map(t);if(AP(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],t(o[1])]}));if(CP(r))return new Set(Array.from(r).map(t));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=t(r[s]);return $h(r,Tb)&&(i[Tb]=r[Tb]),i}function e(r){return $c(r)?t(r):r}var n="add";EQ("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,c=r,l=0;l<o.length-1;l++){var u=rf(c),h=o[l];typeof h!="string"&&typeof h!="number"&&(h=""+h),u!==0&&u!==1||h!=="__proto__"&&h!=="constructor"||Cs(24),typeof c=="function"&&h==="prototype"&&Cs(24),typeof(c=mT(c,h))!="object"&&Cs(15,o.join("/"))}var f=rf(c),p=t(s.value),g=o[o.length-1];switch(a){case"replace":switch(f){case 2:return c.set(g,p);case 3:Cs(16);default:return c[g]=p}case n:switch(f){case 1:return g==="-"?c.push(p):c.splice(g,0,p);case 2:return c.set(g,p);case 3:return c.add(p);default:return c[g]=p}case"remove":switch(f){case 1:return c.splice(g,1);case 2:return c.delete(g);case 3:return c.delete(s.value);default:return delete c[g]}default:Cs(17,a)}}),r},N:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,c,l,u){var h=a.t,f=a.o;nf(a.R,function(p,g){var y=mT(h,p),v=mT(f,p),b=g?$h(h,p)?"replace":n:"remove";if(y!==v||b!=="replace"){var _=c.concat(p);l.push(b==="remove"?{op:b,path:_}:{op:b,path:_,value:v}),u.push(b===n?{op:"remove",path:_}:b==="remove"?{op:n,path:_,value:e(y)}:{op:"replace",path:_,value:e(y)})}})}(r,i,s,o);case 5:case 1:return function(a,c,l,u){var h=a.t,f=a.R,p=a.o;if(p.length<h.length){var g=[p,h];h=g[0],p=g[1];var y=[u,l];l=y[0],u=y[1]}for(var v=0;v<h.length;v++)if(f[v]&&p[v]!==h[v]){var b=c.concat([v]);l.push({op:"replace",path:b,value:e(p[v])}),u.push({op:"replace",path:b,value:e(h[v])})}for(var _=h.length;_<p.length;_++){var A=c.concat([_]);l.push({op:n,path:A,value:e(p[_])})}h.length<p.length&&u.push({op:"replace",path:c.concat(["length"]),value:h.length})}(r,i,s,o);case 3:return function(a,c,l,u){var h=a.t,f=a.o,p=0;h.forEach(function(g){if(!f.has(g)){var y=c.concat([p]);l.push({op:"remove",path:y,value:g}),u.unshift({op:n,path:y,value:g})}p++}),p=0,f.forEach(function(g){if(!h.has(g)){var y=c.concat([p]);l.push({op:n,path:y,value:g}),u.unshift({op:"remove",path:y,value:g})}p++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===r$?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var s6,v_,n$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Jme=typeof Map<"u",Xme=typeof Set<"u",o6=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",r$=n$?Symbol.for("immer-nothing"):((s6={})["immer-nothing"]=!0,s6),Tb=n$?Symbol.for("immer-draftable"):"__$immer_draftable",Pr=n$?Symbol.for("immer-state"):"__$immer_state",ege=""+Object.prototype.constructor,ky=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,AQ=Object.getOwnPropertyDescriptors||function(t){var e={};return ky(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},P2={},w_={get:function(t,e){if(e===Pr)return t;var n=qf(t);if(!$h(n,e))return function(i,s,o){var a,c=r6(s,o);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!jc(r)?r:r===eN(t.t,e)?(tN(t),t.o[e]=x2(t.A.h,r,t)):r},has:function(t,e){return e in qf(t)},ownKeys:function(t){return Reflect.ownKeys(qf(t))},set:function(t,e,n){var r=r6(qf(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=eN(qf(t),e),s=i==null?void 0:i[Pr];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(_Q(n,i)&&(n!==void 0||$h(t.t,e)))return!0;tN(t),sh(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return eN(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,tN(t),sh(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=qf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Cs(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Cs(12)}},Z0={};nf(w_,function(t,e){Z0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Z0.deleteProperty=function(t,e){return Z0.set.call(this,t,e,void 0)},Z0.set=function(t,e,n){return w_.set.call(this,t[0],e,n,t[0])};var tge=function(){function t(n){var r=this;this.O=o6,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var c=r;return function(y){var v=this;y===void 0&&(y=a);for(var b=arguments.length,_=Array(b>1?b-1:0),A=1;A<b;A++)_[A-1]=arguments[A];return c.produce(y,function(I){var P;return(P=s).call.apply(P,[v,I].concat(_))})}}var l;if(typeof s!="function"&&Cs(6),o!==void 0&&typeof o!="function"&&Cs(7),jc(i)){var u=t6(r),h=x2(r,i,void 0),f=!0;try{l=s(h),f=!1}finally{f?$S(u):I2(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(y){return JD(u,o),XD(y,u)},function(y){throw $S(u),y}):(JD(u,o),XD(l,u))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===r$&&(l=void 0),r.D&&e$(l,!0),o){var p=[],g=[];Pl("Patches").M(i,l,p,g),o(p,g)}return l}Cs(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return r.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(h))})};var o,a,c=r.produce(i,s,function(l,u){o=l,a=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,a]}):[c,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){jc(n)||Cs(8),$c(n)&&(n=Yme(n));var r=t6(this),i=x2(this,n,void 0);return i[Pr].C=!0,I2(r),i},e.finishDraft=function(n,r){var i=n&&n[Pr],s=i.A;return JD(s,r),XD(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!o6&&Cs(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Pl("Patches").$;return $c(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),fa=new tge,o1=fa.produce,CQ=fa.produceWithPatches.bind(fa);fa.setAutoFreeze.bind(fa);fa.setUseProxies.bind(fa);var a6=fa.applyPatches.bind(fa);fa.createDraft.bind(fa);fa.finishDraft.bind(fa);function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function nge(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rge(t){var e=nge(t,"string");return sf(e)=="symbol"?e:e+""}function Va(t,e,n){return(e=rge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(n),!0).forEach(function(r){Va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zs(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var l6=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),nN=function(){return Math.random().toString(36).substring(7).split("").join(".")},BS={INIT:"@@redux/INIT"+nN(),REPLACE:"@@redux/REPLACE"+nN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nN()}};function ige(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function i$(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zs(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zs(1));return n(i$)(t,e)}if(typeof t!="function")throw new Error(zs(2));var i=t,s=e,o=[],a=o,c=!1;function l(){a===o&&(a=o.slice())}function u(){if(c)throw new Error(zs(3));return s}function h(y){if(typeof y!="function")throw new Error(zs(4));if(c)throw new Error(zs(5));var v=!0;return l(),a.push(y),function(){if(v){if(c)throw new Error(zs(6));v=!1,l();var _=a.indexOf(y);a.splice(_,1),o=null}}}function f(y){if(!ige(y))throw new Error(zs(7));if(typeof y.type>"u")throw new Error(zs(8));if(c)throw new Error(zs(9));try{c=!0,s=i(s,y)}finally{c=!1}for(var v=o=a,b=0;b<v.length;b++){var _=v[b];_()}return y}function p(y){if(typeof y!="function")throw new Error(zs(10));i=y,f({type:BS.REPLACE})}function g(){var y,v=h;return y={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(zs(11));function A(){_.next&&_.next(u())}A();var I=v(A);return{unsubscribe:I}}},y[l6]=function(){return this},y}return f({type:BS.INIT}),r={dispatch:f,subscribe:h,getState:u,replaceReducer:p},r[l6]=g,r}function sge(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:BS.INIT});if(typeof r>"u")throw new Error(zs(12));if(typeof n(void 0,{type:BS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zs(13))})}function s$(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{sge(n)}catch(a){o=a}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,h={},f=0;f<s.length;f++){var p=s[f],g=n[p],y=c[p],v=g(y,l);if(typeof v>"u")throw l&&l.type,new Error(zs(14));h[p]=v,u=u||v!==y}return u=u||s.length!==Object.keys(c).length,u?h:c}}function zS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function oge(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zs(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(c){return c(o)});return s=zS.apply(void 0,a)(i.dispatch),ts(ts({},i),{},{dispatch:s})}}}var VS="NOT_FOUND";function age(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:VS},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function cge(t,e){var n=[];function r(a){var c=n.findIndex(function(u){return e(a,u.key)});if(c>-1){var l=n[c];return c>0&&(n.splice(c,1),n.unshift(l)),l.value}return VS}function i(a,c){r(a)===VS&&(n.unshift({key:a,value:c}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var lge=function(e,n){return e===n};function uge(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function O2(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?lge:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,c=uge(i),l=o===1?age(c):cge(o,c);function u(){var h=l.get(arguments);if(h===VS){if(h=t.apply(null,arguments),a){var f=l.getEntries(),p=f.find(function(g){return a(g.value,h)});p&&(h=p.value)}l.put(arguments,h)}return h}return u.clearCache=function(){return l.clear()},u}function dge(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function hge(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];var l=0,u,h={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(h=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var p=h,g=p.memoizeOptions,y=g===void 0?n:g,v=Array.isArray(y)?y:[y],b=dge(a),_=t.apply(void 0,[function(){return l++,f.apply(null,arguments)}].concat(v)),A=t(function(){for(var P=[],D=b.length,T=0;T<D;T++)P.push(b[T].apply(null,arguments));return u=_.apply(null,P),u});return Object.assign(A,{resultFunc:f,memoizedResultFunc:_,dependencies:b,lastResult:function(){return u},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),A};return i}var Sb=hge(O2);function TQ(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var SQ=TQ();SQ.withExtraArgument=TQ;const u6=SQ;var IQ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fge=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},gv=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},pge=Object.defineProperty,mge=Object.defineProperties,gge=Object.getOwnPropertyDescriptors,d6=Object.getOwnPropertySymbols,yge=Object.prototype.hasOwnProperty,vge=Object.prototype.propertyIsEnumerable,h6=function(t,e,n){return e in t?pge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},jh=function(t,e){for(var n in e||(e={}))yge.call(e,n)&&h6(t,n,e[n]);if(d6)for(var r=0,i=d6(e);r<i.length;r++){var n=i[r];vge.call(e,n)&&h6(t,n,e[n])}return t},rN=function(t,e){return mge(t,gge(e))},wge=function(t,e,n){return new Promise(function(r,i){var s=function(c){try{a(n.next(c))}catch(l){i(l)}},o=function(c){try{a(n.throw(c))}catch(l){i(l)}},a=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(s,o)};a((n=n.apply(t,e)).next())})},bge=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zS:zS.apply(null,arguments)};function of(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var _ge=function(t){return t&&typeof t.match=="function"};function Uo(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return jh(jh({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var Ege=function(t){IQ(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,gv([void 0],n[0].concat(this)))):new(e.bind.apply(e,gv([void 0],n.concat(this))))},e}(Array),Age=function(t){IQ(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,gv([void 0],n[0].concat(this)))):new(e.bind.apply(e,gv([void 0],n.concat(this))))},e}(Array);function D2(t){return jc(t)?o1(t,function(){}):t}function Cge(t){return typeof t=="boolean"}function Tge(){return function(e){return Sge(e)}}function Sge(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new Ege;return n&&(Cge(n)?r.push(u6):r.push(u6.withExtraArgument(n.extraArgument))),r}var Ige=!0;function xge(t){var e=Tge(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,c=a===void 0?!0:a,l=n.preloadedState,u=l===void 0?void 0:l,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof i=="function")p=i;else if(of(i))p=s$(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var y=oge.apply(void 0,g),v=zS;c&&(v=bge(jh({trace:!Ige},typeof c=="object"&&c)));var b=new Age(y),_=b;Array.isArray(f)?_=gv([y],f):typeof f=="function"&&(_=f(b));var A=v.apply(void 0,_);return i$(p,u,A)}function xQ(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Pge(t){return typeof t=="function"}function Oge(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?xQ(e):[e,n,r],s=i[0],o=i[1],a=i[2],c;if(Pge(t))c=function(){return D2(t())};else{var l=D2(t);c=function(){return l}}function u(h,f){h===void 0&&(h=c());var p=gv([s[f.type]],o.filter(function(g){var y=g.matcher;return y(f)}).map(function(g){var y=g.reducer;return y}));return p.filter(function(g){return!!g}).length===0&&(p=[a]),p.reduce(function(g,y){if(y)if($c(g)){var v=g,b=y(v,f);return b===void 0?g:b}else{if(jc(g))return o1(g,function(_){return y(_,f)});var b=y(g,f);if(b===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return g},h)}return u.getInitialState=c,u}function Dge(t,e){return t+"/"+e}function Jd(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:D2(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(u){var h=r[u],f=Dge(e,u),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,s[u]=p,o[f]=p,a[u]=g?Uo(f,g):Uo(f)});function c(){var u=typeof t.extraReducers=="function"?xQ(t.extraReducers):[t.extraReducers],h=u[0],f=h===void 0?{}:h,p=u[1],g=p===void 0?[]:p,y=u[2],v=y===void 0?void 0:y,b=jh(jh({},f),o);return Oge(n,function(_){for(var A in b)_.addCase(A,b[A]);for(var I=0,P=g;I<P.length;I++){var D=P[I];_.addMatcher(D.matcher,D.reducer)}v&&_.addDefaultCase(v)})}var l;return{name:e,reducer:function(u,h){return l||(l=c()),l(u,h)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var Nge="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PQ=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Nge[Math.random()*64|0];return e},Rge=["name","message","stack","code"],iN=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),f6=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),kge=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Rge;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},p6=function(){function t(e,n,r){var i=Uo(e+"/fulfilled",function(l,u,h,f){return{payload:l,meta:rN(jh({},f||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),s=Uo(e+"/pending",function(l,u,h){return{payload:void 0,meta:rN(jh({},h||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=Uo(e+"/rejected",function(l,u,h,f,p){return{payload:f,error:(r&&r.serializeError||kge)(l||"Rejected"),meta:rN(jh({},p||{}),{arg:h,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(l):PQ(),g=new a,y;function v(_){y=_,g.abort()}var b=function(){return wge(this,null,function(){var _,A,I,P,D,T,S;return fge(this,function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),P=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:h,extra:f}),Lge(P)?[4,P]:[3,2];case 1:P=x.sent(),x.label=2;case 2:if(P===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return D=new Promise(function(N,R){return g.signal.addEventListener("abort",function(){return R({name:"AbortError",message:y||"Aborted"})})}),u(s(p,l,(A=r==null?void 0:r.getPendingMeta)==null?void 0:A.call(r,{requestId:p,arg:l},{getState:h,extra:f}))),[4,Promise.race([D,Promise.resolve(n(l,{dispatch:u,getState:h,extra:f,requestId:p,signal:g.signal,abort:v,rejectWithValue:function(N,R){return new iN(N,R)},fulfillWithValue:function(N,R){return new f6(N,R)}})).then(function(N){if(N instanceof iN)throw N;return N instanceof f6?i(N.payload,p,l,N.meta):i(N,p,l)})])];case 3:return I=x.sent(),[3,5];case 4:return T=x.sent(),I=T instanceof iN?o(null,p,l,T.payload,T.meta):o(T,p,l),[3,5];case 5:return S=r&&!r.dispatchConditionRejection&&o.match(I)&&I.meta.condition,S||u(I),[2,I]}})})}();return Object.assign(b,{abort:v,requestId:p,arg:l,unwrap:function(){return b.then(Mge)}})}}return Object.assign(c,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function Mge(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Lge(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var OQ=function(t,e){return _ge(t)?t.match(e):t(e)};function iw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.some(function(r){return OQ(r,n)})}}function Ib(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.every(function(r){return OQ(r,n)})}}function TP(t,e){if(!t||!t.meta)return!1;var n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function a1(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function o$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return TP(n,["pending"])}:a1(t)?function(n){var r=t.map(function(s){return s.pending}),i=iw.apply(void 0,r);return i(n)}:o$()(t[0])}function b_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return TP(n,["rejected"])}:a1(t)?function(n){var r=t.map(function(s){return s.rejected}),i=iw.apply(void 0,r);return i(n)}:b_()(t[0])}function SP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return t.length===0?function(r){var i=Ib(b_.apply(void 0,t),n);return i(r)}:a1(t)?function(r){var i=Ib(b_.apply(void 0,t),n);return i(r)}:SP()(t[0])}function Nm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return TP(n,["fulfilled"])}:a1(t)?function(n){var r=t.map(function(s){return s.fulfilled}),i=iw.apply(void 0,r);return i(n)}:Nm()(t[0])}function N2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return TP(n,["pending","fulfilled","rejected"])}:a1(t)?function(n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];r.push(o.pending,o.rejected,o.fulfilled)}var a=iw.apply(void 0,r);return a(n)}:N2()(t[0])}var a$="listenerMiddleware";Uo(a$+"/add");Uo(a$+"/removeAll");Uo(a$+"/remove");var J0="RTK_autoBatch",p0=function(){return function(t){var e;return{payload:t,meta:(e={},e[J0]=!0,e)}}},m6;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Qme();var c$="persist:",l$="persist/FLUSH",IP="persist/REHYDRATE",u$="persist/PAUSE",d$="persist/PERSIST",h$="persist/PURGE",f$="persist/REGISTER",Fge=-1;function gT(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gT=function(n){return typeof n}:gT=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gT(t)}function g6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g6(n,!0).forEach(function(r){jge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g6(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uge(t,e,n,r){r.debug;var i=$ge({},n);return t&&gT(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Bge(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:c$).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(P){return P}:typeof t.serialize=="function"?a=t.serialize:a=zge;var c=t.writeFailHandler||null,l={},u={},h=[],f=null,p=null,g=function(P){Object.keys(P).forEach(function(D){b(D)&&l[D]!==P[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(l).forEach(function(D){P[D]===void 0&&b(D)&&h.indexOf(D)===-1&&l[D]!==void 0&&h.push(D)}),f===null&&(f=setInterval(y,i)),l=P};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var I=h.shift(),P=r.reduce(function(D,T){return T.in(D,I,l)},l[I]);if(P!==void 0)try{u[I]=a(P)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete u[I];h.length===0&&v()}function v(){Object.keys(u).forEach(function(I){l[I]===void 0&&delete u[I]}),p=o.setItem(s,a(u)).catch(_)}function b(I){return!(n&&n.indexOf(I)===-1&&I!=="_persist"||e&&e.indexOf(I)!==-1)}function _(I){c&&c(I)}var A=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:g,flush:A}}function zge(t){return JSON.stringify(t)}function Vge(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:c$).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=Hge,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(c){o[c]=e.reduceRight(function(l,u){return u.out(l,c,a)},i(a[c]))}),o}catch(c){throw c}else return})}function Hge(t){return JSON.parse(t)}function Wge(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:c$).concat(t.key);return e.removeItem(n,qge)}function qge(t){}function y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(n,!0).forEach(function(r){Kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t,e){if(t==null)return{};var n=Yge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Qge=5e3;function Zge(t,e){var n=t.version!==void 0?t.version:Fge;t.debug;var r=t.stateReconciler===void 0?Uge:t.stateReconciler,i=t.getStoredState||Vge,s=t.timeout!==void 0?t.timeout:Qge,o=null,a=!1,c=!0,l=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(u,h){var f=u||{},p=f._persist,g=Gge(f,["_persist"]),y=g;if(h.type===d$){var v=!1,b=function(S,x){v||(h.rehydrate(t.key,S,x),v=!0)};if(s&&setTimeout(function(){!v&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),c=!1,o||(o=Bge(t)),p)return cu({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(T){var S=t.migrate||function(x,N){return Promise.resolve(x)};S(T,n).then(function(x){b(x)},function(x){b(void 0,x)})},function(T){b(void 0,T)}),cu({},e(y,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===h$)return a=!0,h.result(Wge(t)),cu({},e(y,h),{_persist:p});if(h.type===l$)return h.result(o&&o.flush()),cu({},e(y,h),{_persist:p});if(h.type===u$)c=!0;else if(h.type===IP){if(a)return cu({},y,{_persist:cu({},p,{rehydrated:!0})});if(h.key===t.key){var _=e(y,h),A=h.payload,I=r!==!1&&A!==void 0?r(A,u,_,t):_,P=cu({},I,{_persist:cu({},p,{rehydrated:!0})});return l(P)}}}if(!p)return e(u,h);var D=e(y,h);return D===y?u:l(cu({},D,{_persist:p}))}}function v6(t){return eye(t)||Xge(t)||Jge()}function Jge(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Xge(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function eye(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function w6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(n,!0).forEach(function(r){tye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DQ={registry:[],bootstrapped:!1},nye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DQ,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f$:return R2({},e,{registry:[].concat(v6(e.registry),[n.key])});case IP:var r=e.registry.indexOf(n.key),i=v6(e.registry);return i.splice(r,1),R2({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function rye(t,e,n){var r=n||!1,i=i$(nye,DQ,e&&e.enhancer?e.enhancer:void 0),s=function(l){i.dispatch({type:f$,key:l})},o=function(l,u,h){var f={type:IP,payload:u,err:h,key:l};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=R2({},i,{purge:function(){var l=[];return t.dispatch({type:h$,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:l$,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:u$})},persist:function(){t.dispatch({type:d$,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var p$={},m$={};m$.__esModule=!0;m$.default=oye;function yT(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yT=function(n){return typeof n}:yT=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yT(t)}function sN(){}var iye={getItem:sN,setItem:sN,removeItem:sN};function sye(t){if((typeof self>"u"?"undefined":yT(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function oye(t){var e="".concat(t,"Storage");return sye(e)?self[e]:iye}p$.__esModule=!0;p$.default=lye;var aye=cye(m$);function cye(t){return t&&t.__esModule?t:{default:t}}function lye(t){var e=(0,aye.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var NQ=void 0,uye=dye(p$);function dye(t){return t&&t.__esModule?t:{default:t}}var hye=(0,uye.default)("local");NQ=hye;var HS=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},WS=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},fye=Object.defineProperty,pye=Object.defineProperties,mye=Object.getOwnPropertyDescriptors,qS=Object.getOwnPropertySymbols,RQ=Object.prototype.hasOwnProperty,kQ=Object.prototype.propertyIsEnumerable,b6=function(t,e,n){return e in t?fye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ni=function(t,e){for(var n in e||(e={}))RQ.call(e,n)&&b6(t,n,e[n]);if(qS)for(var r=0,i=qS(e);r<i.length;r++){var n=i[r];kQ.call(e,n)&&b6(t,n,e[n])}return t},Al=function(t,e){return pye(t,mye(e))},_6=function(t,e){var n={};for(var r in t)RQ.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qS)for(var i=0,s=qS(t);i<s.length;i++){var r=s[i];e.indexOf(r)<0&&kQ.call(t,r)&&(n[r]=t[r])}return n},KS=function(t,e,n){return new Promise(function(r,i){var s=function(c){try{a(n.next(c))}catch(l){i(l)}},o=function(c){try{a(n.throw(c))}catch(l){i(l)}},a=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(s,o)};a((n=n.apply(t,e)).next())})},Lr;(function(t){t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected"})(Lr||(Lr={}));function gye(t){return{status:t,isUninitialized:t===Lr.uninitialized,isLoading:t===Lr.pending,isSuccess:t===Lr.fulfilled,isError:t===Lr.rejected}}function yye(t){return new RegExp("(^|:)//").test(t)}var vye=function(t){return t.replace(/\/$/,"")},wye=function(t){return t.replace(/^\//,"")};function bye(t,e){if(!t)return e;if(!e)return t;if(yye(e))return e;var n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=vye(t),e=wye(e),""+t+n+e}var E6=function(t){return[].concat.apply([],t)};function _ye(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Eye(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var A6=of;function MQ(t,e){if(t===e||!(A6(t)&&A6(e)||Array.isArray(t)&&Array.isArray(e)))return e;for(var n=Object.keys(e),r=Object.keys(t),i=n.length===r.length,s=Array.isArray(e)?[]:{},o=0,a=n;o<a.length;o++){var c=a[o];s[c]=MQ(t[c],e[c]),i&&(i=t[c]===s[c])}return i?t:s}var C6=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fetch.apply(void 0,t)},Aye=function(t){return t.status>=200&&t.status<=299},Cye=function(t){return/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"")};function T6(t){if(!of(t))return t;for(var e=ni({},t),n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],s=i[0],o=i[1];o===void 0&&delete e[s]}return e}function Tye(t){var e=this;t===void 0&&(t={});var n=t,r=n.baseUrl,i=n.prepareHeaders,s=i===void 0?function(A){return A}:i,o=n.fetchFn,a=o===void 0?C6:o,c=n.paramsSerializer,l=n.isJsonContentType,u=l===void 0?Cye:l,h=n.jsonContentType,f=h===void 0?"application/json":h,p=n.jsonReplacer,g=n.timeout,y=n.responseHandler,v=n.validateStatus,b=_6(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&a===C6&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(A,I){return KS(e,null,function(){var P,D,T,S,x,N,R,$,j,K,B,z,Y,V,Q,G,ee,ne,le,ue,re,oe,ye,Te,Be,et,tt,Fe,pt,mt,an,Pt,An,Fn,fn,mr;return HS(this,function(Jt){switch(Jt.label){case 0:return P=I.signal,D=I.getState,T=I.extra,S=I.endpoint,x=I.forced,N=I.type,$=typeof A=="string"?{url:A}:A,j=$.url,K=$.headers,B=K===void 0?new Headers(b.headers):K,z=$.params,Y=z===void 0?void 0:z,V=$.responseHandler,Q=V===void 0?y??"json":V,G=$.validateStatus,ee=G===void 0?v??Aye:G,ne=$.timeout,le=ne===void 0?g:ne,ue=_6($,["url","headers","params","responseHandler","validateStatus","timeout"]),re=ni(Al(ni({},b),{signal:P}),ue),B=new Headers(T6(B)),oe=re,[4,s(B,{getState:D,extra:T,endpoint:S,forced:x,type:N})];case 1:oe.headers=Jt.sent()||B,ye=function(se){return typeof se=="object"&&(of(se)||Array.isArray(se)||typeof se.toJSON=="function")},!re.headers.has("content-type")&&ye(re.body)&&re.headers.set("content-type",f),ye(re.body)&&u(re.headers)&&(re.body=JSON.stringify(re.body,p)),Y&&(Te=~j.indexOf("?")?"&":"?",Be=c?c(Y):new URLSearchParams(T6(Y)),j+=Te+Be),j=bye(r,j),et=new Request(j,re),tt=new Request(j,re),R={request:tt},pt=!1,mt=le&&setTimeout(function(){pt=!0,I.abort()},le),Jt.label=2;case 2:return Jt.trys.push([2,4,5,6]),[4,a(et)];case 3:return Fe=Jt.sent(),[3,6];case 4:return an=Jt.sent(),[2,{error:{status:pt?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(an)},meta:R}];case 5:return mt&&clearTimeout(mt),[7];case 6:Pt=Fe.clone(),R.response=Pt,Fn="",Jt.label=7;case 7:return Jt.trys.push([7,9,,10]),[4,Promise.all([_(Fe,Q).then(function(se){return An=se},function(se){return fn=se}),Pt.text().then(function(se){return Fn=se},function(){})])];case 8:if(Jt.sent(),fn)throw fn;return[3,10];case 9:return mr=Jt.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:Fe.status,data:Fn,error:String(mr)},meta:R}];case 10:return[2,ee(Fe,An)?{data:An,meta:R}:{error:{status:Fe.status,data:An},meta:R}]}})})};function _(A,I){return KS(this,null,function(){var P;return HS(this,function(D){switch(D.label){case 0:return typeof I=="function"?[2,I(A)]:(I==="content-type"&&(I=u(A.headers)?"json":"text"),I!=="json"?[3,2]:[4,A.text()]);case 1:return P=D.sent(),[2,P.length?JSON.parse(P):null];case 2:return[2,A.text()]}})})}}var S6=function(){function t(e,n){n===void 0&&(n=void 0),this.value=e,this.meta=n}return t}(),__=Uo("__rtkq/focused"),GS=Uo("__rtkq/unfocused"),E_=Uo("__rtkq/online"),YS=Uo("__rtkq/offline"),oN=!1;function Sye(t,e){function n(){var r=function(){return t(__())},i=function(){return t(GS())},s=function(){return t(E_())},o=function(){return t(YS())},a=function(){window.document.visibilityState==="visible"?r():i()};oN||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),oN=!0);var c=function(){window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",a),window.removeEventListener("online",s),window.removeEventListener("offline",o),oN=!1};return c}return e?e(t,{onFocus:__,onFocusLost:GS,onOffline:YS,onOnline:E_}):n()}var $l;(function(t){t.query="query",t.mutation="mutation"})($l||($l={}));function LQ(t){return t.type===$l.query}function Iye(t){return t.type===$l.mutation}function g$(t,e,n,r,i,s){return xye(t)?t(e,n,r,i).map(k2).map(s):Array.isArray(t)?t.map(k2).map(s):[]}function xye(t){return typeof t=="function"}function k2(t){return typeof t=="string"?{type:t}:t}function aN(t){return t!=null}var A_=Symbol("forceQueryFn"),M2=function(t){return typeof t[A_]=="function"};function Pye(t){var e=t.serializeQueryArgs,n=t.queryThunk,r=t.mutationThunk,i=t.api,s=t.context,o=new Map,a=new Map,c=i.internalActions,l=c.unsubscribeQueryResult,u=c.removeMutationResult,h=c.updateSubscriptionOptions;return{buildInitiateQuery:_,buildInitiateMutation:A,getRunningQueryThunk:g,getRunningMutationThunk:y,getRunningQueriesThunk:v,getRunningMutationsThunk:b,getRunningOperationPromises:p,removalWarning:f};function f(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function p(){typeof process<"u";var I=function(P){return Array.from(P.values()).flatMap(function(D){return D?Object.values(D):[]})};return WS(WS([],I(o)),I(a)).filter(aN)}function g(I,P){return function(D){var T,S=s.endpointDefinitions[I],x=e({queryArgs:P,endpointDefinition:S,endpointName:I});return(T=o.get(D))==null?void 0:T[x]}}function y(I,P){return function(D){var T;return(T=a.get(D))==null?void 0:T[P]}}function v(){return function(I){return Object.values(o.get(I)||{}).filter(aN)}}function b(){return function(I){return Object.values(a.get(I)||{}).filter(aN)}}function _(I,P){var D=function(T,S){var x=S===void 0?{}:S,N=x.subscribe,R=N===void 0?!0:N,$=x.forceRefetch,j=x.subscriptionOptions,K=A_,B=x[K];return function(z,Y){var V,Q,G=e({queryArgs:T,endpointDefinition:P,endpointName:I}),ee=n((V={type:"query",subscribe:R,forceRefetch:$,subscriptionOptions:j,endpointName:I,originalArgs:T,queryCacheKey:G},V[A_]=B,V)),ne=i.endpoints[I].select(T),le=z(ee),ue=ne(Y()),re=le.requestId,oe=le.abort,ye=ue.requestId!==re,Te=(Q=o.get(z))==null?void 0:Q[G],Be=function(){return ne(Y())},et=Object.assign(B?le.then(Be):ye&&!Te?Promise.resolve(ue):Promise.all([Te,le]).then(Be),{arg:T,requestId:re,subscriptionOptions:j,queryCacheKey:G,abort:oe,unwrap:function(){return KS(this,null,function(){var Fe;return HS(this,function(pt){switch(pt.label){case 0:return[4,et];case 1:if(Fe=pt.sent(),Fe.isError)throw Fe.error;return[2,Fe.data]}})})},refetch:function(){return z(D(T,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){R&&z(l({queryCacheKey:G,requestId:re}))},updateSubscriptionOptions:function(Fe){et.subscriptionOptions=Fe,z(h({endpointName:I,requestId:re,queryCacheKey:G,options:Fe}))}});if(!Te&&!ye&&!B){var tt=o.get(z)||{};tt[G]=et,o.set(z,tt),et.then(function(){delete tt[G],Object.keys(tt).length||o.delete(z)})}return et}};return D}function A(I){return function(P,D){var T=D===void 0?{}:D,S=T.track,x=S===void 0?!0:S,N=T.fixedCacheKey;return function(R,$){var j=r({type:"mutation",endpointName:I,originalArgs:P,track:x,fixedCacheKey:N}),K=R(j),B=K.requestId,z=K.abort,Y=K.unwrap,V=K.unwrap().then(function(ne){return{data:ne}}).catch(function(ne){return{error:ne}}),Q=function(){R(u({requestId:B,fixedCacheKey:N}))},G=Object.assign(V,{arg:K.arg,requestId:B,abort:z,unwrap:Y,unsubscribe:Q,reset:Q}),ee=a.get(R)||{};return a.set(R,ee),ee[B]=G,G.then(function(){delete ee[B],Object.keys(ee).length||a.delete(R)}),N&&(ee[N]=G,G.then(function(){ee[N]===G&&(delete ee[N],Object.keys(ee).length||a.delete(R))})),G}}}}function I6(t){return t}function Oye(t){var e=this,n=t.reducerPath,r=t.baseQuery,i=t.context.endpointDefinitions,s=t.serializeQueryArgs,o=t.api,a=t.assertTagType,c=function(I,P,D,T){return function(S,x){var N=i[I],R=s({queryArgs:P,endpointDefinition:N,endpointName:I});if(S(o.internalActions.queryResultPatched({queryCacheKey:R,patches:D})),!!T){var $=o.endpoints[I].select(P)(x()),j=g$(N.providesTags,$.data,void 0,P,{},a);S(o.internalActions.updateProvidedBy({queryCacheKey:R,providedTags:j}))}}},l=function(I,P,D,T){return T===void 0&&(T=!0),function(S,x){var N,R,$=o.endpoints[I],j=$.select(P)(x()),K={patches:[],inversePatches:[],undo:function(){return S(o.util.patchQueryData(I,P,K.inversePatches,T))}};if(j.status===Lr.uninitialized)return K;var B;if("data"in j)if(jc(j.data)){var z=CQ(j.data,D),Y=z[0],V=z[1],Q=z[2];(N=K.patches).push.apply(N,V),(R=K.inversePatches).push.apply(R,Q),B=Y}else B=D(j.data),K.patches.push({op:"replace",path:[],value:B}),K.inversePatches.push({op:"replace",path:[],value:j.data});return S(o.util.patchQueryData(I,P,K.patches,T)),K}},u=function(I,P,D){return function(T){var S;return T(o.endpoints[I].initiate(P,(S={subscribe:!1,forceRefetch:!0},S[A_]=function(){return{data:D}},S)))}},h=function(I,P){return KS(e,[I,P],function(D,T){var S,x,N,R,$,j,K,B,z,Y,V,Q,G,ee,ne,le,ue,re,oe=T.signal,ye=T.abort,Te=T.rejectWithValue,Be=T.fulfillWithValue,et=T.dispatch,tt=T.getState,Fe=T.extra;return HS(this,function(pt){switch(pt.label){case 0:S=i[D.endpointName],pt.label=1;case 1:return pt.trys.push([1,8,,13]),x=I6,N=void 0,R={signal:oe,abort:ye,dispatch:et,getState:tt,extra:Fe,endpoint:D.endpointName,type:D.type,forced:D.type==="query"?f(D,tt()):void 0},$=D.type==="query"?D[A_]:void 0,$?(N=$(),[3,6]):[3,2];case 2:return S.query?[4,r(S.query(D.originalArgs),R,S.extraOptions)]:[3,4];case 3:return N=pt.sent(),S.transformResponse&&(x=S.transformResponse),[3,6];case 4:return[4,S.queryFn(D.originalArgs,R,S.extraOptions,function(mt){return r(mt,R,S.extraOptions)})];case 5:N=pt.sent(),pt.label=6;case 6:if(typeof process<"u",N.error)throw new S6(N.error,N.meta);return V=Be,[4,x(N.data,N.meta,D.originalArgs)];case 7:return[2,V.apply(void 0,[pt.sent(),(ue={fulfilledTimeStamp:Date.now(),baseQueryMeta:N.meta},ue[J0]=!0,ue)])];case 8:if(Q=pt.sent(),G=Q,!(G instanceof S6))return[3,12];ee=I6,S.query&&S.transformErrorResponse&&(ee=S.transformErrorResponse),pt.label=9;case 9:return pt.trys.push([9,11,,12]),ne=Te,[4,ee(G.value,G.meta,D.originalArgs)];case 10:return[2,ne.apply(void 0,[pt.sent(),(re={baseQueryMeta:G.meta},re[J0]=!0,re)])];case 11:return le=pt.sent(),G=le,[3,12];case 12:throw typeof process<"u",console.error(G),G;case 13:return[2]}})})};function f(I,P){var D,T,S,x,N=(T=(D=P[n])==null?void 0:D.queries)==null?void 0:T[I.queryCacheKey],R=(S=P[n])==null?void 0:S.config.refetchOnMountOrArgChange,$=N==null?void 0:N.fulfilledTimeStamp,j=(x=I.forceRefetch)!=null?x:I.subscribe&&R;return j?j===!0||(Number(new Date)-Number($))/1e3>=j:!1}var p=p6(n+"/executeQuery",h,{getPendingMeta:function(){var I;return I={startedTimeStamp:Date.now()},I[J0]=!0,I},condition:function(I,P){var D=P.getState,T,S,x,N=D(),R=(S=(T=N[n])==null?void 0:T.queries)==null?void 0:S[I.queryCacheKey],$=R==null?void 0:R.fulfilledTimeStamp,j=I.originalArgs,K=R==null?void 0:R.originalArgs,B=i[I.endpointName];return M2(I)?!0:(R==null?void 0:R.status)==="pending"?!1:f(I,N)||LQ(B)&&((x=B==null?void 0:B.forceRefetch)!=null&&x.call(B,{currentArg:j,previousArg:K,endpointState:R,state:N}))?!0:!$},dispatchConditionRejection:!0}),g=p6(n+"/executeMutation",h,{getPendingMeta:function(){var I;return I={startedTimeStamp:Date.now()},I[J0]=!0,I}}),y=function(I){return"force"in I},v=function(I){return"ifOlderThan"in I},b=function(I,P,D){return function(T,S){var x=y(D)&&D.force,N=v(D)&&D.ifOlderThan,R=function(B){return B===void 0&&(B=!0),o.endpoints[I].initiate(P,{forceRefetch:B})},$=o.endpoints[I].select(P)(S());if(x)T(R());else if(N){var j=$==null?void 0:$.fulfilledTimeStamp;if(!j){T(R());return}var K=(Number(new Date)-Number(new Date(j)))/1e3>=N;K&&T(R())}else T(R(!1))}};function _(I){return function(P){var D,T;return((T=(D=P==null?void 0:P.meta)==null?void 0:D.arg)==null?void 0:T.endpointName)===I}}function A(I,P){return{matchPending:Ib(o$(I),_(P)),matchFulfilled:Ib(Nm(I),_(P)),matchRejected:Ib(b_(I),_(P))}}return{queryThunk:p,mutationThunk:g,prefetch:b,updateQueryData:l,upsertQueryData:u,patchQueryData:c,buildMatchThunkActions:A}}function FQ(t,e,n,r){return g$(n[t.meta.arg.endpointName][e],Nm(t)?t.payload:void 0,SP(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function GA(t,e,n){var r=t[e];r&&n(r)}function C_(t){var e;return(e="arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)!=null?e:t.requestId}function x6(t,e,n){var r=t[C_(e)];r&&n(r)}var m0={};function Dye(t){var e=t.reducerPath,n=t.queryThunk,r=t.mutationThunk,i=t.context,s=i.endpointDefinitions,o=i.apiUid,a=i.extractRehydrationInfo,c=i.hasRehydrationInfo,l=t.assertTagType,u=t.config,h=Uo(e+"/resetApiState"),f=Jd({name:e+"/queries",initialState:m0,reducers:{removeQueryResult:{reducer:function(P,D){var T=D.payload.queryCacheKey;delete P[T]},prepare:p0()},queryResultPatched:{reducer:function(P,D){var T=D.payload,S=T.queryCacheKey,x=T.patches;GA(P,S,function(N){N.data=a6(N.data,x.concat())})},prepare:p0()}},extraReducers:function(P){P.addCase(n.pending,function(D,T){var S=T.meta,x=T.meta.arg,N,R,$=M2(x);(x.subscribe||$)&&((R=D[N=x.queryCacheKey])!=null||(D[N]={status:Lr.uninitialized,endpointName:x.endpointName})),GA(D,x.queryCacheKey,function(j){j.status=Lr.pending,j.requestId=$&&j.requestId?j.requestId:S.requestId,x.originalArgs!==void 0&&(j.originalArgs=x.originalArgs),j.startedTimeStamp=S.startedTimeStamp})}).addCase(n.fulfilled,function(D,T){var S=T.meta,x=T.payload;GA(D,S.arg.queryCacheKey,function(N){var R;if(!(N.requestId!==S.requestId&&!M2(S.arg))){var $=s[S.arg.endpointName].merge;if(N.status=Lr.fulfilled,$)if(N.data!==void 0){var j=S.fulfilledTimeStamp,K=S.arg,B=S.baseQueryMeta,z=S.requestId,Y=o1(N.data,function(V){return $(V,x,{arg:K.originalArgs,baseQueryMeta:B,fulfilledTimeStamp:j,requestId:z})});N.data=Y}else N.data=x;else N.data=(R=s[S.arg.endpointName].structuralSharing)==null||R?MQ($c(N.data)?qme(N.data):N.data,x):x;delete N.error,N.fulfilledTimeStamp=S.fulfilledTimeStamp}})}).addCase(n.rejected,function(D,T){var S=T.meta,x=S.condition,N=S.arg,R=S.requestId,$=T.error,j=T.payload;GA(D,N.queryCacheKey,function(K){if(!x){if(K.requestId!==R)return;K.status=Lr.rejected,K.error=j??$}})}).addMatcher(c,function(D,T){for(var S=a(T).queries,x=0,N=Object.entries(S);x<N.length;x++){var R=N[x],$=R[0],j=R[1];((j==null?void 0:j.status)===Lr.fulfilled||(j==null?void 0:j.status)===Lr.rejected)&&(D[$]=j)}})}}),p=Jd({name:e+"/mutations",initialState:m0,reducers:{removeMutationResult:{reducer:function(P,D){var T=D.payload,S=C_(T);S in P&&delete P[S]},prepare:p0()}},extraReducers:function(P){P.addCase(r.pending,function(D,T){var S=T.meta,x=T.meta,N=x.requestId,R=x.arg,$=x.startedTimeStamp;R.track&&(D[C_(S)]={requestId:N,status:Lr.pending,endpointName:R.endpointName,startedTimeStamp:$})}).addCase(r.fulfilled,function(D,T){var S=T.payload,x=T.meta;x.arg.track&&x6(D,x,function(N){N.requestId===x.requestId&&(N.status=Lr.fulfilled,N.data=S,N.fulfilledTimeStamp=x.fulfilledTimeStamp)})}).addCase(r.rejected,function(D,T){var S=T.payload,x=T.error,N=T.meta;N.arg.track&&x6(D,N,function(R){R.requestId===N.requestId&&(R.status=Lr.rejected,R.error=S??x)})}).addMatcher(c,function(D,T){for(var S=a(T).mutations,x=0,N=Object.entries(S);x<N.length;x++){var R=N[x],$=R[0],j=R[1];((j==null?void 0:j.status)===Lr.fulfilled||(j==null?void 0:j.status)===Lr.rejected)&&$!==(j==null?void 0:j.requestId)&&(D[$]=j)}})}}),g=Jd({name:e+"/invalidation",initialState:m0,reducers:{updateProvidedBy:{reducer:function(P,D){for(var T,S,x,N,R=D.payload,$=R.queryCacheKey,j=R.providedTags,K=0,B=Object.values(P);K<B.length;K++)for(var z=B[K],Y=0,V=Object.values(z);Y<V.length;Y++){var Q=V[Y],G=Q.indexOf($);G!==-1&&Q.splice(G,1)}for(var ee=0,ne=j;ee<ne.length;ee++){var le=ne[ee],ue=le.type,re=le.id,oe=(N=(S=(T=P[ue])!=null?T:P[ue]={})[x=re||"__internal_without_id"])!=null?N:S[x]=[],ye=oe.includes($);ye||oe.push($)}},prepare:p0()}},extraReducers:function(P){P.addCase(f.actions.removeQueryResult,function(D,T){for(var S=T.payload.queryCacheKey,x=0,N=Object.values(D);x<N.length;x++)for(var R=N[x],$=0,j=Object.values(R);$<j.length;$++){var K=j[$],B=K.indexOf(S);B!==-1&&K.splice(B,1)}}).addMatcher(c,function(D,T){for(var S,x,N,R,$=a(T).provided,j=0,K=Object.entries($);j<K.length;j++)for(var B=K[j],z=B[0],Y=B[1],V=0,Q=Object.entries(Y);V<Q.length;V++)for(var G=Q[V],ee=G[0],ne=G[1],le=(R=(x=(S=D[z])!=null?S:D[z]={})[N=ee||"__internal_without_id"])!=null?R:x[N]=[],ue=0,re=ne;ue<re.length;ue++){var oe=re[ue],ye=le.includes(oe);ye||le.push(oe)}}).addMatcher(iw(Nm(n),SP(n)),function(D,T){var S=FQ(T,"providesTags",s,l),x=T.meta.arg.queryCacheKey;g.caseReducers.updateProvidedBy(D,g.actions.updateProvidedBy({queryCacheKey:x,providedTags:S}))})}}),y=Jd({name:e+"/subscriptions",initialState:m0,reducers:{updateSubscriptionOptions:function(P,D){},unsubscribeQueryResult:function(P,D){},internal_probeSubscription:function(P,D){}}}),v=Jd({name:e+"/internalSubscriptions",initialState:m0,reducers:{subscriptionsUpdated:{reducer:function(P,D){return a6(P,D.payload)},prepare:p0()}}}),b=Jd({name:e+"/config",initialState:ni({online:_ye(),focused:Eye(),middlewareRegistered:!1},u),reducers:{middlewareRegistered:function(P,D){var T=D.payload;P.middlewareRegistered=P.middlewareRegistered==="conflict"||o!==T?"conflict":!0}},extraReducers:function(P){P.addCase(E_,function(D){D.online=!0}).addCase(YS,function(D){D.online=!1}).addCase(__,function(D){D.focused=!0}).addCase(GS,function(D){D.focused=!1}).addMatcher(c,function(D){return ni({},D)})}}),_=s$({queries:f.reducer,mutations:p.reducer,provided:g.reducer,subscriptions:v.reducer,config:b.reducer}),A=function(P,D){return _(h.match(D)?void 0:P,D)},I=Al(ni(ni(ni(ni(ni(ni({},b.actions),f.actions),y.actions),v.actions),p.actions),g.actions),{unsubscribeMutationResult:p.actions.removeMutationResult,resetApiState:h});return{reducer:A,actions:I}}var dp=Symbol.for("RTKQ/skipToken"),$Q={status:Lr.uninitialized},P6=o1($Q,function(){}),O6=o1($Q,function(){});function Nye(t){var e=t.serializeQueryArgs,n=t.reducerPath,r=function(u){return P6},i=function(u){return O6};return{buildQuerySelector:a,buildMutationSelector:c,selectInvalidatedBy:l};function s(u){return ni(ni({},u),gye(u.status))}function o(u){var h=u[n];return h}function a(u,h){return function(f){var p=e({queryArgs:f,endpointDefinition:h,endpointName:u}),g=function(v){var b,_,A;return(A=(_=(b=o(v))==null?void 0:b.queries)==null?void 0:_[p])!=null?A:P6},y=f===dp?r:g;return Sb(y,s)}}function c(){return function(u){var h,f;typeof u=="object"?f=(h=C_(u))!=null?h:dp:f=u;var p=function(y){var v,b,_;return(_=(b=(v=o(y))==null?void 0:v.mutations)==null?void 0:b[f])!=null?_:O6},g=f===dp?i:p;return Sb(g,s)}}function l(u,h){for(var f,p=u[n],g=new Set,y=0,v=h.map(k2);y<v.length;y++){var b=v[y],_=p.provided[b.type];if(_)for(var A=(f=b.id!==void 0?_[b.id]:E6(Object.values(_)))!=null?f:[],I=0,P=A;I<P.length;I++){var D=P[I];g.add(D)}}return E6(Array.from(g.values()).map(function(T){var S=p.queries[T];return S?[{queryCacheKey:T,endpointName:S.endpointName,originalArgs:S.originalArgs}]:[]}))}}var YA=WeakMap?new WeakMap:void 0,D6=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=YA==null?void 0:YA.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return of(a)?Object.keys(a).sort().reduce(function(c,l){return c[l]=a[l],c},{}):a});of(n)&&(YA==null||YA.set(n,s)),r=s}return e+"("+r+")"};function Rye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var i=O2(function(u){var h,f;return(f=r.extractRehydrationInfo)==null?void 0:f.call(r,u,{reducerPath:(h=r.reducerPath)!=null?h:"api"})}),s=Al(ni({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},r),{extractRehydrationInfo:i,serializeQueryArgs:function(u){var h=D6;if("serializeQueryArgs"in u.endpointDefinition){var f=u.endpointDefinition.serializeQueryArgs;h=function(p){var g=f(p);return typeof g=="string"?g:D6(Al(ni({},p),{queryArgs:g}))}}else r.serializeQueryArgs&&(h=r.serializeQueryArgs);return h(u)},tagTypes:WS([],r.tagTypes||[])}),o={endpointDefinitions:{},batch:function(u){u()},apiUid:PQ(),extractRehydrationInfo:i,hasRehydrationInfo:O2(function(u){return i(u)!=null})},a={injectEndpoints:l,enhanceEndpoints:function(u){var h=u.addTagTypes,f=u.endpoints;if(h)for(var p=0,g=h;p<g.length;p++){var y=g[p];s.tagTypes.includes(y)||s.tagTypes.push(y)}if(f)for(var v=0,b=Object.entries(f);v<b.length;v++){var _=b[v],A=_[0],I=_[1];typeof I=="function"?I(o.endpointDefinitions[A]):Object.assign(o.endpointDefinitions[A]||{},I)}return a}},c=t.map(function(u){return u.init(a,s,o)});function l(u){for(var h=u.endpoints({query:function(I){return Al(ni({},I),{type:$l.query})},mutation:function(I){return Al(ni({},I),{type:$l.mutation})}}),f=0,p=Object.entries(h);f<p.length;f++){var g=p[f],y=g[0],v=g[1];if(!u.overrideExisting&&y in o.endpointDefinitions){typeof process<"u";continue}o.endpointDefinitions[y]=v;for(var b=0,_=c;b<_.length;b++){var A=_[b];A.injectEndpoint(y,v)}}return a}return a.injectEndpoints({endpoints:r.endpoints})}}function kye(t){for(var e in t)return!1;return!0}var Mye=2147483647/1e3-1,Lye=function(t){var e=t.reducerPath,n=t.api,r=t.context,i=t.internalState,s=n.internalActions,o=s.removeQueryResult,a=s.unsubscribeQueryResult;function c(f){var p=i.currentSubscriptions[f];return!!p&&!kye(p)}var l={},u=function(f,p,g){var y;if(a.match(f)){var v=p.getState()[e],b=f.payload.queryCacheKey;h(b,(y=v.queries[b])==null?void 0:y.endpointName,p,v.config)}if(n.util.resetApiState.match(f))for(var _=0,A=Object.entries(l);_<A.length;_++){var I=A[_],P=I[0],D=I[1];D&&clearTimeout(D),delete l[P]}if(r.hasRehydrationInfo(f))for(var v=p.getState()[e],T=r.extractRehydrationInfo(f).queries,S=0,x=Object.entries(T);S<x.length;S++){var N=x[S],b=N[0],R=N[1];h(b,R==null?void 0:R.endpointName,p,v.config)}};function h(f,p,g,y){var v,b=r.endpointDefinitions[p],_=(v=b==null?void 0:b.keepUnusedDataFor)!=null?v:y.keepUnusedDataFor;if(_!==1/0){var A=Math.max(0,Math.min(_,Mye));if(!c(f)){var I=l[f];I&&clearTimeout(I),l[f]=setTimeout(function(){c(f)||g.dispatch(o({queryCacheKey:f})),delete l[f]},A*1e3)}}}return u},Fye=function(t){var e=t.reducerPath,n=t.context,r=t.context.endpointDefinitions,i=t.mutationThunk,s=t.api,o=t.assertTagType,a=t.refetchQuery,c=s.internalActions.removeQueryResult,l=iw(Nm(i),SP(i)),u=function(f,p){l(f)&&h(FQ(f,"invalidatesTags",r,o),p),s.util.invalidateTags.match(f)&&h(g$(f.payload,void 0,void 0,void 0,void 0,o),p)};function h(f,p){var g=p.getState(),y=g[e],v=s.util.selectInvalidatedBy(g,f);n.batch(function(){for(var b,_=Array.from(v.values()),A=0,I=_;A<I.length;A++){var P=I[A].queryCacheKey,D=y.queries[P],T=(b=y.subscriptions[P])!=null?b:{};D&&(Object.keys(T).length===0?p.dispatch(c({queryCacheKey:P})):D.status!==Lr.uninitialized&&p.dispatch(a(D,P)))}})}return u},$ye=function(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.refetchQuery,s=t.internalState,o={},a=function(p,g){(r.internalActions.updateSubscriptionOptions.match(p)||r.internalActions.unsubscribeQueryResult.match(p))&&l(p.payload,g),(n.pending.match(p)||n.rejected.match(p)&&p.meta.condition)&&l(p.meta.arg,g),(n.fulfilled.match(p)||n.rejected.match(p)&&!p.meta.condition)&&c(p.meta.arg,g),r.util.resetApiState.match(p)&&h()};function c(p,g){var y=p.queryCacheKey,v=g.getState()[e],b=v.queries[y],_=s.currentSubscriptions[y];if(!(!b||b.status===Lr.uninitialized)){var A=f(_);if(Number.isFinite(A)){var I=o[y];I!=null&&I.timeout&&(clearTimeout(I.timeout),I.timeout=void 0);var P=Date.now()+A,D=o[y]={nextPollTimestamp:P,pollingInterval:A,timeout:setTimeout(function(){D.timeout=void 0,g.dispatch(i(b,y))},A)}}}}function l(p,g){var y=p.queryCacheKey,v=g.getState()[e],b=v.queries[y],_=s.currentSubscriptions[y];if(!(!b||b.status===Lr.uninitialized)){var A=f(_);if(!Number.isFinite(A)){u(y);return}var I=o[y],P=Date.now()+A;(!I||P<I.nextPollTimestamp)&&c({queryCacheKey:y},g)}}function u(p){var g=o[p];g!=null&&g.timeout&&clearTimeout(g.timeout),delete o[p]}function h(){for(var p=0,g=Object.keys(o);p<g.length;p++){var y=g[p];u(y)}}function f(p){p===void 0&&(p={});var g=Number.POSITIVE_INFINITY;for(var y in p)p[y].pollingInterval&&(g=Math.min(p[y].pollingInterval,g));return g}return a},jye=function(t){var e=t.reducerPath,n=t.context,r=t.api,i=t.refetchQuery,s=t.internalState,o=r.internalActions.removeQueryResult,a=function(l,u){__.match(l)&&c(u,"refetchOnFocus"),E_.match(l)&&c(u,"refetchOnReconnect")};function c(l,u){var h=l.getState()[e],f=h.queries,p=s.currentSubscriptions;n.batch(function(){for(var g=0,y=Object.keys(p);g<y.length;g++){var v=y[g],b=f[v],_=p[v];if(!(!_||!b)){var A=Object.values(_).some(function(I){return I[u]===!0})||Object.values(_).every(function(I){return I[u]===void 0})&&h.config[u];A&&(Object.keys(_).length===0?l.dispatch(o({queryCacheKey:v})):b.status!==Lr.uninitialized&&l.dispatch(i(b,v)))}}})}return a},N6=new Error("Promise never resolved before cacheEntryRemoved."),Uye=function(t){var e=t.api,n=t.reducerPath,r=t.context,i=t.queryThunk,s=t.mutationThunk;t.internalState;var o=N2(i),a=N2(s),c=Nm(i,s),l={},u=function(p,g,y){var v=h(p);if(i.pending.match(p)){var b=y[n].queries[v],_=g.getState()[n].queries[v];!b&&_&&f(p.meta.arg.endpointName,p.meta.arg.originalArgs,v,g,p.meta.requestId)}else if(s.pending.match(p)){var _=g.getState()[n].mutations[v];_&&f(p.meta.arg.endpointName,p.meta.arg.originalArgs,v,g,p.meta.requestId)}else if(c(p)){var A=l[v];A!=null&&A.valueResolved&&(A.valueResolved({data:p.payload,meta:p.meta.baseQueryMeta}),delete A.valueResolved)}else if(e.internalActions.removeQueryResult.match(p)||e.internalActions.removeMutationResult.match(p)){var A=l[v];A&&(delete l[v],A.cacheEntryRemoved())}else if(e.util.resetApiState.match(p))for(var I=0,P=Object.entries(l);I<P.length;I++){var D=P[I],T=D[0],A=D[1];delete l[T],A.cacheEntryRemoved()}};function h(p){return o(p)?p.meta.arg.queryCacheKey:a(p)?p.meta.requestId:e.internalActions.removeQueryResult.match(p)?p.payload.queryCacheKey:e.internalActions.removeMutationResult.match(p)?C_(p.payload):""}function f(p,g,y,v,b){var _=r.endpointDefinitions[p],A=_==null?void 0:_.onCacheEntryAdded;if(A){var I={},P=new Promise(function(R){I.cacheEntryRemoved=R}),D=Promise.race([new Promise(function(R){I.valueResolved=R}),P.then(function(){throw N6})]);D.catch(function(){}),l[y]=I;var T=e.endpoints[p].select(_.type===$l.query?g:y),S=v.dispatch(function(R,$,j){return j}),x=Al(ni({},v),{getCacheEntry:function(){return T(v.getState())},requestId:b,extra:S,updateCachedData:_.type===$l.query?function(R){return v.dispatch(e.util.updateQueryData(p,g,R))}:void 0,cacheDataLoaded:D,cacheEntryRemoved:P}),N=A(g,x);Promise.resolve(N).catch(function(R){if(R!==N6)throw R})}}return u},Bye=function(t){var e=t.api,n=t.context,r=t.queryThunk,i=t.mutationThunk,s=o$(r,i),o=b_(r,i),a=Nm(r,i),c={},l=function(u,h){var f,p,g;if(s(u)){var y=u.meta,v=y.requestId,b=y.arg,_=b.endpointName,A=b.originalArgs,I=n.endpointDefinitions[_],P=I==null?void 0:I.onQueryStarted;if(P){var D={},T=new Promise(function(B,z){D.resolve=B,D.reject=z});T.catch(function(){}),c[v]=D;var S=e.endpoints[_].select(I.type===$l.query?A:v),x=h.dispatch(function(B,z,Y){return Y}),N=Al(ni({},h),{getCacheEntry:function(){return S(h.getState())},requestId:v,extra:x,updateCachedData:I.type===$l.query?function(B){return h.dispatch(e.util.updateQueryData(_,A,B))}:void 0,queryFulfilled:T});P(A,N)}}else if(a(u)){var R=u.meta,v=R.requestId,$=R.baseQueryMeta;(f=c[v])==null||f.resolve({data:u.payload,meta:$}),delete c[v]}else if(o(u)){var j=u.meta,v=j.requestId,K=j.rejectedWithValue,$=j.baseQueryMeta;(g=c[v])==null||g.reject({error:(p=u.payload)!=null?p:u.error,isUnhandledError:!K,meta:$}),delete c[v]}};return l},zye=function(t){var e=t.api,n=t.context.apiUid,r=t.reducerPath;return function(i,s){var o,a;e.util.resetApiState.match(i)&&s.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"}},R6,Vye=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(t){return(R6||(R6=Promise.resolve())).then(t).catch(function(e){return setTimeout(function(){throw e},0)})},Hye=function(t){var e=t.api,n=t.queryThunk,r=t.internalState,i=e.reducerPath+"/subscriptions",s=null,o=!1,a=e.internalActions,c=a.updateSubscriptionOptions,l=a.unsubscribeQueryResult,u=function(h,f){var p,g,y,v,b,_,A,I,P;if(c.match(f)){var D=f.payload,T=D.queryCacheKey,S=D.requestId,x=D.options;return(p=h==null?void 0:h[T])!=null&&p[S]&&(h[T][S]=x),!0}if(l.match(f)){var N=f.payload,T=N.queryCacheKey,S=N.requestId;return h[T]&&delete h[T][S],!0}if(e.internalActions.removeQueryResult.match(f))return delete h[f.payload.queryCacheKey],!0;if(n.pending.match(f)){var R=f.meta,$=R.arg,S=R.requestId;if($.subscribe){var j=(y=h[g=$.queryCacheKey])!=null?y:h[g]={};return j[S]=(b=(v=$.subscriptionOptions)!=null?v:j[S])!=null?b:{},!0}}if(n.rejected.match(f)){var K=f.meta,B=K.condition,$=K.arg,S=K.requestId;if(B&&$.subscribe){var j=(A=h[_=$.queryCacheKey])!=null?A:h[_]={};return j[S]=(P=(I=$.subscriptionOptions)!=null?I:j[S])!=null?P:{},!0}}return!1};return function(h,f){var p,g;if(s||(s=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(h))return s=r.currentSubscriptions={},[!0,!1];if(e.internalActions.internal_probeSubscription.match(h)){var y=h.payload,v=y.queryCacheKey,b=y.requestId,_=!!((p=r.currentSubscriptions[v])!=null&&p[b]);return[!1,_]}var A=u(r.currentSubscriptions,h);if(A){o||(Vye(function(){var T=JSON.parse(JSON.stringify(r.currentSubscriptions)),S=CQ(s,function(){return T}),x=S[1];f.next(e.internalActions.subscriptionsUpdated(x)),s=T,o=!1}),o=!0);var I=!!((g=h.type)!=null&&g.startsWith(i)),P=n.rejected.match(h)&&h.meta.condition&&!!h.meta.arg.subscribe,D=!I&&!P;return[D,!1]}return[!0,!1]}};function Wye(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.context,s=i.apiUid,o={invalidateTags:Uo(e+"/invalidateTags")},a=function(h){return!!h&&typeof h.type=="string"&&h.type.startsWith(e+"/")},c=[zye,Lye,Fye,$ye,Uye,Bye],l=function(h){var f=!1,p={currentSubscriptions:{}},g=Al(ni({},t),{internalState:p,refetchQuery:u}),y=c.map(function(_){return _(g)}),v=Hye(g),b=jye(g);return function(_){return function(A){f||(f=!0,h.dispatch(r.internalActions.middlewareRegistered(s)));var I=Al(ni({},h),{next:_}),P=h.getState(),D=v(A,I,P),T=D[0],S=D[1],x;if(T?x=_(A):x=S,h.getState()[e]&&(b(A,I,P),a(A)||i.hasRehydrationInfo(A)))for(var N=0,R=y;N<R.length;N++){var $=R[N];$(A,I,P)}return x}}};return{middleware:l,actions:o};function u(h,f,p){return p===void 0&&(p={}),n(ni({type:"query",endpointName:h.endpointName,originalArgs:h.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:f},p))}}function Ld(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,WS([t],e))}var k6=Symbol(),qye=function(){return{name:k6,init:function(t,e,n){var r=e.baseQuery,i=e.tagTypes,s=e.reducerPath,o=e.serializeQueryArgs,a=e.keepUnusedDataFor,c=e.refetchOnMountOrArgChange,l=e.refetchOnFocus,u=e.refetchOnReconnect;Zme();var h=function(le){return typeof process<"u",le};Object.assign(t,{reducerPath:s,endpoints:{},internalActions:{onOnline:E_,onOffline:YS,onFocus:__,onFocusLost:GS},util:{}});var f=Oye({baseQuery:r,reducerPath:s,context:n,api:t,serializeQueryArgs:o,assertTagType:h}),p=f.queryThunk,g=f.mutationThunk,y=f.patchQueryData,v=f.updateQueryData,b=f.upsertQueryData,_=f.prefetch,A=f.buildMatchThunkActions,I=Dye({context:n,queryThunk:p,mutationThunk:g,reducerPath:s,assertTagType:h,config:{refetchOnFocus:l,refetchOnReconnect:u,refetchOnMountOrArgChange:c,keepUnusedDataFor:a,reducerPath:s}}),P=I.reducer,D=I.actions;Ld(t.util,{patchQueryData:y,updateQueryData:v,upsertQueryData:b,prefetch:_,resetApiState:D.resetApiState}),Ld(t.internalActions,D);var T=Wye({reducerPath:s,context:n,queryThunk:p,mutationThunk:g,api:t,assertTagType:h}),S=T.middleware,x=T.actions;Ld(t.util,x),Ld(t,{reducer:P,middleware:S});var N=Nye({serializeQueryArgs:o,reducerPath:s}),R=N.buildQuerySelector,$=N.buildMutationSelector,j=N.selectInvalidatedBy;Ld(t.util,{selectInvalidatedBy:j});var K=Pye({queryThunk:p,mutationThunk:g,api:t,serializeQueryArgs:o,context:n}),B=K.buildInitiateQuery,z=K.buildInitiateMutation,Y=K.getRunningMutationThunk,V=K.getRunningMutationsThunk,Q=K.getRunningQueriesThunk,G=K.getRunningQueryThunk,ee=K.getRunningOperationPromises,ne=K.removalWarning;return Ld(t.util,{getRunningOperationPromises:ee,getRunningOperationPromise:ne,getRunningMutationThunk:Y,getRunningMutationsThunk:V,getRunningQueryThunk:G,getRunningQueriesThunk:Q}),{name:k6,injectEndpoint:function(le,ue){var re,oe,ye=t;(oe=(re=ye.endpoints)[le])!=null||(re[le]={}),LQ(ue)?Ld(ye.endpoints[le],{name:le,select:R(le,ue),initiate:B(le,ue)},A(p,le)):Iye(ue)&&Ld(ye.endpoints[le],{name:le,select:$(),initiate:z(le)},A(g,le))}}}}},Kye=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Gye=Object.defineProperty,Yye=Object.defineProperties,Qye=Object.getOwnPropertyDescriptors,M6=Object.getOwnPropertySymbols,Zye=Object.prototype.hasOwnProperty,Jye=Object.prototype.propertyIsEnumerable,L6=function(t,e,n){return e in t?Gye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},wu=function(t,e){for(var n in e||(e={}))Zye.call(e,n)&&L6(t,n,e[n]);if(M6)for(var r=0,i=M6(e);r<i.length;r++){var n=i[r];Jye.call(e,n)&&L6(t,n,e[n])}return t},vT=function(t,e){return Yye(t,Qye(e))};function F6(t,e,n,r){var i=M.useMemo(function(){return{queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}},[t,e,n,r]),s=M.useRef(i);return M.useEffect(function(){s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}var cN=Symbol();function lN(t){var e=M.useRef(t);return M.useEffect(function(){DS(e.current,t)||(e.current=t)},[t]),DS(e.current,t)?e.current:t}var QA=WeakMap?new WeakMap:void 0,Xye=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=QA==null?void 0:QA.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return of(a)?Object.keys(a).sort().reduce(function(c,l){return c[l]=a[l],c},{}):a});of(n)&&(QA==null||QA.set(n,s)),r=s}return e+"("+r+")"},eve=typeof window<"u"&&window.document&&window.document.createElement?M.useLayoutEffect:M.useEffect,tve=function(t){return t},nve=function(t){return t.isUninitialized?vT(wu({},t),{isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:Lr.pending}):t};function rve(t){var e=t.api,n=t.moduleOptions,r=n.batch,i=n.useDispatch,s=n.useSelector,o=n.useStore,a=n.unstable__sideEffectsInRender,c=t.serializeQueryArgs,l=t.context,u=a?function(y){return y()}:M.useEffect;return{buildQueryHooks:p,buildMutationHook:g,usePrefetch:f};function h(y,v,b){if(v!=null&&v.endpointName&&y.isUninitialized){var _=v.endpointName,A=l.endpointDefinitions[_];c({queryArgs:v.originalArgs,endpointDefinition:A,endpointName:_})===c({queryArgs:b,endpointDefinition:A,endpointName:_})&&(v=void 0)}var I=y.isSuccess?y.data:v==null?void 0:v.data;I===void 0&&(I=y.data);var P=I!==void 0,D=y.isLoading,T=!P&&D,S=y.isSuccess||D&&P;return vT(wu({},y),{data:I,currentData:y.data,isFetching:D,isLoading:T,isSuccess:S})}function f(y,v){var b=i(),_=lN(v);return M.useCallback(function(A,I){return b(e.util.prefetch(y,A,wu(wu({},_),I)))},[y,b,_])}function p(y){var v=function(A,I){var P=I===void 0?{}:I,D=P.refetchOnReconnect,T=P.refetchOnFocus,S=P.refetchOnMountOrArgChange,x=P.skip,N=x===void 0?!1:x,R=P.pollingInterval,$=R===void 0?0:R,j=e.endpoints[y].initiate,K=i(),B=F6(N?dp:A,Xye,l.endpointDefinitions[y],y),z=lN({refetchOnReconnect:D,refetchOnFocus:T,pollingInterval:$}),Y=M.useRef(!1),V=M.useRef(),Q=V.current||{},G=Q.queryCacheKey,ee=Q.requestId,ne=!1;if(G&&ee){var le=K(e.internalActions.internal_probeSubscription({queryCacheKey:G,requestId:ee}));ne=!!le}var ue=!ne&&Y.current;return u(function(){Y.current=ne}),u(function(){ue&&(V.current=void 0)},[ue]),u(function(){var re,oe=V.current;if(typeof process<"u",B===dp){oe==null||oe.unsubscribe(),V.current=void 0;return}var ye=(re=V.current)==null?void 0:re.subscriptionOptions;if(!oe||oe.arg!==B){oe==null||oe.unsubscribe();var Te=K(j(B,{subscriptionOptions:z,forceRefetch:S}));V.current=Te}else z!==ye&&oe.updateSubscriptionOptions(z)},[K,j,S,B,z,ue]),M.useEffect(function(){return function(){var re;(re=V.current)==null||re.unsubscribe(),V.current=void 0}},[]),M.useMemo(function(){return{refetch:function(){var re;if(!V.current)throw new Error("Cannot refetch a query that has not been started yet.");return(re=V.current)==null?void 0:re.refetch()}}},[])},b=function(A){var I=A===void 0?{}:A,P=I.refetchOnReconnect,D=I.refetchOnFocus,T=I.pollingInterval,S=T===void 0?0:T,x=e.endpoints[y].initiate,N=i(),R=M.useState(cN),$=R[0],j=R[1],K=M.useRef(),B=lN({refetchOnReconnect:P,refetchOnFocus:D,pollingInterval:S});u(function(){var V,Q,G=(V=K.current)==null?void 0:V.subscriptionOptions;B!==G&&((Q=K.current)==null||Q.updateSubscriptionOptions(B))},[B]);var z=M.useRef(B);u(function(){z.current=B},[B]);var Y=M.useCallback(function(V,Q){Q===void 0&&(Q=!1);var G;return r(function(){var ee;(ee=K.current)==null||ee.unsubscribe(),K.current=G=N(x(V,{subscriptionOptions:z.current,forceRefetch:!Q})),j(V)}),G},[N,x]);return M.useEffect(function(){return function(){var V;(V=K==null?void 0:K.current)==null||V.unsubscribe()}},[]),M.useEffect(function(){$!==cN&&!K.current&&Y($,!0)},[$,Y]),M.useMemo(function(){return[Y,$]},[Y,$])},_=function(A,I){var P=I===void 0?{}:I,D=P.skip,T=D===void 0?!1:D,S=P.selectFromResult,x=e.endpoints[y].select,N=F6(T?dp:A,c,l.endpointDefinitions[y],y),R=M.useRef(),$=M.useMemo(function(){return Sb([x(N),function(Y,V){return V},function(Y){return N}],h)},[x,N]),j=M.useMemo(function(){return S?Sb([$],S):$},[$,S]),K=s(function(Y){return j(Y,R.current)},DS),B=o(),z=$(B.getState(),R.current);return eve(function(){R.current=z},[z]),K};return{useQueryState:_,useQuerySubscription:v,useLazyQuerySubscription:b,useLazyQuery:function(A){var I=b(A),P=I[0],D=I[1],T=_(D,vT(wu({},A),{skip:D===cN})),S=M.useMemo(function(){return{lastArg:D}},[D]);return M.useMemo(function(){return[P,T,S]},[P,T,S])},useQuery:function(A,I){var P=v(A,I),D=_(A,wu({selectFromResult:A===dp||I!=null&&I.skip?void 0:nve},I)),T=D.data,S=D.status,x=D.isLoading,N=D.isSuccess,R=D.isError,$=D.error;return M.useDebugValue({data:T,status:S,isLoading:x,isSuccess:N,isError:R,error:$}),M.useMemo(function(){return wu(wu({},D),P)},[D,P])}}}function g(y){return function(v){var b=v===void 0?{}:v,_=b.selectFromResult,A=_===void 0?tve:_,I=b.fixedCacheKey,P=e.endpoints[y],D=P.select,T=P.initiate,S=i(),x=M.useState(),N=x[0],R=x[1];M.useEffect(function(){return function(){N!=null&&N.arg.fixedCacheKey||N==null||N.reset()}},[N]);var $=M.useCallback(function(oe){var ye=S(T(oe,{fixedCacheKey:I}));return R(ye),ye},[S,T,I]),j=(N||{}).requestId,K=M.useMemo(function(){return Sb([D({fixedCacheKey:I,requestId:N==null?void 0:N.requestId})],A)},[D,N,A,I]),B=s(K,DS),z=I==null?N==null?void 0:N.arg.originalArgs:void 0,Y=M.useCallback(function(){r(function(){N&&R(void 0),I&&S(e.internalActions.removeMutationResult({requestId:j,fixedCacheKey:I}))})},[S,I,N,j]),V=B.endpointName,Q=B.data,G=B.status,ee=B.isLoading,ne=B.isSuccess,le=B.isError,ue=B.error;M.useDebugValue({endpointName:V,data:Q,status:G,isLoading:ee,isSuccess:ne,isError:le,error:ue});var re=M.useMemo(function(){return vT(wu({},B),{originalArgs:z,reset:Y})},[B,z,Y]);return M.useMemo(function(){return[$,re]},[$,re])}}}var QS;(function(t){t.query="query",t.mutation="mutation"})(QS||(QS={}));function ive(t){return t.type===QS.query}function sve(t){return t.type===QS.mutation}function uN(t){return t.replace(t[0],t[0].toUpperCase())}function ZA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,Kye([t],e))}var ove=Symbol(),ave=function(t){var e=t===void 0?{}:t,n=e.batch,r=n===void 0?xf.unstable_batchedUpdates:n,i=e.useDispatch,s=i===void 0?pP:i,o=e.useSelector,a=o===void 0?MY:o,c=e.useStore,l=c===void 0?zY:c,u=e.unstable__sideEffectsInRender,h=u===void 0?!1:u;return{name:ove,init:function(f,p,g){var y=p.serializeQueryArgs,v=f,b=rve({api:f,moduleOptions:{batch:r,useDispatch:s,useSelector:a,useStore:l,unstable__sideEffectsInRender:h},serializeQueryArgs:y,context:g}),_=b.buildQueryHooks,A=b.buildMutationHook,I=b.usePrefetch;return ZA(v,{usePrefetch:I}),ZA(g,{batch:r}),{injectEndpoint:function(P,D){if(ive(D)){var T=_(P),S=T.useQuery,x=T.useLazyQuery,N=T.useLazyQuerySubscription,R=T.useQueryState,$=T.useQuerySubscription;ZA(v.endpoints[P],{useQuery:S,useLazyQuery:x,useLazyQuerySubscription:N,useQueryState:R,useQuerySubscription:$}),f["use"+uN(P)+"Query"]=S,f["useLazy"+uN(P)+"Query"]=x}else if(sve(D)){var j=A(P);ZA(v.endpoints[P],{useMutation:j}),f["use"+uN(P)+"Mutation"]=j}}}}}},cve=Rye(qye(),ave());const lve="https://booking-com15.p.rapidapi.com/api/v1/",uve=Tye({baseUrl:lve,prepareHeaders:async(t,{getState:e})=>{const{token:n}=e().common;return t.set("x-rapidapi-key","9b63b646d7mshfacb06236439feep1d0c09jsnd3e4d13c2cb4"),t.set("x-rapidapi-host","booking-com15.p.rapidapi.com"),n&&t.set("authorization",`${n}`),t}}),dve=async(t,e,n)=>{const r=await uve(t,e,n);return r.error&&r.error.status,r},ZS=cve({baseQuery:dve,endpoints:()=>({})}),jQ=Jd({name:"common",initialState:{token:null},reducers:{updateAuthTokenRedux:(t,e)=>({...t,token:e.payload.token})}}),{updateAuthTokenRedux:JS}=jQ.actions,hve=jQ.reducer,fve=Jd({name:"loader",initialState:{isLoading:!1},reducers:{setLoading:(t,e)=>({...t,isLoading:e.payload})}}),pve=fve.reducer,mve={key:"root",storage:NQ,whitelist:["common"]},gve=s$({common:hve,loader:pve,[ZS.reducerPath]:ZS.reducer}),yve=Zge(mve,gve),y$=xge({reducer:yve,middleware:t=>t({serializableCheck:{ignoredActions:[l$,IP,u$,d$,h$,f$]}}).concat(ZS.middleware)}),vve=rye(y$);Sye(y$.dispatch);function wve(t){for(var e=[],n=0;n<t.length;){var r=t[n];if(r==="*"||r==="+"||r==="?"){e.push({type:"MODIFIER",index:n,value:t[n++]});continue}if(r==="\\"){e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});continue}if(r==="{"){e.push({type:"OPEN",index:n,value:t[n++]});continue}if(r==="}"){e.push({type:"CLOSE",index:n,value:t[n++]});continue}if(r===":"){for(var i="",s=n+1;s<t.length;){var o=t.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){i+=t[s++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(n));e.push({type:"NAME",index:n,value:i}),n=s;continue}if(r==="("){var a=1,c="",s=n+1;if(t[s]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<t.length;){if(t[s]==="\\"){c+=t[s++]+t[s++];continue}if(t[s]===")"){if(a--,a===0){s++;break}}else if(t[s]==="("&&(a++,t[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(s));c+=t[s++]}if(a)throw new TypeError("Unbalanced pattern at ".concat(n));if(!c)throw new TypeError("Missing pattern at ".concat(n));e.push({type:"PATTERN",index:n,value:c}),n=s;continue}e.push({type:"CHAR",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}function bve(t,e){e===void 0&&(e={});for(var n=wve(t),r=e.prefixes,i=r===void 0?"./":r,s=e.delimiter,o=s===void 0?"/#?":s,a=[],c=0,l=0,u="",h=function(x){if(l<n.length&&n[l].type===x)return n[l++].value},f=function(x){var N=h(x);if(N!==void 0)return N;var R=n[l],$=R.type,j=R.index;throw new TypeError("Unexpected ".concat($," at ").concat(j,", expected ").concat(x))},p=function(){for(var x="",N;N=h("CHAR")||h("ESCAPED_CHAR");)x+=N;return x},g=function(x){for(var N=0,R=o;N<R.length;N++){var $=R[N];if(x.indexOf($)>-1)return!0}return!1},y=function(x){var N=a[a.length-1],R=x||(N&&typeof N=="string"?N:"");if(N&&!R)throw new TypeError('Must have text between two parameters, missing text after "'.concat(N.name,'"'));return!R||g(R)?"[^".concat(oh(o),"]+?"):"(?:(?!".concat(oh(R),")[^").concat(oh(o),"])+?")};l<n.length;){var v=h("CHAR"),b=h("NAME"),_=h("PATTERN");if(b||_){var A=v||"";i.indexOf(A)===-1&&(u+=A,A=""),u&&(a.push(u),u=""),a.push({name:b||c++,prefix:A,suffix:"",pattern:_||y(A),modifier:h("MODIFIER")||""});continue}var I=v||h("ESCAPED_CHAR");if(I){u+=I;continue}u&&(a.push(u),u="");var P=h("OPEN");if(P){var A=p(),D=h("NAME")||"",T=h("PATTERN")||"",S=p();f("CLOSE"),a.push({name:D||(T?c++:""),pattern:D&&!T?y(A):T,prefix:A,suffix:S,modifier:h("MODIFIER")||""});continue}f("END")}return a}function oh(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function UQ(t){return t&&t.sensitive?"":"i"}function _ve(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(t.source);i;)e.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(t.source);return t}function Eve(t,e,n){var r=t.map(function(i){return BQ(i,e,n).source});return new RegExp("(?:".concat(r.join("|"),")"),UQ(n))}function Ave(t,e,n){return Cve(bve(t,n),e,n)}function Cve(t,e,n){n===void 0&&(n={});for(var r=n.strict,i=r===void 0?!1:r,s=n.start,o=s===void 0?!0:s,a=n.end,c=a===void 0?!0:a,l=n.encode,u=l===void 0?function(N){return N}:l,h=n.delimiter,f=h===void 0?"/#?":h,p=n.endsWith,g=p===void 0?"":p,y="[".concat(oh(g),"]|$"),v="[".concat(oh(f),"]"),b=o?"^":"",_=0,A=t;_<A.length;_++){var I=A[_];if(typeof I=="string")b+=oh(u(I));else{var P=oh(u(I.prefix)),D=oh(u(I.suffix));if(I.pattern)if(e&&e.push(I),P||D)if(I.modifier==="+"||I.modifier==="*"){var T=I.modifier==="*"?"?":"";b+="(?:".concat(P,"((?:").concat(I.pattern,")(?:").concat(D).concat(P,"(?:").concat(I.pattern,"))*)").concat(D,")").concat(T)}else b+="(?:".concat(P,"(").concat(I.pattern,")").concat(D,")").concat(I.modifier);else{if(I.modifier==="+"||I.modifier==="*")throw new TypeError('Can not repeat "'.concat(I.name,'" without a prefix and suffix'));b+="(".concat(I.pattern,")").concat(I.modifier)}else b+="(?:".concat(P).concat(D,")").concat(I.modifier)}}if(c)i||(b+="".concat(v,"?")),b+=n.endsWith?"(?=".concat(y,")"):"$";else{var S=t[t.length-1],x=typeof S=="string"?v.indexOf(S[S.length-1])>-1:S===void 0;i||(b+="(?:".concat(v,"(?=").concat(y,"))?")),x||(b+="(?=".concat(v,"|").concat(y,")"))}return new RegExp(b,UQ(n))}function BQ(t,e,n){return t instanceof RegExp?_ve(t,e):Array.isArray(t)?Eve(t,e,n):Ave(t,e,n)}const Tve=[],ms={HOMEPAGE:"/",LOGIN:"/log-in",REGISTER:"/sign-up",ABOUT:"/about",RESET_PASSWORD:"/reset-password",TOURS:"/tours",CONTACT:"/contact",TOURS_DETAIL:"/tours-detail/:slugId",DESTINATION:"/destination",DESTINATION_DETAIL:"/destination/:countryName",BLOG:"/blog",BLOG_DETAIL:"/blog/:id",BOOKED_TOURS:"/booked-tours",FAVORITE_TOURS:"/favorite-tours"},zQ={PUBLIC:ms.LOGIN,PRIVATE:ms.HOMEPAGE},Ue={HOMEPAGE:{path:ms.HOMEPAGE,title:"Home"},LOGIN:{path:ms.LOGIN,title:"Log In"},REGISTER:{path:ms.REGISTER,title:"Sign Up"},LOGOUT:{path:ms.LOGIN,title:"Logout"},DESTINATION:{path:ms.DESTINATION,title:"Destination"},ABOUT:{path:ms.ABOUT,title:"About"},RESET_PASSWORD:{path:ms.RESET_PASSWORD,title:"Reset Password"},TOURS:{path:ms.TOURS,title:"Tours"},TOURS_DETAIL:{path:ms.TOURS_DETAIL,title:"Tours Detail"},DESTINATION_DETAIL:{path:ms.DESTINATION_DETAIL,title:"Destination Detail"},BLOG:{path:ms.BLOG,title:"Blog"},CONTACT:{path:ms.CONTACT,title:"Contact"},BLOG_DETAIL:{path:ms.BLOG_DETAIL,title:"Blog Detail"},BOOKED_TOURS:{path:ms.BOOKED_TOURS,title:"Booked Tours"},FAVORITES_TOURS:{path:ms.FAVORITE_TOURS,title:"Favorite Tours"}},Sve="/assets/HomePageBanner4-069b7098.webp",Ive="/assets/whyUs-2f6212d2.webp",xve="/assets/whyUs2-c38cad73.webp",Pve="/assets/Trisog-logo-a69d362d.svg",Ove="/assets/Trisog-header-logo-39e7b434.svg",Dve="/assets/auth-banner-e4146132.jpg",Nve="/assets/blank-profile-5a3e9b95.png",Rve="/assets/TourPageBanner-24bdd4db.webp",kve="/assets/destinationPageBanner2-e9cd366d.webp",Mve="/assets/ContactPage-banner-dec65951.jpg",Lve="/assets/phoneIcon-369d85a8.png",Fve="/assets/locationIcon-ea909b68.png",$ve="/assets/japan-d1a35e4f.webp",jve="/assets/thailand-c5cc0237.webp",Uve="/assets/UnitedKingdom-1a31c9cb.webp",Bve="/assets/australia-1ccdd7e7.webp",zve="/assets/canada-ddc7d714.webp",Vve="/assets/egypt-51a16c1d.webp",Hve="/assets/france-e29fb183.webp",Wve="/assets/india-779c07d0.webp",qve="/assets/italy-042fe8aa.webp",Kve="/assets/newzealand-4d104421.webp",Gve="/assets/norway-be0d8c0e.webp",Yve="/assets/switzerland-cc27852b.webp",Qve="/assets/testimonial1-e018180e.webp",Zve="/assets/testimonial2-df33527e.webp",Jve="/assets/testimonial3-eb1f5ed6.webp",Xve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAY1BMVEUAAAAEEDYCDzMEDzQEDzYEEDUEEDYEDzUDDzUEEDUEDzQFDzUEDzUAFTEEEDUEDzUDDzgAADUEEDUFDzUEDDQEDzUEEDQEDjQFDjUEDzUFDzUEEDUEEDUEETYECzUEEDUFEDWMkZvUAAAAIXRSTlMAzBg0v6mzY0x/WZuRDMSLDwVxbCdSRC4kuIR3PzsdsKMtgRoQAAAB/klEQVQ4y4VT17ajMAz0uFIMhBZaSPL/X7nXINk57N7NvNgZRhNZRVzh6kxIvYqvMOiEAqpvuha4Cwmob8IhaFqN7vZ/ncqBVhT4Qf67aeVeQfHKccJk8p9mqwajkc/CAqjz+S8zcwiUgQH04bT701YkyLwGYF0VHv3YAa1OvreBv0Vd+E9/fut8K+YFKOhb5gHPwje0oyiKtIDjHz0giQZGZm9TVPZMAXd6LhD9toWC38lTcx4FlljuRc9UBg8M59UjPy8NPEdoRKMqGnUwNC+UjqzNgC2vq0jTw0NXA4CMclUPKCFpjGpkcU6e4ZyAiYSjQ+zuEHOsKOQOEGHrl2ZdoFu6vtBRrqnONjq6QPNrm3D4cBCAmmtfwqcYGw6bujWhNyHxC/0AqqNDe8pLSSpKBTyIpRVSwMxMh7alNkyJDiuUhXbUp0UnhbciQ8ZdEhFvbELkKM8h0dbpctRH3olOP0qslInBDwzVh2m2pyHipm60oolOgxj6E4UDX58Ax3AJSpjU308PYsnfibBzZT4qHvLLMHPGeWjQCev7+5Ta6z+F29F4WawlGKYp1FPsNOgp+5qv8+4agwgaI4bj8jOmjI0/dbIA71eCRX9Tj4ElU7EZDWCRV2HDrZvHzi8glFH3uQFr5laLA1Q62surJcPm7i7F7xgNbNNl84X+A2wwE7gHzQJKAAAAAElFTkSuQmCC",ewe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAYFBMVEUAAAAFEDYFDzQAEDMEDzYEDzYAETcFDzYFDzQAHCQDEDUEEDUEEDUDDjQFEDUEEDUEDzUFEDUFDzQCDjUFDzUEEDUDEDUFEDUEEDUADzQEDzUEEDUEDzUEDzUEEDUEDzWNuf0rAAAAIHRSTlMAzDMZxIAOi2EHTW6yVabAu5lmJJ91RZU/FDktj4artiwyqy4AAAIXSURBVDjLhdLZuqowDAXgLGnL0IkyCoK+/1ueBpXKUbfrAkv5v1BD6D1ZEE7Oin7GuKq/Ap0+/e1OuMTrNOQGYrHtd1j456q1i4DJh+kzDPmhvu4AV3yCGA5wIjXLWr67GRmlSL/dVYgXKw9xQnI0g3KE3fwQoULI37PcTEbKwdCWtSPK8LFdE3C9gTvFzaqLr5BE6MBdD46oZZOgsloXpx0W5GEM+L9ZQQlmIwADmGGHORo6I66XMcGzN9bLCxp++oADL3tFpbA7bLGqChmFQAX0Ayrox9dvd2hcSUsgsl5FebpDCv0GtaEnrCCbpg5N06NvGhEeMLtssJM7DKKua9R8iSsBxTB7dgPDDrmh7XYS0/DWmeE6kmV8xrRDVEQX8G6niUpUDNtW+dMgSTpKFS1XZOhixelekaeC5p5Mn6C7SpljlFJ6x6ssQqHpCdJvgTHP/TXPx23hKELEQjriSqgElY+7Y86Dp2hGxdDPRCbCfHytbNGQFYpkR1m90KOPk4nPbsXhCA3Wiy8y2EZ06gk5F1wOkAYD4R08NLsEracDZCpDWIvIdqgnonE5wpQEt6kR9jdsaoo4+w279TliCZbqNXdY8tS49QglXnOHZ2T82Y+wPb3mDnvHI6bo5xldTzxiCc7le9QZlt961TtUNT6mbztFLWZKJav/UgQA3Znn34qS/ko5awcEbW/yO0ovksbnar//B81YG0EqFwexAAAAAElFTkSuQmCC",twe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAYFBMVEUAAAAFEDYEEDYADzMDEDUEDzUEEDUEDzYBDjQFDzUEEDQEDzUFEDYADjcEEDUEDzUEDjUEDzUFDzYEEDUFDjQAEzEEEDUFEDYFEDUEDjUFDzYEETYEETUFEDYDETUEDzchWTCEAAAAIHRSTlMAzLIZTICoZhOaOb9rBS1WJcaVdjMNt19wjYp5RaEdQZnMVOwAAAHTSURBVDjLjZTpsoMgDIU5LCpi3ep+bfv+b3kDyDhY2un3xzA9xJOkkUWIKbuxX8hgilbO+VzWX3U5TjrdiE+6Gp6JGx+oD9LNqQZ/SW4dgHuREr4eILZwLBoO8HTSsax6mzFI/4CuZL9Qc2APh0EpGfqo5otScJijVQuIbHRv5kCTULqKdlL1wBL6eE80TdnnHTS1BcZeBvGXGoMtsNQvxhp0FCpMPCG8TdAh5ujpCtDoQxj1ebcpQ/LSqjnT3uM9qmk0qFzwdHYlUA0ZNkFmu0hI9yb3Gu4GxeHJ3J1ocqU/K6Clh4aHklPeuBxgdwZzfyQ0Fte5y4A5SQQsYU7a2lbgLOZBzWjheR31SzZ2mFmRV5bce12toVZawrvEUcoCS3DVQyU3bKWWaSILZjMsV1VUSo/MBwYzFdvH4z1LEYAMwUAegfrSivPKzQUSsIGb5MkeNk904YcV2k+SsxQNICILbfdI6W4cKliYCvYZCbQhYfX9g9WH4Ewo1NuaD+dUIeP9iSmPEvNoMQsOc81Zu1Wfgejb+uRYEz6LDeBj/EFY2jfZ2BhgHRMJ5ocsor8rMLMUBr5lrWyUtH3RT5ak7u0S+oU05LBlHxG7zbF2vG9YzD8lWBGjc5PVOAAAAABJRU5ErkJggg==",nwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAV1BMVEUAAAAFEDYFDzUEEDUEEDUEEDQEDzUFDzUEDzUEDzUDDjMFDzUFDjUAGTIFEDYEDzUFDzUAFDcEEDYEEDUEDzUFDzYFDzQDEDQDDTUEDzUEEDUGDzUEDzQHjiLmAAAAHXRSTlMAzJuAsXG5MseTJVoYCKJ4ZQzBqI2Iak0cSDwrQrnk1TUAAAF9SURBVDjLfZTtsqMgDEBzQBCtWj+r1X3/59yNd67TLeD5IeN4ICEG5GI3oXCDSNv7MK2S5Y1iWnmhPLJiAbaAdw1+9oQh49XwlAFsD4essGfEDXpddrIgskMpGcCKLPiOSaSHOp9jJ+IAZpEnSI6KQjQ3eOmLz4pWN7oB/NHlTVZ8wCYtQKmDvSv4W8QDIvVdwbfz44xuutT4OQZwIi+ozjRKyTKqsv7qY2Fr58e5icVO63OcQSsuxi1RH3Tzr3MOpgC6ikSdeviN45n14VtdOxJXKD//u9HFXEIswfyw3IsPLm7FHq3Jya3YQHgMVxJ50cL6MWnRDvIiSyR6OlHezrkJWCrAWCIRnj+tERGJToehAEa7dwRTVoExLSpN07Qi0p6PwaXFGJfOMSY+jgGbPpshOtZFSpwwcYw6fSNFvZOKbeGQL0ziQB0wpdrRN1+N4pP59FDs/0318MrUDFtf2gI4SdID+Mr+Y/a3F3nd8YE5JE/tjA8QvHFfNfgLfKwM8vbgvKcAAAAASUVORK5CYII=",rwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAWlBMVEUAAAAFEDYEEDUDEDUHCjMEEDYFDzQEDzUEEDUAEzUEDzUFEDUEEDUGDjMFDjQEDzUDEDUFEDUEEDYFEDUEEDQEDTMEEDUEEDUEDzUFEDUEDzUFEDUAAC4EETTja05rAAAAHnRSTlMAzIBNGbMymcANZqRwI1e3SYx2YUMmrqqGeSycBTvnARaiAAABc0lEQVQ4y72U2Y7DIAxFueCACZCtSdeZ///NIdB0SQuPc6QqFjpy8bUSsWMxSNyCqEIN+zbi+95WxQ5LLjS6qnjmrYKsiqdG3Tmeap7FC7VLahz0nRa6OovaRFWd5oQXXNlr4dUDD1/yZkxvUeG3IB55oRcC9wXR4UH9ljQYVg/YqHKSsnnWTdzhf4r8rNlXxANCzG8YYrOlukILmfZ4jM1BosIFh5hSZ2NvL2pYB3kVQks4K6r8eCTashdUxvF04SbXQ/j8zzM2mpghNuS+s4MPtPCNaOSrhiQyHOg6wbx7Cu36mGBF6AEmQfl99dC7WNLjuvrUdXY1QhoOl69LNvxYtdlW/lWcMediwFAVLZsUE90aURTVnF7EHpFj2mA3fxWNyR8VTzQBJNLJp6i1M9HrsU4bgN5G0WnNOxGRKBKMSrkaUBQR2YmcO9Ia5DjaeFfKHQt3XEXrXBLzSUVMFEWWsom/EU4mHMZ8shumRZFDNv4AGQoN80T/ujYAAAAASUVORK5CYII=",iwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAV1BMVEUAAAAFEDYDEDUEEDYFDzQFCzMEDzYEEDUEDjMEEDUFDzYAEzEFEDYFEDUEDzYDEDQEEDYFDzYEEDUDDTQFEDYEDzYEDzQADzAFEDUEDzYGDzUFDzcGETW6LoDsAAAAHXRSTlMAzE2zZhi/fR51Mw2mmVNJt4WsKZ+TOxBvQFkxin1/uNkAAAFhSURBVDjL1dLbrqsgFIXhMZgIKOLZqm3f/zk3S9NdaW3sxbpZX2Iyo39CnAHwecMTjc2ATPgF8bCkVidyMkcTn1OaDUiFU4rcwlZkcAAuQcoKz8GVzofrLhRpzQBUNK0wfwwzairhsg8DRgOYzgM5b96U61DUpKmxD0kGFLwAmKgfQxXDHkko2vLSswbgqB/DNYY6DQMyapguAyxdPHobagp1Ehpb8gZFua9fFJt7F4eaRUu9C61IeQXQj91YISrCOvRDhjlfw+8X3lAjMWnzc1sSloKZtGpPGJXJK0vm8MJXc85XMgGT7V5eAsJEoz3e6C3USP3F8KLsN2Em/9czLg6fCWmeezRDq3DIkRXGn3AJhitxOFCQ2fYzkb9VNpDiT8LNQurPYZncr+FTmOV9utVPYfR74e3b0JH9WzjggHlbRsk7DrQ06dlXcsEBZyiVeprJgEM1X0iGY65LunbCwz8e3g5bodXrkwAAAABJRU5ErkJggg==",swe="/assets/Trail-54dc672e.jpg",owe="/assets/santorini-e99ddc36.jpg",awe="/assets/teamMember-0d1541ef.jpg",cwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAaVBMVEUAAAAFDzYEEDYFDzQEEDQEDzQEEDUDEDUAEDMEEDYAFTAEEDUEEDUDEDUAGCwFDzYDDTQCDzMEEDUEEDUCDTYEEDUFEDYEEDYFDzUFDzUFDzUFDjYAETMFEDYEDzUEEDUFEDUFDzQEDzSKikG2AAAAI3RSTlMAzLMyf2aZTRm/C3lySAaFJRarPiDFn2BWi1oqEZG4UKVsN7VEUkEAAAJuSURBVDjLnZPZ0pswDIUlGeMVCPtOkv/9H7KyoYEk7UV7ZsJE5psjWRLwP7olawaLK9I04cjGI3f/5jStCQpbOCklTAZJ3Qo0mH+BtQEYHUQp9LNETBXJTywHRQBJcrgn+LRaQNd9cuWjP8GgjCgD8MiOy8+1vkf5DoKVWGhOQwPhcLmHPVO/TrtW5lzEtL5uVHEpJyiky+Kb4Ccg77E/OE/6BHOP6UjU3ApXclcx8a/MGjN4gXbbBID12K5UlQBzRwoO8SAu4GBjJAR3gvQ+sp2bsbmAbz3rKAsc7mSS8qMRwpMQ6SjY6pTETllIfQxMxo3Ai+h2kjox2JGJxaCGoirP1IujnIm0TWJJueg9zvxnerBpfa1xCTUllHXIaBSFZXMrAIoLGEONXNFtxHEGVuEgbNYBWs0/e4COni0paBLsOJscQhdlfHNjr3riszqEulVQPje6h1lXGcAJCmQo/R1Kin3siaZFu7aqY/5vsN4UgBVCW0XUL3pjBlzxDY4E4atB9GH72iLObqq+QbzDgDJjNHRBmXEftf0C2ZDMhJJc6EdzLINRX+AAN/QGJxTVAJCMEOXTD1DRwi6lKQhl1YMOrvuwy3eQ2NSaHuuAirBdh8p3R2V0uCOi8U2VsmENL72B5PeKsK0wXSCp4M9gh2yYCQCdDTM/2+wvYIoK4InpkdAT/AWUciMVd6GGT0MIu8eQ8uygYEZDQ64dLWxNcNX6aM7AFpTfifrSApSbegOXx+fHxejmNfQE77LYP0bB6tva1PGkUdQmdP8Acx7CsI/J4Ty7gnAEyCrK4UM/q9zPhnWCn8Ld5z0T/LN+AZVwHuBm0uGDAAAAAElFTkSuQmCC",lwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAaVBMVEUAAAAFEDYBDzMEDzUEEDYEEDUEDjQEDzYAEzIEEDUFEDUEDjQEDzUFDzUFDzUEDjUEDzYEDzUDEDUFDzQEDzQEDzUEEDQFEDUEEDUFDzQEDzUFDzUEDTUAETcEETYEDzYAFTgEDzQGDzWmDooiAAAAI3RSTlMAzBl+sqkyvwyZoB+TZsZftbpLWVKDTYxybUQsJxR4QAU6iG8fAAEAAAIeSURBVDjLhZPZcqswEERn0IZWJPbNYPv/P/IOJL6xKxD6hVJxaA3dNfCluSwfUw7XajCYEJi9Jj36+8yCvyZnLjKwsfqLqZjTJIwWpMrOuZyHpWp671KoQBdwrswkhdudLWeDA5A9W9pj51qHdf+E82iNYgMTyA7RjCHvtH4yDEqUGyJjlAdj1iLovipYQsQY0YxZLgz+imCNqsi/nBWiHu2ApIhYf9p1qvrfnu5nhgUNq9bVa3xv1XI9jduTgrn1uAA8goSb4TTpO5fFVHdhLFuuGoEJ3danIUaIO7zLMmeE4JELJ3jGlOpyyJW8tTlncCJeQmodp/sc7/BmVX3MtRxGzPphax8ZT0+j7CEoWnAdzIocJd5gKlzyR9xERCgBNFshxxVOxRgZZUCWNGWqz0GqdhBA8g5AsFNOqjuYZW9KFNA8T8G+AQjjd+EtE6egKWHGCXY9guBn3A0zWPF1eiRzBj7EXvFLmf1t1S0TEETTMwLPdS8bZBIcBacxLNmeQMEGecBah4j0QvQlx65YBEZm0Izbfb4zrsx/bC3SIbUAa2PcMH+vmxaomGc81j9xR6Jx/NzM1hfTHUg1F/b103pLSMKJsuK15L6hE+V9qX7YwAI1fSk1UtuQDyo0dKyTegObegOtXNBp9FPJxVNpKVlyJlXv4etxB7el3cfJS78PLH2Vf66B3MAZLsUJtPi4Bh1u4WZwLekLef8L+Ae6JhqsCN1uWwAAAABJRU5ErkJggg==",uwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAY1BMVEUAAAAFEDYFDDMEDzYEEDUCEDUDDzUFDDUFEDUFDzUFDzUEDzUDDzUEEDUEEDUEDjUFDjQEEDYEDzYEDzUFEDYGCzMFEDYFDzUEEDYEEDUFEDUEDjUEEDcDDjQAGCwEDzUFDzRfH/ogAAAAIXRSTlMAzBizwA9KKWxmm49SrYBfNHc/uqIdl4iDcqZYOyMIxDCFMpupAAABjElEQVQ4y71S6ZqCMAxkmh4cPbhRAfX9n3KLa/1Eqvhnd37AkAxpJk3yPyjLL4WEfP5GN4MAy/aFGjXrQWpXeIBIEndBtttiuzw72lMqVLc3I6QfhUfcpyPM55qGAmOE+tPJ9sE7ztnnkwMk8veeaT0q/UYn11YF5yIuLLDuKnvjfMawDpzflLR4veIs2iXbuhRR4wOukR3pIpbt9uca4+ZgaiIXIXixHY2MGWz5SyCNrJXoapmDvehOYXZMSZ1VRdvghpVQ5aBJuvTQG7qnObVFlelpFqtyARfTX8jJiT2ly+oYaNUW9qilYmf/0eTPXUrLAZPEEIRCaWsAcBCLC0+dHNPiZoXsqOiiwqQZ61RZSu0Wr3T3YgY3LZVauMclPYObxWvNztvxCo4qdVrKevZeN2vWP3+M3TW+8ioYKdVvSY9ioVPPTXpLibShQZPXCVeMSQPqhxP40Q1emnrmzXBb1pbD5AByd+A+nVyrE8AzsXg/3JkkLIrSh7RZWH1+3RUWOpOyCzHFkj/BD7shEFQPnOmHAAAAAElFTkSuQmCC",dwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAXVBMVEUAAAAFEDYAFTMDDzMADTIFEDYEEDYBDzQEEDYEEDUEDzYEEDYFEDUDDjUEDzUGDzYFDzQFDzUFEDUFEDYFDTMFEDUFDzQAAEADDzUEDzUEDzUDEDUEEDQFEDYADzh0Hr/5AAAAH3RSTlMAzAtVGIGyIb+sPHfGS3OIZph+ayumMgReQrhQkJ8QlhhTbgAAAURJREFUOMvtktlygzAMRXUV2ThmKWbfkv//zEIz8VCKmOn0tWd4QPgY6WLoD+RCkaR7EkknZ56Hic8HAKUB0Pz0RgDtu5DZL0Dhc6afdKj2nThu671/UjPGRYGhPc7EN8AuiKvigGovpnlM1jjUyXuKGlJlPZ3zWoliAVbEOcbkwWLFNHSNd3jUt8FMKPorb8zuHXFDxDUerHuS3TkJwBZzQKqLZpLEufJ1DAXUOZN1MGvlHcsVmpijGTHGMkyaWILkti+14DUO+1gV0z0PVQw40GmhB9rDLmh/hhxHkTPviez+HYvyvHMbXBaCcyHAhnYrP85FT0tLNBkSzNvXJ6uKnSfKE6KbEA90IR7QxGAOaDNOFs5ah+2y2z201oKcqMDrlLOK7L/4Ba80GBPMzCm4hjBnhu3CKz1FClzCUZTbFTP9jk8IJRHFoT93xwAAAABJRU5ErkJggg==",hwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAUVBMVEUAAAAFEDYFEDYAHiEICjMEEDYFDzMEDzUEEDUEDzUFDzUFDzUEDzUEEDUADzYFEDYFDzUGEDYFEDUEEDUGDTMHDjUEEDUEDzUEEDUDDzUFEDTzX8XmAAAAG3RSTlMAzJcHGbI0W8S+uWZROxChmolsgCcfrI9xS0KRjJkzAAAA8UlEQVQ4y+2S29KDIAyEsyByVLAe2/d/0B+Zf6zaFux9vysn7oTNJvTjKxqWaIrCGxKSinCuBOd0gSgs61rZCUTE7KqMrA4AtGchKADz8EFWMcDLkRKjm4DubdfGwNeHgoCoX3UOsOeaBdy59oCq0zD9wndNNR4nfwpRxxdE2v3zSh19TmkVHsY2xx8S/miwS9sLLZ1huNMTgSr60+JVRwMmvpukXwdhby9hxjOjHnVmXei3b6OzN2K2bBAoA0O1Nb/lhMtm7A6bE9r/gNYLFCyDgGduTfkSlrQZeZFR6xjNUBUZjCGLS8RcHCvTSfqR5Q9W+wjhmWe6JwAAAABJRU5ErkJggg==",fwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAXVBMVEUAAAAFEDYDEDUEDzYADjMEEDUAFTUEEDUFDzUEEDUEDzUFDzUEDzUFEDUEETUEDzUEDzUFEDUEDzUEDjUEEDYEEDQEDTUEDzQEDzYEEDQADDQFEDYFDzQFEDUADzXCMM6qAAAAH3RSTlMAzE2zGX8KmTPAu2fHo3ONh25gWqo+JEU5LhOeVZYQjMlbZgAAAa1JREFUOMuNk4lygzAMRLW2wQfmCKS50///zFqugyiFtG8mYAZnV1oZ2qTzrqzONsS2MbSDhaLMExm93GkqJ+sLZSogKJWuupaNDSytqJGokj/QbCkKh0EDB6IBR/qLDr4mhUh/cQOu9IDPpk8fDnUp68h13/RcvQEcHWF5qZEYZoEud/v5KhMwDTiuzwoY06+vRvP9wl2lywrwHuhZL99izvWUvDVaLbm1YKr02CP26f1krY25EofElUsyfJn6/pBzixip8ACKW8VtRa5TCOhkNrG4Wd6oy4SlWoGVRiQe9IvaYsammk3AYOFv9BunCq44GONZ+z1nYORqcaG3GP19TiTJHdiY71ee5BtOwOF1uqKjfcSxDmhph9KDdDXtdoJlKj28oW3ukKFlc0ubTIBaPZ93IuxXDtthDohmFVbcmqTCfDCbTlJwG8Za/vJR+tE4rs07wMypz1k7thHKbEUwScrsT9uz4+XdopUw76vZfSwqdD8ep+3Z5QMpkvTjs2gRjChcchOXl4jHc/E9KxFkraXkVOo4KRWgVaEDqnJvVMEjKGWSxL8INOBfDF8Q/A6rvIb5hQAAAABJRU5ErkJggg==",pwe="/assets/Morocco-61b4637b.webp",mwe="/assets/bangokFood-ce5cb49c.webp",gwe="/assets/NOT_FOUND-73fc8f15.jpg",_t={QUALITY_PACKAGES:Xve,BEST_TRAVEL_PLAN:ewe,CUSTOMER_CARE:twe,HAND_PICKED_TOUR:nwe,PRIVATE_GUIDE:rwe,QUICK_BOOKING:iwe,HomePageBanner:Sve,WHY_US_IMGONE:Ive,WHY_US_IMGTWO:xve,TRISOG_LOGO:Pve,TRISOG_HEADER_LOGO:Ove,AUTH_BANNER:Dve,BLANK_PROFILE:Nve,TOURPAGE_BANNER:Rve,DESTINATION_BANNER:kve,CONTACTPAGE_BANNER:Mve,PHONE_ICON:Lve,LOCATION_ICON:Fve,JAPAN:$ve,THAILAND:jve,NORWAY:Gve,INDIA:Wve,FRANCE:Hve,AUSTRALIA:Bve,SWITZERLAND:Yve,UNITED_KINGDOM:Uve,NEWZEALAND:Kve,EGYPT:Vve,CANADA:zve,ITALY:qve,TESTIMONIAL_ONE:Qve,TESTIMONIAL_TWO:Zve,TESTIMONIAL_THREE:Jve,TRAIL:swe,SANTORINI:owe,TEAM_MEMBER:awe,ADVENTURE:cwe,BEACHES:lwe,HIKING_TOURS:fwe,BOAT_TOURS:uwe,FOOD_TOURS:hwe,CITY_TOURS:dwe,MOROCCO:pwe,BANGOK_FOOD:mwe,NOT_FOUND:gwe};function Cu({countryName:t,countryImage:e}){const n=Ue.DESTINATION_DETAIL.path.replace(":countryName",t);return C.jsxs("div",{className:"destination-card-wrapper",children:[C.jsx("img",{src:e,alt:t}),C.jsxs("div",{className:"destination-name-container",children:[C.jsx("h5",{className:"cursive-text",children:t}),C.jsx("div",{className:"travelers-count",children:"174,688 Travelers"})]}),C.jsx(ri,{to:n,className:"clickable-overlay"})]})}function ywe(){const t={firstGrouped:["United Kingdom","Canada","Switzerland"],secondGrouped:["Norway","Australia"],single:"France"},e={"United Kingdom":_t.UNITED_KINGDOM,Canada:_t.CANADA,Switzerland:_t.SWITZERLAND,Norway:_t.NORWAY,Australia:_t.AUSTRALIA,France:_t.FRANCE};return C.jsx("div",{className:"homepage-destination-section",children:C.jsxs("div",{className:"homepage-destination-container",children:[C.jsx("h4",{className:"cursive-text",children:"Destination"}),C.jsx("h2",{children:"Top Attractions Destinations"}),C.jsx("div",{className:"destination-grid-wrapper fixing-margin",children:C.jsxs("div",{className:"grid-section",children:[C.jsxs("div",{className:"grouped-destinations-grid",children:[C.jsx("div",{className:"first-grouped-destinations",children:t.firstGrouped.map(n=>C.jsx(Cu,{countryName:n,countryImage:e[n]},n))}),C.jsx("div",{className:"second-grouped-destinations",children:t.secondGrouped.map(n=>C.jsx(Cu,{countryName:n,countryImage:e[n]},n))})]}),C.jsx("div",{className:"single-destinations-grid",children:C.jsx(Cu,{countryName:t.single,countryImage:e[t.single]})})]})})]})})}function vwe(){return C.jsx("div",{className:"about-content-section",children:C.jsxs("div",{className:"content-container",children:[C.jsx("h4",{className:"kaushan-text cursive-normal",children:"Why Choose Us"}),C.jsxs("h2",{className:"section-heading",children:[C.jsx("div",{children:"Our Experiences"}),C.jsx("div",{children:"Meet High Quality "}),C.jsx("div",{children:"Standards"})]}),C.jsx("p",{children:"Holisticly optimize proactive strategic theme areas rather than effective manufactured products create."})]})})}function VQ(){return C.jsx("div",{className:"whyUs-section",children:C.jsxs("div",{className:"main-div-container",children:[C.jsx("div",{className:"whyUs-image-div",children:C.jsxs("div",{className:"image-container",children:[C.jsx("img",{className:"second-image",src:_t.WHY_US_IMGTWO})," ",C.jsx("img",{className:"first-image",src:_t.WHY_US_IMGONE})]})}),C.jsx("div",{className:"whyUs-content-div",children:C.jsx(vwe,{})})]})})}var wwe=function(e){return bwe(e)&&!_we(e)};function bwe(t){return!!t&&typeof t=="object"}function _we(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Cwe(t)}var Ewe=typeof Symbol=="function"&&Symbol.for,Awe=Ewe?Symbol.for("react.element"):60103;function Cwe(t){return t.$$typeof===Awe}function Twe(t){return Array.isArray(t)?[]:{}}function XS(t,e){return e.clone!==!1&&e.isMergeableObject(t)?T_(Twe(t),t,e):t}function Swe(t,e,n){return t.concat(e).map(function(r){return XS(r,n)})}function Iwe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=XS(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=XS(e[i],n):r[i]=T_(t[i],e[i],n)}),r}function T_(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Swe,n.isMergeableObject=n.isMergeableObject||wwe;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Iwe(t,e,n):XS(e,n)}T_.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return T_(r,i,n)},{})};var L2=T_,xwe=typeof global=="object"&&global&&global.Object===Object&&global;const HQ=xwe;var Pwe=typeof self=="object"&&self&&self.Object===Object&&self,Owe=HQ||Pwe||Function("return this")();const Ql=Owe;var Dwe=Ql.Symbol;const af=Dwe;var WQ=Object.prototype,Nwe=WQ.hasOwnProperty,Rwe=WQ.toString,g0=af?af.toStringTag:void 0;function kwe(t){var e=Nwe.call(t,g0),n=t[g0];try{t[g0]=void 0;var r=!0}catch{}var i=Rwe.call(t);return r&&(e?t[g0]=n:delete t[g0]),i}var Mwe=Object.prototype,Lwe=Mwe.toString;function Fwe(t){return Lwe.call(t)}var $we="[object Null]",jwe="[object Undefined]",$6=af?af.toStringTag:void 0;function Rm(t){return t==null?t===void 0?jwe:$we:$6&&$6 in Object(t)?kwe(t):Fwe(t)}function qQ(t,e){return function(n){return t(e(n))}}var Uwe=qQ(Object.getPrototypeOf,Object);const v$=Uwe;function km(t){return t!=null&&typeof t=="object"}var Bwe="[object Object]",zwe=Function.prototype,Vwe=Object.prototype,KQ=zwe.toString,Hwe=Vwe.hasOwnProperty,Wwe=KQ.call(Object);function j6(t){if(!km(t)||Rm(t)!=Bwe)return!1;var e=v$(t);if(e===null)return!0;var n=Hwe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&KQ.call(n)==Wwe}function qwe(){this.__data__=[],this.size=0}function GQ(t,e){return t===e||t!==t&&e!==e}function xP(t,e){for(var n=t.length;n--;)if(GQ(t[n][0],e))return n;return-1}var Kwe=Array.prototype,Gwe=Kwe.splice;function Ywe(t){var e=this.__data__,n=xP(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Gwe.call(e,n,1),--this.size,!0}function Qwe(t){var e=this.__data__,n=xP(e,t);return n<0?void 0:e[n][1]}function Zwe(t){return xP(this.__data__,t)>-1}function Jwe(t,e){var n=this.__data__,r=xP(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function wd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wd.prototype.clear=qwe;wd.prototype.delete=Ywe;wd.prototype.get=Qwe;wd.prototype.has=Zwe;wd.prototype.set=Jwe;function Xwe(){this.__data__=new wd,this.size=0}function e0e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function t0e(t){return this.__data__.get(t)}function n0e(t){return this.__data__.has(t)}function c1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var r0e="[object AsyncFunction]",i0e="[object Function]",s0e="[object GeneratorFunction]",o0e="[object Proxy]";function YQ(t){if(!c1(t))return!1;var e=Rm(t);return e==i0e||e==s0e||e==r0e||e==o0e}var a0e=Ql["__core-js_shared__"];const dN=a0e;var U6=function(){var t=/[^.]+$/.exec(dN&&dN.keys&&dN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function c0e(t){return!!U6&&U6 in t}var l0e=Function.prototype,u0e=l0e.toString;function Mm(t){if(t!=null){try{return u0e.call(t)}catch{}try{return t+""}catch{}}return""}var d0e=/[\\^$.*+?()[\]{}|]/g,h0e=/^\[object .+?Constructor\]$/,f0e=Function.prototype,p0e=Object.prototype,m0e=f0e.toString,g0e=p0e.hasOwnProperty,y0e=RegExp("^"+m0e.call(g0e).replace(d0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v0e(t){if(!c1(t)||c0e(t))return!1;var e=YQ(t)?y0e:h0e;return e.test(Mm(t))}function w0e(t,e){return t==null?void 0:t[e]}function Lm(t,e){var n=w0e(t,e);return v0e(n)?n:void 0}var b0e=Lm(Ql,"Map");const S_=b0e;var _0e=Lm(Object,"create");const I_=_0e;function E0e(){this.__data__=I_?I_(null):{},this.size=0}function A0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var C0e="__lodash_hash_undefined__",T0e=Object.prototype,S0e=T0e.hasOwnProperty;function I0e(t){var e=this.__data__;if(I_){var n=e[t];return n===C0e?void 0:n}return S0e.call(e,t)?e[t]:void 0}var x0e=Object.prototype,P0e=x0e.hasOwnProperty;function O0e(t){var e=this.__data__;return I_?e[t]!==void 0:P0e.call(e,t)}var D0e="__lodash_hash_undefined__";function N0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=I_&&e===void 0?D0e:e,this}function Jp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jp.prototype.clear=E0e;Jp.prototype.delete=A0e;Jp.prototype.get=I0e;Jp.prototype.has=O0e;Jp.prototype.set=N0e;function R0e(){this.size=0,this.__data__={hash:new Jp,map:new(S_||wd),string:new Jp}}function k0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function PP(t,e){var n=t.__data__;return k0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function M0e(t){var e=PP(this,t).delete(t);return this.size-=e?1:0,e}function L0e(t){return PP(this,t).get(t)}function F0e(t){return PP(this,t).has(t)}function $0e(t,e){var n=PP(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Pf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pf.prototype.clear=R0e;Pf.prototype.delete=M0e;Pf.prototype.get=L0e;Pf.prototype.has=F0e;Pf.prototype.set=$0e;var j0e=200;function U0e(t,e){var n=this.__data__;if(n instanceof wd){var r=n.__data__;if(!S_||r.length<j0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pf(r)}return n.set(t,e),this.size=n.size,this}function sw(t){var e=this.__data__=new wd(t);this.size=e.size}sw.prototype.clear=Xwe;sw.prototype.delete=e0e;sw.prototype.get=t0e;sw.prototype.has=n0e;sw.prototype.set=U0e;function B0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var z0e=function(){try{var t=Lm(Object,"defineProperty");return t({},"",{}),t}catch{}}();const B6=z0e;function QQ(t,e,n){e=="__proto__"&&B6?B6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var V0e=Object.prototype,H0e=V0e.hasOwnProperty;function ZQ(t,e,n){var r=t[e];(!(H0e.call(t,e)&&GQ(r,n))||n===void 0&&!(e in t))&&QQ(t,e,n)}function OP(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=r?r(n[a],t[a],a,n,t):void 0;c===void 0&&(c=t[a]),i?QQ(n,a,c):ZQ(n,a,c)}return n}function W0e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var q0e="[object Arguments]";function z6(t){return km(t)&&Rm(t)==q0e}var JQ=Object.prototype,K0e=JQ.hasOwnProperty,G0e=JQ.propertyIsEnumerable,Y0e=z6(function(){return arguments}())?z6:function(t){return km(t)&&K0e.call(t,"callee")&&!G0e.call(t,"callee")};const Q0e=Y0e;var Z0e=Array.isArray;const l1=Z0e;function J0e(){return!1}var XQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,V6=XQ&&typeof module=="object"&&module&&!module.nodeType&&module,X0e=V6&&V6.exports===XQ,H6=X0e?Ql.Buffer:void 0,ebe=H6?H6.isBuffer:void 0,tbe=ebe||J0e;const eZ=tbe;var nbe=9007199254740991,rbe=/^(?:0|[1-9]\d*)$/;function ibe(t,e){var n=typeof t;return e=e??nbe,!!e&&(n=="number"||n!="symbol"&&rbe.test(t))&&t>-1&&t%1==0&&t<e}var sbe=9007199254740991;function tZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sbe}var obe="[object Arguments]",abe="[object Array]",cbe="[object Boolean]",lbe="[object Date]",ube="[object Error]",dbe="[object Function]",hbe="[object Map]",fbe="[object Number]",pbe="[object Object]",mbe="[object RegExp]",gbe="[object Set]",ybe="[object String]",vbe="[object WeakMap]",wbe="[object ArrayBuffer]",bbe="[object DataView]",_be="[object Float32Array]",Ebe="[object Float64Array]",Abe="[object Int8Array]",Cbe="[object Int16Array]",Tbe="[object Int32Array]",Sbe="[object Uint8Array]",Ibe="[object Uint8ClampedArray]",xbe="[object Uint16Array]",Pbe="[object Uint32Array]",xr={};xr[_be]=xr[Ebe]=xr[Abe]=xr[Cbe]=xr[Tbe]=xr[Sbe]=xr[Ibe]=xr[xbe]=xr[Pbe]=!0;xr[obe]=xr[abe]=xr[wbe]=xr[cbe]=xr[bbe]=xr[lbe]=xr[ube]=xr[dbe]=xr[hbe]=xr[fbe]=xr[pbe]=xr[mbe]=xr[gbe]=xr[ybe]=xr[vbe]=!1;function Obe(t){return km(t)&&tZ(t.length)&&!!xr[Rm(t)]}function w$(t){return function(e){return t(e)}}var nZ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xb=nZ&&typeof module=="object"&&module&&!module.nodeType&&module,Dbe=xb&&xb.exports===nZ,hN=Dbe&&HQ.process,Nbe=function(){try{var t=xb&&xb.require&&xb.require("util").types;return t||hN&&hN.binding&&hN.binding("util")}catch{}}();const yv=Nbe;var W6=yv&&yv.isTypedArray,Rbe=W6?w$(W6):Obe;const kbe=Rbe;var Mbe=Object.prototype,Lbe=Mbe.hasOwnProperty;function rZ(t,e){var n=l1(t),r=!n&&Q0e(t),i=!n&&!r&&eZ(t),s=!n&&!r&&!i&&kbe(t),o=n||r||i||s,a=o?W0e(t.length,String):[],c=a.length;for(var l in t)(e||Lbe.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ibe(l,c)))&&a.push(l);return a}var Fbe=Object.prototype;function b$(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Fbe;return t===n}var $be=qQ(Object.keys,Object);const jbe=$be;var Ube=Object.prototype,Bbe=Ube.hasOwnProperty;function zbe(t){if(!b$(t))return jbe(t);var e=[];for(var n in Object(t))Bbe.call(t,n)&&n!="constructor"&&e.push(n);return e}function iZ(t){return t!=null&&tZ(t.length)&&!YQ(t)}function _$(t){return iZ(t)?rZ(t):zbe(t)}function Vbe(t,e){return t&&OP(e,_$(e),t)}function Hbe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Wbe=Object.prototype,qbe=Wbe.hasOwnProperty;function Kbe(t){if(!c1(t))return Hbe(t);var e=b$(t),n=[];for(var r in t)r=="constructor"&&(e||!qbe.call(t,r))||n.push(r);return n}function E$(t){return iZ(t)?rZ(t,!0):Kbe(t)}function Gbe(t,e){return t&&OP(e,E$(e),t)}var sZ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,q6=sZ&&typeof module=="object"&&module&&!module.nodeType&&module,Ybe=q6&&q6.exports===sZ,K6=Ybe?Ql.Buffer:void 0,G6=K6?K6.allocUnsafe:void 0;function Qbe(t,e){if(e)return t.slice();var n=t.length,r=G6?G6(n):new t.constructor(n);return t.copy(r),r}function oZ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Zbe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function aZ(){return[]}var Jbe=Object.prototype,Xbe=Jbe.propertyIsEnumerable,Y6=Object.getOwnPropertySymbols,e_e=Y6?function(t){return t==null?[]:(t=Object(t),Zbe(Y6(t),function(e){return Xbe.call(t,e)}))}:aZ;const A$=e_e;function t_e(t,e){return OP(t,A$(t),e)}function cZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var n_e=Object.getOwnPropertySymbols,r_e=n_e?function(t){for(var e=[];t;)cZ(e,A$(t)),t=v$(t);return e}:aZ;const lZ=r_e;function i_e(t,e){return OP(t,lZ(t),e)}function uZ(t,e,n){var r=e(t);return l1(t)?r:cZ(r,n(t))}function s_e(t){return uZ(t,_$,A$)}function o_e(t){return uZ(t,E$,lZ)}var a_e=Lm(Ql,"DataView");const F2=a_e;var c_e=Lm(Ql,"Promise");const $2=c_e;var l_e=Lm(Ql,"Set");const j2=l_e;var u_e=Lm(Ql,"WeakMap");const U2=u_e;var Q6="[object Map]",d_e="[object Object]",Z6="[object Promise]",J6="[object Set]",X6="[object WeakMap]",e8="[object DataView]",h_e=Mm(F2),f_e=Mm(S_),p_e=Mm($2),m_e=Mm(j2),g_e=Mm(U2),Kf=Rm;(F2&&Kf(new F2(new ArrayBuffer(1)))!=e8||S_&&Kf(new S_)!=Q6||$2&&Kf($2.resolve())!=Z6||j2&&Kf(new j2)!=J6||U2&&Kf(new U2)!=X6)&&(Kf=function(t){var e=Rm(t),n=e==d_e?t.constructor:void 0,r=n?Mm(n):"";if(r)switch(r){case h_e:return e8;case f_e:return Q6;case p_e:return Z6;case m_e:return J6;case g_e:return X6}return e});const C$=Kf;var y_e=Object.prototype,v_e=y_e.hasOwnProperty;function w_e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&v_e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var b_e=Ql.Uint8Array;const t8=b_e;function T$(t){var e=new t.constructor(t.byteLength);return new t8(e).set(new t8(t)),e}function __e(t,e){var n=e?T$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var E_e=/\w*$/;function A_e(t){var e=new t.constructor(t.source,E_e.exec(t));return e.lastIndex=t.lastIndex,e}var n8=af?af.prototype:void 0,r8=n8?n8.valueOf:void 0;function C_e(t){return r8?Object(r8.call(t)):{}}function T_e(t,e){var n=e?T$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var S_e="[object Boolean]",I_e="[object Date]",x_e="[object Map]",P_e="[object Number]",O_e="[object RegExp]",D_e="[object Set]",N_e="[object String]",R_e="[object Symbol]",k_e="[object ArrayBuffer]",M_e="[object DataView]",L_e="[object Float32Array]",F_e="[object Float64Array]",$_e="[object Int8Array]",j_e="[object Int16Array]",U_e="[object Int32Array]",B_e="[object Uint8Array]",z_e="[object Uint8ClampedArray]",V_e="[object Uint16Array]",H_e="[object Uint32Array]";function W_e(t,e,n){var r=t.constructor;switch(e){case k_e:return T$(t);case S_e:case I_e:return new r(+t);case M_e:return __e(t,n);case L_e:case F_e:case $_e:case j_e:case U_e:case B_e:case z_e:case V_e:case H_e:return T_e(t,n);case x_e:return new r;case P_e:case N_e:return new r(t);case O_e:return A_e(t);case D_e:return new r;case R_e:return C_e(t)}}var i8=Object.create,q_e=function(){function t(){}return function(e){if(!c1(e))return{};if(i8)return i8(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const K_e=q_e;function G_e(t){return typeof t.constructor=="function"&&!b$(t)?K_e(v$(t)):{}}var Y_e="[object Map]";function Q_e(t){return km(t)&&C$(t)==Y_e}var s8=yv&&yv.isMap,Z_e=s8?w$(s8):Q_e;const J_e=Z_e;var X_e="[object Set]";function eEe(t){return km(t)&&C$(t)==X_e}var o8=yv&&yv.isSet,tEe=o8?w$(o8):eEe;const nEe=tEe;var rEe=1,iEe=2,sEe=4,dZ="[object Arguments]",oEe="[object Array]",aEe="[object Boolean]",cEe="[object Date]",lEe="[object Error]",hZ="[object Function]",uEe="[object GeneratorFunction]",dEe="[object Map]",hEe="[object Number]",fZ="[object Object]",fEe="[object RegExp]",pEe="[object Set]",mEe="[object String]",gEe="[object Symbol]",yEe="[object WeakMap]",vEe="[object ArrayBuffer]",wEe="[object DataView]",bEe="[object Float32Array]",_Ee="[object Float64Array]",EEe="[object Int8Array]",AEe="[object Int16Array]",CEe="[object Int32Array]",TEe="[object Uint8Array]",SEe="[object Uint8ClampedArray]",IEe="[object Uint16Array]",xEe="[object Uint32Array]",_r={};_r[dZ]=_r[oEe]=_r[vEe]=_r[wEe]=_r[aEe]=_r[cEe]=_r[bEe]=_r[_Ee]=_r[EEe]=_r[AEe]=_r[CEe]=_r[dEe]=_r[hEe]=_r[fZ]=_r[fEe]=_r[pEe]=_r[mEe]=_r[gEe]=_r[TEe]=_r[SEe]=_r[IEe]=_r[xEe]=!0;_r[lEe]=_r[hZ]=_r[yEe]=!1;function Pb(t,e,n,r,i,s){var o,a=e&rEe,c=e&iEe,l=e&sEe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!c1(t))return t;var u=l1(t);if(u){if(o=w_e(t),!a)return oZ(t,o)}else{var h=C$(t),f=h==hZ||h==uEe;if(eZ(t))return Qbe(t,a);if(h==fZ||h==dZ||f&&!i){if(o=c||f?{}:G_e(t),!a)return c?i_e(t,Gbe(o,t)):t_e(t,Vbe(o,t))}else{if(!_r[h])return i?t:{};o=W_e(t,h,a)}}s||(s=new sw);var p=s.get(t);if(p)return p;s.set(t,o),nEe(t)?t.forEach(function(v){o.add(Pb(v,e,n,v,t,s))}):J_e(t)&&t.forEach(function(v,b){o.set(b,Pb(v,e,n,b,t,s))});var g=l?c?o_e:s_e:c?E$:_$,y=u?void 0:g(t);return B0e(y||t,function(v,b){y&&(b=v,v=t[b]),ZQ(o,b,Pb(v,e,n,b,t,s))}),o}var PEe=1,OEe=4;function X0(t){return Pb(t,PEe|OEe)}var a8=Array.isArray,c8=Object.keys,DEe=Object.prototype.hasOwnProperty,NEe=typeof Element<"u";function B2(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=a8(t),r=a8(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!B2(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();var l=t instanceof RegExp,u=e instanceof RegExp;if(l!=u)return!1;if(l&&u)return t.toString()==e.toString();var h=c8(t);if(s=h.length,s!==c8(e).length)return!1;for(i=s;i--!==0;)if(!DEe.call(e,h[i]))return!1;if(NEe&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!B2(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var REe=function(e,n){try{return B2(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Xd=cs(REe);var kEe=!0;function pZ(t,e){if(!kEe){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var MEe=4;function l8(t){return Pb(t,MEe)}function mZ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var LEe="[object Symbol]";function S$(t){return typeof t=="symbol"||km(t)&&Rm(t)==LEe}var FEe="Expected a function";function I$(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FEe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(I$.Cache||Pf),n}I$.Cache=Pf;var $Ee=500;function jEe(t){var e=I$(t,function(r){return n.size===$Ee&&n.clear(),r}),n=e.cache;return e}var UEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BEe=/\\(\\)?/g,zEe=jEe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UEe,function(n,r,i,s){e.push(i?s.replace(BEe,"$1"):r||n)}),e});const VEe=zEe;var HEe=1/0;function WEe(t){if(typeof t=="string"||S$(t))return t;var e=t+"";return e=="0"&&1/t==-HEe?"-0":e}var qEe=1/0,u8=af?af.prototype:void 0,d8=u8?u8.toString:void 0;function gZ(t){if(typeof t=="string")return t;if(l1(t))return mZ(t,gZ)+"";if(S$(t))return d8?d8.call(t):"";var e=t+"";return e=="0"&&1/t==-qEe?"-0":e}function KEe(t){return t==null?"":gZ(t)}function yZ(t){return l1(t)?mZ(t,WEe):S$(t)?[t]:oZ(VEe(KEe(t)))}function Yn(){return Yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yn.apply(this,arguments)}function vZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ah(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function h8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var DP=M.createContext(void 0);DP.displayName="FormikContext";var GEe=DP.Provider,YEe=DP.Consumer;function wZ(){var t=M.useContext(DP);return t||pZ(!1),t}var f8=function(e){return Array.isArray(e)&&e.length===0},vs=function(e){return typeof e=="function"},u1=function(e){return e!==null&&typeof e=="object"},QEe=function(e){return String(Math.floor(Number(e)))===e},fN=function(e){return Object.prototype.toString.call(e)==="[object String]"},bZ=function(e){return M.Children.count(e)===0},pN=function(e){return u1(e)&&vs(e.then)};function Fr(t,e,n,r){r===void 0&&(r=0);for(var i=yZ(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Ol(t,e,n){for(var r=l8(t),i=r,s=0,o=yZ(e);s<o.length-1;s++){var a=o[s],c=Fr(t,o.slice(0,s+1));if(c&&(u1(c)||Array.isArray(c)))i=i[a]=l8(c);else{var l=o[s+1];i=i[a]=QEe(l)&&Number(l)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function _Z(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];u1(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},_Z(a,e,n,r[o])):r[o]=e}return r}function ZEe(t,e){switch(e.type){case"SET_VALUES":return Yn({},t,{values:e.payload});case"SET_TOUCHED":return Yn({},t,{touched:e.payload});case"SET_ERRORS":return Xd(t.errors,e.payload)?t:Yn({},t,{errors:e.payload});case"SET_STATUS":return Yn({},t,{status:e.payload});case"SET_ISSUBMITTING":return Yn({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Yn({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Yn({},t,{values:Ol(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Yn({},t,{touched:Ol(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Yn({},t,{errors:Ol(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Yn({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Yn({},t,{touched:_Z(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Yn({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Yn({},t,{isSubmitting:!1});default:return t}}var $f={},JA={};function JEe(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,c=t.enableReinitialize,l=c===void 0?!1:c,u=t.onSubmit,h=Ah(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=Yn({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:u},h),p=M.useRef(f.initialValues),g=M.useRef(f.initialErrors||$f),y=M.useRef(f.initialTouched||JA),v=M.useRef(f.initialStatus),b=M.useRef(!1),_=M.useRef({});M.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var A=M.useState(0),I=A[1],P=M.useRef({values:X0(f.initialValues),errors:X0(f.initialErrors)||$f,touched:X0(f.initialTouched)||JA,status:X0(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),D=P.current,T=M.useCallback(function(se){var xe=P.current;P.current=ZEe(xe,se),xe!==P.current&&I(function(Ce){return Ce+1})},[]),S=M.useCallback(function(se,xe){return new Promise(function(Ce,Me){var ot=f.validate(se,xe);ot==null?Ce($f):pN(ot)?ot.then(function(Ye){Ce(Ye||$f)},function(Ye){Me(Ye)}):Ce(ot)})},[f.validate]),x=M.useCallback(function(se,xe){var Ce=f.validationSchema,Me=vs(Ce)?Ce(xe):Ce,ot=xe&&Me.validateAt?Me.validateAt(xe,se):e1e(se,Me);return new Promise(function(Ye,yt){ot.then(function(){Ye($f)},function(Mt){Mt.name==="ValidationError"?Ye(XEe(Mt)):yt(Mt)})})},[f.validationSchema]),N=M.useCallback(function(se,xe){return new Promise(function(Ce){return Ce(_.current[se].validate(xe))})},[]),R=M.useCallback(function(se){var xe=Object.keys(_.current).filter(function(Me){return vs(_.current[Me].validate)}),Ce=xe.length>0?xe.map(function(Me){return N(Me,Fr(se,Me))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ce).then(function(Me){return Me.reduce(function(ot,Ye,yt){return Ye==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ye&&(ot=Ol(ot,xe[yt],Ye)),ot},{})})},[N]),$=M.useCallback(function(se){return Promise.all([R(se),f.validationSchema?x(se):{},f.validate?S(se):{}]).then(function(xe){var Ce=xe[0],Me=xe[1],ot=xe[2],Ye=L2.all([Ce,Me,ot],{arrayMerge:t1e});return Ye})},[f.validate,f.validationSchema,R,S,x]),j=Sa(function(se){return se===void 0&&(se=D.values),T({type:"SET_ISVALIDATING",payload:!0}),$(se).then(function(xe){return b.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:xe})),xe})});M.useEffect(function(){o&&b.current===!0&&Xd(p.current,f.initialValues)&&j(p.current)},[o,j]);var K=M.useCallback(function(se){var xe=se&&se.values?se.values:p.current,Ce=se&&se.errors?se.errors:g.current?g.current:f.initialErrors||{},Me=se&&se.touched?se.touched:y.current?y.current:f.initialTouched||{},ot=se&&se.status?se.status:v.current?v.current:f.initialStatus;p.current=xe,g.current=Ce,y.current=Me,v.current=ot;var Ye=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!se&&!!se.isSubmitting,errors:Ce,touched:Me,status:ot,values:xe,isValidating:!!se&&!!se.isValidating,submitCount:se&&se.submitCount&&typeof se.submitCount=="number"?se.submitCount:0}})};if(f.onReset){var yt=f.onReset(D.values,pt);pN(yt)?yt.then(Ye):Ye()}else Ye()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);M.useEffect(function(){b.current===!0&&!Xd(p.current,f.initialValues)&&l&&(p.current=f.initialValues,K(),o&&j(p.current))},[l,f.initialValues,K,o,j]),M.useEffect(function(){l&&b.current===!0&&!Xd(g.current,f.initialErrors)&&(g.current=f.initialErrors||$f,T({type:"SET_ERRORS",payload:f.initialErrors||$f}))},[l,f.initialErrors]),M.useEffect(function(){l&&b.current===!0&&!Xd(y.current,f.initialTouched)&&(y.current=f.initialTouched||JA,T({type:"SET_TOUCHED",payload:f.initialTouched||JA}))},[l,f.initialTouched]),M.useEffect(function(){l&&b.current===!0&&!Xd(v.current,f.initialStatus)&&(v.current=f.initialStatus,T({type:"SET_STATUS",payload:f.initialStatus}))},[l,f.initialStatus,f.initialTouched]);var B=Sa(function(se){if(_.current[se]&&vs(_.current[se].validate)){var xe=Fr(D.values,se),Ce=_.current[se].validate(xe);return pN(Ce)?(T({type:"SET_ISVALIDATING",payload:!0}),Ce.then(function(Me){return Me}).then(function(Me){T({type:"SET_FIELD_ERROR",payload:{field:se,value:Me}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:se,value:Ce}}),Promise.resolve(Ce))}else if(f.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),x(D.values,se).then(function(Me){return Me}).then(function(Me){T({type:"SET_FIELD_ERROR",payload:{field:se,value:Fr(Me,se)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),z=M.useCallback(function(se,xe){var Ce=xe.validate;_.current[se]={validate:Ce}},[]),Y=M.useCallback(function(se){delete _.current[se]},[]),V=Sa(function(se,xe){T({type:"SET_TOUCHED",payload:se});var Ce=xe===void 0?i:xe;return Ce?j(D.values):Promise.resolve()}),Q=M.useCallback(function(se){T({type:"SET_ERRORS",payload:se})},[]),G=Sa(function(se,xe){var Ce=vs(se)?se(D.values):se;T({type:"SET_VALUES",payload:Ce});var Me=xe===void 0?n:xe;return Me?j(Ce):Promise.resolve()}),ee=M.useCallback(function(se,xe){T({type:"SET_FIELD_ERROR",payload:{field:se,value:xe}})},[]),ne=Sa(function(se,xe,Ce){T({type:"SET_FIELD_VALUE",payload:{field:se,value:xe}});var Me=Ce===void 0?n:Ce;return Me?j(Ol(D.values,se,xe)):Promise.resolve()}),le=M.useCallback(function(se,xe){var Ce=xe,Me=se,ot;if(!fN(se)){se.persist&&se.persist();var Ye=se.target?se.target:se.currentTarget,yt=Ye.type,Mt=Ye.name,gr=Ye.id,lr=Ye.value,Ko=Ye.checked,$n=Ye.outerHTML,wi=Ye.options,zi=Ye.multiple;Ce=xe||Mt||gr,Me=/number|range/.test(yt)?(ot=parseFloat(lr),isNaN(ot)?"":ot):/checkbox/.test(yt)?r1e(Fr(D.values,Ce),Ko,lr):wi&&zi?n1e(wi):lr}Ce&&ne(Ce,Me)},[ne,D.values]),ue=Sa(function(se){if(fN(se))return function(xe){return le(xe,se)};le(se)}),re=Sa(function(se,xe,Ce){xe===void 0&&(xe=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:se,value:xe}});var Me=Ce===void 0?i:Ce;return Me?j(D.values):Promise.resolve()}),oe=M.useCallback(function(se,xe){se.persist&&se.persist();var Ce=se.target,Me=Ce.name,ot=Ce.id,Ye=Ce.outerHTML,yt=xe||Me||ot;re(yt,!0)},[re]),ye=Sa(function(se){if(fN(se))return function(xe){return oe(xe,se)};oe(se)}),Te=M.useCallback(function(se){vs(se)?T({type:"SET_FORMIK_STATE",payload:se}):T({type:"SET_FORMIK_STATE",payload:function(){return se}})},[]),Be=M.useCallback(function(se){T({type:"SET_STATUS",payload:se})},[]),et=M.useCallback(function(se){T({type:"SET_ISSUBMITTING",payload:se})},[]),tt=Sa(function(){return T({type:"SUBMIT_ATTEMPT"}),j().then(function(se){var xe=se instanceof Error,Ce=!xe&&Object.keys(se).length===0;if(Ce){var Me;try{if(Me=mt(),Me===void 0)return}catch(ot){throw ot}return Promise.resolve(Me).then(function(ot){return b.current&&T({type:"SUBMIT_SUCCESS"}),ot}).catch(function(ot){if(b.current)throw T({type:"SUBMIT_FAILURE"}),ot})}else if(b.current&&(T({type:"SUBMIT_FAILURE"}),xe))throw se})}),Fe=Sa(function(se){se&&se.preventDefault&&vs(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&vs(se.stopPropagation)&&se.stopPropagation(),tt().catch(function(xe){console.warn("Warning: An unhandled error was caught from submitForm()",xe)})}),pt={resetForm:K,validateForm:j,validateField:B,setErrors:Q,setFieldError:ee,setFieldTouched:re,setFieldValue:ne,setStatus:Be,setSubmitting:et,setTouched:V,setValues:G,setFormikState:Te,submitForm:tt},mt=Sa(function(){return u(D.values,pt)}),an=Sa(function(se){se&&se.preventDefault&&vs(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&vs(se.stopPropagation)&&se.stopPropagation(),K()}),Pt=M.useCallback(function(se){return{value:Fr(D.values,se),error:Fr(D.errors,se),touched:!!Fr(D.touched,se),initialValue:Fr(p.current,se),initialTouched:!!Fr(y.current,se),initialError:Fr(g.current,se)}},[D.errors,D.touched,D.values]),An=M.useCallback(function(se){return{setValue:function(Ce,Me){return ne(se,Ce,Me)},setTouched:function(Ce,Me){return re(se,Ce,Me)},setError:function(Ce){return ee(se,Ce)}}},[ne,re,ee]),Fn=M.useCallback(function(se){var xe=u1(se),Ce=xe?se.name:se,Me=Fr(D.values,Ce),ot={name:Ce,value:Me,onChange:ue,onBlur:ye};if(xe){var Ye=se.type,yt=se.value,Mt=se.as,gr=se.multiple;Ye==="checkbox"?yt===void 0?ot.checked=!!Me:(ot.checked=!!(Array.isArray(Me)&&~Me.indexOf(yt)),ot.value=yt):Ye==="radio"?(ot.checked=Me===yt,ot.value=yt):Mt==="select"&&gr&&(ot.value=ot.value||[],ot.multiple=!0)}return ot},[ye,ue,D.values]),fn=M.useMemo(function(){return!Xd(p.current,D.values)},[p.current,D.values]),mr=M.useMemo(function(){return typeof a<"u"?fn?D.errors&&Object.keys(D.errors).length===0:a!==!1&&vs(a)?a(f):a:D.errors&&Object.keys(D.errors).length===0},[a,fn,D.errors,f]),Jt=Yn({},D,{initialValues:p.current,initialErrors:g.current,initialTouched:y.current,initialStatus:v.current,handleBlur:ye,handleChange:ue,handleReset:an,handleSubmit:Fe,resetForm:K,setErrors:Q,setFormikState:Te,setFieldTouched:re,setFieldValue:ne,setFieldError:ee,setStatus:Be,setSubmitting:et,setTouched:V,setValues:G,submitForm:tt,validateForm:j,validateField:B,isValid:mr,dirty:fn,unregisterField:Y,registerField:z,getFieldProps:Fn,getFieldMeta:Pt,getFieldHelpers:An,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Jt}function d1(t){var e=JEe(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return M.useImperativeHandle(s,function(){return e}),M.createElement(GEe,{value:e},n?M.createElement(n,e):i?i(e):r?vs(r)?r(e):bZ(r)?null:M.Children.only(r):null)}function XEe(t){var e={};if(t.inner){if(t.inner.length===0)return Ol(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Fr(e,o.path)||(e=Ol(e,o.path,o.message))}}return e}function e1e(t,e,n,r){n===void 0&&(n=!1);var i=z2(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function z2(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||j6(i)?z2(i):i!==""?i:void 0}):j6(t[r])?e[r]=z2(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function t1e(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(s);r[o]=c?L2(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=L2(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function n1e(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function r1e(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var i1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?M.useLayoutEffect:M.useEffect;function Sa(t){var e=M.useRef(t);return i1e(function(){e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function Tc(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,c=Ah(t,["validate","name","render","children","as","component","className"]),l=wZ(),u=Ah(l,["validate","validationSchema"]),h=u.registerField,f=u.unregisterField;M.useEffect(function(){return h(n,{validate:e}),function(){f(n)}},[h,f,n,e]);var p=u.getFieldProps(Yn({name:n},c)),g=u.getFieldMeta(n),y={field:p,form:u};if(r)return r(Yn({},y,{meta:g}));if(vs(i))return i(Yn({},y,{meta:g}));if(o){if(typeof o=="string"){var v=c.innerRef,b=Ah(c,["innerRef"]);return M.createElement(o,Yn({ref:v},p,b,{className:a}),i)}return M.createElement(o,Yn({field:p,form:u},c,{className:a}),i)}var _=s||"input";if(typeof _=="string"){var A=c.innerRef,I=Ah(c,["innerRef"]);return M.createElement(_,Yn({ref:A},p,I,{className:a}),i)}return M.createElement(_,Yn({},p,c,{className:a}),i)}var ow=M.forwardRef(function(t,e){var n=t.action,r=Ah(t,["action"]),i=n??"#",s=wZ(),o=s.handleReset,a=s.handleSubmit;return M.createElement("form",Yn({onSubmit:a,ref:e,onReset:o,action:i},r))});ow.displayName="Form";function s1e(t){var e=function(i){return M.createElement(YEe,null,function(s){return s||pZ(!1),M.createElement(t,Yn({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",Whe(e,t)}var o1e=function(e,n,r){var i=Xp(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},a1e=function(e,n,r){var i=Xp(e),s=i[n];return i[n]=i[r],i[r]=s,i},mN=function(e,n,r){var i=Xp(e);return i.splice(n,0,r),i},c1e=function(e,n,r){var i=Xp(e);return i[n]=r,i},Xp=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Yn({},e,{length:n+1}))}else return[]},p8=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||u1(i)){var s=Xp(i);return r(s)}return i}},l1e=function(t){vZ(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var c=i.props,l=c.name,u=c.formik.setFormikState;u(function(h){var f=p8(a,s),p=p8(o,s),g=Ol(h.values,l,s(Fr(h.values,l))),y=a?f(Fr(h.errors,l)):void 0,v=o?p(Fr(h.touched,l)):void 0;return f8(y)&&(y=void 0),f8(v)&&(v=void 0),Yn({},h,{values:g,errors:a?Ol(h.errors,l,y):h.errors,touched:o?Ol(h.touched,l,v):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Xp(o),[X0(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return a1e(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return o1e(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return mN(a,s,o)},function(a){return mN(a,s,null)},function(a){return mN(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return c1e(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var c=a?[s].concat(a):[s];return o=c.length,c},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(h8(i)),i.pop=i.pop.bind(h8(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Xd(Fr(i.formik.values,i.name),Fr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Xp(o):[];return s||(s=a[i]),vs(a.splice)&&a.splice(i,1),vs(a.every)&&a.every(function(c){return c===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,c=s.children,l=s.name,u=s.formik,h=Ah(u,["validate","validationSchema"]),f=Yn({},i,{form:h,name:l});return o?M.createElement(o,f):a?a(f):c?typeof c=="function"?c(f):bZ(c)?null:M.Children.only(c):null},e}(M.Component);l1e.defaultProps={validateOnChange:!0};var u1e=function(t){vZ(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Fr(this.props.formik.errors,this.props.name)!==Fr(i.formik.errors,this.props.name)||Fr(this.props.formik.touched,this.props.name)!==Fr(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,c=i.children,l=i.name,u=Ah(i,["component","formik","render","children","name"]),h=Fr(o.touched,l),f=Fr(o.errors,l);return h&&f?a?vs(a)?a(f):null:c?vs(c)?c(f):null:s?M.createElement(s,u,f):f:null},e}(M.Component),Ch=s1e(u1e);function gN({labelText:t,labelClassName:e,name:n,type:r,placeholder:i,fieldClassName:s,containerClass:o,min:a,max:c,icon:l}){return C.jsxs("span",{className:o,children:[C.jsx("label",{htmlFor:n,className:e,children:t}),C.jsxs("div",{className:"input-with-icon",children:[l&&C.jsx("i",{className:`form-icon ${l}`}),C.jsx(Tc,{name:n,type:r,placeholder:i,className:`${s} ${l?"has-icon":""}`,min:a,max:c})]}),C.jsx(Ch,{name:n,className:"form-error",component:"div"})]})}function Fm(t){this._maxSize=t,this.clear()}Fm.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Fm.prototype.get=function(t){return this._values[t]};Fm.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var d1e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,EZ=/^\d+$/,h1e=/^\d/,f1e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,p1e=/^\s*(['"]?)(.*?)(\1)\s*$/,x$=512,m8=new Fm(x$),g8=new Fm(x$),y8=new Fm(x$),kp={Cache:Fm,split:V2,normalizePath:yN,setter:function(t){var e=yN(t);return g8.get(t)||g8.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=yN(t);return y8.get(t)||y8.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(P$(n)||EZ.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){m1e(Array.isArray(t)?t:V2(t),e,n)}};function yN(t){return m8.get(t)||m8.set(t,V2(t).map(function(e){return e.replace(p1e,"$2")}))}function V2(t){return t.match(d1e)||[""]}function m1e(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(v1e(i)&&(i='"'+i+'"'),a=P$(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function P$(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function g1e(t){return t.match(h1e)&&!t.match(EZ)}function y1e(t){return f1e.test(t)}function v1e(t){return!P$(t)&&(g1e(t)||y1e(t))}const w1e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,NP=t=>t.match(w1e)||[],RP=t=>t[0].toUpperCase()+t.slice(1),O$=(t,e)=>NP(t).join(e).toLowerCase(),AZ=t=>NP(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),b1e=t=>RP(AZ(t)),_1e=t=>O$(t,"_"),E1e=t=>O$(t,"-"),A1e=t=>RP(O$(t," ")),C1e=t=>NP(t).map(RP).join(" ");var vN={words:NP,upperFirst:RP,camelCase:AZ,pascalCase:b1e,snakeCase:_1e,kebabCase:E1e,sentenceCase:A1e,titleCase:C1e},D$={exports:{}};D$.exports=function(t){return CZ(T1e(t),t)};D$.exports.array=CZ;function CZ(t,e){var n=t.length,r=new Array(n),i={},s=n,o=S1e(e),a=I1e(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||c(t[s],s,new Set);return r;function c(l,u,h){if(h.has(l)){var f;try{f=", node was:"+JSON.stringify(l)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[u]){i[u]=!0;var p=o.get(l)||new Set;if(p=Array.from(p),u=p.length){h.add(l);do{var g=p[--u];c(g,a.get(g),h)}while(u);h.delete(l)}r[--n]=l}}}function T1e(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function S1e(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function I1e(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var x1e=D$.exports;const P1e=cs(x1e),O1e=Object.prototype.toString,D1e=Error.prototype.toString,N1e=RegExp.prototype.toString,R1e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",k1e=/^Symbol\((.*)\)(.*)$/;function M1e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function v8(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return M1e(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return R1e.call(t).replace(k1e,"Symbol($1)");const r=O1e.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+D1e.call(t)+"]":r==="RegExp"?N1e.call(t):null}function $u(t,e){let n=v8(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=v8(this[r],e);return s!==null?s:i},2)}function TZ(t){return t==null?[]:[].concat(t)}let SZ,IZ,xZ,L1e=/\$\{\s*(\w+)\s*\}/g;SZ=Symbol.toStringTag;class w8{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[SZ]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],TZ(e).forEach(s=>{if(Ro.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}IZ=Symbol.hasInstance;xZ=Symbol.toStringTag;class Ro extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(L1e,(i,s)=>$u(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new w8(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[xZ]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ro)}static[IZ](e){return w8[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ul={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${$u(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${$u(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${$u(n,!0)}\``+i}},Co={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},F1e={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},H2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},$1e={isValue:"${path} field must be ${value}"},wT={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},bT={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},j1e={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${$u(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${$u(n,!0)}\``}return Ro.formatError(ul.notType,t)}};Object.assign(Object.create(null),{mixed:ul,string:Co,number:F1e,date:H2,object:wT,array:bT,boolean:$1e,tuple:j1e});const kP=t=>t&&t.__isYupSchema__;class eI{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new eI(e,(a,c)=>{var l;let u=o(...a)?i:s;return(l=u==null?void 0:u(c))!=null?l:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!kP(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const XA={context:"$",value:"."};function U1e(t,e){return new Of(t,e)}class Of{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===XA.context,this.isValue=this.key[0]===XA.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?XA.context:this.isValue?XA.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&kp.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Of.prototype.__isYupRef=!0;const hp=t=>t==null;function Eg(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,c){const{name:l,test:u,params:h,message:f,skipAbsent:p}=t;let{parent:g,context:y,abortEarly:v=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=i;function _(R){return Of.isRef(R)?R.getValue(n,g,y):R}function A(R={}){const $=Object.assign({value:n,originalValue:s,label:o.spec.label,path:R.path||r,spec:o.spec,disableStackTrace:R.disableStackTrace||b},h,R.params);for(const K of Object.keys($))$[K]=_($[K]);const j=new Ro(Ro.formatError(R.message||f,$),n,$.path,R.type||l,$.disableStackTrace);return j.params=$,j}const I=v?a:c;let P={path:r,parent:g,type:l,from:i.from,createError:A,resolve:_,options:i,originalValue:s,schema:o};const D=R=>{Ro.isError(R)?I(R):R?c(null):I(A())},T=R=>{Ro.isError(R)?I(R):a(R)};if(p&&hp(n))return D(!0);let x;try{var N;if(x=u.call(P,n,P),typeof((N=x)==null?void 0:N.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(x).then(D,T)}}catch(R){T(R);return}D(x)}return e.OPTIONS=t,e}function B1e(t,e,n,r=n){let i,s,o;return e?(kp.forEach(e,(a,c,l)=>{let u=c?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",f=l?parseInt(u,10):0;if(t.innerType||h){if(h&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!l){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[u],t=t.fields[u]}s=u,o=c?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class tI extends Set{describe(){const e=[];for(const n of this.values())e.push(Of.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new tI(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function wy(t,e=new Map){if(kP(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=wy(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,wy(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(wy(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=wy(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Uc{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new tI,this._blacklist=new tI,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ul.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=wy(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&hp(s))return s;let o=$u(e),a=$u(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,c=e;a||(c=this._cast(c,Object.assign({assert:!1},n)));let l=[];for(let u of Object.values(this.internalTests))u&&l.push(u);this.runTests({path:s,value:c,originalValue:o,options:n,tests:l},r,u=>{if(u.length)return i(u,c);this.runTests({path:s,value:c,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:c,options:l}=e,u=y=>{i||(i=!0,n(y,o))},h=y=>{i||(i=!0,r(y,o))},f=s.length,p=[];if(!f)return h([]);let g={value:o,originalValue:a,path:c,options:l,schema:this};for(let y=0;y<s.length;y++){const v=s[y];v(g,u,function(_){_&&(Array.isArray(_)?p.push(..._):p.push(_)),--f<=0&&h(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:l,originalValue:s[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,f,p)=>this.resolve(u)._validate(l,u,f,p)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(c,l)=>{Ro.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new Ro(c,l,void 0,void 0,s)):o(l)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,c)=>{throw Ro.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new Ro(a,e,void 0,void 0,o);s=c}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Ro.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Ro.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):wy(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Eg({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Eg({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ul.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ul.notNull){return this.nullability(!1,e)}required(e=ul.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ul.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Eg(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=TZ(e).map(s=>new Of(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new eI(i,n):eI.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Eg({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ul.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Eg({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=ul.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Eg({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,l,u)=>u.findIndex(h=>h.name===c.name)===l)}}}Uc.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Uc.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=B1e(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Uc.prototype[t]=Uc.prototype.oneOf;for(const t of["not","nope"])Uc.prototype[t]=Uc.prototype.notOneOf;const z1e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function V1e(t){const e=W2(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function W2(t){var e,n;const r=z1e.exec(t);return r?{year:lu(r[1]),month:lu(r[2],1)-1,day:lu(r[3],1),hour:lu(r[4]),minute:lu(r[5]),second:lu(r[6]),millisecond:r[7]?lu(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:lu(r[10]),minuteOffset:lu(r[11])}:null}function lu(t,e=0){return Number(t)||e}let H1e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,W1e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,q1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,K1e="^\\d{4}-\\d{2}-\\d{2}",G1e="\\d{2}:\\d{2}:\\d{2}",Y1e="(([+-]\\d{2}(:?\\d{2})?)|Z)",Q1e=new RegExp(`${K1e}T${G1e}(\\.\\d+)?${Y1e}$`),Z1e=t=>hp(t)||t===t.trim(),J1e={}.toString();function Mo(){return new PZ}class PZ extends Uc{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===J1e?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ul.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Co.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Co.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Co.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Co.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Co.email){return this.matches(H1e,{name:"email",message:e,excludeEmptyString:!0})}url(e=Co.url){return this.matches(W1e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Co.uuid){return this.matches(q1e,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(Q1e,{name:"datetime",message:n||Co.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Co.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=W2(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Co.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=W2(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Co.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Z1e})}lowercase(e=Co.lowercase){return this.transform(n=>hp(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>hp(n)||n===n.toLowerCase()})}uppercase(e=Co.uppercase){return this.transform(n=>hp(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>hp(n)||n===n.toUpperCase()})}}Mo.prototype=PZ.prototype;let OZ=new Date(""),X1e=t=>Object.prototype.toString.call(t)==="[object Date]";function N$(){return new h1}class h1 extends Uc{constructor(){super({type:"date",check(e){return X1e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=V1e(e),isNaN(e)?h1.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Of.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=H2.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=H2.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}h1.INVALID_DATE=OZ;N$.prototype=h1.prototype;N$.INVALID_DATE=OZ;function eAe(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let c=kp.split(o)[0];r.add(c),i.has(`${a}-${c}`)||n.push([a,c])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Of.isRef(a)&&a.isSibling?s(a.path,o):kP(a)&&"deps"in a&&a.deps.forEach(c=>s(c,o))}return P1e.array(Array.from(r),n).reverse()}function b8(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function DZ(t){return(e,n)=>b8(t,e)-b8(t,n)}const NZ=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function _T(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=_T(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=_T(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(_T)}):"optional"in t?t.optional():t}const tAe=(t,e)=>{const n=[...kp.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=kp.getter(kp.join(n),!0)(t);return!!(i&&r in i)};let _8=t=>Object.prototype.toString.call(t)==="[object Object]";function E8(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const nAe=DZ([]);function aw(t){return new RZ(t)}class RZ extends Uc{constructor(e){super({type:"object",check(n){return _8(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=nAe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),c={},l=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),u=!1;for(const h of a){let f=s[h],p=h in i;if(f){let g,y=i[h];l.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:y,context:n.context,parent:c});let v=f instanceof Uc?f.spec:void 0,b=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||h in i;continue}g=!n.__validating||!b?f.cast(i[h],l):i[h],g!==void 0&&(c[h]=g)}else p&&!o&&(c[h]=i[h]);(p!==h in c||c[h]!==i[h])&&(u=!0)}return u?c:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,l)=>{if(!a||!_8(l)){i(c,l);return}o=o||l;let u=[];for(let h of this._nodes){let f=this.fields[h];!f||Of.isRef(f)||u.push(f.asNestedTest({options:n,key:h,parent:l,parentPath:n.path,originalParent:o}))}this.runTests({tests:u,value:l,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(c),l)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=eAe(e,n),r._sortErrors=DZ(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return _T(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=kp.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return tAe(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(NZ)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||wT.exact,test(n){if(n==null)return!0;const r=E8(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=wT.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=E8(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=wT.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(vN.camelCase)}snakeCase(){return this.transformKeys(vN.snakeCase)}constantCase(){return this.transformKeys(e=>vN.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}aw.prototype=RZ.prototype;function kZ(t){return new MZ(t)}class MZ extends Uc{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((o,a)=>{const c=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return c!==o&&(i=!0),c});return i?s:r}_validate(e,n={},r,i){var s;let o=this.innerType,a=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,l)=>{var u;if(!a||!o||!this._typeCheck(l)){i(c,l);return}let h=new Array(l.length);for(let p=0;p<l.length;p++){var f;h[p]=o.asNestedTest({options:n,index:p,parent:l,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:l,tests:h,originalValue:(u=n.originalValue)!=null?u:e,options:n},r,p=>i(p.concat(c),l))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(NZ)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!kP(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+$u(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=bT.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||bT.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||bT.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=n.innerType.describe(s)}return r}}kZ.prototype=MZ.prototype;function LZ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LZ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Is(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LZ(t))&&(r&&(r+=" "),r+=e);return r}const FZ=6048e5,rAe=864e5,MP=6e4,LP=36e5,iAe=1e3,A8=Symbol.for("constructDateFrom");function er(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&A8 in t?t[A8](e):t instanceof Date?new t.constructor(e):new Date(e)}function wt(t,e){return er(e||t,t)}function Nc(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(e)?er((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Bc(t,e,n){const r=wt(t,n==null?void 0:n.in);if(isNaN(e))return er((n==null?void 0:n.in)||t,NaN);if(!e)return r;const i=r.getDate(),s=er((n==null?void 0:n.in)||t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function $Z(t,e,n){return er((n==null?void 0:n.in)||t,+wt(t)+e)}function sAe(t,e,n){return $Z(t,e*LP,n)}let oAe={};function $m(){return oAe}function rd(t,e){var a,c,l,u;const n=$m(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=wt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function vv(t,e){return rd(t,{...e,weekStartsOn:1})}function jZ(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=er(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=vv(i),o=er(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=vv(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function nI(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bd(t,...e){const n=er.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function em(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function wv(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e),s=em(r),o=em(i),a=+s-nI(s),c=+o-nI(o);return Math.round((a-c)/rAe)}function aAe(t,e){const n=jZ(t,e),r=er((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),vv(r)}function q2(t,e,n){const r=wt(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*MP),r}function R$(t,e,n){return Bc(t,e*3,n)}function cAe(t,e,n){return $Z(t,e*1e3,n)}function rI(t,e,n){return Nc(t,e*7,n)}function ju(t,e,n){return Bc(t,e*12,n)}function C8(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=er.bind(null,i));const s=wt(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),er(r,n||NaN)}function T8(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=er.bind(null,i));const s=wt(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),er(r,n||NaN)}function lAe(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e);return+em(r)==+em(i)}function Uu(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function iI(t){return!(!Uu(t)&&typeof t!="number"||isNaN(+wt(t)))}function sI(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function Mp(t,e){const n=wt(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function oI(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=Mp(r)-Mp(i);return s*4+o}function aI(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}function uAe(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e),s=S8(r,i),o=Math.abs(wv(r,i));r.setDate(r.getDate()-s*o);const a=+(S8(r,i)===-s),c=s*(o-a);return c===0?0:c}function S8(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function UZ(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function BZ(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function K2(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function zZ(t,e){const n=wt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function VZ(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function FP(t,e){const n=wt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dAe(t,e){var a,c,l,u;const n=$m(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=wt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const hAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fAe=(t,e,n)=>{let r;const i=hAe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wN(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const pAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yAe={date:wN({formats:pAe,defaultWidth:"full"}),time:wN({formats:mAe,defaultWidth:"full"}),dateTime:wN({formats:gAe,defaultWidth:"full"})},vAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wAe=(t,e,n,r)=>vAe[t];function y0(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const bAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_Ae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SAe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},IAe={ordinalNumber:SAe,era:y0({values:bAe,defaultWidth:"wide"}),quarter:y0({values:_Ae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:y0({values:EAe,defaultWidth:"wide"}),day:y0({values:AAe,defaultWidth:"wide"}),dayPeriod:y0({values:CAe,defaultWidth:"wide",formattingValues:TAe,defaultFormattingWidth:"wide"})};function v0(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?PAe(a,h=>h.test(o)):xAe(a,h=>h.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function xAe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function PAe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function OAe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const DAe=/^(\d+)(th|st|nd|rd)?/i,NAe=/\d+/i,RAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kAe={any:[/^b/i,/^(a|c)/i]},MAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LAe={any:[/1/i,/2/i,/3/i,/4/i]},FAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$Ae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VAe={ordinalNumber:OAe({matchPattern:DAe,parsePattern:NAe,valueCallback:t=>parseInt(t,10)}),era:v0({matchPatterns:RAe,defaultMatchWidth:"wide",parsePatterns:kAe,defaultParseWidth:"any"}),quarter:v0({matchPatterns:MAe,defaultMatchWidth:"wide",parsePatterns:LAe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:v0({matchPatterns:FAe,defaultMatchWidth:"wide",parsePatterns:$Ae,defaultParseWidth:"any"}),day:v0({matchPatterns:jAe,defaultMatchWidth:"wide",parsePatterns:UAe,defaultParseWidth:"any"}),dayPeriod:v0({matchPatterns:BAe,defaultMatchWidth:"any",parsePatterns:zAe,defaultParseWidth:"any"})},HZ={code:"en-US",formatDistance:fAe,formatLong:yAe,formatRelative:wAe,localize:IAe,match:VAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HAe(t,e){const n=wt(t,e==null?void 0:e.in);return wv(n,FP(n))+1}function k$(t,e){const n=wt(t,e==null?void 0:e.in),r=+vv(n)-+aAe(n);return Math.round(r/FZ)+1}function M$(t,e){var u,h,f,p;const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=$m(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=er((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=rd(o,e),c=er((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const l=rd(c,e);return+n>=+a?r+1:+n>=+l?r:r-1}function WAe(t,e){var a,c,l,u;const n=$m(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=M$(t,e),s=er((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),rd(s,e)}function WZ(t,e){const n=wt(t,e==null?void 0:e.in),r=+rd(n,e)-+WAe(n,e);return Math.round(r/FZ)+1}function Gn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Gn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Gn(n+1,2)},d(t,e){return Gn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Gn(t.getHours()%12||12,e.length)},H(t,e){return Gn(t.getHours(),e.length)},m(t,e){return Gn(t.getMinutes(),e.length)},s(t,e){return Gn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Gn(i,e.length)}},Ag={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I8={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fd.y(t,e)},Y:function(t,e,n,r){const i=M$(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Gn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Gn(s,e.length)},R:function(t,e){const n=jZ(t);return Gn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Gn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Gn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Gn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Gn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=WZ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Gn(i,e.length)},I:function(t,e,n){const r=k$(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Gn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fd.d(t,e)},D:function(t,e,n){const r=HAe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Gn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Gn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Gn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Gn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ag.noon:r===0?i=Ag.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ag.evening:r>=12?i=Ag.afternoon:r>=4?i=Ag.morning:i=Ag.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Gn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Gn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fd.s(t,e)},S:function(t,e){return Fd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return P8(r);case"XXXX":case"XX":return Gf(r);case"XXXXX":case"XXX":default:return Gf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return P8(r);case"xxxx":case"xx":return Gf(r);case"xxxxx":case"xxx":default:return Gf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+x8(r,":");case"OOOO":default:return"GMT"+Gf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+x8(r,":");case"zzzz":default:return"GMT"+Gf(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Gn(r,e.length)},T:function(t,e,n){return Gn(+t,e.length)}};function x8(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Gn(s,2)}function P8(t,e){return t%60===0?(t>0?"-":"+")+Gn(Math.abs(t)/60,2):Gf(t,e)}function Gf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Gn(Math.trunc(r/60),2),s=Gn(r%60,2);return n+i+e+s}const O8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},qZ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qAe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return O8(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",O8(r,e)).replace("{{time}}",qZ(i,e))},G2={p:qZ,P:qAe},KAe=/^D+$/,GAe=/^Y+$/,YAe=["D","DD","YY","YYYY"];function KZ(t){return KAe.test(t)}function GZ(t){return GAe.test(t)}function Y2(t,e,n){const r=QAe(t,e,n);if(console.warn(r),YAe.includes(t))throw new RangeError(r)}function QAe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ZAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XAe=/^'([^]*?)'?$/,eCe=/''/g,tCe=/[a-zA-Z]/;function cI(t,e,n){var u,h,f,p,g,y,v,b;const r=$m(),i=(n==null?void 0:n.locale)??r.locale??HZ,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,a=wt(t,n==null?void 0:n.in);if(!iI(a))throw new RangeError("Invalid time value");let c=e.match(JAe).map(_=>{const A=_[0];if(A==="p"||A==="P"){const I=G2[A];return I(_,i.formatLong)}return _}).join("").match(ZAe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const A=_[0];if(A==="'")return{isToken:!1,value:nCe(_)};if(I8[A])return{isToken:!0,value:_};if(A.match(tCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const l={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const A=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&GZ(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&KZ(A))&&Y2(A,e,String(t));const I=I8[A[0]];return I(a,A,i.localize,l)}).join("")}function nCe(t){const e=t.match(XAe);return e?e[1].replace(eCe,"'"):t}function D8(t,e){return wt(t,e==null?void 0:e.in).getDate()}function rCe(t,e){return wt(t,e==null?void 0:e.in).getDay()}function iCe(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=er(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function sCe(){return Object.assign({},$m())}function Bu(t,e){return wt(t,e==null?void 0:e.in).getHours()}function oCe(t,e){const n=wt(t,e==null?void 0:e.in).getDay();return n===0?7:n}function zu(t,e){return wt(t,e==null?void 0:e.in).getMinutes()}function oo(t,e){return wt(t,e==null?void 0:e.in).getMonth()}function Uh(t){return wt(t).getSeconds()}function Q2(t){return+wt(t)}function sn(t,e){return wt(t,e==null?void 0:e.in).getFullYear()}function cf(t,e){return+wt(t)>+wt(e)}function tm(t,e){return+wt(t)<+wt(e)}function aCe(t,e){return+wt(t)==+wt(e)}function cCe(t,e){const n=lCe(e)?new e(0):er(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function lCe(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const uCe=10;class YZ{constructor(){Je(this,"subPriority",0)}validate(e,n){return!0}}class dCe extends YZ{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class hCe extends YZ{constructor(n,r){super();Je(this,"priority",uCe);Je(this,"subPriority",-1);this.context=n||(i=>er(r,i))}set(n,r){return r.timestampIsSet?n:er(n,cCe(n,this.context))}}class jn{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new dCe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class fCe extends jn{constructor(){super(...arguments);Je(this,"priority",140);Je(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const yi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},bl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vi(t,e){return t&&{value:e(t.value),rest:t.rest}}function Gr(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function _l(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*LP+s*MP+o*iAe),rest:e.slice(n[0].length)}}function QZ(t){return Gr(yi.anyDigitsSigned,t)}function ii(t,e){switch(t){case 1:return Gr(yi.singleDigit,e);case 2:return Gr(yi.twoDigits,e);case 3:return Gr(yi.threeDigits,e);case 4:return Gr(yi.fourDigits,e);default:return Gr(new RegExp("^\\d{1,"+t+"}"),e)}}function lI(t,e){switch(t){case 1:return Gr(yi.singleDigitSigned,e);case 2:return Gr(yi.twoDigitsSigned,e);case 3:return Gr(yi.threeDigitsSigned,e);case 4:return Gr(yi.fourDigitsSigned,e);default:return Gr(new RegExp("^-?\\d{1,"+t+"}"),e)}}function L$(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ZZ(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function JZ(t){return t%400===0||t%4===0&&t%100!==0}class pCe extends jn{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return vi(ii(4,n),s);case"yo":return vi(i.ordinalNumber(n,{unit:"year"}),s);default:return vi(ii(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=ZZ(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class mCe extends jn{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return vi(ii(4,n),s);case"Yo":return vi(i.ordinalNumber(n,{unit:"year"}),s);default:return vi(ii(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=M$(n,s);if(i.isTwoDigitYear){const c=ZZ(i.year,o);return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),rd(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),rd(n,s)}}class gCe extends jn{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return lI(r==="R"?4:r.length,n)}set(n,r,i){const s=er(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),vv(s)}}class yCe extends jn{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return lI(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class vCe extends jn{constructor(){super(...arguments);Je(this,"priority",120);Je(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return ii(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class wCe extends jn{constructor(){super(...arguments);Je(this,"priority",120);Je(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return ii(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class bCe extends jn{constructor(){super(...arguments);Je(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Je(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return vi(Gr(yi.month,n),s);case"MM":return vi(ii(2,n),s);case"Mo":return vi(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class _Ce extends jn{constructor(){super(...arguments);Je(this,"priority",110);Je(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return vi(Gr(yi.month,n),s);case"LL":return vi(ii(2,n),s);case"Lo":return vi(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function ECe(t,e,n){const r=wt(t,n==null?void 0:n.in),i=WZ(r,n)-e;return r.setDate(r.getDate()-i*7),wt(r,n==null?void 0:n.in)}class ACe extends jn{constructor(){super(...arguments);Je(this,"priority",100);Je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Gr(yi.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return ii(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return rd(ECe(n,i,s),s)}}function CCe(t,e,n){const r=wt(t,n==null?void 0:n.in),i=k$(r,n)-e;return r.setDate(r.getDate()-i*7),r}class TCe extends jn{constructor(){super(...arguments);Je(this,"priority",100);Je(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Gr(yi.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return ii(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return vv(CCe(n,i))}}const SCe=[31,28,31,30,31,30,31,31,30,31,30,31],ICe=[31,29,31,30,31,30,31,31,30,31,30,31];class xCe extends jn{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"subPriority",1);Je(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Gr(yi.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return ii(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=JZ(i),o=n.getMonth();return s?r>=1&&r<=ICe[o]:r>=1&&r<=SCe[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class PCe extends jn{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"subpriority",1);Je(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Gr(yi.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return ii(r.length,n)}}validate(n,r){const i=n.getFullYear();return JZ(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function F$(t,e,n){var h,f,p,g;const r=$m(),i=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=wt(t,n==null?void 0:n.in),o=s.getDay(),c=(e%7+7)%7,l=7-i,u=e<0||e>6?e-(o+l)%7:(c+l)%7-(o+l)%7;return Nc(s,u,n)}class OCe extends jn{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=F$(n,i,s),n.setHours(0,0,0,0),n}}class DCe extends jn{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return vi(ii(r.length,n),o);case"eo":return vi(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=F$(n,i,s),n.setHours(0,0,0,0),n}}class NCe extends jn{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return vi(ii(r.length,n),o);case"co":return vi(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=F$(n,i,s),n.setHours(0,0,0,0),n}}function RCe(t,e,n){const r=wt(t,n==null?void 0:n.in),i=oCe(r,n),s=e-i;return Nc(r,s,n)}class kCe extends jn{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return ii(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return vi(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return vi(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return vi(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return vi(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=RCe(n,i),n.setHours(0,0,0,0),n}}class MCe extends jn{constructor(){super(...arguments);Je(this,"priority",80);Je(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(L$(i),0,0,0),n}}class LCe extends jn{constructor(){super(...arguments);Je(this,"priority",80);Je(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(L$(i),0,0,0),n}}class FCe extends jn{constructor(){super(...arguments);Je(this,"priority",80);Je(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(L$(i),0,0,0),n}}class $Ce extends jn{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Gr(yi.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return ii(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class jCe extends jn{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Gr(yi.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return ii(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class UCe extends jn{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Gr(yi.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return ii(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class BCe extends jn{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Gr(yi.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return ii(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class zCe extends jn{constructor(){super(...arguments);Je(this,"priority",60);Je(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Gr(yi.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return ii(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class VCe extends jn{constructor(){super(...arguments);Je(this,"priority",50);Je(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Gr(yi.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return ii(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class HCe extends jn{constructor(){super(...arguments);Je(this,"priority",30);Je(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return vi(ii(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class WCe extends jn{constructor(){super(...arguments);Je(this,"priority",10);Je(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return _l(bl.basicOptionalMinutes,n);case"XX":return _l(bl.basic,n);case"XXXX":return _l(bl.basicOptionalSeconds,n);case"XXXXX":return _l(bl.extendedOptionalSeconds,n);case"XXX":default:return _l(bl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:er(n,n.getTime()-nI(n)-i)}}class qCe extends jn{constructor(){super(...arguments);Je(this,"priority",10);Je(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return _l(bl.basicOptionalMinutes,n);case"xx":return _l(bl.basic,n);case"xxxx":return _l(bl.basicOptionalSeconds,n);case"xxxxx":return _l(bl.extendedOptionalSeconds,n);case"xxx":default:return _l(bl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:er(n,n.getTime()-nI(n)-i)}}class KCe extends jn{constructor(){super(...arguments);Je(this,"priority",40);Je(this,"incompatibleTokens","*")}parse(n){return QZ(n)}set(n,r,i){return[er(n,i*1e3),{timestampIsSet:!0}]}}class GCe extends jn{constructor(){super(...arguments);Je(this,"priority",20);Je(this,"incompatibleTokens","*")}parse(n){return QZ(n)}set(n,r,i){return[er(n,i),{timestampIsSet:!0}]}}const YCe={G:new fCe,y:new pCe,Y:new mCe,R:new gCe,u:new yCe,Q:new vCe,q:new wCe,M:new bCe,L:new _Ce,w:new ACe,I:new TCe,d:new xCe,D:new PCe,E:new OCe,e:new DCe,c:new NCe,i:new kCe,a:new MCe,b:new LCe,B:new FCe,h:new $Ce,H:new jCe,K:new UCe,k:new BCe,m:new zCe,s:new VCe,S:new HCe,X:new WCe,x:new qCe,t:new KCe,T:new GCe},QCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JCe=/^'([^]*?)'?$/,XCe=/''/g,eTe=/\S/,tTe=/[a-zA-Z]/;function nTe(t,e,n,r){var v,b,_,A,I,P,D,T;const i=()=>er((r==null?void 0:r.in)||n,NaN),s=sCe(),o=(r==null?void 0:r.locale)??s.locale??HZ,a=(r==null?void 0:r.firstWeekContainsDate)??((b=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(_=s.locale)==null?void 0:_.options)==null?void 0:A.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((P=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:P.weekStartsOn)??s.weekStartsOn??((T=(D=s.locale)==null?void 0:D.options)==null?void 0:T.weekStartsOn)??0;if(!e)return t?i():wt(n,r==null?void 0:r.in);const l={firstWeekContainsDate:a,weekStartsOn:c,locale:o},u=[new hCe(r==null?void 0:r.in,n)],h=e.match(ZCe).map(S=>{const x=S[0];if(x in G2){const N=G2[x];return N(S,o.formatLong)}return S}).join("").match(QCe),f=[];for(let S of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&GZ(S)&&Y2(S,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&KZ(S)&&Y2(S,e,t);const x=S[0],N=YCe[x];if(N){const{incompatibleTokens:R}=N;if(Array.isArray(R)){const j=f.find(K=>R.includes(K.token)||K.token===x);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${S}\` at the same time`)}else if(N.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);f.push({token:x,fullToken:S});const $=N.run(t,S,o.match,l);if(!$)return i();u.push($.setter),t=$.rest}else{if(x.match(tTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");if(S==="''"?S="'":x==="'"&&(S=rTe(S)),t.indexOf(S)===0)t=t.slice(S.length);else return i()}}if(t.length>0&&eTe.test(t))return i();const p=u.map(S=>S.priority).sort((S,x)=>x-S).filter((S,x,N)=>N.indexOf(S)===x).map(S=>u.filter(x=>x.priority===S).sort((x,N)=>N.subPriority-x.subPriority)).map(S=>S[0]);let g=wt(n,r==null?void 0:r.in);if(isNaN(+g))return i();const y={};for(const S of p){if(!S.validate(g,l))return i();const x=S.set(g,y,l);Array.isArray(x)?(g=x[0],Object.assign(y,x[1])):g=x}return g}function rTe(t){return t.match(JCe)[1].replace(XCe,"'")}function iTe(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function sTe(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e);return+K2(r)==+K2(i)}function oTe(t,e,n){const[r,i]=bd(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function x_(t,e,n){const r=+wt(t,n==null?void 0:n.in),[i,s]=[+wt(e.start,n==null?void 0:n.in),+wt(e.end,n==null?void 0:n.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function aTe(t,e,n){return Nc(t,-e,n)}function cTe(t,e){const n=()=>er(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=hTe(t);let s;if(i.date){const l=fTe(i.date,r);s=pTe(l.restDateString,l.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,c;if(i.time&&(a=mTe(i.time),isNaN(a)))return n();if(i.timezone){if(c=gTe(i.timezone),isNaN(c))return n()}else{const l=new Date(o+a),u=wt(0,e==null?void 0:e.in);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return wt(o+a+c,e==null?void 0:e.in)}const eC={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lTe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uTe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dTe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hTe(t){const e={},n=t.split(eC.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],eC.timeZoneDelimiter.test(e.date)&&(e.date=t.split(eC.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=eC.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function fTe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function pTe(t,e){if(e===null)return new Date(NaN);const n=t.match(lTe);if(!n)return new Date(NaN);const r=!!n[4],i=w0(n[1]),s=w0(n[2])-1,o=w0(n[3]),a=w0(n[4]),c=w0(n[5])-1;if(r)return _Te(e,a,c)?yTe(e,a,c):new Date(NaN);{const l=new Date(0);return!wTe(e,s,o)||!bTe(e,i)?new Date(NaN):(l.setUTCFullYear(e,s,Math.max(i,o)),l)}}function w0(t){return t?parseInt(t):1}function mTe(t){const e=t.match(uTe);if(!e)return NaN;const n=bN(e[1]),r=bN(e[2]),i=bN(e[3]);return ETe(n,r,i)?n*LP+r*MP+i*1e3:NaN}function bN(t){return t&&parseFloat(t.replace(",","."))||0}function gTe(t){if(t==="Z")return 0;const e=t.match(dTe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return ATe(r,i)?n*(r*LP+i*MP):NaN}function yTe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const vTe=[31,null,31,30,31,30,31,31,30,31,30,31];function XZ(t){return t%400===0||t%4===0&&t%100!==0}function wTe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(vTe[e]||(XZ(t)?29:28))}function bTe(t,e){return e>=1&&e<=(XZ(t)?366:365)}function _Te(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ETe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function ATe(t,e){return e>=0&&e<=59}function Fa(t,e,n){const r=wt(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=er((n==null?void 0:n.in)||t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=iCe(o);return r.setMonth(e,Math.min(s,a)),r}function ET(t,e,n){const r=wt(t,n==null?void 0:n.in);return r.setHours(e),r}function AT(t,e,n){const r=wt(t,n==null?void 0:n.in);return r.setMinutes(e),r}function Qg(t,e,n){const r=wt(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return Fa(r,r.getMonth()+s*3)}function CT(t,e,n){const r=wt(t,n==null?void 0:n.in);return r.setSeconds(e),r}function dl(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(+r)?er((n==null?void 0:n.in)||t,NaN):(r.setFullYear(e),r)}function Lp(t,e,n){return Bc(t,-e,n)}function eJ(t,e,n){return R$(t,-e,n)}function N8(t,e,n){return rI(t,-e,n)}function bv(t,e,n){return ju(t,-e,n)}function $P(){return typeof window<"u"}function cw(t){return tJ(t)?(t.nodeName||"").toLowerCase():"#document"}function ua(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zl(t){var e;return(e=(tJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tJ(t){return $P()?t instanceof Node||t instanceof ua(t).Node:!1}function ao(t){return $P()?t instanceof Element||t instanceof ua(t).Element:!1}function jl(t){return $P()?t instanceof HTMLElement||t instanceof ua(t).HTMLElement:!1}function R8(t){return!$P()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ua(t).ShadowRoot}function f1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function CTe(t){return["table","td","th"].includes(cw(t))}function jP(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $$(t){const e=j$(),n=ao(t)?Qa(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TTe(t){let e=lf(t);for(;jl(e)&&!_v(e);){if($$(e))return e;if(jP(e))return null;e=lf(e)}return null}function j$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _v(t){return["html","body","#document"].includes(cw(t))}function Qa(t){return ua(t).getComputedStyle(t)}function UP(t){return ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lf(t){if(cw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||R8(t)&&t.host||Zl(t);return R8(e)?e.host:e}function nJ(t){const e=lf(t);return _v(e)?t.ownerDocument?t.ownerDocument.body:t.body:jl(e)&&f1(e)?e:nJ(e)}function P_(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=nJ(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ua(i);if(s){const a=Z2(o);return e.concat(o,o.visualViewport||[],f1(i)?i:[],a&&n?P_(a):[])}return e.concat(i,P_(i,[],n))}function Z2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Ev=Math.min,Fp=Math.max,uI=Math.round,tC=Math.floor,Dl=t=>({x:t,y:t}),STe={left:"right",right:"left",bottom:"top",top:"bottom"},ITe={start:"end",end:"start"};function xTe(t,e,n){return Fp(t,Ev(e,n))}function BP(t,e){return typeof t=="function"?t(e):t}function Av(t){return t.split("-")[0]}function p1(t){return t.split("-")[1]}function PTe(t){return t==="x"?"y":"x"}function U$(t){return t==="y"?"height":"width"}function O_(t){return["top","bottom"].includes(Av(t))?"y":"x"}function B$(t){return PTe(O_(t))}function OTe(t,e,n){n===void 0&&(n=!1);const r=p1(t),i=B$(t),s=U$(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=dI(o)),[o,dI(o)]}function DTe(t){const e=dI(t);return[J2(t),e,J2(e)]}function J2(t){return t.replace(/start|end/g,e=>ITe[e])}function NTe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function RTe(t,e,n,r){const i=p1(t);let s=NTe(Av(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(J2)))),s}function dI(t){return t.replace(/left|right|bottom|top/g,e=>STe[e])}function kTe(t){return{top:0,right:0,bottom:0,left:0,...t}}function rJ(t){return typeof t!="number"?kTe(t):{top:t,right:t,bottom:t,left:t}}function hI(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var fI=typeof document<"u"?M.useLayoutEffect:M.useEffect;const MTe={...Y3},LTe=MTe.useInsertionEffect,FTe=LTe||(t=>t());function $Te(t){const e=M.useRef(()=>{});return FTe(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function k8(t,e,n){let{reference:r,floating:i}=t;const s=O_(e),o=B$(e),a=U$(o),c=Av(e),l=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(p1(e)){case"start":p[o]-=f*(n&&l?-1:1);break;case"end":p[o]+=f*(n&&l?-1:1);break}return p}const jTe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=k8(l,r,c),f=r,p={},g=0;for(let y=0;y<a.length;y++){const{name:v,fn:b}=a[y],{x:_,y:A,data:I,reset:P}=await b({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});u=_??u,h=A??h,p={...p,[v]:{...p[v],...I}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(l=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:u,y:h}=k8(l,f,c)),y=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function UTe(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=BP(e,t),g=rJ(p),v=a[f?h==="floating"?"reference":"floating":h],b=hI(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},P=hI(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:A,strategy:c}):_);return{top:(b.top-P.top+g.top)/I.y,bottom:(P.bottom-b.bottom+g.bottom)/I.y,left:(b.left-P.left+g.left)/I.x,right:(P.right-b.right+g.right)/I.x}}const BTe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=BP(t,e)||{};if(l==null)return{};const h=rJ(u),f={x:n,y:r},p=B$(i),g=U$(p),y=await o.getDimensions(l),v=p==="y",b=v?"top":"left",_=v?"bottom":"right",A=v?"clientHeight":"clientWidth",I=s.reference[g]+s.reference[p]-f[p]-s.floating[g],P=f[p]-s.reference[p],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let T=D?D[A]:0;(!T||!await(o.isElement==null?void 0:o.isElement(D)))&&(T=a.floating[A]||s.floating[g]);const S=I/2-P/2,x=T/2-y[g]/2-1,N=Ev(h[b],x),R=Ev(h[_],x),$=N,j=T-y[g]-R,K=T/2-y[g]/2+S,B=xTe($,K,j),z=!c.arrow&&p1(i)!=null&&K!==B&&s.reference[g]/2-(K<$?N:R)-y[g]/2<0,Y=z?K<$?K-$:K-j:0;return{[p]:f[p]+Y,data:{[p]:B,centerOffset:K-B-Y,...z&&{alignmentOffset:Y}},reset:z}}}),zTe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=BP(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Av(i),_=O_(a),A=Av(a)===a,I=await(c.isRTL==null?void 0:c.isRTL(l.floating)),P=f||(A||!y?[dI(a)]:DTe(a)),D=g!=="none";!f&&D&&P.push(...RTe(a,y,g,I));const T=[a,...P],S=await UTe(e,v),x=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&x.push(S[b]),h){const K=OTe(i,o,I);x.push(S[K[0]],S[K[1]])}if(N=[...N,{placement:i,overflows:x}],!x.every(K=>K<=0)){var R,$;const K=(((R=s.flip)==null?void 0:R.index)||0)+1,B=T[K];if(B)return{data:{index:K,overflows:N},reset:{placement:B}};let z=($=N.filter(Y=>Y.overflows[0]<=0).sort((Y,V)=>Y.overflows[1]-V.overflows[1])[0])==null?void 0:$.placement;if(!z)switch(p){case"bestFit":{var j;const Y=(j=N.filter(V=>{if(D){const Q=O_(V.placement);return Q===_||Q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Q=>Q>0).reduce((Q,G)=>Q+G,0)]).sort((V,Q)=>V[1]-Q[1])[0])==null?void 0:j[0];Y&&(z=Y);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};async function VTe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Av(n),a=p1(n),c=O_(n)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,h=BP(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}const HTe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await VTe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}};function iJ(t){const e=Qa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=jl(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=uI(n)!==s||uI(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function z$(t){return ao(t)?t:t.contextElement}function My(t){const e=z$(t);if(!jl(e))return Dl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=iJ(e);let o=(s?uI(n.width):n.width)/r,a=(s?uI(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const WTe=Dl(0);function sJ(t){const e=ua(t);return!j$()||!e.visualViewport?WTe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qTe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ua(t)?!1:e}function nm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=z$(t);let o=Dl(1);e&&(r?ao(r)&&(o=My(r)):o=My(t));const a=qTe(s,n,r)?sJ(s):Dl(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=ua(s),p=r&&ao(r)?ua(r):r;let g=f,y=Z2(g);for(;y&&r&&p!==g;){const v=My(y),b=y.getBoundingClientRect(),_=Qa(y),A=b.left+(y.clientLeft+parseFloat(_.paddingLeft))*v.x,I=b.top+(y.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,l*=v.y,u*=v.x,h*=v.y,c+=A,l+=I,g=ua(y),y=Z2(g)}}return hI({width:u,height:h,x:c,y:l})}function V$(t,e){const n=UP(t).scrollLeft;return e?e.left+n:nm(Zl(t)).left+n}function oJ(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:V$(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function KTe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Zl(r),a=e?jP(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=Dl(1);const u=Dl(0),h=jl(r);if((h||!h&&!s)&&((cw(r)!=="body"||f1(o))&&(c=UP(r)),jl(r))){const p=nm(r);l=My(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!h&&!s?oJ(o,c,!0):Dl(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function GTe(t){return Array.from(t.getClientRects())}function YTe(t){const e=Zl(t),n=UP(t),r=t.ownerDocument.body,i=Fp(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Fp(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+V$(t);const a=-n.scrollTop;return Qa(r).direction==="rtl"&&(o+=Fp(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function QTe(t,e){const n=ua(t),r=Zl(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=j$();(!l||l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function ZTe(t,e){const n=nm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=jl(t)?My(t):Dl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function M8(t,e,n){let r;if(e==="viewport")r=QTe(t,n);else if(e==="document")r=YTe(Zl(t));else if(ao(e))r=ZTe(e,n);else{const i=sJ(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hI(r)}function aJ(t,e){const n=lf(t);return n===e||!ao(n)||_v(n)?!1:Qa(n).position==="fixed"||aJ(n,e)}function JTe(t,e){const n=e.get(t);if(n)return n;let r=P_(t,[],!1).filter(a=>ao(a)&&cw(a)!=="body"),i=null;const s=Qa(t).position==="fixed";let o=s?lf(t):t;for(;ao(o)&&!_v(o);){const a=Qa(o),c=$$(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||f1(o)&&!c&&aJ(t,o))?r=r.filter(u=>u!==o):i=a,o=lf(o)}return e.set(t,r),r}function XTe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?jP(e)?[]:JTe(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const h=M8(e,u,i);return l.top=Fp(h.top,l.top),l.right=Ev(h.right,l.right),l.bottom=Ev(h.bottom,l.bottom),l.left=Fp(h.left,l.left),l},M8(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eSe(t){const{width:e,height:n}=iJ(t);return{width:e,height:n}}function tSe(t,e,n){const r=jl(e),i=Zl(e),s=n==="fixed",o=nm(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Dl(0);if(r||!r&&!s)if((cw(e)!=="body"||f1(i))&&(a=UP(e)),r){const f=nm(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&(c.x=V$(i));const l=i&&!r&&!s?oJ(i,a):Dl(0),u=o.left+a.scrollLeft-c.x-l.x,h=o.top+a.scrollTop-c.y-l.y;return{x:u,y:h,width:o.width,height:o.height}}function _N(t){return Qa(t).position==="static"}function L8(t,e){if(!jl(t)||Qa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zl(t)===n&&(n=n.ownerDocument.body),n}function cJ(t,e){const n=ua(t);if(jP(t))return n;if(!jl(t)){let i=lf(t);for(;i&&!_v(i);){if(ao(i)&&!_N(i))return i;i=lf(i)}return n}let r=L8(t,e);for(;r&&CTe(r)&&_N(r);)r=L8(r,e);return r&&_v(r)&&_N(r)&&!$$(r)?n:r||TTe(t)||n}const nSe=async function(t){const e=this.getOffsetParent||cJ,n=this.getDimensions,r=await n(t.floating);return{reference:tSe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rSe(t){return Qa(t).direction==="rtl"}const iSe={convertOffsetParentRelativeRectToViewportRelativeRect:KTe,getDocumentElement:Zl,getClippingRect:XTe,getOffsetParent:cJ,getElementRects:nSe,getClientRects:GTe,getDimensions:eSe,getScale:My,isElement:ao,isRTL:rSe};function lJ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sSe(t,e){let n=null,r;const i=Zl(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const l=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=l;if(a||e(),!f||!p)return;const g=tC(h),y=tC(i.clientWidth-(u+f)),v=tC(i.clientHeight-(h+p)),b=tC(u),A={rootMargin:-g+"px "+-y+"px "+-v+"px "+-b+"px",threshold:Fp(0,Ev(1,c))||1};let I=!0;function P(D){const T=D[0].intersectionRatio;if(T!==c){if(!I)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!lJ(l,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(P,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,A)}n.observe(t)}return o(!0),s}function oSe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=z$(t),u=i||s?[...l?P_(l):[],...P_(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const h=l&&a?sSe(l,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(b=>{let[_]=b;_&&_.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(e)})),n()}),l&&!c&&p.observe(l),p.observe(e));let g,y=c?nm(t):null;c&&v();function v(){const b=nm(t);y&&!lJ(y,b)&&n(),y=b,g=requestAnimationFrame(v)}return n(),()=>{var b;u.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const aSe=HTe,cSe=zTe,F8=BTe,lSe=(t,e,n)=>{const r=new Map,i={platform:iSe,...n},s={...i.platform,_c:r};return jTe(t,e,{...i,platform:s})};var TT=typeof document<"u"?M.useLayoutEffect:M.useEffect;function pI(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pI(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!pI(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function uJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $8(t,e){const n=uJ(t);return Math.round(e*n)/n}function EN(t){const e=M.useRef(t);return TT(()=>{e.current=t}),e}function uSe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,h]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=M.useState(r);pI(f,r)||p(r);const[g,y]=M.useState(null),[v,b]=M.useState(null),_=M.useCallback(V=>{V!==D.current&&(D.current=V,y(V))},[]),A=M.useCallback(V=>{V!==T.current&&(T.current=V,b(V))},[]),I=s||g,P=o||v,D=M.useRef(null),T=M.useRef(null),S=M.useRef(u),x=c!=null,N=EN(c),R=EN(i),$=EN(l),j=M.useCallback(()=>{if(!D.current||!T.current)return;const V={placement:e,strategy:n,middleware:f};R.current&&(V.platform=R.current),lSe(D.current,T.current,V).then(Q=>{const G={...Q,isPositioned:$.current!==!1};K.current&&!pI(S.current,G)&&(S.current=G,xf.flushSync(()=>{h(G)}))})},[f,e,n,R,$]);TT(()=>{l===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[l]);const K=M.useRef(!1);TT(()=>(K.current=!0,()=>{K.current=!1}),[]),TT(()=>{if(I&&(D.current=I),P&&(T.current=P),I&&P){if(N.current)return N.current(I,P,j);j()}},[I,P,j,N,x]);const B=M.useMemo(()=>({reference:D,floating:T,setReference:_,setFloating:A}),[_,A]),z=M.useMemo(()=>({reference:I,floating:P}),[I,P]),Y=M.useMemo(()=>{const V={position:n,left:0,top:0};if(!z.floating)return V;const Q=$8(z.floating,u.x),G=$8(z.floating,u.y);return a?{...V,transform:"translate("+Q+"px, "+G+"px)",...uJ(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:G}},[n,a,z.floating,u.x,u.y]);return M.useMemo(()=>({...u,update:j,refs:B,elements:z,floatingStyles:Y}),[u,j,B,z,Y])}const dSe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?F8({element:r.current,padding:i}).fn(n):{}:r?F8({element:r,padding:i}).fn(n):{}}}},hSe=(t,e)=>({...aSe(t),options:[t,e]}),fSe=(t,e)=>({...cSe(t),options:[t,e]}),pSe=(t,e)=>({...dSe(t),options:[t,e]}),mSe={...Y3};let j8=!1,gSe=0;const U8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+gSe++;function ySe(){const[t,e]=M.useState(()=>j8?U8():void 0);return fI(()=>{t==null&&e(U8())},[]),M.useEffect(()=>{j8=!0},[]),t}const vSe=mSe.useId,dJ=vSe||ySe,wSe=M.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:c=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:h,stroke:f,d:p,style:{transform:g,...y}={},...v}=e,b=dJ(),[_,A]=M.useState(!1);if(fI(()=>{if(!i)return;Qa(i).direction==="rtl"&&A(!0)},[i]),!i)return null;const[I,P]=r.split("-"),D=I==="top"||I==="bottom";let T=h;(D&&o!=null&&o.x||!D&&o!=null&&o.y)&&(T=null);const S=u*2,x=S/2,N=a/2*(l/-8+1),R=c/2*l/4,$=!!p,j=T&&P==="end"?"bottom":"top";let K=T&&P==="end"?"right":"left";T&&_&&(K=P==="end"?"left":"right");const B=(s==null?void 0:s.x)!=null?T||s.x:"",z=(s==null?void 0:s.y)!=null?T||s.y:"",Y=p||"M0,0"+(" H"+a)+(" L"+(a-N)+","+(c-R))+(" Q"+a/2+","+c+" "+N+","+(c-R))+" Z",V={top:$?"rotate(180deg)":"",left:$?"rotate(90deg)":"rotate(-90deg)",bottom:$?"":"rotate(180deg)",right:$?"rotate(-90deg)":"rotate(90deg)"}[I];return C.jsxs("svg",{...v,"aria-hidden":!0,ref:n,width:$?a:a+S,height:a,viewBox:"0 0 "+a+" "+(c>a?c:a),style:{position:"absolute",pointerEvents:"none",[K]:B,[j]:z,[I]:D||$?"100%":"calc(100% - "+S/2+"px)",transform:[V,g].filter(Q=>!!Q).join(" "),...y},children:[S>0&&C.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:f,strokeWidth:S+(p?0:1),d:Y}),C.jsx("path",{stroke:S&&!p?v.fill:"none",d:Y}),C.jsx("clipPath",{id:b,children:C.jsx("rect",{x:-x,y:x*($?-1:1),width:a+S,height:a})})]})});function bSe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const _Se=M.createContext(null),ESe=M.createContext(null),ASe=()=>{var t;return((t=M.useContext(_Se))==null?void 0:t.id)||null},CSe=()=>M.useContext(ESe);function TSe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=dJ(),s=M.useRef({}),[o]=M.useState(()=>bSe()),a=ASe()!=null,[c,l]=M.useState(r.reference),u=$Te((p,g,y)=>{s.current.openEvent=p?g:void 0,o.emit("openchange",{open:p,event:g,reason:y,nested:a}),n==null||n(p,g,y)}),h=M.useMemo(()=>({setPositionReference:l}),[]),f=M.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return M.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function SSe(t){t===void 0&&(t={});const{nodeId:e}=t,n=TSe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=M.useState(null),[a,c]=M.useState(null),u=(i==null?void 0:i.domReference)||s,h=M.useRef(null),f=CSe();fI(()=>{u&&(h.current=u)},[u]);const p=uSe({...t,elements:{...i,...a&&{reference:a}}}),g=M.useCallback(A=>{const I=ao(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;c(I),p.refs.setReference(I)},[p.refs]),y=M.useCallback(A=>{(ao(A)||A===null)&&(h.current=A,o(A)),(ao(p.refs.reference.current)||p.refs.reference.current===null||A!==null&&!ao(A))&&p.refs.setReference(A)},[p.refs]),v=M.useMemo(()=>({...p.refs,setReference:y,setPositionReference:g,domReference:h}),[p.refs,y,g]),b=M.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),_=M.useMemo(()=>({...p,...r,refs:v,elements:b,nodeId:e}),[p,v,b,e,r]);return fI(()=>{r.dataRef.current.floatingContext=_;const A=f==null?void 0:f.nodesRef.current.find(I=>I.id===e);A&&(A.context=_)}),M.useMemo(()=>({...p,context:_,refs:v,elements:b}),[p,v,b,_])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var X2=function(e,n){return X2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},X2(e,n)};function us(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");X2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var On=function(){return On=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},On.apply(this,arguments)};function Cl(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ISe=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return ce.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},xSe=function(t,e){var n=M.useRef(null),r=M.useRef(t);r.current=t;var i=M.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},zP=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=xSe(n,o);return ce.createElement("div",{className:r,style:s,ref:function(c){a.current=c,i&&(i.current=c)}},e)},He;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(He||(He={}));function hJ(){var t=typeof window<"u"?window:globalThis;return t}var m1=12;function Hn(t){if(t==null)return new Date;var e=typeof t=="string"?cTe(t):wt(t);return VP(e)?e:new Date}function AN(t,e,n,r,i){i===void 0&&(i=Hn());for(var s=Cv(n)||Cv(H$()),o=Array.isArray(e)?e:[e],a=0,c=o;a<c.length;a++){var l=c[a],u=nTe(t,l,i,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(VP(u)&&(!r||t===Ur(u,l,n)))return u}return null}function VP(t,e){return iI(t)&&!tm(t,new Date("1/1/1800"))}function Ur(t,e,n){if(n==="en")return cI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Cv(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Cv(H$()),cI(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ma(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Ur(t,i,r)||""}function PSe(t,e,n){if(!t)return"";var r=Ma(t,n),i=e?Ma(e,n):"";return"".concat(r," - ").concat(i)}function OSe(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Ma(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Ma(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function CN(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return ET(AT(CT(t,a),s),r)}function DSe(t){return k$(t)}function NSe(t,e){return Ur(t,"ddd",e)}function ST(t){return em(t)}function Bh(t,e,n){var r=Cv(e||H$());return rd(t,{locale:r,weekStartsOn:n})}function Vu(t){return zZ(t)}function eb(t){return FP(t)}function B8(t){return K2(t)}function z8(){return em(Hn())}function V8(t){return UZ(t)}function RSe(t){return dAe(t)}function kSe(t){return BZ(t)}function gl(t,e){return t&&e?oTe(t,e):!t&&!e}function ro(t,e){return t&&e?iTe(t,e):!t&&!e}function mI(t,e){return t&&e?sTe(t,e):!t&&!e}function Pn(t,e){return t&&e?lAe(t,e):!t&&!e}function fp(t,e){return t&&e?aCe(t,e):!t&&!e}function tb(t,e,n){var r,i=em(e),s=UZ(n);try{r=x_(t,{start:i,end:s})}catch{r=!1}return r}function H$(){var t=hJ();return t.__localeId__}function Cv(t){if(typeof t=="string"){var e=hJ();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function MSe(t,e,n){return e(Ur(t,"EEEE",n))}function LSe(t,e){return Ur(t,"EEEEEE",e)}function FSe(t,e){return Ur(t,"EEE",e)}function W$(t,e){return Ur(Fa(Hn(),t),"LLLL",e)}function fJ(t,e){return Ur(Fa(Hn(),t),"LLL",e)}function $Se(t,e){return Ur(Qg(Hn(),t),"QQQ",e)}function Ua(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return g1(t,{minDate:r,maxDate:i})||s&&s.some(function(u){return u instanceof Date?Pn(t,u):Pn(t,u.date)})||o&&o.some(function(u){var h=u.start,f=u.end;return x_(t,{start:h,end:f})})||a&&!a.some(function(u){return Pn(t,u)})||c&&!c.some(function(u){var h=u.start,f=u.end;return x_(t,{start:h,end:f})})||l&&!l(Hn(t))||!1}function q$(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return x_(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?Pn(t,s):Pn(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function pJ(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return g1(t,{minDate:r?zZ(r):void 0,maxDate:i?BZ(i):void 0})||(s==null?void 0:s.some(function(c){return ro(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return ro(t,c)})||a&&!a(Hn(t))||!1}function nC(t,e,n,r){var i=sn(t),s=oo(t),o=sn(e),a=oo(e),c=sn(r);return i===o&&i===c?s<=n&&n<=a:i<o?c===i&&s<=n||c===o&&a>=n||c<o&&c>i:!1}function jSe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return g1(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return ro(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return ro(a,t)})||!1}function rC(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return g1(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(c){return mI(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return mI(t,c)})||a&&!a(Hn(t))||!1}function iC(t,e,n){if(!e||!n||!iI(e)||!iI(n))return!1;var r=sn(e),i=sn(n);return r<=t&&i>=t}function IT(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,c=new Date(t,0,1);return g1(c,{minDate:r?FP(r):void 0,maxDate:i?VZ(i):void 0})||(s==null?void 0:s.some(function(l){return gl(c,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return gl(c,l)})||a&&!a(Hn(c))||!1}function sC(t,e,n,r){var i=sn(t),s=Mp(t),o=sn(e),a=Mp(e),c=sn(r);return i===o&&i===c?s<=n&&n<=a:i<o?c===i&&s<=n||c===o&&a>=n||c<o&&c>i:!1}function g1(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&wv(t,i)<0||s&&wv(t,s)>0)!==null&&n!==void 0?n:!1}function H8(t,e){return e.some(function(n){return Bu(n)===Bu(t)&&zu(n)===zu(t)&&Uh(n)===Uh(t)})}function W8(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&H8(t,r)||i&&!H8(t,i)||s&&!s(t)||!1}function q8(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Hn();i=ET(i,Bu(t)),i=AT(i,zu(t)),i=CT(i,Uh(t));var s=Hn();s=ET(s,Bu(n)),s=AT(s,zu(n)),s=CT(s,Uh(n));var o=Hn();o=ET(o,Bu(r)),o=AT(o,zu(r)),o=CT(o,Uh(r));var a;try{a=!x_(i,{start:s,end:o})}catch{a=!1}return a}function K8(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Lp(t,1);return r&&sI(r,s)>0||i&&i.every(function(o){return sI(o,s)>0})||!1}function G8(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Bc(t,1);return r&&sI(s,r)>0||i&&i.every(function(o){return sI(s,o)>0})||!1}function USe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=FP(t),o=eJ(s,1);return r&&oI(r,o)>0||i&&i.every(function(a){return oI(a,o)>0})||!1}function BSe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=VZ(t),o=R$(s,1);return r&&oI(o,r)>0||i&&i.every(function(a){return oI(o,a)>0})||!1}function Y8(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=bv(t,1);return r&&aI(r,s)>0||i&&i.every(function(o){return aI(o,s)>0})||!1}function zSe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?m1:i,o=eb(bv(t,s)),a=Th(o,s).endPeriod,c=r&&sn(r);return c&&c>a||!1}function Q8(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=ju(t,1);return r&&aI(s,r)>0||i&&i.every(function(o){return aI(s,o)>0})||!1}function VSe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?m1:i,o=ju(t,s),a=Th(o,s).startPeriod,c=r&&sn(r);return c&&c<a||!1}function mJ(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return wv(i,e)>=0});return T8(r)}else return n?T8(n):e}function gJ(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return wv(i,e)<=0});return C8(r)}else return n?C8(n):e}function Z8(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(Uu(o)){var a=Ur(o,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(e)||(c.push(e),r.set(a,c))}else if(typeof o=="object"){var l=Object.keys(o),u=(n=l[0])!==null&&n!==void 0?n:"",h=o[u];if(typeof u=="string"&&Array.isArray(h))for(var f=0,p=h.length;f<p;f++){var g=h[f];if(g){var a=Ur(g,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(u)||(c.push(u),r.set(a,c))}}}}return r}function HSe(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function WSe(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(Uu(i)){var o=Ur(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&HSe(a.holidayNames,[s]))){a.className=e;var c=a.holidayNames;a.holidayNames=c?Cl(Cl([],c,!0),[s],!1):[s],n.set(o,a)}}}),n}function qSe(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var c=t,l=i[a];l&&(c=sAe(c,Bu(l)),c=q2(c,zu(l)),c=cAe(c,Uh(l)));var u=q2(t,(n+1)*r);cf(c,e)&&tm(c,u)&&l!=null&&o.push(l)}return o}function J8(t){return t<10?"0".concat(t):"".concat(t)}function Th(t,e){e===void 0&&(e=m1);var n=Math.ceil(sn(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function KSe(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function X8(t){var e=t.getSeconds(),n=t.getMilliseconds();return wt(t.getTime()-e*1e3-n)}function GSe(t,e){return X8(t).getTime()===X8(e).getTime()}function e9(t){if(!Uu(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function t9(t,e){if(!Uu(t)||!Uu(e))throw new Error("Invalid date received");var n=e9(t),r=e9(e);return tm(n,r)}function yJ(t){return t.key===He.Space}var YSe=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=ce.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,c=a instanceof Date&&!isNaN(+a),l=c?a:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),h=u[0],f=u[1];l.setHours(Number(h)),l.setMinutes(Number(f))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,c=s.customTimeInput;return c?M.cloneElement(c,{date:o,value:i,onChange:r.onTimeChange}):ce.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var l;(l=r.inputRef.current)===null||l===void 0||l.focus()},required:!0,value:i,onChange:function(l){r.onTimeChange(l.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return ce.createElement("div",{className:"react-datepicker__input-time-container"},ce.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ce.createElement("div",{className:"react-datepicker-time__input-container"},ce.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(M.Component),QSe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===He.Space&&(r.preventDefault(),r.key=He.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return Pn(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Ua(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return q$(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Pn(n.props.day,Bh(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Pn(r,Bh(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Ur(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Ur(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:tb(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,c=i.selectsRange,l=i.selectsDisabledDaysInRange,u=i.startDate,h=i.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||c)||!f||!l&&n.isDisabled()?!1:o&&h&&(tm(f,h)||fp(f,h))?tb(s,f,h):a&&u&&!h&&(cf(f,u)||fp(f,u))||c&&u&&!h&&(cf(f,u)||fp(f,u))?tb(s,u,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?Pn(s,c):Pn(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,c=i.selectsRange,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||c?Pn(s,l):Pn(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Pn(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Pn(o,i)},n.isWeekend=function(){var r=rCe(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===oo(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(oo(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Hn())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return Is("react-datepicker__day",i,"react-datepicker__day--"+NSe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,c=a===void 0?"Not available":a,l=n.isDisabled()||n.isExcluded()?c:o;return"".concat(l," ").concat(Ur(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,c=Ur(i,"MM.dd.yyyy"),l=[];return o.has(c)&&l.push.apply(l,o.get(c).holidayNames),n.isExcluded()&&l.push(a==null?void 0:a.filter(function(u){return u instanceof Date?Pn(u,i):Pn(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),l.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Pn(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(D8(n.props.day),n.props.day):D8(n.props.day)},n.render=function(){return ce.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ce.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(M.Component),ZSe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===He.Space&&(r.preventDefault(),r.key=He.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Pn(n.props.date,n.props.selected)&&Pn(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Pn(n.props.date,n.props.selected)&&Pn(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Pn(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&Pn(this.props.date,this.props.selected)};return ce.createElement("div",{ref:this.weekNumberEl,className:Is(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(M.Component),JSe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Ua(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,c,l=new Date(r),u=0;u<7;u++){var h=new Date(r);h.setDate(h.getDate()+u);var f=!n.isDisabled(h);if(f){l=h;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(l,i,s),n.props.showWeekPicker&&n.handleDayClick(l,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(a=n.props).setOpen)===null||c===void 0||c.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):DSe(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=Nc(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=Nc(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(ce.createElement(ZSe,On({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var c=Nc(r,a);return ce.createElement(QSe,On({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:n.handleDayClick.bind(n,c),onMouseEnter:n.handleDayMouseEnter.bind(n,c)}))}))},n.startOfWeek=function(){return Bh(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Pn(n.startOfWeek(),n.props.selected)&&Pn(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Pn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ce.createElement("div",{className:Is(n)},this.renderDays())},e}(M.Component),b0,XSe=6,Ly={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},TN=(b0={},b0[Ly.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},b0[Ly.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},b0[Ly.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},b0),oC=1;function n9(t,e){return t?Ly.FOUR_COLUMNS:e?Ly.TWO_COLUMNS:Ly.THREE_COLUMNS}var eIe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=Cl([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=Cl([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return Ua(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return q$(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:ro(Fa(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:mI(Qg(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:ro(Fa(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:mI(Qg(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,l=s.selectsRange,u=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||c||l)||!f?!1:a&&h?nC(f,h,r,o):c&&u||l&&u&&!h?nC(u,f,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,c=s.selectsStart,l=Fa(o,r),u=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return c?ro(l,u):ro(l,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,c=s.selectsEnd,l=s.selectsRange,u=Fa(o,r),h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return c||l?ro(u,h):ro(u,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,l=s.selectsRange,u=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||c||l)||!f?!1:a&&h?sC(f,h,r,o):c&&u||l&&u&&!h?sC(u,f,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=Nc(r,6);return ro(r,i)||ro(s,i)},n.isCurrentMonth=function(r,i){return sn(r)===sn(Hn())&&i===oo(Hn())},n.isCurrentQuarter=function(r,i){return sn(r)===sn(Hn())&&i===Mp(Hn())},n.isSelectedMonth=function(r,i,s){return oo(s)===i&&sn(r)===sn(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return Mp(r)===i&&sn(r)===sn(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=Bh(Vu(n.props.day),n.props.locale,n.props.calendarStartDay),c=function(g){return n.props.showWeekPicker?Bh(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},l=function(g){return n.props.showWeekPicker?Bh(g,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?l(n.props.selected):void 0,h=n.props.preSelection?c(n.props.preSelection):void 0;r.push(ce.createElement(JSe,On({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:oo(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=rI(a,1);var f=i&&s>=XSe,p=!i&&!n.isWeekInMonth(a);if(f||p)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Vu(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Vu(o))},n.handleMonthNavigation=function(r,i){var s,o,a,c;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,c=a.selected,l=a.preSelection,u=a.setPreSelection,h=a.minDate,f=a.maxDate,p=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(l){var y=n9(p,g),v=n.getVerticalOffset(y),b=(o=TN[y])===null||o===void 0?void 0:o.grid,_=function(T,S,x){var N,R,$=S,j=x;switch(T){case He.ArrowRight:$=Bc(S,oC),j=x===11?0:x+oC;break;case He.ArrowLeft:$=Lp(S,oC),j=x===0?11:x-oC;break;case He.ArrowUp:$=Lp(S,v),j=!((N=b==null?void 0:b[0])===null||N===void 0)&&N.includes(x)?x+12-v:x-v;break;case He.ArrowDown:$=Bc(S,v),j=!((R=b==null?void 0:b[b.length-1])===null||R===void 0)&&R.includes(x)?x-12+v:x+v;break}return{newCalculatedDate:$,newCalculatedMonth:j}},A=function(T,S,x){for(var N=40,R=T,$=!1,j=0,K=_(R,S,x),B=K.newCalculatedDate,z=K.newCalculatedMonth;!$;){if(j>=N){B=S,z=x;break}if(h&&B<h){R=He.ArrowRight;var Y=_(R,B,z);B=Y.newCalculatedDate,z=Y.newCalculatedMonth}if(f&&B>f){R=He.ArrowLeft;var Y=_(R,B,z);B=Y.newCalculatedDate,z=Y.newCalculatedMonth}if(jSe(B,n.props)){var Y=_(R,B,z);B=Y.newCalculatedDate,z=Y.newCalculatedMonth}else $=!0;j++}return{newCalculatedDate:B,newCalculatedMonth:z}};if(i===He.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),u==null||u(c));return}var I=A(i,l,s),P=I.newCalculatedDate,D=I.newCalculatedMonth;switch(i){case He.ArrowRight:case He.ArrowLeft:case He.ArrowUp:case He.ArrowDown:n.handleMonthNavigation(D,P);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=TN[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,c=r.key;c!==He.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,c,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=Qg(n.props.day,i);rC(s,n.props)||n.handleDayClick(B8(s),r)},n.onQuarterMouseEnter=function(r){var i=Qg(n.props.day,r);rC(i,n.props)||n.handleDayMouseEnter(B8(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,c;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case He.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case He.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,R$(n.props.preSelection,1));break;case He.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,eJ(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,c=s.maxDate,l=s.excludeDates,u=s.includeDates,h=Fa(o,r);return{isDisabled:(i=(a||c||l||u)&&pJ(h,n.props))!==null&&i!==void 0?i:!1,labelDate:h}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,c=i.preSelection,l=i.monthClassName,u=l?l(Fa(s,r)):void 0,h=n.getSelection();return Is("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":h?n.isSelectMonthInList(s,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(s,r,c)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?nC(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=oo(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Mp(n.props.preSelection),s=rC(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,c=a===void 0?"Not available":a,l=i.day,u=i.locale,h=Fa(l,r),f=n.isDisabled(h)||n.isExcluded(h)?c:o;return"".concat(f," ").concat(Ur(h,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,c=i.selected,l=i.minDate,u=i.maxDate,h=i.excludeDates,f=i.includeDates,p=i.filterDate,g=i.preSelection,y=i.disabledKeyboardNavigation,v=(l||u||h||f||p)&&rC(Qg(s,r),n.props);return Is("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?n.isSelectedQuarter(s,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&n.isSelectedQuarter(s,r,g)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?sC(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,c=i.day,l=fJ(r,a),u=W$(r,a);return o?o(r,l,u,c):s?u:l},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,c=$Se(r,a);return(i=o==null?void 0:o(r,c))!==null&&i!==void 0?i:c},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,c=i.selected,l=(r=TN[n9(o,s)])===null||r===void 0?void 0:r.grid;return l==null?void 0:l.map(function(u,h){return ce.createElement("div",{className:"react-datepicker__month-wrapper",key:h},u.map(function(f,p){return ce.createElement("div",{ref:n.MONTH_REFS[f],key:p,onClick:function(g){n.onMonthClick(g,f)},onKeyDown:function(g){yJ(g)&&(g.preventDefault(),g.key=He.Enter),n.onMonthKeyDown(g,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":c?n.isSelectedMonth(a,f,c):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return ce.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,c){return ce.createElement("div",{key:c,ref:n.QUARTER_REFS[c],role:"option",onClick:function(l){n.onQuarterClick(l,a)},onKeyDown:function(l){n.onQuarterKeyDown(l,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,c=r.showQuarterYearPicker,l=r.showWeekPicker;return Is("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":l})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,c=a?a.trim()+" ":"";return ce.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Ur(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(M.Component),tIe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return ce.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?ce.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return ce.createElement(zP,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),nIe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return ce.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return ce.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return ce.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return ce.createElement(tIe,On({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return fJ(s,n.props.locale)}:function(s){return W$(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return ce.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(M.Component);function rIe(t,e){for(var n=[],r=Vu(t),i=Vu(e);!cf(r,i);)n.push(Hn(r)),r=Bc(r,1);return n}var iIe=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=Q2(i),o=gl(r.props.date,i)&&ro(r.props.date,i);return ce.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?ce.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ur(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:rIe(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=Is({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ce.createElement(zP,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),sIe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Vu(n.props.minDate),i=Vu(n.props.maxDate),s=[];!cf(r,i);){var o=Q2(r);s.push(ce.createElement("option",{key:o,value:o},Ur(r,n.props.dateFormat,n.props.locale))),r=Bc(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ce.createElement("select",{value:Q2(Vu(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Ur(n.props.date,n.props.dateFormat,n.props.locale);return ce.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return ce.createElement(iIe,On({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Hn(r);gl(n.props.date,i)&&ro(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(M.Component),oIe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&q8(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&W8(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&GSe(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&q8(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&W8(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Bu(r)*3600+zu(r)*60+Uh(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===He.Space&&(r.preventDefault(),r.key=He.Enter),(r.key===He.ArrowUp||r.key===He.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===He.ArrowDown||r.key===He.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===He.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Hn(),c=ST(a),l=n.props.injectTimes&&n.props.injectTimes.sort(function(v,b){return v.getTime()-b.getTime()}),u=60*KSe(a),h=u/o,f=0;f<h;f++){var p=q2(c,f*o);if(i.push(p),l){var g=qSe(c,p,f,o,l);i=i.concat(g)}}var y=i.reduce(function(v,b){return b.getTime()<=a.getTime()?b:v},i[0]);return i.map(function(v){return ce.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(b){v===y&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,v)},tabIndex:v===y?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Ur(v,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ce.createElement(ce.Fragment,null):ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ce.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return ce.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ce.createElement("div",{className:"react-datepicker__time"},ce.createElement("div",{className:"react-datepicker__time-box"},ce.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(M.Component),r9=3,aIe=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=Cl([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Ua(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return q$(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,c,l,u=r.props,h=u.date,f=u.yearItemNumber;if(!(h===void 0||f===void 0)){var p=Th(h,f).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-p<0?r.updateFocusOnPaginate(f-(p-i)):i-p>=f?r.updateFocusOnPaginate(Math.abs(f-(i-p))):(l=(c=r.YEAR_REFS[i-p])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus())}},r.isSameDay=function(i,s){return Pn(i,s)},r.isCurrentYear=function(i){return i===sn(Hn())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&gl(dl(Hn(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&gl(dl(Hn(),i),r.props.endDate)},r.isInRange=function(i){return iC(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,c=s.selectsRange,l=s.startDate,u=s.endDate;return!(o||a||c)||!r.selectingDate()?!1:o&&u?iC(i,r.selectingDate(),u):a&&l||c&&l&&!u?iC(i,l,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,c=o.selectsStart,l=dl(Hn(),i);return c?gl(l,(s=r.selectingDate())!==null&&s!==void 0?s:null):gl(l,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,c=o.selectsEnd,l=o.selectsRange,u=dl(Hn(),i);return c||l?gl(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):gl(u,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,c=s.excludeDates,l=s.includeDates,u=s.filterDate,h=eb(dl(r.props.date,i)),f=(o||a||c||l||u)&&IT(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Pn(h,eb(r.props.selected))&&Pn(h,eb(r.props.preSelection))&&!f}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,c=s.selectedDates;return o?c==null?void 0:c.some(function(l){return i===sn(l)}):!a||i===sn(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(eb(dl(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,c=i.key,l=r.props,u=l.date,h=l.yearItemNumber,f=l.handleOnKeyDown;if(c!==He.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case He.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case He.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,ju(r.props.preSelection,1));break;case He.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,bv(r.props.preSelection,1));break;case He.ArrowUp:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var p=Th(u,h).startPeriod,g=r9,y=s-g;if(y<p){var v=h%g;s>=p&&s<p+v?g=v:g+=v,y=s-g}r.handleYearNavigation(y,bv(r.props.preSelection,g));break}case He.ArrowDown:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var b=Th(u,h).endPeriod,g=r9,y=s+g;if(y>b){var v=h%g;s<=b&&s>b-v?g=v:g+=v,y=s+g}r.handleYearNavigation(y,ju(r.props.preSelection,g));break}}f&&f(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,c=s.maxDate,l=s.excludeDates,u=s.includeDates,h=s.filterDate,f=s.yearClassName;return Is("react-datepicker__year-text","react-datepicker__year-".concat(i),o?f==null?void 0:f(dl(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||c||l||u||h)&&IT(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=sn(r.props.preSelection),o=IT(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,c=i.onYearMouseLeave;if(s===void 0)return null;for(var l=Th(s,o),u=l.startPeriod,h=l.endPeriod,f=function(y){r.push(ce.createElement("div",{ref:p.YEAR_REFS[y-u],onClick:function(v){n.onYearClick(v,y)},onKeyDown:function(v){yJ(v)&&(v.preventDefault(),v.key=He.Enter),n.onYearKeyDown(v,y)},tabIndex:Number(p.getYearTabIndex(y)),className:p.getYearClassNames(y),onMouseEnter:p.props.usePointerEvent?void 0:function(v){return a(v,y)},onPointerEnter:p.props.usePointerEvent?function(v){return a(v,y)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(v){return c(v,y)},onPointerLeave:p.props.usePointerEvent?function(v){return c(v,y)}:void 0,key:y,"aria-current":p.isCurrentYear(y)?"date":void 0},p.getYearContent(y)))},p=this,g=u;g<=h;g++)f(g);return ce.createElement("div",{className:"react-datepicker__year"},ce.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(M.Component);function cIe(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=sn(n)<=o),r&&a&&(a=sn(r)>=o),a&&i.push(o)}return i}var lIe=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,c=r.state.yearsList.map(function(h){return ce.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?ce.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),l=r.props.minDate?sn(r.props.minDate):null,u=r.props.maxDate?sn(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(h){return h===u}))&&c.unshift(ce.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!l||!r.state.yearsList.find(function(h){return h===l}))&&c.push(ce.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var c=r.state.yearsList.map(function(l){return l+a});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:cIe(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=Is({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ce.createElement(zP,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),uIe=function(t){us(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?sn(n.props.minDate):1900,i=n.props.maxDate?sn(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(ce.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ce.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ce.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},ce.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ce.createElement(lIe,On({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(M.Component),dIe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],hIe=function(t){var e=(t.className||"").split(/\s+/);return dIe.some(function(n){return e.indexOf(n)>=0})},fIe=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;hIe(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,c=mJ(r.props),l=gJ(r.props),u=Hn(),h=a||o||s;return h||(c&&tm(u,c)?c:l&&cf(u,l)?l:u)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Bc(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Lp(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:dl(Hn(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,c;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(a=r.props).setOpen)===null||c===void 0||c.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ua(i,r.props))return i;for(var s=Vu(i),o=kSe(i),a=uAe(o,s),c=null,l=0;l<=a;l++){var u=Nc(s,l);if(!Ua(u,r.props)){c=u;break}}return c},r.handleMonthChange=function(i){var s,o,a,c=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:dl(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:Fa(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:dl(Fa(o,oo(i)),sn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Bh(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(ce.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var c=Nc(s,a),l=r.formatWeekday(c,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return ce.createElement("div",{key:a,"aria-label":Ur(c,"EEEE",r.props.locale),className:Is("react-datepicker__day-name",u)},l)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?MSe(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?FSe(i,s):LSe(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:bv(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,l=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,u=Lp(r.state.date,l),h;switch(!0){case r.props.showMonthYearPicker:h=Y8(r.state.date,r.props);break;case r.props.showYearPicker:h=zSe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=USe(r.state.date,r.props);break;default:h=K8(u,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,v=r.props,b=v.previousMonthButtonLabel,_=b===void 0?e.defaultProps.previousMonthButtonLabel:b,A=v.previousYearButtonLabel,I=A===void 0?e.defaultProps.previousYearButtonLabel:A,P=r.props,D=P.previousMonthAriaLabel,T=D===void 0?typeof _=="string"?_:"Previous Month":D,S=P.previousYearAriaLabel,x=S===void 0?typeof I=="string"?I:"Previous Year":S;return ce.createElement("button",{type:"button",className:p.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?x:T},ce.createElement("span",{className:f.join(" ")},y?I:_))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:ju(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=Q8(r.state.date,r.props);break;case r.props.showYearPicker:s=VSe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=BSe(r.state.date,r.props);break;default:s=G8(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,h=u.nextMonthButtonLabel,f=h===void 0?e.defaultProps.nextMonthButtonLabel:h,p=u.nextYearButtonLabel,g=p===void 0?e.defaultProps.nextYearButtonLabel:p,y=r.props,v=y.nextMonthAriaLabel,b=v===void 0?typeof f=="string"?f:"Next Month":v,_=y.nextYearAriaLabel,A=_===void 0?typeof g=="string"?g:"Next Year":_;return ce.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?A:b},ce.createElement("span",{className:a.join(" ")},l?g:f))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ce.createElement("h2",{className:s.join(" ")},Ur(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return ce.createElement(uIe,On({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:sn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return ce.createElement(nIe,On({},e.defaultProps,r.props,{month:oo(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return ce.createElement(sIe,On({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(z8(),i),r.props.setPreSelection&&r.props.setPreSelection(z8())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ce.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return ce.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),ce.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),ce.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var l=K8(r.state.date,r.props),u=G8(r.state.date,r.props),h=Y8(r.state.date,r.props),f=Q8(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,On(On({},r.state),{customHeaderCount:c,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:u,prevYearButtonDisabled:h,nextYearButtonDisabled:f})),p&&ce.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,c=o.yearItemNumber,l=c===void 0?e.defaultProps.yearItemNumber:c,u=Th(s,l),h=u.startPeriod,f=u.endPeriod;return ce.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(f):sn(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,c={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ju(r.state.date,c):Lp(r.state.date,c),u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,h=0;h<a;++h){var f=h-u+c,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ju(l,f):Bc(l,f),g="month-".concat(h),y=h<a-1,v=h>0;o.push(ce.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:h}),ce.createElement(eIe,On({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:v}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ce.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ce.createElement(aIe,On({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ce.createElement(oIe,On({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&VP(i)&&!!r.props.selected,o=s?"".concat(J8(i.getHours()),":").concat(J8(i.getMinutes())):"";if(r.props.showTimeInput)return ce.createElement(YSe,On({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Th(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,c;return r.props.showYearPicker?c="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=sn(r.state.date):c="".concat(W$(oo(r.state.date),r.props.locale)," ").concat(sn(r.state.date)),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return ce.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:m1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Pn(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!ro(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Pn(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||ISe;return ce.createElement(zP,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ce.createElement("div",{style:{display:"contents"},ref:this.containerRef},ce.createElement(n,{className:Is("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(M.Component),pIe=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return ce.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(ce.isValidElement(e)){var o=e;return ce.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return ce.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ce.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},vJ=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return IY.createPortal(this.props.children,this.el)},e}(M.Component),mIe="[tabindex], a, button, input, select, textarea",gIe=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},wJ=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(mIe),1,-1).filter(gIe)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?ce.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ce.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ce.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(M.Component);function yIe(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=M.useRef(null),o=SSe(On({open:!i,whileElementsMounted:oSe,placement:n.popperPlacement,middleware:Cl([fSe({padding:15}),hSe(10),pSe({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=On(On({},n),{hidePopper:i,popperProps:On(On({},o),{arrowRef:s})});return ce.createElement(t,On({},a))};return e}var vIe=function(t){us(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,c=n.targetComponent,l=n.enableTabLoop,u=n.popperOnKeyDown,h=n.portalId,f=n.portalHost,p=n.popperProps,g=n.showArrow,y=void 0;if(!o){var v=Is("react-datepicker-popper",r);y=ce.createElement(wJ,{enableTabLoop:l},ce.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:v,"data-placement":p.placement,onKeyDown:u},a,g&&ce.createElement(wSe,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=M.createElement(this.props.popperContainer,{},y)),h&&!o&&(y=ce.createElement(vJ,{portalId:h,portalHost:f},y));var b=Is("react-datepicker-wrapper",i);return ce.createElement(ce.Fragment,null,ce.createElement("div",{ref:p.refs.setReference,className:b},c),y)},e}(M.Component),wIe=yIe(vIe),i9="react-datepicker-ignore-onclickoutside";function bIe(t,e){return t&&e?oo(t)!==oo(e)||sn(t)!==sn(e):t!==e}var SN="Date input not valid.",bJ=function(t){us(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Hn()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return VP(a)?Cl(Cl([],s,!0),[On(On({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=mJ(r.props),a=gJ(r.props),c=o&&tm(s,ST(o))?o:a&&cf(s,V8(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:Z8(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(On(On({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(On(On({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:IN},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Uu(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,c=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,c,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var h=l[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,l),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:_Ie});var f=r.props,p=f.selectsRange,g=f.startDate,y=f.endDate,v=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,b=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,_=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var A=_.split("-",2).map(function(R){return R.trim()}),I=A[0],P=A[1],D=AN(I??"",v,r.props.locale,b),T=AN(P??"",v,r.props.locale,b),S=(g==null?void 0:g.getTime())!==(D==null?void 0:D.getTime()),x=(y==null?void 0:y.getTime())!==(T==null?void 0:T.getTime());if(!S&&!x||D&&Ua(D,r.props)||T&&Ua(T,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[D,T],h)}else{var N=AN(_,v,r.props.locale,b,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(N||!_)&&r.setSelected(N,h,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,c=a.startDate,l=a.endDate;c&&!l&&(r.props.swapRange||!t9(i,c))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var c,l,u=i;if(r.props.showYearPicker){if(u!==null&&IT(sn(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&pJ(u,r.props))return}else if(u!==null&&Ua(u,r.props))return;var h=r.props,f=h.onChange,p=h.selectsRange,g=h.startDate,y=h.endDate,v=h.selectsMultiple,b=h.selectedDates,_=h.minTime,A=h.swapRange;if(!fp(r.props.selected,u)||r.props.allowSameDay||p||v)if(u!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=CN(u,{hour:Bu(r.props.selected),minute:zu(r.props.selected),second:Uh(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(u=CN(u,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),p){var I=!g&&!y,P=g&&!y,D=g&&y;I?f==null||f([u,null],s):P&&(u===null?f==null||f([null,null],s):t9(u,g)?A?f==null||f([u,g],s):f==null||f([u,null],s):f==null||f([g,u],s)),D&&(f==null||f([u,null],s))}else if(v){if(u!==null)if(!(b!=null&&b.length))f==null||f([u],s);else{var T=b.some(function(x){return Pn(x,u)});if(T){var S=b.filter(function(x){return!Pn(x,u)});f==null||f(S,s)}else f==null||f(Cl(Cl([],b,!0),[u],!1),s)}}else f==null||f(u,s);o||((l=(c=r.props).onSelect)===null||l===void 0||l.call(c,u,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=Uu(r.props.minDate),o=Uu(r.props.maxDate),a=!0;if(i){var c=ST(i);if(s&&o)a=tb(i,r.props.minDate,r.props.maxDate);else if(s){var l=ST(r.props.minDate);a=cf(i,l)||fp(c,l)}else if(o){var u=V8(r.props.maxDate);a=tm(i,u)||fp(c,u)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:CN(a,{hour:Bu(i),minute:zu(i)});r.setState({preSelection:c}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,c,l,u;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var h=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===He.ArrowDown||h===He.ArrowUp||h===He.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===He.ArrowDown||h===He.ArrowUp){i.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var g=Hn(r.state.preSelection);h===He.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===IN?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):h===He.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===He.Tab&&r.setOpen(!1),r.inputOk()||(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:SN})}},r.onPortalKeyDown=function(i){var s=i.key;s===He.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,c,l,u,h=r.props,f=h.minDate,p=h.maxDate,g=h.disabledKeyboardNavigation,y=h.showWeekPicker,v=h.shouldCloseOnSelect,b=h.locale,_=h.calendarStartDay,A=h.adjustDateOnChange,I=h.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!g){var P=i.key,D=i.shiftKey,T=Hn(r.state.preSelection),S=function(B,z){var Y=z;switch(B){case He.ArrowRight:Y=y?rI(z,1):Nc(z,1);break;case He.ArrowLeft:Y=y?N8(z,1):aTe(z,1);break;case He.ArrowUp:Y=N8(z,1);break;case He.ArrowDown:Y=rI(z,1);break;case He.PageUp:Y=D?bv(z,1):Lp(z,1);break;case He.PageDown:Y=D?ju(z,1):Bc(z,1);break;case He.Home:Y=Bh(z,b,_);break;case He.End:Y=RSe(z);break}return Y},x=function(B,z){for(var Y=40,V=B,Q=!1,G=0,ee=S(B,z);!Q;){if(G>=Y){ee=z;break}f&&ee<f&&(V=He.ArrowRight,ee=Ua(f,r.props)?S(V,ee):f),p&&ee>p&&(V=He.ArrowLeft,ee=Ua(p,r.props)?S(V,ee):p),Ua(ee,r.props)?((V===He.PageUp||V===He.Home)&&(V=He.ArrowRight),(V===He.PageDown||V===He.End)&&(V=He.ArrowLeft),ee=S(V,ee)):Q=!0,G++}return ee};if(P===He.Enter){i.preventDefault(),r.handleSelect(T,i),!v&&r.setPreSelection(T);return}else if(P===He.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(a=r.props).onInputError)===null||c===void 0||c.call(a,{code:1,msg:SN});return}var N=null;switch(P){case He.ArrowLeft:case He.ArrowRight:case He.ArrowUp:case He.ArrowDown:case He.PageUp:case He.PageDown:case He.Home:case He.End:N=x(P,T);break}if(!N){(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:SN});return}if(i.preventDefault(),r.setState({lastPreSelectChange:IN}),A&&r.setSelected(N),r.setPreSelection(N),I){var R=oo(T),$=oo(N),j=sn(T),K=sn(N);R!==$||j!==K?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===He.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:ce.createElement(fIe,On({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:WSe(r.modifyHolidays()),outsideClickIgnoreClass:i9,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,l=c?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(Ma(r.props.startDate,{dateFormat:l,locale:a}),". ").concat(r.props.endDate?"End date: "+Ma(r.props.endDate,{dateFormat:l,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(Ma(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(Ma(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(Ma(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(Ma(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(Ma(r.props.selected,{dateFormat:l,locale:a})),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,s,o,a=Is(r.props.className,(i={},i[i9]=r.state.open,i)),c=r.props.customInput||ce.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref",u=r.props,h=u.dateFormat,f=h===void 0?e.defaultProps.dateFormat:h,p=u.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?PSe(r.props.startDate,r.props.endDate,{dateFormat:f,locale:p}):r.props.selectsMultiple?OSe((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:f,locale:p}):Ma(r.props.selected,{dateFormat:f,locale:p});return M.cloneElement(c,(s={},s[l]=function(y){r.input=y},s.value=g,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Is(c.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,c=i.startDate,l=i.endDate,u=i.clearButtonTitle,h=i.clearButtonClassName,f=h===void 0?"":h,p=i.ariaLabelClose,g=p===void 0?"Close":p,y=i.selectedDates;return s&&(a!=null||c!=null||l!=null||y!=null&&y.length)?ce.createElement("button",{type:"button",className:Is("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:m1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&bIe(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Z8(this.props.highlightDates)}),!r.focused&&!fp(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ce.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ce.createElement(pIe,On({icon:i,className:Is(o,!o&&s,c&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ce.createElement(wJ,{enableTabLoop:this.props.enableTabLoop},ce.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ce.createElement(vJ,On({portalId:this.props.portalId},this.props),r)),ce.createElement("div",null,this.renderInputContainer(),r)}return ce.createElement(wIe,On({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(M.Component),_Ie="input",IN="navigate";function K$({searchAreaData:t=()=>{},initialSearchValues:e={},isSearchArea:n,onFocusResetSidebarFilters:r}){const i=rw(),s=qc(),[o,a]=M.useState(!1),c=(p,g)=>{const y=p.destinationName.trim(),v=p.activity.trim();if(!y||!v){y||g.setFieldError("destinationName","Destination cannot be empty"),v||g.setFieldError("activity","Activity cannot be empty"),g.setSubmitting(!1);return}const[b,_]=p.selectDate,A=P=>P?P.toISOString().split("T")[0]:null,I={...p,destinationName:y,activity:v,selectDate:[A(b),A(_)]};s.pathname===Ue.DESTINATION.path||s.pathname===Ue.HOMEPAGE.path?i(Ue.TOURS.path,{state:{formattedData:I}}):t==null||t(I),g.setSubmitting(!1)},l={destinationName:"",activity:"",selectDate:[null,null],"guest-numbers":""},u={...l,...e,selectDate:e.selectDate?[e.selectDate[0]?new Date(e.selectDate[0]):null,e.selectDate[1]?new Date(e.selectDate[1]):null]:[null,null]},h=p=>{p("selectDate",[null,null])},f=M.useCallback(()=>{r&&r()},[r]);return C.jsx("div",{className:"search-area-container",children:C.jsx(d1,{initialValues:u,enableReinitialize:!0,validationSchema:aw({destinationName:Mo().trim().required("Required").test("not-just-whitespace","Destination cannot be empty",p=>!!(p!=null&&p.trim())),activity:Mo().trim().required("Required").test("not-just-whitespace","Activity cannot be empty",p=>!!(p!=null&&p.trim())),selectDate:kZ().of(N$().nullable()).test("both-dates","Required",p=>!!(p&&p[0]&&p[1])),"guest-numbers":Mo().required("Required").min(0,"must be greater than 0").max(20,"must be greater than 0")}),onSubmit:c,children:({values:p,setFieldValue:g,resetForm:y,errors:v,touched:b,handleBlur:_})=>(M.useEffect(()=>{n===!1&&y({values:l})},[n,y]),C.jsxs(ow,{className:"search-area-form-class",onFocus:f,children:[C.jsx(gN,{labelText:"Destination",labelClassName:"cursive-text search-area-form-label",name:"destinationName",type:"text",placeholder:"Where to go ?",fieldClassName:"search-area-form-field",containerClass:"single-Form-element-class",min:"",max:"",icon:"fa-solid fa-map"}),C.jsx(gN,{labelText:"Activity",labelClassName:"cursive-text search-area-form-label",name:"activity",type:"text",placeholder:"Activity",fieldClassName:"search-area-form-field",containerClass:"single-Form-element-class",min:"",max:"",icon:"fa-solid fa-person-hiking"}),C.jsxs("div",{className:"single-Form-element-class",children:[C.jsx("label",{className:"cursive-text search-area-form-label",children:"When"}),C.jsxs("div",{className:"input-with-icon",children:[C.jsx("i",{className:"form-icon fa-solid fa-calendar-days"}),C.jsx(bJ,{selected:p.selectDate[0],onChange:A=>{g("selectDate",A)},onBlur:()=>{a(!0),_("selectDate")},startDate:p.selectDate[0],endDate:p.selectDate[1],selectsRange:!0,placeholderText:"Check-in & Check-out",className:"search-area-form-field has-icon",minDate:new Date,maxDate:new Date(new Date().getFullYear()+10,11,31),onKeyDown:A=>{A.key!=="Backspace"&&A.key!=="Delete"?A.preventDefault():(A.key==="Backspace"||A.key==="Delete")&&(p.selectDate[0]||p.selectDate[1])&&h(g)},showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",yearDropdownItemNumber:10,scrollableYearDropdown:!0})]}),(o||b.selectDate)&&v.selectDate&&C.jsx("div",{className:"form-error",children:v.selectDate})]}),C.jsx(gN,{labelText:"Guests",labelClassName:"cursive-text search-area-form-label",name:"guest-numbers",type:"number",placeholder:"0",fieldClassName:"search-area-form-field",containerClass:"single-Form-element-class",min:1,max:20,icon:"fa-solid fa-users"}),C.jsx("button",{type:"submit",className:"submit-search-query button-hovering-color",children:"Search"})]}))})})}const EIe="Left",AIe="Right",CIe="Up",TIe="Down",by={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},eM={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},s9="mousemove",o9="mouseup",SIe="touchend",IIe="touchmove",xIe="touchstart";function PIe(t,e,n,r){return t>e?n>0?AIe:EIe:r>0?TIe:CIe}function a9(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function OIe(t,e){const n=u=>{const h="touches"in u;h&&u.touches.length>1||t((f,p)=>{p.trackMouse&&!h&&(document.addEventListener(s9,r),document.addEventListener(o9,o));const{clientX:g,clientY:y}=h?u.touches[0]:u,v=a9([g,y],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:u}),Object.assign(Object.assign(Object.assign({},f),eM),{initial:v.slice(),xy:v,start:u.timeStamp||0})})},r=u=>{t((h,f)=>{const p="touches"in u;if(p&&u.touches.length>1)return h;if(u.timeStamp-h.start>f.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:g,clientY:y}=p?u.touches[0]:u,[v,b]=a9([g,y],f.rotationAngle),_=v-h.xy[0],A=b-h.xy[1],I=Math.abs(_),P=Math.abs(A),D=(u.timeStamp||0)-h.start,T=Math.sqrt(I*I+P*P)/(D||1),S=[_/(D||1),A/(D||1)],x=PIe(I,P,_,A),N=typeof f.delta=="number"?f.delta:f.delta[x.toLowerCase()]||by.delta;if(I<N&&P<N&&!h.swiping)return h;const R={absX:I,absY:P,deltaX:_,deltaY:A,dir:x,event:u,first:h.first,initial:h.initial,velocity:T,vxvy:S};R.first&&f.onSwipeStart&&f.onSwipeStart(R),f.onSwiping&&f.onSwiping(R);let $=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${x}`])&&($=!0),$&&f.preventScrollOnSwipe&&f.trackTouch&&u.cancelable&&u.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:R,swiping:!0})})},i=u=>{t((h,f)=>{let p;if(h.swiping&&h.eventData){if(u.timeStamp-h.start<f.swipeDuration){p=Object.assign(Object.assign({},h.eventData),{event:u}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:u});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:u}),Object.assign(Object.assign(Object.assign({},h),eM),{eventData:p})})},s=()=>{document.removeEventListener(s9,r),document.removeEventListener(o9,o)},o=u=>{s(),i(u)},a=(u,h)=>{let f=()=>{};if(u&&u.addEventListener){const p=Object.assign(Object.assign({},by.touchEventOptions),h.touchEventOptions),g=[[xIe,n,p],[IIe,r,Object.assign(Object.assign({},p),h.preventScrollOnSwipe?{passive:!1}:{})],[SIe,i,p]];g.forEach(([y,v,b])=>u.addEventListener(y,v,b)),f=()=>g.forEach(([y,v])=>u.removeEventListener(y,v))}return f},l={ref:u=>{u!==null&&t((h,f)=>{if(h.el===u)return h;const p={};return h.el&&h.el!==u&&h.cleanUpTouch&&(h.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&u&&(p.cleanUpTouch=a(u,f)),Object.assign(Object.assign(Object.assign({},h),{el:u}),p)})}};return e.trackMouse&&(l.onMouseDown=n),[l,a]}function DIe(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function _J(t){const{trackMouse:e}=t,n=M.useRef(Object.assign({},eM)),r=M.useRef(Object.assign({},by)),i=M.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},by),t);let s;for(s in by)r.current[s]===void 0&&(r.current[s]=by[s]);const[o,a]=M.useMemo(()=>OIe(c=>n.current=c(n.current,r.current),{trackMouse:e}),[e]);return n.current=DIe(n.current,r.current,i.current,a),o}function EJ(){const t=[{text:"The UI designs he crafted are top-notch, and the design system he integrated allows for straightforward fixes and bulk updates almost every area the app.",author:"Molie Rosa, Photographer"},{text:"Their travel itineraries are perfectly planned, making every trip seamless and enjoyable. I've never had such a stress-free vacation!",author:"John Doe, Traveler"},{text:"The app's features are a true game-changer for travelers. Booking and exploring destinations has never been easier or more intuitive",author:"Sarah Lee, Blogger"}],[e,n]=M.useState(0),r=()=>{n(a=>a===t.length-1?0:a+1)},i=()=>{n(a=>a===0?t.length-1:a-1)},s=_J({onSwipedLeft:()=>r(),onSwipedRight:()=>i(),trackMouse:!0}),o=a=>{n(a)};return M.useEffect(()=>{const a=setInterval(()=>{r()},5e3);return()=>clearInterval(a)},[]),C.jsx("div",{className:"testimonial-wrapper",children:C.jsxs("div",{className:"testimonial-container",children:[C.jsxs("div",{className:"testimonial-image-container",children:[C.jsx("div",{className:"testimonial-img-one",children:C.jsx("img",{src:_t.TESTIMONIAL_ONE,alt:"Testimonial"})}),C.jsx("div",{className:"testimonial-img-two",children:C.jsx("img",{src:_t.TESTIMONIAL_TWO,alt:"Testimonial"})}),C.jsx("div",{className:"testimonial-img-three",children:C.jsx("img",{src:_t.TESTIMONIAL_THREE,alt:"Testimonial"})})]}),C.jsxs("div",{className:"testimonial-content-container",children:[C.jsx("h4",{className:"cursive-text",children:"Testimonials"}),C.jsx("h2",{children:"What Travelers Say"}),C.jsxs("div",{className:"testimonial-text",...s,children:[C.jsx("div",{className:"quote-mark",children:"❞"}),C.jsx("p",{children:t[e].text}),C.jsxs("div",{className:"author",children:["– By ",t[e].author]})]}),C.jsx("div",{className:"navigation-dots",children:t.map((a,c)=>C.jsx("span",{className:`dot ${e===c?"active":""}`,onClick:()=>o(c)},c))})]})]})})}const NIe=ZS.injectEndpoints({endpoints:t=>({getAttraction:t.query({query:({destinationId:e,currentPage:n,sortBy:r})=>`attraction/searchAttractions?id=${e}&sortBy=${r}&page=${n}&currency_code=USD&languagecode=en-us`}),getTrendingAttraction:t.query({query:({destinationId:e,currentPage:n})=>`attraction/searchAttractions?id=${e}&sortBy=trending&page=${n}&currency_code=USD&languagecode=en-us`}),getTourDetail:t.query({query:e=>`attraction/getAttractionDetails?slug=${e}&currency_code=USD`}),getDateAndTime:t.query({query:({slugValue:e,date:n})=>`attraction/getAvailability?slug=${e}&date=${n}&currency_code=USD&languagecode=en-us`}),getTourReview:t.query({query:e=>`attraction/getAttractionReviews?id=${e}&page=1`}),getTrendingTours:t.query({query:({currentPage:e,sortBy:n})=>`attraction/searchAttractions?id=eyJwaW5uZWRQcm9kdWN0IjoiUFJqa0FWUUt4V1hwIiwidWZpIjoyMDA1MDI2NH0%3D&sortBy=${n}&page=${e}&currency_code=USD&languagecode=en-us`}),getFilteredDestinationTours:t.query({query:e=>`attraction/searchLocation?query=${e}&languagecode=en-us`}),getSearchedTours:t.query({query:({destinationId:e,selectedDate:n,currentPage:r,sortBy:i})=>`attraction/searchAttractions?id=${e}%3D%3D&startDate=${n[0]}&endDate=${n[1]}&sortBy=${i}&page=${r}&currency_code=USD&languagecode=en-us`})}),overrideExisting:!1}),{useGetAttractionQuery:RIe,useGetTourDetailQuery:kIe,useGetDateAndTimeQuery:MIe,useGetTourReviewQuery:LIe,useGetTrendingToursQuery:FIe,useGetFilteredDestinationToursQuery:$Ie,useGetSearchedToursQuery:jIe,useGetTrendingAttractionQuery:UIe}=NIe;const BIe=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zIe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CJ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AJ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zIe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new VIe;const f=s<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const g=l<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VIe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HIe=function(t){const e=AJ(t);return CJ.encodeByteArray(e,!0)},gI=function(t){return HIe(t).replace(/\./g,"")},TJ=function(t){try{return CJ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WIe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qIe=()=>WIe().__FIREBASE_DEFAULTS__,KIe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GIe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TJ(t[1]);return e&&JSON.parse(e)},HP=()=>{try{return BIe()||qIe()||KIe()||GIe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SJ=t=>{var e,n;return(n=(e=HP())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YIe=t=>{const e=SJ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IJ=()=>{var t;return(t=HP())===null||t===void 0?void 0:t.config},xJ=t=>{var e;return(e=HP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QIe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZIe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[gI(JSON.stringify(n)),gI(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JIe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gs())}function XIe(){var t;const e=(t=HP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function exe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function txe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nxe(){const t=Gs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rxe(){return!XIe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OJ(){try{return typeof indexedDB=="object"}catch{return!1}}function DJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function ixe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sxe="FirebaseError";class Kc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sxe,Object.setPrototypeOf(this,Kc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jm.prototype.create)}}class jm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?oxe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kc(i,a,r)}}function oxe(t,e){return t.replace(axe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const axe=/\{\$([^}]+)}/g;function cxe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(c9(s)&&c9(o)){if(!uf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function c9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nb(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rb(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lxe(t,e){const n=new uxe(t,e);return n.subscribe.bind(n)}class uxe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dxe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xN),i.error===void 0&&(i.error=xN),i.complete===void 0&&(i.complete=xN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dxe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xN(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hxe=1e3,fxe=2,pxe=4*60*60*1e3,mxe=.5;function l9(t,e=hxe,n=fxe){const r=e*Math.pow(n,t),i=Math.round(mxe*r*(Math.random()-.5)*2);return Math.min(pxe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){return t&&t._delegate?t._delegate:t}class zc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gxe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QIe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vxe(e))try{this.getOrInitializeService({instanceIdentifier:Yf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yf){return this.instances.has(e)}getOptions(e=Yf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yxe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yf){return this.component?this.component.multipleInstances?e:Yf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yxe(t){return t===Yf?void 0:t}function vxe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wxe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gxe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yn||(yn={}));const bxe={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},_xe=yn.INFO,Exe={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},Axe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Exe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WP{constructor(e){this.name=e,this._logLevel=_xe,this._logHandler=Axe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bxe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const Cxe=(t,e)=>e.some(n=>t instanceof n);let u9,d9;function Txe(){return u9||(u9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sxe(){return d9||(d9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NJ=new WeakMap,tM=new WeakMap,RJ=new WeakMap,PN=new WeakMap,G$=new WeakMap;function Ixe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zh(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NJ.set(n,t)}).catch(()=>{}),G$.set(e,t),e}function xxe(t){if(tM.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tM.set(t,e)}let nM={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tM.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RJ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zh(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pxe(t){nM=t(nM)}function Oxe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ON(this),e,...n);return RJ.set(r,e.sort?e.sort():[e]),zh(r)}:Sxe().includes(t)?function(...e){return t.apply(ON(this),e),zh(NJ.get(this))}:function(...e){return zh(t.apply(ON(this),e))}}function Dxe(t){return typeof t=="function"?Oxe(t):(t instanceof IDBTransaction&&xxe(t),Cxe(t,Txe())?new Proxy(t,nM):t)}function zh(t){if(t instanceof IDBRequest)return Ixe(t);if(PN.has(t))return PN.get(t);const e=Dxe(t);return e!==t&&(PN.set(t,e),G$.set(e,t)),e}const ON=t=>G$.get(t);function kJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zh(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zh(o.result),c.oldVersion,c.newVersion,zh(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Nxe=["get","getKey","getAll","getAllKeys","count"],Rxe=["put","add","delete","clear"],DN=new Map;function h9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(DN.get(e))return DN.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rxe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Nxe.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return DN.set(e,s),s}Pxe(t=>({...t,get:(e,n,r)=>h9(e,n)||t.get(e,n,r),has:(e,n)=>!!h9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mxe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mxe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rM="@firebase/app",f9="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new WP("@firebase/app"),Lxe="@firebase/app-compat",Fxe="@firebase/analytics-compat",$xe="@firebase/analytics",jxe="@firebase/app-check-compat",Uxe="@firebase/app-check",Bxe="@firebase/auth",zxe="@firebase/auth-compat",Vxe="@firebase/database",Hxe="@firebase/data-connect",Wxe="@firebase/database-compat",qxe="@firebase/functions",Kxe="@firebase/functions-compat",Gxe="@firebase/installations",Yxe="@firebase/installations-compat",Qxe="@firebase/messaging",Zxe="@firebase/messaging-compat",Jxe="@firebase/performance",Xxe="@firebase/performance-compat",ePe="@firebase/remote-config",tPe="@firebase/remote-config-compat",nPe="@firebase/storage",rPe="@firebase/storage-compat",iPe="@firebase/firestore",sPe="@firebase/vertexai",oPe="@firebase/firestore-compat",aPe="firebase",cPe="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="[DEFAULT]",lPe={[rM]:"fire-core",[Lxe]:"fire-core-compat",[$xe]:"fire-analytics",[Fxe]:"fire-analytics-compat",[Uxe]:"fire-app-check",[jxe]:"fire-app-check-compat",[Bxe]:"fire-auth",[zxe]:"fire-auth-compat",[Vxe]:"fire-rtdb",[Hxe]:"fire-data-connect",[Wxe]:"fire-rtdb-compat",[qxe]:"fire-fn",[Kxe]:"fire-fn-compat",[Gxe]:"fire-iid",[Yxe]:"fire-iid-compat",[Qxe]:"fire-fcm",[Zxe]:"fire-fcm-compat",[Jxe]:"fire-perf",[Xxe]:"fire-perf-compat",[ePe]:"fire-rc",[tPe]:"fire-rc-compat",[nPe]:"fire-gcs",[rPe]:"fire-gcs-compat",[iPe]:"fire-fst",[oPe]:"fire-fst-compat",[sPe]:"fire-vertex","fire-js":"fire-js",[aPe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Map,uPe=new Map,sM=new Map;function p9(t,e){try{t.container.addComponent(e)}catch(n){id.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(sM.has(e))return id.debug(`There were multiple attempts to register component ${e}.`),!1;sM.set(e,t);for(const n of yI.values())p9(n,t);for(const n of uPe.values())p9(n,t);return!0}function Um(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dPe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vh=new jm("app","Firebase",dPe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hPe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=cPe;function MJ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iM,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vh.create("bad-app-name",{appName:String(i)});if(n||(n=IJ()),!n)throw Vh.create("no-options");const s=yI.get(i);if(s){if(uf(n,s.options)&&uf(r,s.config))return s;throw Vh.create("duplicate-app",{appName:i})}const o=new wxe(i);for(const c of sM.values())o.addComponent(c);const a=new hPe(n,r,o);return yI.set(i,a),a}function Y$(t=iM){const e=yI.get(t);if(!e&&t===iM&&IJ())return MJ();if(!e)throw Vh.create("no-app",{appName:t});return e}function qa(t,e,n){var r;let i=(r=lPe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),id.warn(a.join(" "));return}Ul(new zc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fPe="firebase-heartbeat-database",pPe=1,D_="firebase-heartbeat-store";let NN=null;function LJ(){return NN||(NN=kJ(fPe,pPe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(D_)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vh.create("idb-open",{originalErrorMessage:t.message})})),NN}async function mPe(t){try{const n=(await LJ()).transaction(D_),r=await n.objectStore(D_).get(FJ(t));return await n.done,r}catch(e){if(e instanceof Kc)id.warn(e.message);else{const n=Vh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});id.warn(n.message)}}}async function m9(t,e){try{const r=(await LJ()).transaction(D_,"readwrite");await r.objectStore(D_).put(e,FJ(t)),await r.done}catch(n){if(n instanceof Kc)id.warn(n.message);else{const r=Vh.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});id.warn(r.message)}}}function FJ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gPe=1024,yPe=30;class vPe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bPe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g9();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yPe){const o=_Pe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){id.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g9(),{heartbeatsToSend:r,unsentEntries:i}=wPe(this._heartbeatsCache.heartbeats),s=gI(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return id.warn(n),""}}}function g9(){return new Date().toISOString().substring(0,10)}function wPe(t,e=gPe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),y9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bPe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OJ()?DJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mPe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y9(t){return gI(JSON.stringify({version:2,heartbeats:t})).length}function _Pe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EPe(t){Ul(new zc("platform-logger",e=>new kxe(e),"PRIVATE")),Ul(new zc("heartbeat",e=>new vPe(e),"PRIVATE")),qa(rM,f9,t),qa(rM,f9,"esm2017"),qa("fire-js","")}EPe("");var v9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hh,$J;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function x(){}x.prototype=S.prototype,T.D=S.prototype,T.prototype=new x,T.prototype.constructor=T,T.C=function(N,R,$){for(var j=Array(arguments.length-2),K=2;K<arguments.length;K++)j[K-2]=arguments[K];return S.prototype[R].apply(N,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,S,x){x||(x=0);var N=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)N[R]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(R=0;16>R;++R)N[R]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=T.g[0],x=T.g[1],R=T.g[2];var $=T.g[3],j=S+($^x&(R^$))+N[0]+3614090360&4294967295;S=x+(j<<7&4294967295|j>>>25),j=$+(R^S&(x^R))+N[1]+3905402710&4294967295,$=S+(j<<12&4294967295|j>>>20),j=R+(x^$&(S^x))+N[2]+606105819&4294967295,R=$+(j<<17&4294967295|j>>>15),j=x+(S^R&($^S))+N[3]+3250441966&4294967295,x=R+(j<<22&4294967295|j>>>10),j=S+($^x&(R^$))+N[4]+4118548399&4294967295,S=x+(j<<7&4294967295|j>>>25),j=$+(R^S&(x^R))+N[5]+1200080426&4294967295,$=S+(j<<12&4294967295|j>>>20),j=R+(x^$&(S^x))+N[6]+2821735955&4294967295,R=$+(j<<17&4294967295|j>>>15),j=x+(S^R&($^S))+N[7]+4249261313&4294967295,x=R+(j<<22&4294967295|j>>>10),j=S+($^x&(R^$))+N[8]+1770035416&4294967295,S=x+(j<<7&4294967295|j>>>25),j=$+(R^S&(x^R))+N[9]+2336552879&4294967295,$=S+(j<<12&4294967295|j>>>20),j=R+(x^$&(S^x))+N[10]+4294925233&4294967295,R=$+(j<<17&4294967295|j>>>15),j=x+(S^R&($^S))+N[11]+2304563134&4294967295,x=R+(j<<22&4294967295|j>>>10),j=S+($^x&(R^$))+N[12]+1804603682&4294967295,S=x+(j<<7&4294967295|j>>>25),j=$+(R^S&(x^R))+N[13]+4254626195&4294967295,$=S+(j<<12&4294967295|j>>>20),j=R+(x^$&(S^x))+N[14]+2792965006&4294967295,R=$+(j<<17&4294967295|j>>>15),j=x+(S^R&($^S))+N[15]+1236535329&4294967295,x=R+(j<<22&4294967295|j>>>10),j=S+(R^$&(x^R))+N[1]+4129170786&4294967295,S=x+(j<<5&4294967295|j>>>27),j=$+(x^R&(S^x))+N[6]+3225465664&4294967295,$=S+(j<<9&4294967295|j>>>23),j=R+(S^x&($^S))+N[11]+643717713&4294967295,R=$+(j<<14&4294967295|j>>>18),j=x+($^S&(R^$))+N[0]+3921069994&4294967295,x=R+(j<<20&4294967295|j>>>12),j=S+(R^$&(x^R))+N[5]+3593408605&4294967295,S=x+(j<<5&4294967295|j>>>27),j=$+(x^R&(S^x))+N[10]+38016083&4294967295,$=S+(j<<9&4294967295|j>>>23),j=R+(S^x&($^S))+N[15]+3634488961&4294967295,R=$+(j<<14&4294967295|j>>>18),j=x+($^S&(R^$))+N[4]+3889429448&4294967295,x=R+(j<<20&4294967295|j>>>12),j=S+(R^$&(x^R))+N[9]+568446438&4294967295,S=x+(j<<5&4294967295|j>>>27),j=$+(x^R&(S^x))+N[14]+3275163606&4294967295,$=S+(j<<9&4294967295|j>>>23),j=R+(S^x&($^S))+N[3]+4107603335&4294967295,R=$+(j<<14&4294967295|j>>>18),j=x+($^S&(R^$))+N[8]+1163531501&4294967295,x=R+(j<<20&4294967295|j>>>12),j=S+(R^$&(x^R))+N[13]+2850285829&4294967295,S=x+(j<<5&4294967295|j>>>27),j=$+(x^R&(S^x))+N[2]+4243563512&4294967295,$=S+(j<<9&4294967295|j>>>23),j=R+(S^x&($^S))+N[7]+1735328473&4294967295,R=$+(j<<14&4294967295|j>>>18),j=x+($^S&(R^$))+N[12]+2368359562&4294967295,x=R+(j<<20&4294967295|j>>>12),j=S+(x^R^$)+N[5]+4294588738&4294967295,S=x+(j<<4&4294967295|j>>>28),j=$+(S^x^R)+N[8]+2272392833&4294967295,$=S+(j<<11&4294967295|j>>>21),j=R+($^S^x)+N[11]+1839030562&4294967295,R=$+(j<<16&4294967295|j>>>16),j=x+(R^$^S)+N[14]+4259657740&4294967295,x=R+(j<<23&4294967295|j>>>9),j=S+(x^R^$)+N[1]+2763975236&4294967295,S=x+(j<<4&4294967295|j>>>28),j=$+(S^x^R)+N[4]+1272893353&4294967295,$=S+(j<<11&4294967295|j>>>21),j=R+($^S^x)+N[7]+4139469664&4294967295,R=$+(j<<16&4294967295|j>>>16),j=x+(R^$^S)+N[10]+3200236656&4294967295,x=R+(j<<23&4294967295|j>>>9),j=S+(x^R^$)+N[13]+681279174&4294967295,S=x+(j<<4&4294967295|j>>>28),j=$+(S^x^R)+N[0]+3936430074&4294967295,$=S+(j<<11&4294967295|j>>>21),j=R+($^S^x)+N[3]+3572445317&4294967295,R=$+(j<<16&4294967295|j>>>16),j=x+(R^$^S)+N[6]+76029189&4294967295,x=R+(j<<23&4294967295|j>>>9),j=S+(x^R^$)+N[9]+3654602809&4294967295,S=x+(j<<4&4294967295|j>>>28),j=$+(S^x^R)+N[12]+3873151461&4294967295,$=S+(j<<11&4294967295|j>>>21),j=R+($^S^x)+N[15]+530742520&4294967295,R=$+(j<<16&4294967295|j>>>16),j=x+(R^$^S)+N[2]+3299628645&4294967295,x=R+(j<<23&4294967295|j>>>9),j=S+(R^(x|~$))+N[0]+4096336452&4294967295,S=x+(j<<6&4294967295|j>>>26),j=$+(x^(S|~R))+N[7]+1126891415&4294967295,$=S+(j<<10&4294967295|j>>>22),j=R+(S^($|~x))+N[14]+2878612391&4294967295,R=$+(j<<15&4294967295|j>>>17),j=x+($^(R|~S))+N[5]+4237533241&4294967295,x=R+(j<<21&4294967295|j>>>11),j=S+(R^(x|~$))+N[12]+1700485571&4294967295,S=x+(j<<6&4294967295|j>>>26),j=$+(x^(S|~R))+N[3]+2399980690&4294967295,$=S+(j<<10&4294967295|j>>>22),j=R+(S^($|~x))+N[10]+4293915773&4294967295,R=$+(j<<15&4294967295|j>>>17),j=x+($^(R|~S))+N[1]+2240044497&4294967295,x=R+(j<<21&4294967295|j>>>11),j=S+(R^(x|~$))+N[8]+1873313359&4294967295,S=x+(j<<6&4294967295|j>>>26),j=$+(x^(S|~R))+N[15]+4264355552&4294967295,$=S+(j<<10&4294967295|j>>>22),j=R+(S^($|~x))+N[6]+2734768916&4294967295,R=$+(j<<15&4294967295|j>>>17),j=x+($^(R|~S))+N[13]+1309151649&4294967295,x=R+(j<<21&4294967295|j>>>11),j=S+(R^(x|~$))+N[4]+4149444226&4294967295,S=x+(j<<6&4294967295|j>>>26),j=$+(x^(S|~R))+N[11]+3174756917&4294967295,$=S+(j<<10&4294967295|j>>>22),j=R+(S^($|~x))+N[2]+718787259&4294967295,R=$+(j<<15&4294967295|j>>>17),j=x+($^(R|~S))+N[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(R+(j<<21&4294967295|j>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+$&4294967295}r.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var x=S-this.blockSize,N=this.B,R=this.h,$=0;$<S;){if(R==0)for(;$<=x;)i(this,T,$),$+=this.blockSize;if(typeof T=="string"){for(;$<S;)if(N[R++]=T.charCodeAt($++),R==this.blockSize){i(this,N),R=0;break}}else for(;$<S;)if(N[R++]=T[$++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=S},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var x=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=x&255,x/=256;for(this.u(T),T=Array(16),S=x=0;4>S;++S)for(var N=0;32>N;N+=8)T[x++]=this.g[S]>>>N&255;return T};function s(T,S){var x=a;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=S(T)}function o(T,S){this.h=S;for(var x=[],N=!0,R=T.length-1;0<=R;R--){var $=T[R]|0;N&&$==S||(x[R]=$,N=!1)}this.g=x}var a={};function c(T){return-128<=T&&128>T?s(T,function(S){return new o([S|0],0>S?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return v(l(-T));for(var S=[],x=1,N=0;T>=x;N++)S[N]=T/x|0,x*=4294967296;return new o(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=l(Math.pow(S,8)),N=h,R=0;R<T.length;R+=8){var $=Math.min(8,T.length-R),j=parseInt(T.substring(R,R+$),S);8>$?($=l(Math.pow(S,$)),N=N.j($).add(l(j))):(N=N.j(x),N=N.add(l(j)))}return N}var h=c(0),f=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var T=0,S=1,x=0;x<this.g.length;x++){var N=this.i(x);T+=(0<=N?N:4294967296+N)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(y(this))return"-"+v(this).toString(T);for(var S=l(Math.pow(T,6)),x=this,N="";;){var R=I(x,S).g;x=b(x,R.j(S));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(T);if(x=R,g(x))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=b(this,T),y(T)?-1:g(T)?0:1};function v(T){for(var S=T.g.length,x=[],N=0;N<S;N++)x[N]=~T.g[N];return new o(x,~T.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),x=[],N=0,R=0;R<=S;R++){var $=N+(this.i(R)&65535)+(T.i(R)&65535),j=($>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);N=j>>>16,$&=65535,j&=65535,x[R]=j<<16|$}return new o(x,x[x.length-1]&-2147483648?-1:0)};function b(T,S){return T.add(v(S))}t.j=function(T){if(g(this)||g(T))return h;if(y(this))return y(T)?v(this).j(v(T)):v(v(this).j(T));if(y(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return l(this.m()*T.m());for(var S=this.g.length+T.g.length,x=[],N=0;N<2*S;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<T.g.length;R++){var $=this.i(N)>>>16,j=this.i(N)&65535,K=T.i(R)>>>16,B=T.i(R)&65535;x[2*N+2*R]+=j*B,_(x,2*N+2*R),x[2*N+2*R+1]+=$*B,_(x,2*N+2*R+1),x[2*N+2*R+1]+=j*K,_(x,2*N+2*R+1),x[2*N+2*R+2]+=$*K,_(x,2*N+2*R+2)}for(N=0;N<S;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=S;N<2*S;N++)x[N]=0;return new o(x,0)};function _(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function A(T,S){this.g=T,this.h=S}function I(T,S){if(g(S))throw Error("division by zero");if(g(T))return new A(h,h);if(y(T))return S=I(v(T),S),new A(v(S.g),v(S.h));if(y(S))return S=I(T,v(S)),new A(v(S.g),S.h);if(30<T.g.length){if(y(T)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var x=f,N=S;0>=N.l(T);)x=P(x),N=P(N);var R=D(x,1),$=D(N,1);for(N=D(N,2),x=D(x,2);!g(N);){var j=$.add(N);0>=j.l(T)&&(R=R.add(x),$=j),N=D(N,1),x=D(x,1)}return S=b(T,R.j(S)),new A(R,S)}for(R=h;0<=T.l(S);){for(x=Math.max(1,Math.floor(T.m()/S.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=l(x),j=$.j(S);y(j)||0<j.l(T);)x-=N,$=l(x),j=$.j(S);g($)&&($=f),R=R.add($),T=b(T,j)}return new A(R,T)}t.A=function(T){return I(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),x=[],N=0;N<S;N++)x[N]=this.i(N)&T.i(N);return new o(x,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),x=[],N=0;N<S;N++)x[N]=this.i(N)|T.i(N);return new o(x,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),x=[],N=0;N<S;N++)x[N]=this.i(N)^T.i(N);return new o(x,this.h^T.h)};function P(T){for(var S=T.g.length+1,x=[],N=0;N<S;N++)x[N]=T.i(N)<<1|T.i(N-1)>>>31;return new o(x,T.h)}function D(T,S){var x=S>>5;S%=32;for(var N=T.g.length-x,R=[],$=0;$<N;$++)R[$]=0<S?T.i($+x)>>>S|T.i($+x+1)<<32-S:T.i($+x);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$J=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Hh=o}).apply(typeof v9<"u"?v9:typeof self<"u"?self:typeof window<"u"?window:{});var aC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jJ,ib,UJ,xT,oM,BJ,zJ,VJ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,k,U){return w==Array.prototype||w==Object.prototype||(w[k]=U.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof aC=="object"&&aC];for(var k=0;k<w.length;++k){var U=w[k];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(w,k){if(k)e:{var U=r;w=w.split(".");for(var W=0;W<w.length-1;W++){var ie=w[W];if(!(ie in U))break e;U=U[ie]}w=w[w.length-1],W=U[w],k=k(W),k!=W&&k!=null&&e(U,w,{configurable:!0,writable:!0,value:k})}}function s(w,k){w instanceof String&&(w+="");var U=0,W=!1,ie={next:function(){if(!W&&U<w.length){var pe=U++;return{value:k(pe,w[pe]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(w){return w||function(){return s(this,function(k,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(w){var k=typeof w;return k=k!="object"?k:w?Array.isArray(w)?"array":k:"null",k=="array"||k=="object"&&typeof w.length=="number"}function l(w){var k=typeof w;return k=="object"&&w!=null||k=="function"}function u(w,k,U){return w.call.apply(w.bind,arguments)}function h(w,k,U){if(!w)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,W),w.apply(k,ie)}}return function(){return w.apply(k,arguments)}}function f(w,k,U){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(w,k){var U=Array.prototype.slice.call(arguments,1);return function(){var W=U.slice();return W.push.apply(W,arguments),w.apply(this,W)}}function g(w,k){function U(){}U.prototype=k.prototype,w.aa=k.prototype,w.prototype=new U,w.prototype.constructor=w,w.Qb=function(W,ie,pe){for(var ke=Array(arguments.length-2),Bn=2;Bn<arguments.length;Bn++)ke[Bn-2]=arguments[Bn];return k.prototype[ie].apply(W,ke)}}function y(w){const k=w.length;if(0<k){const U=Array(k);for(let W=0;W<k;W++)U[W]=w[W];return U}return[]}function v(w,k){for(let U=1;U<arguments.length;U++){const W=arguments[U];if(c(W)){const ie=w.length||0,pe=W.length||0;w.length=ie+pe;for(let ke=0;ke<pe;ke++)w[ie+ke]=W[ke]}else w.push(W)}}class b{constructor(k,U){this.i=k,this.j=U,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function _(w){return/^[\s\xa0]*$/.test(w)}function A(){var w=a.navigator;return w&&(w=w.userAgent)?w:""}function I(w){return I[" "](w),w}I[" "]=function(){};var P=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function D(w,k,U){for(const W in w)k.call(U,w[W],W,w)}function T(w,k){for(const U in w)k.call(void 0,w[U],U,w)}function S(w){const k={};for(const U in w)k[U]=w[U];return k}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(w,k){let U,W;for(let ie=1;ie<arguments.length;ie++){W=arguments[ie];for(U in W)w[U]=W[U];for(let pe=0;pe<x.length;pe++)U=x[pe],Object.prototype.hasOwnProperty.call(W,U)&&(w[U]=W[U])}}function R(w){var k=1;w=w.split(":");const U=[];for(;0<k&&w.length;)U.push(w.shift()),k--;return w.length&&U.push(w.join(":")),U}function $(w){a.setTimeout(()=>{throw w},0)}function j(){var w=Q;let k=null;return w.g&&(k=w.g,w.g=w.g.next,w.g||(w.h=null),k.next=null),k}class K{constructor(){this.h=this.g=null}add(k,U){const W=B.get();W.set(k,U),this.h?this.h.next=W:this.g=W,this.h=W}}var B=new b(()=>new z,w=>w.reset());class z{constructor(){this.next=this.g=this.h=null}set(k,U){this.h=k,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,V=!1,Q=new K,G=()=>{const w=a.Promise.resolve(void 0);Y=()=>{w.then(ee)}};var ee=()=>{for(var w;w=j();){try{w.h.call(w.g)}catch(U){$(U)}var k=B;k.j(w),100>k.h&&(k.h++,w.next=k.g,k.g=w)}V=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(w,k){this.type=w,this.g=this.target=k,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,k=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};a.addEventListener("test",U,k),a.removeEventListener("test",U,k)}catch{}return w}();function re(w,k){if(le.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var U=this.type=w.type,W=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=k,k=w.relatedTarget){if(P){e:{try{I(k.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(k=null)}}else U=="mouseover"?k=w.fromElement:U=="mouseout"&&(k=w.toElement);this.relatedTarget=k,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:oe[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&re.aa.h.call(this)}}g(re,le);var oe={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Be(w,k,U,W,ie){this.listener=w,this.proxy=null,this.src=k,this.type=U,this.capture=!!W,this.ha=ie,this.key=++Te,this.da=this.fa=!1}function et(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function tt(w){this.src=w,this.g={},this.h=0}tt.prototype.add=function(w,k,U,W,ie){var pe=w.toString();w=this.g[pe],w||(w=this.g[pe]=[],this.h++);var ke=pt(w,k,W,ie);return-1<ke?(k=w[ke],U||(k.fa=!1)):(k=new Be(k,this.src,pe,!!W,ie),k.fa=U,w.push(k)),k};function Fe(w,k){var U=k.type;if(U in w.g){var W=w.g[U],ie=Array.prototype.indexOf.call(W,k,void 0),pe;(pe=0<=ie)&&Array.prototype.splice.call(W,ie,1),pe&&(et(k),w.g[U].length==0&&(delete w.g[U],w.h--))}}function pt(w,k,U,W){for(var ie=0;ie<w.length;++ie){var pe=w[ie];if(!pe.da&&pe.listener==k&&pe.capture==!!U&&pe.ha==W)return ie}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),an={};function Pt(w,k,U,W,ie){if(W&&W.once)return fn(w,k,U,W,ie);if(Array.isArray(k)){for(var pe=0;pe<k.length;pe++)Pt(w,k[pe],U,W,ie);return null}return U=ot(U),w&&w[ye]?w.K(k,U,l(W)?!!W.capture:!!W,ie):An(w,k,U,!1,W,ie)}function An(w,k,U,W,ie,pe){if(!k)throw Error("Invalid event type");var ke=l(ie)?!!ie.capture:!!ie,Bn=Ce(w);if(Bn||(w[mt]=Bn=new tt(w)),U=Bn.add(k,U,W,ke,pe),U.proxy)return U;if(W=Fn(),U.proxy=W,W.src=w,W.listener=U,w.addEventListener)ue||(ie=ke),ie===void 0&&(ie=!1),w.addEventListener(k.toString(),W,ie);else if(w.attachEvent)w.attachEvent(se(k.toString()),W);else if(w.addListener&&w.removeListener)w.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Fn(){function w(U){return k.call(w.src,w.listener,U)}const k=xe;return w}function fn(w,k,U,W,ie){if(Array.isArray(k)){for(var pe=0;pe<k.length;pe++)fn(w,k[pe],U,W,ie);return null}return U=ot(U),w&&w[ye]?w.L(k,U,l(W)?!!W.capture:!!W,ie):An(w,k,U,!0,W,ie)}function mr(w,k,U,W,ie){if(Array.isArray(k))for(var pe=0;pe<k.length;pe++)mr(w,k[pe],U,W,ie);else W=l(W)?!!W.capture:!!W,U=ot(U),w&&w[ye]?(w=w.i,k=String(k).toString(),k in w.g&&(pe=w.g[k],U=pt(pe,U,W,ie),-1<U&&(et(pe[U]),Array.prototype.splice.call(pe,U,1),pe.length==0&&(delete w.g[k],w.h--)))):w&&(w=Ce(w))&&(k=w.g[k.toString()],w=-1,k&&(w=pt(k,U,W,ie)),(U=-1<w?k[w]:null)&&Jt(U))}function Jt(w){if(typeof w!="number"&&w&&!w.da){var k=w.src;if(k&&k[ye])Fe(k.i,w);else{var U=w.type,W=w.proxy;k.removeEventListener?k.removeEventListener(U,W,w.capture):k.detachEvent?k.detachEvent(se(U),W):k.addListener&&k.removeListener&&k.removeListener(W),(U=Ce(k))?(Fe(U,w),U.h==0&&(U.src=null,k[mt]=null)):et(w)}}}function se(w){return w in an?an[w]:an[w]="on"+w}function xe(w,k){if(w.da)w=!0;else{k=new re(k,this);var U=w.listener,W=w.ha||w.src;w.fa&&Jt(w),w=U.call(W,k)}return w}function Ce(w){return w=w[mt],w instanceof tt?w:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(w){return typeof w=="function"?w:(w[Me]||(w[Me]=function(k){return w.handleEvent(k)}),w[Me])}function Ye(){ne.call(this),this.i=new tt(this),this.M=this,this.F=null}g(Ye,ne),Ye.prototype[ye]=!0,Ye.prototype.removeEventListener=function(w,k,U,W){mr(this,w,k,U,W)};function yt(w,k){var U,W=w.F;if(W)for(U=[];W;W=W.F)U.push(W);if(w=w.M,W=k.type||k,typeof k=="string")k=new le(k,w);else if(k instanceof le)k.target=k.target||w;else{var ie=k;k=new le(W,w),N(k,ie)}if(ie=!0,U)for(var pe=U.length-1;0<=pe;pe--){var ke=k.g=U[pe];ie=Mt(ke,W,!0,k)&&ie}if(ke=k.g=w,ie=Mt(ke,W,!0,k)&&ie,ie=Mt(ke,W,!1,k)&&ie,U)for(pe=0;pe<U.length;pe++)ke=k.g=U[pe],ie=Mt(ke,W,!1,k)&&ie}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var w=this.i,k;for(k in w.g){for(var U=w.g[k],W=0;W<U.length;W++)et(U[W]);delete w.g[k],w.h--}}this.F=null},Ye.prototype.K=function(w,k,U,W){return this.i.add(String(w),k,!1,U,W)},Ye.prototype.L=function(w,k,U,W){return this.i.add(String(w),k,!0,U,W)};function Mt(w,k,U,W){if(k=w.i.g[String(k)],!k)return!0;k=k.concat();for(var ie=!0,pe=0;pe<k.length;++pe){var ke=k[pe];if(ke&&!ke.da&&ke.capture==U){var Bn=ke.listener,Ri=ke.ha||ke.src;ke.fa&&Fe(w.i,ke),ie=Bn.call(Ri,W)!==!1&&ie}}return ie&&!W.defaultPrevented}function gr(w,k,U){if(typeof w=="function")U&&(w=f(w,U));else if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:a.setTimeout(w,k||0)}function lr(w){w.g=gr(()=>{w.g=null,w.i&&(w.i=!1,lr(w))},w.l);const k=w.h;w.h=null,w.m.apply(null,k)}class Ko extends ne{constructor(k,U){super(),this.m=k,this.l=U,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:lr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(w){ne.call(this),this.h=w,this.g={}}g($n,ne);var wi=[];function zi(w){D(w.g,function(k,U){this.g.hasOwnProperty(U)&&Jt(k)},w),w.g={}}$n.prototype.N=function(){$n.aa.N.call(this),zi(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oi=a.JSON.stringify,Vi=a.JSON.parse,_e=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Vt(){}Vt.prototype.h=null;function cn(w){return w.h||(w.h=w.i())}function ur(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cn(){le.call(this,"d")}g(Cn,le);function Un(){le.call(this,"c")}g(Un,le);var Jr={},wn=null;function dr(){return wn=wn||new Ye}Jr.La="serverreachability";function Di(w){le.call(this,Jr.La,w)}g(Di,le);function si(w){const k=dr();yt(k,new Di(k))}Jr.STAT_EVENT="statevent";function go(w,k){le.call(this,Jr.STAT_EVENT,w),this.stat=k}g(go,le);function Z(w){const k=dr();yt(k,new go(k,w))}Jr.Ma="timingevent";function te(w,k){le.call(this,Jr.Ma,w),this.size=k}g(te,le);function de(w,k){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},k)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function he(w,k,U,W,ie,pe){w.info(function(){if(w.g)if(pe)for(var ke="",Bn=pe.split("&"),Ri=0;Ri<Bn.length;Ri++){var Ht=Bn[Ri].split("=");if(1<Ht.length){var Wr=Ht[0];Ht=Ht[1];var Wi=Wr.split("_");ke=2<=Wi.length&&Wi[1]=="type"?ke+(Wr+"="+Ht+"&"):ke+(Wr+"=redacted&")}}else ke=null;else ke=pe;return"XMLHTTP REQ ("+W+") [attempt "+ie+"]: "+k+`
`+U+`
`+ke})}function Qe(w,k,U,W,ie,pe,ke){w.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ie+"]: "+k+`
`+U+`
`+pe+" "+ke})}function ht(w,k,U,W){w.info(function(){return"XMLHTTP TEXT ("+k+"): "+ze(w,U)+(W?" "+W:"")})}function je(w,k){w.info(function(){return"TIMEOUT: "+k})}ge.prototype.info=function(){};function ze(w,k){if(!w.g)return k;if(!k)return null;try{var U=JSON.parse(k);if(U){for(w=0;w<U.length;w++)if(Array.isArray(U[w])){var W=U[w];if(!(2>W.length)){var ie=W[1];if(Array.isArray(ie)&&!(1>ie.length)){var pe=ie[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var ke=1;ke<ie.length;ke++)ie[ke]=""}}}}return Oi(U)}catch{return k}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pe;function Ze(){}g(Ze,Vt),Ze.prototype.g=function(){return new XMLHttpRequest},Ze.prototype.i=function(){return{}},Pe=new Ze;function Et(w,k,U,W){this.j=w,this.i=k,this.l=U,this.R=W||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jt}function jt(){this.i=null,this.g="",this.h=!1}var It={},bn={};function Hi(w,k,U){w.L=1,w.v=Yc(sc(k)),w.m=U,w.P=!0,yo(w,null)}function yo(w,k){w.F=Date.now(),ln(w),w.A=sc(w.v);var U=w.A,W=w.R;Array.isArray(W)||(W=[String(W)]),Ut(U.i,"t",W),w.C=0,U=w.j.J,w.h=new jt,w.g=Gw(w.j,U?k:null,!w.m),0<w.O&&(w.M=new Ko(f(w.Y,w,w.g),w.O)),k=w.U,U=w.g,W=w.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(wi[0]=ie.toString()),ie=wi);for(var pe=0;pe<ie.length;pe++){var ke=Pt(U,ie[pe],W||k.handleEvent,!1,k.h||k);if(!ke)break;k.g[ke.key]=ke}k=w.H?S(w.H):{},w.m?(w.u||(w.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,k)):(w.u="GET",w.g.ea(w.A,w.u,null,k)),si(),he(w.i,w.u,w.A,w.l,w.R,w.m)}Et.prototype.ca=function(w){w=w.target;const k=this.M;k&&Ea(w)==3?k.j():this.Y(w)},Et.prototype.Y=function(w){try{if(w==this.g)e:{const Wi=Ea(this.g);var k=this.g.Ba();const Ls=this.g.Z();if(!(3>Wi)&&(Wi!=3||this.g&&(this.h.h||this.g.oa()||dA(this.g)))){this.J||Wi!=4||k==7||(k==8||0>=Ls?si(3):si(2)),Nn(this);var U=this.g.Z();this.X=U;t:if(Lt(this)){var W=dA(this.g);w="";var ie=W.length,pe=Ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),oi(this);var ke="";break t}this.h.i=new a.TextDecoder}for(k=0;k<ie;k++)this.h.h=!0,w+=this.h.i.decode(W[k],{stream:!(pe&&k==ie-1)});W.length=0,this.h.g+=w,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=U==200,Qe(this.i,this.u,this.A,this.l,this.R,Wi,U),this.o){if(this.T&&!this.K){t:{if(this.g){var Bn,Ri=this.g;if((Bn=Ri.g?Ri.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Bn)){var Ht=Bn;break t}}Ht=null}if(U=Ht)ht(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,St(this,U);else{this.o=!1,this.s=3,Z(12),yr(this),oi(this);break e}}if(this.P){U=!0;let Yo;for(;!this.J&&this.C<ke.length;)if(Yo=ft(this,ke),Yo==bn){Wi==4&&(this.s=4,Z(14),U=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(Yo==It){this.s=4,Z(15),ht(this.i,this.l,ke,"[Invalid Chunk]"),U=!1;break}else ht(this.i,this.l,Yo,null),St(this,Yo);if(Lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wi!=4||ke.length!=0||this.h.h||(this.s=1,Z(16),U=!1),this.o=this.o&&U,!U)ht(this.i,this.l,ke,"[Invalid Chunked Response]"),yr(this),oi(this);else if(0<ke.length&&!this.W){this.W=!0;var Wr=this.j;Wr.g==this&&Wr.ba&&!Wr.M&&(Wr.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),Lf(Wr),Wr.M=!0,Z(11))}}else ht(this.i,this.l,ke,null),St(this,ke);Wi==4&&yr(this),this.o&&!this.J&&(Wi==4?Kw(this.j,this):(this.o=!1,ln(this)))}else Vw(this.g),U==400&&0<ke.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),yr(this),oi(this)}}}catch{}finally{}};function Lt(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function ft(w,k){var U=w.C,W=k.indexOf(`
`,U);return W==-1?bn:(U=Number(k.substring(U,W)),isNaN(U)?It:(W+=1,W+U>k.length?bn:(k=k.slice(W,W+U),w.C=W+U,k)))}Et.prototype.cancel=function(){this.J=!0,yr(this)};function ln(w){w.S=Date.now()+w.I,Tn(w,w.I)}function Tn(w,k){if(w.B!=null)throw Error("WatchDog timer not null");w.B=de(f(w.ba,w),k)}function Nn(w){w.B&&(a.clearTimeout(w.B),w.B=null)}Et.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(je(this.i,this.A),this.L!=2&&(si(),Z(17)),yr(this),this.s=2,oi(this)):Tn(this,this.S-w)};function oi(w){w.j.G==0||w.J||Kw(w.j,w)}function yr(w){Nn(w);var k=w.M;k&&typeof k.ma=="function"&&k.ma(),w.M=null,zi(w.U),w.g&&(k=w.g,w.g=null,k.abort(),k.ma())}function St(w,k){try{var U=w.j;if(U.G!=0&&(U.g==w||rn(U.h,w))){if(!w.K&&rn(U.h,w)&&U.G==3){try{var W=U.Da.g.parse(k)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ie=W;if(ie[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<w.F)Ff(U),ug(U);else break e;fg(U),Z(18)}}else U.za=ie[1],0<U.za-U.T&&37500>ie[2]&&U.F&&U.v==0&&!U.C&&(U.C=de(f(U.Za,U),6e3));if(1>=ut(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else ru(U,11)}else if((w.K||U.g==w)&&Ff(U),!_(k))for(ie=U.Da.g.parse(k),k=0;k<ie.length;k++){let Ht=ie[k];if(U.T=Ht[0],Ht=Ht[1],U.G==2)if(Ht[0]=="c"){U.K=Ht[1],U.ia=Ht[2];const Wr=Ht[3];Wr!=null&&(U.la=Wr,U.j.info("VER="+U.la));const Wi=Ht[4];Wi!=null&&(U.Aa=Wi,U.j.info("SVER="+U.Aa));const Ls=Ht[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(W=1.5*Ls,U.L=W,U.j.info("backChannelRequestTimeoutMs_="+W)),W=U;const Yo=w.g;if(Yo){const lc=Yo.g?Yo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lc){var pe=W.h;pe.g||lc.indexOf("spdy")==-1&&lc.indexOf("quic")==-1&&lc.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(vo(pe,pe.h),pe.h=null))}if(W.D){const Qw=Yo.g?Yo.g.getResponseHeader("X-HTTP-Session-Id"):null;Qw&&(W.ya=Qw,xn(W.I,W.D,Qw))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-w.F,U.j.info("Handshake RTT: "+U.R+"ms")),W=U;var ke=w;if(W.qa=mA(W,W.J?W.ia:null,W.W),ke.K){ic(W.h,ke);var Bn=ke,Ri=W.L;Ri&&(Bn.I=Ri),Bn.B&&(Nn(Bn),ln(Bn)),W.g=ke}else qw(W);0<U.i.length&&hg(U)}else Ht[0]!="stop"&&Ht[0]!="close"||ru(U,7);else U.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ru(U,7):Ww(U):Ht[0]!="noop"&&U.l&&U.l.ta(Ht),U.v=0)}}si(4)}catch{}}var pn=class{constructor(w,k){this.g=w,this.map=k}};function bi(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ai(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function ut(w){return w.h?1:w.g?w.g.size:0}function rn(w,k){return w.h?w.h==k:w.g?w.g.has(k):!1}function vo(w,k){w.g?w.g.add(k):w.h=k}function ic(w,k){w.h&&w.h==k?w.h=null:w.g&&w.g.has(k)&&w.g.delete(k)}bi.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Xl(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let k=w.i;for(const U of w.g.values())k=k.concat(U.D);return k}return y(w.i)}function Rw(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(c(w)){for(var k=[],U=w.length,W=0;W<U;W++)k.push(w[W]);return k}k=[],U=0;for(W in w)k[U++]=w[W];return k}function Yt(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(c(w)||typeof w=="string"){var k=[];w=w.length;for(var U=0;U<w;U++)k.push(U);return k}k=[],U=0;for(const W in w)k[U++]=W;return k}}}function Mr(w,k){if(w.forEach&&typeof w.forEach=="function")w.forEach(k,void 0);else if(c(w)||typeof w=="string")Array.prototype.forEach.call(w,k,void 0);else for(var U=Yt(w),W=Rw(w),ie=W.length,pe=0;pe<ie;pe++)k.call(void 0,W[pe],U&&U[pe],w)}var sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function og(w,k){if(w){w=w.split("&");for(var U=0;U<w.length;U++){var W=w[U].indexOf("="),ie=null;if(0<=W){var pe=w[U].substring(0,W);ie=w[U].substring(W+1)}else pe=w[U];k(pe,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function _i(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof _i){this.h=w.h,eu(this,w.j),this.o=w.o,this.g=w.g,ba(this,w.s),this.l=w.l;var k=w.i,U=new Qc;U.i=k.i,k.g&&(U.g=new Map(k.g),U.h=k.h),Hr(this,U),this.m=w.m}else w&&(k=String(w).match(sg))?(this.h=!1,eu(this,k[1]||"",!0),this.o=oc(k[2]||""),this.g=oc(k[3]||"",!0),ba(this,k[4]),this.l=oc(k[5]||"",!0),Hr(this,k[6]||"",!0),this.m=oc(k[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}_i.prototype.toString=function(){var w=[],k=this.j;k&&w.push(tu(k,ag,!0),":");var U=this.g;return(U||k=="file")&&(w.push("//"),(k=this.o)&&w.push(tu(k,ag,!0),"@"),w.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&w.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(tu(U,U.charAt(0)=="/"?cg:kw,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",tu(U,Lw)),w.join("")};function sc(w){return new _i(w)}function eu(w,k,U){w.j=U?oc(k,!0):k,w.j&&(w.j=w.j.replace(/:$/,""))}function ba(w,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);w.s=k}else w.s=null}function Hr(w,k,U){k instanceof Qc?(w.i=k,nr(w.i,w.h)):(U||(k=tu(k,Mw)),w.i=new Qc(k,w.h))}function xn(w,k,U){w.i.set(k,U)}function Yc(w){return xn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function oc(w,k){return w?k?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function tu(w,k,U){return typeof w=="string"?(w=encodeURI(w).replace(k,kf),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function kf(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var ag=/[#\/\?@]/g,kw=/[#\?:]/g,cg=/[#\?]/g,Mw=/[#\?@]/g,Lw=/#/g;function Qc(w,k){this.h=this.g=null,this.i=w||null,this.j=!!k}function ac(w){w.g||(w.g=new Map,w.h=0,w.i&&og(w.i,function(k,U){w.add(decodeURIComponent(k.replace(/\+/g," ")),U)}))}t=Qc.prototype,t.add=function(w,k){ac(this),this.i=null,w=ds(this,w);var U=this.g.get(w);return U||this.g.set(w,U=[]),U.push(k),this.h+=1,this};function lg(w,k){ac(w),k=ds(w,k),w.g.has(k)&&(w.i=null,w.h-=w.g.get(k).length,w.g.delete(k))}function cA(w,k){return ac(w),k=ds(w,k),w.g.has(k)}t.forEach=function(w,k){ac(this),this.g.forEach(function(U,W){U.forEach(function(ie){w.call(k,ie,W,this)},this)},this)},t.na=function(){ac(this);const w=Array.from(this.g.values()),k=Array.from(this.g.keys()),U=[];for(let W=0;W<k.length;W++){const ie=w[W];for(let pe=0;pe<ie.length;pe++)U.push(k[W])}return U},t.V=function(w){ac(this);let k=[];if(typeof w=="string")cA(this,w)&&(k=k.concat(this.g.get(ds(this,w))));else{w=Array.from(this.g.values());for(let U=0;U<w.length;U++)k=k.concat(w[U])}return k},t.set=function(w,k){return ac(this),this.i=null,w=ds(this,w),cA(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[k]),this.h+=1,this},t.get=function(w,k){return w?(w=this.V(w),0<w.length?String(w[0]):k):k};function Ut(w,k,U){lg(w,k),0<U.length&&(w.i=null,w.g.set(ds(w,k),y(U)),w.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],k=Array.from(this.g.keys());for(var U=0;U<k.length;U++){var W=k[U];const pe=encodeURIComponent(String(W)),ke=this.V(W);for(W=0;W<ke.length;W++){var ie=pe;ke[W]!==""&&(ie+="="+encodeURIComponent(String(ke[W]))),w.push(ie)}}return this.i=w.join("&")};function ds(w,k){return k=String(k),w.j&&(k=k.toLowerCase()),k}function nr(w,k){k&&!w.j&&(ac(w),w.i=null,w.g.forEach(function(U,W){var ie=W.toLowerCase();W!=ie&&(lg(this,W),Ut(this,ie,U))},w)),w.j=k}function lA(w,k){const U=new ge;if(a.Image){const W=new Image;W.onload=p(_a,U,"TestLoadImage: loaded",!0,k,W),W.onerror=p(_a,U,"TestLoadImage: error",!1,k,W),W.onabort=p(_a,U,"TestLoadImage: abort",!1,k,W),W.ontimeout=p(_a,U,"TestLoadImage: timeout",!1,k,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=w}else k(!1)}function Fw(w,k){const U=new ge,W=new AbortController,ie=setTimeout(()=>{W.abort(),_a(U,"TestPingServer: timeout",!1,k)},1e4);fetch(w,{signal:W.signal}).then(pe=>{clearTimeout(ie),pe.ok?_a(U,"TestPingServer: ok",!0,k):_a(U,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ie),_a(U,"TestPingServer: error",!1,k)})}function _a(w,k,U,W,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),W(U)}catch{}}function $w(){this.g=new _e}function nu(w,k,U){const W=U||"";try{Mr(w,function(ie,pe){let ke=ie;l(ie)&&(ke=Oi(ie)),k.push(W+pe+"="+encodeURIComponent(ke))})}catch(ie){throw k.push(W+"type="+encodeURIComponent("_badmap")),ie}}function xd(w){this.l=w.Ub||null,this.j=w.eb||!1}g(xd,Vt),xd.prototype.g=function(){return new Zc(this.l,this.j)},xd.prototype.i=function(w){return function(){return w}}({});function Zc(w,k){Ye.call(this),this.D=w,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Zc,Ye),t=Zc.prototype,t.open=function(w,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=k,this.readyState=1,Pd(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(k.body=w),(this.D||a).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Pd(this)),this.g&&(this.readyState=3,Pd(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ei(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ei(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var k=w.value?w.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!w.done}))&&(this.response=this.responseText+=k)}w.done?Go(this):Pd(this),this.readyState==3&&Ei(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Go(this))},t.Qa=function(w){this.g&&(this.response=w,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Pd(w)}t.setRequestHeader=function(w,k){this.u.append(w,k)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],k=this.h.entries();for(var U=k.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=k.next();return w.join(`\r
`)};function Pd(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function jw(w){let k="";return D(w,function(U,W){k+=W,k+=":",k+=U,k+=`\r
`}),k}function Uw(w,k,U){e:{for(W in U){var W=!1;break e}W=!0}W||(U=jw(U),typeof w=="string"?U!=null&&encodeURIComponent(String(U)):xn(w,k,U))}function Tr(w){Ye.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Tr,Ye);var Bw=/^https?$/i,dD=["POST","PUT"];t=Tr.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,k,U,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);k=k?k.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?cn(this.o):cn(Pe),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(k,String(w),!0),this.B=!1}catch(pe){zw(this,pe);return}if(w=U||"",U=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ie in W)U.set(ie,W[ie]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const pe of W.keys())U.set(pe,W.get(pe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(U.keys()).find(pe=>pe.toLowerCase()=="content-type"),ie=a.FormData&&w instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dD,k,void 0))||W||ie||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,ke]of U)this.g.setRequestHeader(pe,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Od(this),this.u=!0,this.g.send(w),this.u=!1}catch(pe){zw(this,pe)}};function zw(w,k){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=k,w.m=5,mn(w),Ms(w)}function mn(w){w.A||(w.A=!0,yt(w,"complete"),yt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,yt(this,"complete"),yt(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),Tr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uA(this):this.bb())},t.bb=function(){uA(this)};function uA(w){if(w.h&&typeof o<"u"&&(!w.v[1]||Ea(w)!=4||w.Z()!=2)){if(w.u&&Ea(w)==4)gr(w.Ea,0,w);else if(yt(w,"readystatechange"),Ea(w)==4){w.h=!1;try{const ke=w.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var U;if(!(U=k)){var W;if(W=ke===0){var ie=String(w.D).match(sg)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),W=!Bw.test(ie?ie.toLowerCase():"")}U=W}if(U)yt(w,"complete"),yt(w,"success");else{w.m=6;try{var pe=2<Ea(w)?w.g.statusText:""}catch{pe=""}w.l=pe+" ["+w.Z()+"]",mn(w)}}finally{Ms(w)}}}}function Ms(w,k){if(w.g){Od(w);const U=w.g,W=w.v[0]?()=>{}:null;w.g=null,w.v=null,k||yt(w,"ready");try{U.onreadystatechange=W}catch{}}}function Od(w){w.I&&(a.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Ea(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var k=this.g.responseText;return w&&k.indexOf(w)==0&&(k=k.substring(w.length)),Vi(k)}};function dA(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Vw(w){const k={};w=(w.g&&2<=Ea(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<w.length;W++){if(_(w[W]))continue;var U=R(w[W]);const ie=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const pe=k[ie]||[];k[ie]=pe,pe.push(U)}T(k,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mf(w,k,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||k}function Hw(w){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mf("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mf("baseRetryDelayMs",5e3,w),this.cb=Mf("retryDelaySeedMs",1e4,w),this.Wa=Mf("forwardChannelMaxRetries",2,w),this.wa=Mf("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(w&&w.concurrentRequestLimit),this.Da=new $w,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hw.prototype,t.la=8,t.G=1,t.connect=function(w,k,U,W){Z(0),this.W=w,this.H=k||{},U&&W!==void 0&&(this.H.OSID=U,this.H.OAID=W),this.F=this.X,this.I=mA(this,null,this.W),hg(this)};function Ww(w){if(dg(w),w.G==3){var k=w.U++,U=sc(w.I);if(xn(U,"SID",w.K),xn(U,"RID",k),xn(U,"TYPE","terminate"),Dd(w,U),k=new Et(w,w.j,k),k.L=2,k.v=Yc(sc(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(k.v.toString(),"")}catch{}!U&&a.Image&&(new Image().src=k.v,U=!0),U||(k.g=Gw(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ln(k)}pg(w)}function ug(w){w.g&&(Lf(w),w.g.cancel(),w.g=null)}function dg(w){ug(w),w.u&&(a.clearTimeout(w.u),w.u=null),Ff(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&a.clearTimeout(w.s),w.s=null)}function hg(w){if(!ai(w.h)&&!w.s){w.s=!0;var k=w.Ga;Y||G(),V||(Y(),V=!0),Q.add(k,w),w.B=0}}function Aa(w,k){return ut(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=k.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=de(f(w.Ga,w,k),pA(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const ie=new Et(this,this.j,w);let pe=this.o;if(this.S&&(pe?(pe=S(pe),N(pe,this.S)):pe=this.S),this.m!==null||this.O||(ie.H=pe,pe=null),this.P)e:{for(var k=0,U=0;U<this.i.length;U++){t:{var W=this.i[U];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(k+=W,4096<k){k=U;break e}if(k===4096||U===this.i.length-1){k=U+1;break e}}k=1e3}else k=1e3;k=cc(this,ie,k),U=sc(this.I),xn(U,"RID",w),xn(U,"CVER",22),this.D&&xn(U,"X-HTTP-Session-Id",this.D),Dd(this,U),pe&&(this.O?k="headers="+encodeURIComponent(String(jw(pe)))+"&"+k:this.m&&Uw(U,this.m,pe)),vo(this.h,ie),this.Ua&&xn(U,"TYPE","init"),this.P?(xn(U,"$req",k),xn(U,"SID","null"),ie.T=!0,Hi(ie,U,null)):Hi(ie,U,k),this.G=2}}else this.G==3&&(w?hA(this,w):this.i.length==0||ai(this.h)||hA(this))};function hA(w,k){var U;k?U=k.l:U=w.U++;const W=sc(w.I);xn(W,"SID",w.K),xn(W,"RID",U),xn(W,"AID",w.T),Dd(w,W),w.m&&w.o&&Uw(W,w.m,w.o),U=new Et(w,w.j,U,w.B+1),w.m===null&&(U.H=w.o),k&&(w.i=k.D.concat(w.i)),k=cc(w,U,1e3),U.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),vo(w.h,U),Hi(U,W,k)}function Dd(w,k){w.H&&D(w.H,function(U,W){xn(k,W,U)}),w.l&&Mr({},function(U,W){xn(k,W,U)})}function cc(w,k,U){U=Math.min(w.i.length,U);var W=w.l?f(w.l.Na,w.l,w):null;e:{var ie=w.i;let pe=-1;for(;;){const ke=["count="+U];pe==-1?0<U?(pe=ie[0].g,ke.push("ofs="+pe)):pe=0:ke.push("ofs="+pe);let Bn=!0;for(let Ri=0;Ri<U;Ri++){let Ht=ie[Ri].g;const Wr=ie[Ri].map;if(Ht-=pe,0>Ht)pe=Math.max(0,ie[Ri].g-100),Bn=!1;else try{nu(Wr,ke,"req"+Ht+"_")}catch{W&&W(Wr)}}if(Bn){W=ke.join("&");break e}}}return w=w.i.splice(0,U),k.D=w,W}function qw(w){if(!w.g&&!w.u){w.Y=1;var k=w.Fa;Y||G(),V||(Y(),V=!0),Q.add(k,w),w.v=0}}function fg(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=de(f(w.Fa,w),pA(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,fA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=de(f(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),ug(this),fA(this))};function Lf(w){w.A!=null&&(a.clearTimeout(w.A),w.A=null)}function fA(w){w.g=new Et(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var k=sc(w.qa);xn(k,"RID","rpc"),xn(k,"SID",w.K),xn(k,"AID",w.T),xn(k,"CI",w.F?"0":"1"),!w.F&&w.ja&&xn(k,"TO",w.ja),xn(k,"TYPE","xmlhttp"),Dd(w,k),w.m&&w.o&&Uw(k,w.m,w.o),w.L&&(w.g.I=w.L);var U=w.g;w=w.ia,U.L=1,U.v=Yc(sc(k)),U.m=null,U.P=!0,yo(U,w)}t.Za=function(){this.C!=null&&(this.C=null,ug(this),fg(this),Z(19))};function Ff(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Kw(w,k){var U=null;if(w.g==k){Ff(w),Lf(w),w.g=null;var W=2}else if(rn(w.h,k))U=k.D,ic(w.h,k),W=1;else return;if(w.G!=0){if(k.o)if(W==1){U=k.m?k.m.length:0,k=Date.now()-k.F;var ie=w.B;W=dr(),yt(W,new te(W,U)),hg(w)}else qw(w);else if(ie=k.s,ie==3||ie==0&&0<k.X||!(W==1&&Aa(w,k)||W==2&&fg(w)))switch(U&&0<U.length&&(k=w.h,k.i=k.i.concat(U)),ie){case 1:ru(w,5);break;case 4:ru(w,10);break;case 3:ru(w,6);break;default:ru(w,2)}}}function pA(w,k){let U=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(U*=2),U*k}function ru(w,k){if(w.j.info("Error code "+k),k==2){var U=f(w.fb,w),W=w.Xa;const ie=!W;W=new _i(W||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eu(W,"https"),Yc(W),ie?lA(W.toString(),U):Fw(W.toString(),U)}else Z(2);w.G=0,w.l&&w.l.sa(k),pg(w),dg(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function pg(w){if(w.G=0,w.ka=[],w.l){const k=Xl(w.h);(k.length!=0||w.i.length!=0)&&(v(w.ka,k),v(w.ka,w.i),w.h.i.length=0,y(w.i),w.i.length=0),w.l.ra()}}function mA(w,k,U){var W=U instanceof _i?sc(U):new _i(U);if(W.g!="")k&&(W.g=k+"."+W.g),ba(W,W.s);else{var ie=a.location;W=ie.protocol,k=k?k+"."+ie.hostname:ie.hostname,ie=+ie.port;var pe=new _i(null);W&&eu(pe,W),k&&(pe.g=k),ie&&ba(pe,ie),U&&(pe.l=U),W=pe}return U=w.D,k=w.ya,U&&k&&xn(W,U,k),xn(W,"VER",w.la),Dd(w,W),W}function Gw(w,k,U){if(k&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=w.Ca&&!w.pa?new Tr(new xd({eb:U})):new Tr(w.pa),k.Ha(w.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yw(){}t=Yw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function iu(){}iu.prototype.g=function(w,k){return new ci(w,k)};function ci(w,k){Ye.call(this),this.g=new Hw(k),this.l=w,this.h=k&&k.messageUrlParams||null,w=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(w?w["X-WebChannel-Content-Type"]=k.messageContentType:w={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(w?w["X-WebChannel-Client-Profile"]=k.va:w={"X-WebChannel-Client-Profile":k.va}),this.g.S=w,(w=k&&k.Sb)&&!_(w)&&(this.g.m=w),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!_(k)&&(this.g.D=k,w=this.h,w!==null&&k in w&&(w=this.h,k in w&&delete w[k])),this.j=new Ni(this)}g(ci,Ye),ci.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ci.prototype.close=function(){Ww(this.g)},ci.prototype.o=function(w){var k=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.u&&(U={},U.__data__=Oi(w),w=U);k.i.push(new pn(k.Ya++,w)),k.G==3&&hg(k)},ci.prototype.N=function(){this.g.l=null,delete this.j,Ww(this.g),delete this.g,ci.aa.N.call(this)};function gA(w){Cn.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var k=w.__sm__;if(k){e:{for(const U in k){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,k=k!==null&&w in k?k[w]:void 0),this.data=k}else this.data=w}g(gA,Cn);function Nd(){Un.call(this),this.status=1}g(Nd,Un);function Ni(w){this.g=w}g(Ni,Yw),Ni.prototype.ua=function(){yt(this.g,"a")},Ni.prototype.ta=function(w){yt(this.g,new gA(w))},Ni.prototype.sa=function(w){yt(this.g,new Nd)},Ni.prototype.ra=function(){yt(this.g,"b")},iu.prototype.createWebChannel=iu.prototype.g,ci.prototype.send=ci.prototype.o,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,VJ=function(){return new iu},zJ=function(){return dr()},BJ=Jr,oM={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,xT=$e,nt.COMPLETE="complete",UJ=nt,ur.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,ib=ur,Tr.prototype.listenOnce=Tr.prototype.L,Tr.prototype.getLastError=Tr.prototype.Ka,Tr.prototype.getLastErrorCode=Tr.prototype.Ba,Tr.prototype.getStatus=Tr.prototype.Z,Tr.prototype.getResponseJson=Tr.prototype.Oa,Tr.prototype.getResponseText=Tr.prototype.oa,Tr.prototype.send=Tr.prototype.ea,Tr.prototype.setWithCredentials=Tr.prototype.Ha,jJ=Tr}).apply(typeof aC<"u"?aC:typeof self<"u"?self:typeof window<"u"?window:{});const w9="@firebase/firestore",b9="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hs.UNAUTHENTICATED=new Hs(null),Hs.GOOGLE_CREDENTIALS=new Hs("google-credentials-uid"),Hs.FIRST_PARTY=new Hs("first-party-uid"),Hs.MOCK_USER=new Hs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new WP("@firebase/firestore");function Zg(){return rm.logLevel}function Xe(t,...e){if(rm.logLevel<=yn.DEBUG){const n=e.map(Q$);rm.debug(`Firestore (${uw}): ${t}`,...n)}}function sd(t,...e){if(rm.logLevel<=yn.ERROR){const n=e.map(Q$);rm.error(`Firestore (${uw}): ${t}`,...n)}}function Tv(t,...e){if(rm.logLevel<=yn.WARN){const n=e.map(Q$);rm.warn(`Firestore (${uw}): ${t}`,...n)}}function Q$(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t="Unexpected state"){const e=`FIRESTORE (${uw}) INTERNAL ASSERTION FAILED: `+t;throw sd(e),new Error(e)}function Wn(t,e){t||kt()}function qt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Kc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class APe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hs.UNAUTHENTICATED))}shutdown(){}}class CPe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TPe{constructor(e){this.t=e,this.currentUser=Hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Wn(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Hu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wn(typeof r.accessToken=="string"),new HJ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wn(e===null||typeof e=="string"),new Hs(e)}}class SPe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Hs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IPe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new SPe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xPe{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,oa(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Wn(this.o===void 0);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new _9(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wn(typeof n.token=="string"),this.R=n.token,new _9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PPe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=PPe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function on(t,e){return t<e?-1:t>e?1:0}function aM(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return on(r,i);{const s=WJ(),o=OPe(s.encode(E9(t,n)),s.encode(E9(e,n)));return o!==0?o:on(r,i)}}n+=r>65535?2:1}return on(t.length,e.length)}function E9(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function OPe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return on(t[n],e[n]);return on(t.length,e.length)}function Sv(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=-62135596800,C9=1e6;class Ui{static now(){return Ui.fromMillis(Date.now())}static fromDate(e){return Ui.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*C9);return new Ui(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new dt(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<A9)throw new dt(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C9}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-A9;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Ui(0,0))}static max(){return new zt(new Ui(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="__name__";class hl{constructor(e,n,r){n===void 0?n=0:n>e.length&&kt(),r===void 0?r=e.length-n:r>e.length-n&&kt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=hl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return on(e.length,n.length)}static compareSegments(e,n){const r=hl.isNumericId(e),i=hl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?hl.extractNumericId(e).compare(hl.extractNumericId(n)):aM(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hh.fromString(e.substring(4,e.length-2))}}class Dr extends hl{construct(e,n,r){return new Dr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dr(n)}static emptyPath(){return new Dr([])}}const DPe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ts extends hl{construct(e,n,r){return new Ts(e,n,r)}static isValidIdentifier(e){return DPe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T9}static keyField(){return new Ts([T9])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new dt(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new dt(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new dt(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new dt(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ts(n)}static emptyPath(){return new Ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(Dr.fromString(e))}static fromName(e){return new Ct(Dr.fromString(e).popFirst(5))}static empty(){return new Ct(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new Dr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-1;function NPe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=zt.fromTimestamp(r===1e9?new Ui(n+1,0):new Ui(n,r));return new df(i,Ct.empty(),e)}function RPe(t){return new df(t.readTime,t.key,N_)}class df{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new df(zt.min(),Ct.empty(),N_)}static max(){return new df(zt.max(),Ct.empty(),N_)}}function kPe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ct.comparator(t.documentKey,e.documentKey),n!==0?n:on(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MPe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LPe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==MPe)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new ve((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function FPe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hw(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qP.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=-1;function KP(t){return t==null}function vI(t){return t===0&&1/t==-1/0}function $Pe(t){return typeof t=="number"&&Number.isInteger(t)&&!vI(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ="";function jPe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S9(e)),e=UPe(t.get(n),e);return S9(e)}function UPe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case KJ:n+="";break;default:n+=s}}return n}function S9(t){return t+KJ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bm(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.comparator=e,this.root=n||ws.EMPTY}insert(e,n){return new Zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cC(this.root,e,this.comparator,!1)}getReverseIterator(){return new cC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cC(this.root,e,this.comparator,!0)}}class cC{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ws{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ws.RED,this.left=i??ws.EMPTY,this.right=s??ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ws(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ws.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kt();const e=this.left.check();if(e!==this.right.check())throw kt();return e+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1;ws.EMPTY=new class{constructor(){this.size=0}get key(){throw kt()}get value(){throw kt()}get color(){throw kt()}get left(){throw kt()}get right(){throw kt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ws(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x9(this.data.getIterator())}getIteratorFrom(e){return new x9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bi(this.comparator);return n.data=e,n}}class x9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.fields=e,e.sort(Ts.comparator)}static empty(){return new Sc([])}unionWith(e){let n=new Bi(Ts.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sc(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YJ("Invalid base64 string: "+s):s}}(e);return new Os(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Os(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Os.EMPTY_BYTE_STRING=new Os("");const BPe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hf(t){if(Wn(!!t),typeof t=="string"){let e=0;const n=BPe.exec(t);if(Wn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hi(t.seconds),nanos:hi(t.nanos)}}function hi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ff(t){return typeof t=="string"?Os.fromBase64String(t):Os.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ="server_timestamp",ZJ="__type__",JJ="__previous_value__",XJ="__local_write_time__";function J$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZJ])===null||n===void 0?void 0:n.stringValue)===QJ}function GP(t){const e=t.mapValue.fields[JJ];return J$(e)?GP(e):e}function R_(t){const e=hf(t.mapValue.fields[XJ].timestampValue);return new Ui(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zPe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}const wI="(default)";class k_{constructor(e,n){this.projectId=e,this.database=n||wI}static empty(){return new k_("","")}get isDefaultDatabase(){return this.database===wI}isEqual(e){return e instanceof k_&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX="__type__",tX="__max__",lC={mapValue:{fields:{__type__:{stringValue:tX}}}},nX="__vector__",bI="value";function pf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J$(t)?4:HPe(t)?9007199254740991:VPe(t)?10:11:kt()}function Bl(t,e){if(t===e)return!0;const n=pf(t);if(n!==pf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return R_(t).isEqual(R_(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hf(i.timestampValue),a=hf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ff(i.bytesValue).isEqual(ff(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return hi(i.geoPointValue.latitude)===hi(s.geoPointValue.latitude)&&hi(i.geoPointValue.longitude)===hi(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return hi(i.integerValue)===hi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=hi(i.doubleValue),a=hi(s.doubleValue);return o===a?vI(o)===vI(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Sv(t.arrayValue.values||[],e.arrayValue.values||[],Bl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(I9(o)!==I9(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Bl(o[c],a[c])))return!1;return!0}(t,e);default:return kt()}}function M_(t,e){return(t.values||[]).find(n=>Bl(n,e))!==void 0}function Iv(t,e){if(t===e)return 0;const n=pf(t),r=pf(e);if(n!==r)return on(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return on(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=hi(s.integerValue||s.doubleValue),c=hi(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return P9(t.timestampValue,e.timestampValue);case 4:return P9(R_(t),R_(e));case 5:return aM(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ff(s),c=ff(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=on(a[l],c[l]);if(u!==0)return u}return on(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=on(hi(s.latitude),hi(o.latitude));return a!==0?a:on(hi(s.longitude),hi(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return O9(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,u;const h=s.fields||{},f=o.fields||{},p=(a=h[bI])===null||a===void 0?void 0:a.arrayValue,g=(c=f[bI])===null||c===void 0?void 0:c.arrayValue,y=on(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:O9(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===lC.mapValue&&o===lC.mapValue)return 0;if(s===lC.mapValue)return 1;if(o===lC.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=aM(c[h],u[h]);if(f!==0)return f;const p=Iv(a[c[h]],l[u[h]]);if(p!==0)return p}return on(c.length,u.length)}(t.mapValue,e.mapValue);default:throw kt()}}function P9(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return on(t,e);const n=hf(t),r=hf(e),i=on(n.seconds,r.seconds);return i!==0?i:on(n.nanos,r.nanos)}function O9(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Iv(n[i],r[i]);if(s)return s}return on(n.length,r.length)}function xv(t){return cM(t)}function cM(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ff(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ct.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cM(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${cM(n.fields[o])}`;return i+"}"}(t.mapValue):kt()}function PT(t){switch(pf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=GP(t);return e?16+PT(e):16;case 5:return 2*t.stringValue.length;case 6:return ff(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+PT(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bm(r.fields,(s,o)=>{i+=s.length+PT(o)}),i}(t.mapValue);default:throw kt()}}function D9(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lM(t){return!!t&&"integerValue"in t}function X$(t){return!!t&&"arrayValue"in t}function N9(t){return!!t&&"nullValue"in t}function R9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function OT(t){return!!t&&"mapValue"in t}function VPe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eX])===null||n===void 0?void 0:n.stringValue)===nX}function Ob(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bm(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ob(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ob(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HPe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.value=e}static empty(){return new Ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!OT(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ob(n)}setAll(e){let n=Ts.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ob(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());OT(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];OT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bm(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ba(Ob(this.value))}}function rX(t){const e=[];return Bm(t.fields,(n,r)=>{const i=new Ts([n]);if(OT(r)){const s=rX(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sc(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qs(e,0,zt.min(),zt.min(),zt.min(),Ba.empty(),0)}static newFoundDocument(e,n,r,i){return new qs(e,1,n,zt.min(),r,i,0)}static newNoDocument(e,n){return new qs(e,2,n,zt.min(),zt.min(),Ba.empty(),0)}static newUnknownDocument(e,n){return new qs(e,3,n,zt.min(),zt.min(),Ba.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.position=e,this.inclusive=n}}function k9(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ct.comparator(Ct.fromName(o.referenceValue),n.key):r=Iv(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function M9(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n="asc"){this.field=e,this.dir=n}}function WPe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{}class Pi extends iX{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KPe(e,n,r):n==="array-contains"?new QPe(e,r):n==="in"?new ZPe(e,r):n==="not-in"?new JPe(e,r):n==="array-contains-any"?new XPe(e,r):new Pi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GPe(e,r):new YPe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Iv(n,this.value)):n!==null&&pf(this.value)===pf(n)&&this.matchesComparison(Iv(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vc extends iX{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Vc(e,n)}matches(e){return sX(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sX(t){return t.op==="and"}function oX(t){return qPe(t)&&sX(t)}function qPe(t){for(const e of t.filters)if(e instanceof Vc)return!1;return!0}function uM(t){if(t instanceof Pi)return t.field.canonicalString()+t.op.toString()+xv(t.value);if(oX(t))return t.filters.map(e=>uM(e)).join(",");{const e=t.filters.map(n=>uM(n)).join(",");return`${t.op}(${e})`}}function aX(t,e){return t instanceof Pi?function(r,i){return i instanceof Pi&&r.op===i.op&&r.field.isEqual(i.field)&&Bl(r.value,i.value)}(t,e):t instanceof Vc?function(r,i){return i instanceof Vc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aX(o,i.filters[a]),!0):!1}(t,e):void kt()}function cX(t){return t instanceof Pi?function(n){return`${n.field.canonicalString()} ${n.op} ${xv(n.value)}`}(t):t instanceof Vc?function(n){return n.op.toString()+" {"+n.getFilters().map(cX).join(" ,")+"}"}(t):"Filter"}class KPe extends Pi{constructor(e,n,r){super(e,n,r),this.key=Ct.fromName(r.referenceValue)}matches(e){const n=Ct.comparator(e.key,this.key);return this.matchesComparison(n)}}class GPe extends Pi{constructor(e,n){super(e,"in",n),this.keys=lX("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YPe extends Pi{constructor(e,n){super(e,"not-in",n),this.keys=lX("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lX(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ct.fromName(r.referenceValue))}class QPe extends Pi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return X$(n)&&M_(n.arrayValue,this.value)}}class ZPe extends Pi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&M_(this.value.arrayValue,n)}}class JPe extends Pi{constructor(e,n){super(e,"not-in",n)}matches(e){if(M_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!M_(this.value.arrayValue,n)}}class XPe extends Pi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!X$(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>M_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eOe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function L9(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eOe(t,e,n,r,i,s,o)}function ej(t){const e=qt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uM(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),KP(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xv(r)).join(",")),e.le=n}return e.le}function tj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WPe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aX(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!M9(t.startAt,e.startAt)&&M9(t.endAt,e.endAt)}function dM(t){return Ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function tOe(t,e,n,r,i,s,o,a){return new v1(t,e,n,r,i,s,o,a)}function nj(t){return new v1(t)}function F9(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uX(t){return t.collectionGroup!==null}function Db(t){const e=qt(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bi(Ts.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new EI(s,r))}),n.has(Ts.keyField().canonicalString())||e.he.push(new EI(Ts.keyField(),r))}return e.he}function Nl(t){const e=qt(t);return e.Pe||(e.Pe=nOe(e,Db(t))),e.Pe}function nOe(t,e){if(t.limitType==="F")return L9(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new EI(i.field,s)});const n=t.endAt?new _I(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _I(t.startAt.position,t.startAt.inclusive):null;return L9(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hM(t,e){const n=t.filters.concat([e]);return new v1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fM(t,e,n){return new v1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function YP(t,e){return tj(Nl(t),Nl(e))&&t.limitType===e.limitType}function dX(t){return`${ej(Nl(t))}|lt:${t.limitType}`}function Jg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cX(i)).join(", ")}]`),KP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xv(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xv(i)).join(",")),`Target(${r})`}(Nl(t))}; limitType=${t.limitType})`}function QP(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Db(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const l=k9(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Db(r),i)||r.endAt&&!function(o,a,c){const l=k9(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Db(r),i))}(t,e)}function rOe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hX(t){return(e,n)=>{let r=!1;for(const i of Db(t)){const s=iOe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iOe(t,e,n){const r=t.field.isKeyField()?Ct.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Iv(c,l):kt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bm(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GJ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sOe=new Zr(Ct.comparator);function od(){return sOe}const fX=new Zr(Ct.comparator);function sb(...t){let e=fX;for(const n of t)e=e.insert(n.key,n);return e}function pX(t){let e=fX;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pp(){return Nb()}function mX(){return Nb()}function Nb(){return new zm(t=>t.toString(),(t,e)=>t.isEqual(e))}const oOe=new Zr(Ct.comparator),aOe=new Bi(Ct.comparator);function vn(...t){let e=aOe;for(const n of t)e=e.add(n);return e}const cOe=new Bi(on);function lOe(){return cOe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vI(e)?"-0":e}}function gX(t){return{integerValue:""+t}}function uOe(t,e){return $Pe(e)?gX(e):rj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this._=void 0}}function dOe(t,e,n){return t instanceof L_?function(i,s){const o={fields:{[ZJ]:{stringValue:QJ},[XJ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&J$(s)&&(s=GP(s)),s&&(o.fields[JJ]=s),{mapValue:o}}(n,e):t instanceof F_?vX(t,e):t instanceof $_?wX(t,e):function(i,s){const o=yX(i,s),a=$9(o)+$9(i.Ie);return lM(o)&&lM(i.Ie)?gX(a):rj(i.serializer,a)}(t,e)}function hOe(t,e,n){return t instanceof F_?vX(t,e):t instanceof $_?wX(t,e):n}function yX(t,e){return t instanceof AI?function(r){return lM(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class L_ extends ZP{}class F_ extends ZP{constructor(e){super(),this.elements=e}}function vX(t,e){const n=bX(e);for(const r of t.elements)n.some(i=>Bl(i,r))||n.push(r);return{arrayValue:{values:n}}}class $_ extends ZP{constructor(e){super(),this.elements=e}}function wX(t,e){let n=bX(e);for(const r of t.elements)n=n.filter(i=>!Bl(i,r));return{arrayValue:{values:n}}}class AI extends ZP{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function $9(t){return hi(t.integerValue||t.doubleValue)}function bX(t){return X$(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fOe{constructor(e,n){this.field=e,this.transform=n}}function pOe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof F_&&i instanceof F_||r instanceof $_&&i instanceof $_?Sv(r.elements,i.elements,Bl):r instanceof AI&&i instanceof AI?Bl(r.Ie,i.Ie):r instanceof L_&&i instanceof L_}(t.transform,e.transform)}class mOe{constructor(e,n){this.version=e,this.transformResults=n}}class Rc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rc}static exists(e){return new Rc(void 0,e)}static updateTime(e){return new Rc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function DT(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let JP=class{};function _X(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ij(t.key,Rc.none()):new w1(t.key,t.data,Rc.none());{const n=t.data,r=Ba.empty();let i=new Bi(Ts.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vm(t.key,r,new Sc(i.toArray()),Rc.none())}}function gOe(t,e,n){t instanceof w1?function(i,s,o){const a=i.value.clone(),c=U9(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vm?function(i,s,o){if(!DT(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=U9(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(EX(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Rb(t,e,n,r){return t instanceof w1?function(s,o,a,c){if(!DT(s.precondition,o))return a;const l=s.value.clone(),u=B9(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vm?function(s,o,a,c){if(!DT(s.precondition,o))return a;const l=B9(s.fieldTransforms,c,o),u=o.data;return u.setAll(EX(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return DT(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yOe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yX(r.transform,i||null);s!=null&&(n===null&&(n=Ba.empty()),n.set(r.field,s))}return n||null}function j9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sv(r,i,(s,o)=>pOe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class w1 extends JP{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vm extends JP{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function EX(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function U9(t,e,n){const r=new Map;Wn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hOe(o,a,n[i]))}return r}function B9(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dOe(s,o,e))}return r}class ij extends JP{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vOe extends JP{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wOe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gOe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rb(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rb(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mX();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=_X(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(zt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vn())}isEqual(e){return this.batchId===e.batchId&&Sv(this.mutations,e.mutations,(n,r)=>j9(n,r))&&Sv(this.baseMutations,e.baseMutations,(n,r)=>j9(n,r))}}class sj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Wn(e.mutations.length===r.length);let i=function(){return oOe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sj(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bOe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Oe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti,Sn;function EOe(t){switch(t){case we.OK:return kt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return kt()}}function AX(t){if(t===void 0)return sd("GRPC error has no .code"),we.UNKNOWN;switch(t){case Ti.OK:return we.OK;case Ti.CANCELLED:return we.CANCELLED;case Ti.UNKNOWN:return we.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return we.INTERNAL;case Ti.UNAVAILABLE:return we.UNAVAILABLE;case Ti.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ti.NOT_FOUND:return we.NOT_FOUND;case Ti.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ti.ABORTED:return we.ABORTED;case Ti.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ti.DATA_LOSS:return we.DATA_LOSS;default:return kt()}}(Sn=Ti||(Ti={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AOe=new Hh([4294967295,4294967295],0);function z9(t){const e=WJ().encode(t),n=new $J;return n.update(e),new Uint8Array(n.digest())}function V9(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hh([n,r],0),new Hh([i,s],0)]}class oj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ob(`Invalid padding: ${n}`);if(r<0)throw new ob(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ob(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ob(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Hh.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Hh.fromNumber(r)));return i.compare(AOe)===1&&(i=new Hh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=z9(e),[r,i]=V9(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new oj(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=z9(e),[r,i]=V9(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ob extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,b1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new XP(zt.min(),i,new Zr(on),od(),vn())}}class b1{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new b1(r,n,vn(),vn(),vn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class CX{constructor(e,n){this.targetId=e,this.ge=n}}class TX{constructor(e,n,r=Os.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class H9{constructor(){this.pe=0,this.ye=W9(),this.we=Os.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=vn(),n=vn(),r=vn();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:kt()}}),new b1(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=W9()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Wn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class COe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=od(),this.$e=uC(),this.Ue=uC(),this.Ke=new Zr(on)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(dM(s))if(r===0){const o=new Ct(s.path);this.ze(n,o,qs.newNoDocument(o,zt.min()))}else Wn(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),c=a?this.nt(a,e,o):1;if(c!==0){this.Ye(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ff(r).toUint8Array()}catch(c){if(c instanceof YJ)return Tv("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new oj(o,i,s)}catch(c){return Tv(c instanceof ob?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&dM(a.target)){const c=new Ct(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,qs.newNoDocument(c,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=vn();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Xe(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new XP(e,n,this.Ke,this.Qe,r);return this.Qe=od(),this.$e=uC(),this.Ue=uC(),this.Ke=new Zr(on),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new H9,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Bi(on),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Bi(on),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new H9),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function uC(){return new Zr(Ct.comparator)}function W9(){return new Zr(Ct.comparator)}const TOe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),SOe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),IOe=(()=>({and:"AND",or:"OR"}))();class xOe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pM(t,e){return t.useProto3Json||KP(e)?e:{value:e}}function CI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SX(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function POe(t,e){return CI(t,e.toTimestamp())}function Rl(t){return Wn(!!t),zt.fromTimestamp(function(n){const r=hf(n);return new Ui(r.seconds,r.nanos)}(t))}function aj(t,e){return mM(t,e).canonicalString()}function mM(t,e){const n=function(i){return new Dr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IX(t){const e=Dr.fromString(t);return Wn(NX(e)),e}function gM(t,e){return aj(t.databaseId,e.path)}function RN(t,e){const n=IX(e);if(n.get(1)!==t.databaseId.projectId)throw new dt(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new dt(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ct(PX(n))}function xX(t,e){return aj(t.databaseId,e)}function OOe(t){const e=IX(t);return e.length===4?Dr.emptyPath():PX(e)}function yM(t){return new Dr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PX(t){return Wn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function q9(t,e,n){return{name:gM(t,e),fields:n.value.mapValue.fields}}function DOe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:kt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Wn(u===void 0||typeof u=="string"),Os.fromBase64String(u||"")):(Wn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Os.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?we.UNKNOWN:AX(l.code);return new dt(u,l.message||"")}(o);n=new TX(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=RN(t,r.document.name),s=Rl(r.document.updateTime),o=r.document.createTime?Rl(r.document.createTime):zt.min(),a=new Ba({mapValue:{fields:r.document.fields}}),c=qs.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new NT(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=RN(t,r.document),s=r.readTime?Rl(r.readTime):zt.min(),o=qs.newNoDocument(i,s),a=r.removedTargetIds||[];n=new NT([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=RN(t,r.document),s=r.removedTargetIds||[];n=new NT([],s,i,null)}else{if(!("filter"in e))return kt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _Oe(i,s),a=r.targetId;n=new CX(a,o)}}return n}function NOe(t,e){let n;if(e instanceof w1)n={update:q9(t,e.key,e.value)};else if(e instanceof ij)n={delete:gM(t,e.key)};else if(e instanceof Vm)n={update:q9(t,e.key,e.data),updateMask:BOe(e.fieldMask)};else{if(!(e instanceof vOe))return kt();n={verify:gM(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof L_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof F_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof AI)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw kt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:POe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:kt()}(t,e.precondition)),n}function ROe(t,e){return t&&t.length>0?(Wn(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Rl(i.updateTime):Rl(s);return o.isEqual(zt.min())&&(o=Rl(s)),new mOe(o,i.transformResults||[])}(n,e))):[]}function kOe(t,e){return{documents:[xX(t,e.path)]}}function MOe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xX(t,i);const s=function(l){if(l.length!==0)return DX(Vc.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Xg(f.field),direction:$Oe(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pM(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:n,parent:i}}function LOe(t){let e=OOe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wn(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=OX(h);return f instanceof Vc&&oX(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new EI(ey(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,KP(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new _I(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,p=h.values||[];return new _I(p,f)}(n.endAt)),tOe(e,i,o,s,a,"F",c,l)}function FOe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OX(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ey(n.unaryFilter.field);return Pi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ey(n.unaryFilter.field);return Pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ey(n.unaryFilter.field);return Pi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ey(n.unaryFilter.field);return Pi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return kt()}}(t):t.fieldFilter!==void 0?function(n){return Pi.create(ey(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vc.create(n.compositeFilter.filters.map(r=>OX(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return kt()}}(n.compositeFilter.op))}(t):kt()}function $Oe(t){return TOe[t]}function jOe(t){return SOe[t]}function UOe(t){return IOe[t]}function Xg(t){return{fieldPath:t.canonicalString()}}function ey(t){return Ts.fromServerFormat(t.fieldPath)}function DX(t){return t instanceof Pi?function(n){if(n.op==="=="){if(R9(n.value))return{unaryFilter:{field:Xg(n.field),op:"IS_NAN"}};if(N9(n.value))return{unaryFilter:{field:Xg(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R9(n.value))return{unaryFilter:{field:Xg(n.field),op:"IS_NOT_NAN"}};if(N9(n.value))return{unaryFilter:{field:Xg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xg(n.field),op:jOe(n.op),value:n.value}}}(t):t instanceof Vc?function(n){const r=n.getFilters().map(i=>DX(i));return r.length===1?r[0]:{compositeFilter:{op:UOe(n.op),filters:r}}}(t):kt()}function BOe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NX(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i,s=zt.min(),o=zt.min(),a=Os.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zOe{constructor(e){this.Tt=e}}function VOe(t){const e=LOe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fM(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HOe{constructor(){this.Tn=new WOe}addToCollectionParentIndex(e,n){return this.Tn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(df.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(df.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class WOe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bi(Dr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bi(Dr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RX=41943040;class Oo{static withCacheSize(e){return new Oo(e,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(RX,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Pv(0)}static Kn(){return new Pv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="LruGarbageCollector",qOe=1048576;function Y9([t,e],[n,r]){const i=on(t,n);return i===0?on(e,r):i}class KOe{constructor(e){this.Hn=e,this.buffer=new Bi(Y9),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Y9(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GOe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Xe(G9,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hw(n)?Xe(G9,"Ignoring IndexedDB error during garbage collection: ",n):await dw(n)}await this.er(3e5)})}}class YOe{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(qP.ae);const r=new KOe(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(K9)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K9):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),Zg()<=yn.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function QOe(t,e){return new YOe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZOe{constructor(){this.changes=new zm(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JOe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XOe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rb(r.mutation,i,Sc.empty(),Ui.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,vn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=vn()){const i=pp();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sb();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=pp();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,vn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=od();const o=Nb(),a=function(){return Nb()}();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Vm)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Rb(u.mutation,l,u.mutation.getFieldMask(),Ui.now())):o.set(l.key,Sc.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new JOe(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Nb();let i=new Zr((o,a)=>o-a),s=vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Sc.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(i.get(a.batchId)||vn()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=mX();u.forEach(f=>{if(!s.has(f)){const p=_X(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uX(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(pp());let a=N_,c=s;return o.next(l=>ve.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ve.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,vn())).next(u=>({batchId:a,changes:pX(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ct(n)).next(r=>{let i=sb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=sb();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,c=>{const l=function(h,f){return new v1(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,qs.newInvalidDocument(u)))});let a=sb();return o.forEach((c,l)=>{const u=s.get(c);u!==void 0&&Rb(u.mutation,l,Sc.empty(),Ui.now()),QP(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eDe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ve.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rl(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:VOe(i.bundledQuery),readTime:Rl(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tDe{constructor(){this.overlays=new Zr(Ct.comparator),this.Rr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pp();return ve.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=pp(),s=n.length+1,o=new Ct(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Zr((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=pp(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=pp(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return ve.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bOe(n,r));let s=this.Rr.get(n);s===void 0&&(s=vn(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nDe{constructor(){this.sessionToken=Os.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.Vr=new Bi(Zi.mr),this.gr=new Bi(Zi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Zi(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Zi(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Ct(new Dr([])),r=new Zi(n,e),i=new Zi(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ct(new Dr([])),r=new Zi(n,e),i=new Zi(n,e+1);let s=vn();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Zi(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zi{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ct.comparator(e.key,n.key)||on(e.Cr,n.Cr)}static pr(e,n){return on(e.Cr,n.Cr)||Ct.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rDe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Bi(Zi.mr)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wOe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Zi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?Z$:this.Fr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zi(n,0),i=new Zi(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bi(on);return n.forEach(i=>{const s=new Zi(i,0),o=new Zi(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),ve.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ct.isDocumentKey(s)||(s=s.child(""));const o=new Zi(new Ct(s),0);let a=new Bi(on);return this.Mr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Cr)),!0)},o),ve.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Wn(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ve.forEach(n.mutations,i=>{const s=new Zi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Zi(n,0),i=this.Mr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iDe{constructor(e){this.kr=e,this.docs=function(){return new Zr(Ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():qs.newInvalidDocument(n))}getEntries(e,n){let r=od();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qs.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=od();const o=n.path,a=new Ct(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||kPe(RPe(u),r)<=0||(i.has(u.key)||QP(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){kt()}qr(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sDe(this)}getSize(e){return ve.resolve(this.size)}}class sDe extends ZOe{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oDe{constructor(e){this.persistence=e,this.Qr=new zm(n=>ej(n),tj),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new cj,this.targetCount=0,this.Kr=Pv.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ve.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Pv(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.zn(n),ve.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new qP(0),this.zr=!1,this.zr=!0,this.jr=new nDe,this.referenceDelegate=e(this),this.Hr=new oDe(this),this.indexManager=new HOe,this.remoteDocumentCache=function(i){return new iDe(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new zOe(n),this.Yr=new eDe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tDe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new rDe(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new aDe(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return ve.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class aDe extends LPe{constructor(e){super(),this.currentSequenceNumber=e}}class lj{constructor(e){this.persistence=e,this.ti=new cj,this.ni=null}static ri(e){return new lj(e)}get ii(){if(this.ni)return this.ni;throw kt()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ve.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.ii,r=>{const i=Ct.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,zt.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ve.or([()=>ve.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class TI{constructor(e,n){this.persistence=e,this.oi=new zm(r=>jPe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=QOe(this,n)}static ri(e,n){return new TI(e,n)}Zr(){}Xr(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ve.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?ve.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,zt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ve.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=PT(e.data.value)),n}ar(e,n,r){return ve.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=vn(),i=vn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uj(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cDe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lDe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rxe()?8:FPe(Gs())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cDe;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Zg()<=yn.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Jg(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ve.resolve()):(Zg()<=yn.DEBUG&&Xe("QueryEngine","Query:",Jg(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Zg()<=yn.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Jg(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nl(n))):ve.resolve())}rs(e,n){if(F9(n))return ve.resolve(null);let r=Nl(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fM(n,null,"F"),r=Nl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=vn(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.cs(n,a);return this.ls(n,l,o,c.readTime)?this.rs(e,fM(n,null,"F")):this.hs(e,l,n,c)}))})))}ss(e,n,r,i){return F9(n)||i.isEqual(zt.min())?ve.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?ve.resolve(null):(Zg()<=yn.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jg(n)),this.hs(e,o,n,NPe(i,N_)).next(a=>a))})}cs(e,n){let r=new Bi(hX(e));return n.forEach((i,s)=>{QP(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Zg()<=yn.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Jg(n)),this.ns.getDocumentsMatchingQuery(e,n,df.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="LocalStore",uDe=3e8;class dDe{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Zr(on),this.Is=new zm(s=>ej(s),tj),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XOe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function hDe(t,e,n,r){return new dDe(t,e,n,r)}async function MX(t,e){const n=qt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=vn();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Rs:l,removedBatchIds:o,addedBatchIds:a}))})})}function fDe(t,e){const n=qt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,f=h.keys();let p=ve.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(c,g)).next(y=>{const v=l.docVersions.get(g);Wn(v!==null),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=vn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LX(t){const e=qt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function pDe(t,e){const n=qt(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Os.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=uDe?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,p,u)&&a.push(n.Hr.updateTargetData(s,p))});let c=od(),l=vn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(mDe(s,o,e.documentUpdates).next(u=>{c=u.Vs,l=u.fs})),!r.isEqual(zt.min())){const u=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ts=i,s))}function mDe(t,e,n){let r=vn(),i=vn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=od();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(zt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Xe(dj,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Vs:o,fs:i}})}function gDe(t,e){const n=qt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Z$),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yDe(t,e){const n=qt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Sh(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function vM(t,e,n){const r=qt(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hw(o))throw o;Xe(dj,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Q9(t,e,n){const r=qt(t);let i=zt.min(),s=vn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=qt(c),f=h.Is.get(u);return f!==void 0?ve.resolve(h.Ts.get(f)):h.Hr.getTargetData(l,u)}(r,o,Nl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:zt.min(),n?s:vn())).next(a=>(vDe(r,rOe(e),a),{documents:a,gs:s})))}function vDe(t,e,n){let r=t.Es.get(e)||zt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class Z9{constructor(){this.activeTargetIds=lOe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wDe{constructor(){this.ho=new Z9,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Z9,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bDe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="ConnectivityMonitor";class X9{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Xe(J9,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Xe(J9,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dC=null;function wM(){return dC===null?dC=function(){return 268435456+Math.round(2147483648*Math.random())}():dC++,"0x"+dC.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="RestConnection",_De={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EDe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===wI?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=wM(),a=this.bo(e,n.toUriEncodedString());Xe(kN,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,a,c,r).then(l=>(Xe(kN,`Received RPC '${e}' ${o}: `,l),l),l=>{throw Tv(kN,`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uw}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=_De[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ADe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="WebChannelConnection";class CDe extends EDe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=wM();return new Promise((o,a)=>{const c=new jJ;c.setWithCredentials(!0),c.listenOnce(UJ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case xT.NO_ERROR:const u=c.getResponseJson();Xe(js,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case xT.TIMEOUT:Xe(js,`RPC '${e}' ${s} timed out`),a(new dt(we.DEADLINE_EXCEEDED,"Request time out"));break;case xT.HTTP_ERROR:const h=c.getStatus();if(Xe(js,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(b)>=0?b:we.UNKNOWN}(p.status);a(new dt(g,p.message))}else a(new dt(we.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new dt(we.UNAVAILABLE,"Connection failed."));break;default:kt()}}finally{Xe(js,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Xe(js,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Wo(e,n,r){const i=wM(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VJ(),a=zJ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");Xe(js,`Creating RPC '${e}' stream ${i}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,p=!1;const g=new ADe({Fo:v=>{p?Xe(js,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(Xe(js,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Xe(js,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Mo:()=>h.close()}),y=(v,b,_)=>{v.listen(b,A=>{try{_(A)}catch(I){setTimeout(()=>{throw I},0)}})};return y(h,ib.EventType.OPEN,()=>{p||(Xe(js,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),y(h,ib.EventType.CLOSE,()=>{p||(p=!0,Xe(js,`RPC '${e}' stream ${i} transport closed`),g.Uo())}),y(h,ib.EventType.ERROR,v=>{p||(p=!0,Tv(js,`RPC '${e}' stream ${i} transport errored:`,v),g.Uo(new dt(we.UNAVAILABLE,"The operation could not be completed")))}),y(h,ib.EventType.MESSAGE,v=>{var b;if(!p){const _=v.data[0];Wn(!!_);const A=_,I=(A==null?void 0:A.error)||((b=A[0])===null||b===void 0?void 0:b.error);if(I){Xe(js,`RPC '${e}' stream ${i} received error:`,I);const P=I.status;let D=function(x){const N=Ti[x];if(N!==void 0)return AX(N)}(P),T=I.message;D===void 0&&(D=we.INTERNAL,T="Unknown error status: "+P+" with message "+I.message),p=!0,g.Uo(new dt(D,T)),h.close()}else Xe(js,`RPC '${e}' stream ${i} received:`,_),g.Ko(_)}}),y(a,BJ.STAT_EVENT,v=>{v.stat===oM.PROXY?Xe(js,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===oM.NOPROXY&&Xe(js,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function MN(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){return new xOe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="PersistentStream";class $X{constructor(e,n,r,i,s,o,a,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new FX(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(sd(n.toString()),sd("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new dt(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Xe(ez,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Xe(ez,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TDe extends $X{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=DOe(this.serializer,e),r=function(s){if(!("targetChange"in s))return zt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?zt.min():o.readTime?Rl(o.readTime):zt.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=yM(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=dM(c)?{documents:kOe(s,c)}:{query:MOe(s,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SX(s,o.resumeToken);const l=pM(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(zt.min())>0){a.readTime=CI(s,o.snapshotVersion.toTimestamp());const l=pM(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=FOe(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=yM(this.serializer),n.removeTarget=e,this.I_(n)}}class SDe extends $X{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Wn(!!e.streamToken),this.lastStreamToken=e.streamToken,Wn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=ROe(e.writeResults,e.commitTime),r=Rl(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=yM(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>NOe(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IDe{}class xDe extends IDe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new dt(we.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,mM(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dt(we.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,mM(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(we.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class PDe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sd(n),this.N_=!1):Xe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RemoteStore";class ODe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Hm(this)&&(Xe(im,"Restarting streams for network reachability change."),await async function(c){const l=qt(c);l.W_.add(4),await _1(l),l.j_.set("Unknown"),l.W_.delete(4),await tO(l)}(this))})}),this.j_=new PDe(r,i)}}async function tO(t){if(Hm(t))for(const e of t.G_)await e(!0)}async function _1(t){for(const e of t.G_)await e(!1)}function jX(t,e){const n=qt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),mj(n)?pj(n):fw(n).c_()&&fj(n,e))}function hj(t,e){const n=qt(t),r=fw(n);n.K_.delete(e),r.c_()&&UX(n,e),n.K_.size===0&&(r.c_()?r.P_():Hm(n)&&n.j_.set("Unknown"))}function fj(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fw(t).y_(e)}function UX(t,e){t.H_.Ne(e),fw(t).w_(e)}function pj(t){t.H_=new COe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),fw(t).start(),t.j_.B_()}function mj(t){return Hm(t)&&!fw(t).u_()&&t.K_.size>0}function Hm(t){return qt(t).W_.size===0}function BX(t){t.H_=void 0}async function DDe(t){t.j_.set("Online")}async function NDe(t){t.K_.forEach((e,n)=>{fj(t,e)})}async function RDe(t,e){BX(t),mj(t)?(t.j_.q_(e),pj(t)):t.j_.set("Unknown")}async function kDe(t,e,n){if(t.j_.set("Online"),e instanceof TX&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Xe(im,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await SI(t,r)}else if(e instanceof NT?t.H_.We(e):e instanceof CX?t.H_.Ze(e):t.H_.je(e),!n.isEqual(zt.min()))try{const r=await LX(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.K_.get(l);u&&s.K_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.K_.get(c);if(!u)return;s.K_.set(c,u.withResumeToken(Os.EMPTY_BYTE_STRING,u.snapshotVersion)),UX(s,c);const h=new Sh(u.target,c,l,u.sequenceNumber);fj(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Xe(im,"Failed to raise snapshot:",r),await SI(t,r)}}async function SI(t,e,n){if(!hw(e))throw e;t.W_.add(1),await _1(t),t.j_.set("Offline"),n||(n=()=>LX(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe(im,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await tO(t)})}function zX(t,e){return e().catch(n=>SI(t,n,e))}async function nO(t){const e=qt(t),n=mf(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Z$;for(;MDe(e);)try{const i=await gDe(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,LDe(e,i)}catch(i){await SI(e,i)}VX(e)&&HX(e)}function MDe(t){return Hm(t)&&t.U_.length<10}function LDe(t,e){t.U_.push(e);const n=mf(t);n.c_()&&n.S_&&n.b_(e.mutations)}function VX(t){return Hm(t)&&!mf(t).u_()&&t.U_.length>0}function HX(t){mf(t).start()}async function FDe(t){mf(t).C_()}async function $De(t){const e=mf(t);for(const n of t.U_)e.b_(n.mutations)}async function jDe(t,e,n){const r=t.U_.shift(),i=sj.from(r,e,n);await zX(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nO(t)}async function UDe(t,e){e&&mf(t).S_&&await async function(r,i){if(function(o){return EOe(o)&&o!==we.ABORTED}(i.code)){const s=r.U_.shift();mf(r).h_(),await zX(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nO(r)}}(t,e),VX(t)&&HX(t)}async function tz(t,e){const n=qt(t);n.asyncQueue.verifyOperationInProgress(),Xe(im,"RemoteStore received new credentials");const r=Hm(n);n.W_.add(3),await _1(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await tO(n)}async function BDe(t,e){const n=qt(t);e?(n.W_.delete(2),await tO(n)):e||(n.W_.add(2),await _1(n),n.j_.set("Unknown"))}function fw(t){return t.J_||(t.J_=function(n,r,i){const s=qt(n);return s.M_(),new TDe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:DDe.bind(null,t),No:NDe.bind(null,t),Lo:RDe.bind(null,t),p_:kDe.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),mj(t)?pj(t):t.j_.set("Unknown")):(await t.J_.stop(),BX(t))})),t.J_}function mf(t){return t.Y_||(t.Y_=function(n,r,i){const s=qt(n);return s.M_(),new SDe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:FDe.bind(null,t),Lo:UDe.bind(null,t),D_:$De.bind(null,t),v_:jDe.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await nO(t)):(await t.Y_.stop(),t.U_.length>0&&(Xe(im,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gj(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yj(t,e){if(sd("AsyncQueue",`${e}: ${t}`),hw(t))return new dt(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{static emptySet(e){return new Fy(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ct.comparator(n.key,r.key):(n,r)=>Ct.comparator(n.key,r.key),this.keyedMap=sb(),this.sortedSet=new Zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fy)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.Z_=new Zr(Ct.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):kt():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ov{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ov(e,n,Fy.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&YP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zDe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class VDe{constructor(){this.queries=rz(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=qt(n),s=i.queries;i.queries=rz(),s.forEach((o,a)=>{for(const c of a.ta)c.onError(r)})})(this,new dt(we.ABORTED,"Firestore shutting down"))}}function rz(){return new zm(t=>dX(t),YP)}async function WX(t,e){const n=qt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new zDe,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=yj(o,`Initialization of query '${Jg(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&vj(n)}async function qX(t,e){const n=qt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HDe(t,e){const n=qt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&vj(n)}function WDe(t,e,n){const r=qt(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function vj(t){t.ia.forEach(e=>{e.next()})}var bM,iz;(iz=bM||(bM={}))._a="default",iz.Cache="cache";class KX{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ov(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ov.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bM.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e){this.key=e}}class YX{constructor(e){this.key=e}}class qDe{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=vn(),this.mutatedKeys=vn(),this.ya=hX(e),this.wa=new Fy(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new nz,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=QP(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.va(f,p)||(r.track({type:2,doc:p}),v=!0,(c&&this.ya(p,c)>0||l&&this.ya(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(c||l)&&(a=!0)),v&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt()}};return y(p)-y(g)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,l=c!==this.ga;return this.ga=c,o.length!==0||l?{snapshot:new Ov(this.query,e.wa,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new nz,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=vn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new YX(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new GX(r))}),n}Oa(e){this.fa=e.gs,this.pa=vn();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ov.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wj="SyncEngine";class KDe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GDe{constructor(e){this.key=e,this.Ba=!1}}class YDe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new zm(a=>dX(a),YP),this.qa=new Map,this.Qa=new Set,this.$a=new Zr(Ct.comparator),this.Ua=new Map,this.Ka=new cj,this.Wa={},this.Ga=new Map,this.za=Pv.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function QDe(t,e,n=!0){const r=tee(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await QX(r,e,n,!0),i}async function ZDe(t,e){const n=tee(t);await QX(n,e,!0,!1)}async function QX(t,e,n,r){const i=await yDe(t.localStore,Nl(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await JDe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jX(t.remoteStore,i),a}async function JDe(t,e,n,r,i){t.Ha=(h,f,p)=>async function(y,v,b,_){let A=v.view.ba(b);A.ls&&(A=await Q9(y.localStore,v.query,!1).then(({documents:T})=>v.view.ba(T,A)));const I=_&&_.targetChanges.get(v.targetId),P=_&&_.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(A,y.isPrimaryClient,I,P);return oz(y,v.targetId,D.Ma),D.snapshot}(t,h,f,p);const s=await Q9(t.localStore,e,!0),o=new qDe(e,s.gs),a=o.ba(s.documents),c=b1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);oz(t,n,l.Ma);const u=new KDe(e,n,o);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),l.snapshot}async function XDe(t,e,n){const r=qt(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!YP(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hj(r.remoteStore,i.targetId),_M(r,i.targetId)}).catch(dw)):(_M(r,i.targetId),await vM(r.localStore,i.targetId,!0))}async function eNe(t,e){const n=qt(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hj(n.remoteStore,r.targetId))}async function tNe(t,e,n){const r=cNe(t);try{const i=await function(o,a){const c=qt(o),l=Ui.now(),u=a.reduce((p,g)=>p.add(g.key),vn());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=od(),y=vn();return c.ds.getEntries(p,u).next(v=>{g=v,g.forEach((b,_)=>{_.isValidDocument()||(y=y.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(v=>{h=v;const b=[];for(const _ of a){const A=yOe(_,h.get(_.key).overlayedDocument);A!=null&&b.push(new Vm(_.key,A,rX(A.value.mapValue),Rc.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,b,a)}).next(v=>{f=v;const b=v.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:f.batchId,changes:pX(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Wa[o.currentUser.toKey()];l||(l=new Zr(on)),l=l.insert(a,c),o.Wa[o.currentUser.toKey()]=l}(r,i.batchId,n),await E1(r,i.changes),await nO(r.remoteStore)}catch(i){const s=yj(i,"Failed to persist write");n.reject(s)}}async function ZX(t,e){const n=qt(t);try{const r=await pDe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(Wn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Wn(o.Ba):i.removedDocuments.size>0&&(Wn(o.Ba),o.Ba=!1))}),await E1(n,r,e)}catch(r){await dw(r)}}function sz(t,e,n){const r=qt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=qt(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const f of h.ta)f.sa(a)&&(l=!0)}),l&&vj(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nNe(t,e,n){const r=qt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new Zr(Ct.comparator);o=o.insert(s,qs.newNoDocument(s,zt.min()));const a=vn().add(s),c=new XP(zt.min(),new Map,new Zr(on),o,a);await ZX(r,c),r.$a=r.$a.remove(s),r.Ua.delete(e),bj(r)}else await vM(r.localStore,e,!1).then(()=>_M(r,e,n)).catch(dw)}async function rNe(t,e){const n=qt(t),r=e.batch.batchId;try{const i=await fDe(n.localStore,e);XX(n,r,null),JX(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await E1(n,i)}catch(i){await dw(i)}}async function iNe(t,e,n){const r=qt(t);try{const i=await function(o,a){const c=qt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Wn(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);XX(r,e,n),JX(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await E1(r,i)}catch(i){await dw(i)}}function JX(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function XX(t,e,n){const r=qt(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function _M(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||eee(t,r)})}function eee(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(hj(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),bj(t))}function oz(t,e,n){for(const r of n)r instanceof GX?(t.Ka.addReference(r.key,e),sNe(t,r)):r instanceof YX?(Xe(wj,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||eee(t,r.key)):kt()}function sNe(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Xe(wj,"New document in limbo: "+n),t.Qa.add(r),bj(t))}function bj(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ct(Dr.fromString(e)),r=t.za.next();t.Ua.set(r,new GDe(n)),t.$a=t.$a.insert(n,r),jX(t.remoteStore,new Sh(Nl(nj(n.path)),r,"TargetPurposeLimboResolution",qP.ae))}}async function E1(t,e,n){const r=qt(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{o.push(r.Ha(c,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);const h=uj.Yi(c.targetId,l);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(c,l){const u=qt(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(l,f=>ve.forEach(f.Hi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ve.forEach(f.Ji,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!hw(h))throw h;Xe(dj,"Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=u.Ts.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(f,y)}}}(r.localStore,s))}async function oNe(t,e){const n=qt(t);if(!n.currentUser.isEqual(e)){Xe(wj,"User change. New user:",e.toKey());const r=await MX(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(c=>{c.reject(new dt(we.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await E1(n,r.Rs)}}function aNe(t,e){const n=qt(t),r=n.Ua.get(e);if(r&&r.Ba)return vn().add(r.key);{let i=vn();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function tee(t){const e=qt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aNe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nNe.bind(null,e),e.La.p_=HDe.bind(null,e.eventManager),e.La.Ja=WDe.bind(null,e.eventManager),e}function cNe(t){const e=qt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rNe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iNe.bind(null,e),e}class II{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eO(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return hDe(this.persistence,new lDe,e.initialUser,this.serializer)}Xa(e){return new kX(lj.ri,this.serializer)}Za(e){return new wDe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}II.provider={build:()=>new II};class lNe extends II{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Wn(this.persistence.referenceDelegate instanceof TI);const r=this.persistence.referenceDelegate.garbageCollector;return new GOe(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new kX(r=>TI.ri(r,n),this.serializer)}}class EM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sz(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oNe.bind(null,this.syncEngine),await BDe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VDe}()}createDatastore(e){const n=eO(e.databaseInfo.databaseId),r=function(s){return new CDe(s)}(e.databaseInfo);return function(s,o,a,c){return new xDe(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ODe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sz(this.syncEngine,n,0),function(){return X9.D()?new X9:new bDe}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const h=new YDe(i,s,o,a,c,l);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=qt(i);Xe(im,"RemoteStore shutting down."),s.W_.add(5),await _1(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}EM.provider={build:()=>new EM};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sd("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="FirestoreClient";class uNe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hs.UNAUTHENTICATED,this.clientId=qJ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Xe(gf,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Xe(gf,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yj(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function LN(t,e){t.asyncQueue.verifyOperationInProgress(),Xe(gf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MX(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function az(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dNe(t);Xe(gf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tz(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tz(e.remoteStore,i)),t._onlineComponents=e}async function dNe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe(gf,"Using user provided OfflineComponentProvider");try{await LN(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Tv("Error using user provided cache. Falling back to memory cache: "+n),await LN(t,new II)}}else Xe(gf,"Using default OfflineComponentProvider"),await LN(t,new lNe(void 0));return t._offlineComponents}async function ree(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe(gf,"Using user provided OnlineComponentProvider"),await az(t,t._uninitializedComponentsProvider._online)):(Xe(gf,"Using default OnlineComponentProvider"),await az(t,new EM))),t._onlineComponents}function hNe(t){return ree(t).then(e=>e.syncEngine)}async function iee(t){const e=await ree(t),n=e.eventManager;return n.onListen=QDe.bind(null,e.syncEngine),n.onUnlisten=XDe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZDe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eNe.bind(null,e.syncEngine),n}function fNe(t,e,n={}){const r=new Hu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,l){const u=new nee({next:f=>{u.su(),o.enqueueAndForget(()=>qX(s,h));const p=f.docs.has(a);!p&&f.fromCache?l.reject(new dt(we.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?l.reject(new dt(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new KX(nj(a.path),u,{includeMetadataChanges:!0,Ta:!0});return WX(s,h)}(await iee(t),t.asyncQueue,e,n,r)),r.promise}function pNe(t,e,n={}){const r=new Hu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,l){const u=new nee({next:f=>{u.su(),o.enqueueAndForget(()=>qX(s,h)),f.fromCache&&c.source==="server"?l.reject(new dt(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new KX(a,u,{includeMetadataChanges:!0,Ta:!0});return WX(s,h)}(await iee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(t,e,n){if(!n)throw new dt(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mNe(t,e,n,r){if(e===!0&&r===!0)throw new dt(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lz(t){if(!Ct.isDocumentKey(t))throw new dt(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uz(t){if(Ct.isDocumentKey(t))throw new dt(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rO(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":kt()}function ad(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dt(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rO(t);throw new dt(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee="firestore.googleapis.com",dz=!0;class hz{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aee,this.ssl=dz}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dz;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RX;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qOe)throw new dt(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mNe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=see((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iO{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hz({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hz(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new APe;switch(r.type){case"firstParty":return new IPe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cz.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),cz.delete(n),r.terminate())}(this),Promise.resolve()}}function gNe(t,e,n,r={}){var i;const s=(t=ad(t,iO))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==aee&&s.host!==a&&Tv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!uf(c,o)&&(t._setSettings(c),r.mockUserToken)){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Hs.MOCK_USER;else{l=ZIe(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new dt(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Hs(h)}t._authCredentials=new CPe(new HJ(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sO=class cee{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cee(this.firestore,e,this._query)}};class Bo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bo(this.firestore,e,this._key)}}class Wh extends sO{constructor(e,n,r){super(e,n,nj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bo(this.firestore,null,new Ct(e))}withConverter(e){return new Wh(this.firestore,e,this._path)}}function pw(t,e,...n){if(t=as(t),oee("collection","path",e),t instanceof iO){const r=Dr.fromString(e,...n);return uz(r),new Wh(t,null,r)}{if(!(t instanceof Bo||t instanceof Wh))throw new dt(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dr.fromString(e,...n));return uz(r),new Wh(t.firestore,null,r)}}function j_(t,e,...n){if(t=as(t),arguments.length===1&&(e=qJ.newId()),oee("doc","path",e),t instanceof iO){const r=Dr.fromString(e,...n);return lz(r),new Bo(t,null,new Ct(r))}{if(!(t instanceof Bo||t instanceof Wh))throw new dt(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dr.fromString(e,...n));return lz(r),new Bo(t.firestore,t instanceof Wh?t.converter:null,new Ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="AsyncQueue";class pz{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new FX(this,"async_queue_retry"),this.Su=()=>{const r=MN();r&&Xe(fz,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=MN();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=MN();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hu;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!hw(e))throw e;Xe(fz,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sd("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=gj.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&kt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class mw extends iO{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pz(e),this._firestoreClient=void 0,await e}}}function yNe(t,e){const n=typeof t=="object"?t:Y$(),r=typeof t=="string"?t:e||wI,i=Um(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=YIe("firestore");s&&gNe(i,...s)}return i}function _j(t){if(t._terminated)throw new dt(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vNe(t),t._firestoreClient}function vNe(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,l,u){return new zPe(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,see(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uNe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dv(Os.fromBase64String(e))}catch(n){throw new dt(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dv(Os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new dt(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new dt(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new dt(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wNe=/^__.*__$/;class bNe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vm(e,this.data,this.fieldMask,n,this.fieldTransforms):new w1(e,this.data,n,this.fieldTransforms)}}function lee(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt()}}class Sj{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Sj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xI(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lee(this.Lu)&&wNe.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class _Ne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eO(e)}ju(e,n,r,i=!1){return new Sj({Lu:e,methodName:n,zu:r,path:Ts.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ij(t){const e=t._freezeSettings(),n=eO(t._databaseId);return new _Ne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uee(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);fee("Data must be an object, but it was:",o,r);const a=dee(r,o);let c,l;if(s.merge)c=new Sc(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=ANe(e,h,n);if(!o.contains(f))throw new dt(we.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TNe(u,f)||u.push(f)}c=new Sc(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new bNe(new Ba(a),c,l)}class xj extends Aj{_toFieldTransform(e){return new fOe(e.path,new L_)}isEqual(e){return e instanceof xj}}function ENe(t,e,n,r=!1){return Pj(n,t.ju(r?4:3,e))}function Pj(t,e){if(hee(t=as(t)))return fee("Unsupported field value:",e,t),dee(t,e);if(t instanceof Aj)return function(r,i){if(!lee(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Pj(a,i.Ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=as(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uOe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ui.fromDate(r);return{timestampValue:CI(i.serializer,s)}}if(r instanceof Ui){const s=new Ui(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:CI(i.serializer,s)}}if(r instanceof Cj)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dv)return{bytesValue:SX(i.serializer,r._byteString)};if(r instanceof Bo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tj)return function(o,a){return{mapValue:{fields:{[eX]:{stringValue:nX},[bI]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return rj(a.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${rO(r)}`)}(t,e)}function dee(t,e){const n={};return GJ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bm(t,(r,i)=>{const s=Pj(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hee(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ui||t instanceof Cj||t instanceof Dv||t instanceof Bo||t instanceof Aj||t instanceof Tj)}function fee(t,e,n){if(!hee(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rO(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function ANe(t,e,n){if((e=as(e))instanceof Ej)return e._internalPath;if(typeof e=="string")return pee(t,e);throw xI("Field path arguments must be of type string or ",t,!1,void 0,n)}const CNe=new RegExp("[~\\*/\\[\\]]");function pee(t,e,n){if(e.search(CNe)>=0)throw xI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ej(...e.split("."))._internalPath}catch{throw xI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xI(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new dt(we.INVALID_ARGUMENT,a+t+c)}function TNe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SNe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SNe extends mee{data(){return super.data()}}function Oj(t,e){return typeof e=="string"?pee(t,e):e instanceof Ej?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function INe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new dt(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dj{}class xNe extends Dj{}function Nj(t,e,...n){let r=[];e instanceof Dj&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof kj).length,a=s.filter(c=>c instanceof oO).length;if(o>1||o>0&&a>0)throw new dt(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class oO extends xNe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oO(e,n,r)}_apply(e){const n=this._parse(e);return gee(e._query,n),new sO(e.firestore,e.converter,hM(e._query,n))}_parse(e){const n=Ij(e.firestore);return function(s,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new dt(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){gz(h,u);const g=[];for(const y of h)g.push(mz(c,s,y));f={arrayValue:{values:g}}}else f=mz(c,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||gz(h,u),f=ENe(a,o,h,u==="in"||u==="not-in");return Pi.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rj(t,e,n){const r=e,i=Oj("where",t);return oO._create(i,r,n)}class kj extends Dj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kj(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)gee(o,c),o=hM(o,c)}(e._query,n),new sO(e.firestore,e.converter,hM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mz(t,e,n){if(typeof(n=as(n))=="string"){if(n==="")throw new dt(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uX(e)&&n.indexOf("/")!==-1)throw new dt(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dr.fromString(n));if(!Ct.isDocumentKey(r))throw new dt(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D9(t,new Ct(r))}if(n instanceof Bo)return D9(t,n._key);throw new dt(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rO(n)}.`)}function gz(t,e){if(!Array.isArray(t)||t.length===0)throw new dt(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gee(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new dt(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PNe{convertValue(e,n="none"){switch(pf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ff(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bm(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[bI].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>hi(o.doubleValue));return new Tj(s)}convertGeoPoint(e){return new Cj(hi(e.latitude),hi(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=GP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(R_(e));default:return null}}convertTimestamp(e){const n=hf(e);return new Ui(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dr.fromString(e);Wn(NX(r));const i=new k_(r.get(1),r.get(3)),s=new Ct(r.popFirst(5));return i.isEqual(n)||sd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yee(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vee extends mee{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new RT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class RT extends vee{data(e={}){return super.data(e)}}class ONe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ab(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new RT(this._firestore,this._userDataWriter,r.key,r,new ab(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new RT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ab(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new RT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ab(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:DNe(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DNe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(t){t=ad(t,Bo);const e=ad(t.firestore,mw);return fNe(_j(e),t._key).then(n=>RNe(e,t,n))}class bee extends PNe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dv(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bo(this.firestore,null,n)}}function Mj(t){t=ad(t,sO);const e=ad(t.firestore,mw),n=_j(e),r=new bee(e);return INe(t._query),pNe(n,t._query).then(i=>new ONe(e,r,t,i))}function AM(t,e,n){t=ad(t,Bo);const r=ad(t.firestore,mw),i=yee(t.converter,e,n);return Fj(r,[uee(Ij(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rc.none())])}function NNe(t){return Fj(ad(t.firestore,mw),[new ij(t._key,Rc.none())])}function Lj(t,e){const n=ad(t.firestore,mw),r=j_(t),i=yee(t.converter,e);return Fj(n,[uee(Ij(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rc.exists(!1))]).then(()=>r)}function Fj(t,e){return function(r,i){const s=new Hu;return r.asyncQueue.enqueueAndForget(async()=>tNe(await hNe(r),i,s)),s.promise}(_j(t),e)}function RNe(t,e,n){const r=n.docs.get(e._key),i=new bee(t);return new vee(t,i,e._key,r,new ab(n.hasPendingWrites,n.fromCache),e.converter)}function kNe(){return new xj("serverTimestamp")}(function(e,n=!0){(function(i){uw=i})(lw),Ul(new zc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new mw(new TPe(r.getProvider("auth-internal")),new xPe(o,r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new dt(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new k_(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qa(w9,b9,e),qa(w9,b9,"esm2017")})();var MNe="firebase",LNe="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qa(MNe,LNe,"app");const _ee="@firebase/installations",$j="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=1e4,Aee=`w:${$j}`,Cee="FIS_v2",FNe="https://firebaseinstallations.googleapis.com/v1",$Ne=60*60*1e3,jNe="installations",UNe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BNe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sm=new jm(jNe,UNe,BNe);function Tee(t){return t instanceof Kc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See({projectId:t}){return`${FNe}/projects/${t}/installations`}function Iee(t){return{token:t.token,requestStatus:2,expiresIn:VNe(t.expiresIn),creationTime:Date.now()}}async function xee(t,e){const r=(await e.json()).error;return sm.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Pee({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zNe(t,{refreshToken:e}){const n=Pee(t);return n.append("Authorization",HNe(e)),n}async function Oee(t){const e=await t();return e.status>=500&&e.status<600?t():e}function VNe(t){return Number(t.replace("s","000"))}function HNe(t){return`${Cee} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WNe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=See(t),i=Pee(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:Cee,appId:t.appId,sdkVersion:Aee},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await Oee(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Iee(l.authToken)}}else throw await xee("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qNe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KNe=/^[cdef][\w-]{21}$/,CM="";function GNe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YNe(t);return KNe.test(n)?n:CM}catch{return CM}}function YNe(t){return qNe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee=new Map;function Ree(t,e){const n=aO(t);kee(n,e),QNe(n,e)}function kee(t,e){const n=Nee.get(t);if(n)for(const r of n)r(e)}function QNe(t,e){const n=ZNe();n&&n.postMessage({key:t,fid:e}),JNe()}let mp=null;function ZNe(){return!mp&&"BroadcastChannel"in self&&(mp=new BroadcastChannel("[Firebase] FID Change"),mp.onmessage=t=>{kee(t.data.key,t.data.fid)}),mp}function JNe(){Nee.size===0&&mp&&(mp.close(),mp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XNe="firebase-installations-database",eRe=1,om="firebase-installations-store";let FN=null;function jj(){return FN||(FN=kJ(XNe,eRe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(om)}}})),FN}async function PI(t,e){const n=aO(t),i=(await jj()).transaction(om,"readwrite"),s=i.objectStore(om),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Ree(t,e.fid),e}async function Mee(t){const e=aO(t),r=(await jj()).transaction(om,"readwrite");await r.objectStore(om).delete(e),await r.done}async function cO(t,e){const n=aO(t),i=(await jj()).transaction(om,"readwrite"),s=i.objectStore(om),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Ree(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t){let e;const n=await cO(t.appConfig,r=>{const i=tRe(r),s=nRe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===CM?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tRe(t){const e=t||{fid:GNe(),registrationStatus:0};return Lee(e)}function nRe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(sm.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rRe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iRe(t)}:{installationEntry:e}}async function rRe(t,e){try{const n=await WNe(t,e);return PI(t.appConfig,n)}catch(n){throw Tee(n)&&n.customData.serverCode===409?await Mee(t.appConfig):await PI(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iRe(t){let e=await yz(t.appConfig);for(;e.registrationStatus===1;)await Dee(100),e=await yz(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Uj(t);return r||n}return e}function yz(t){return cO(t,e=>{if(!e)throw sm.create("installation-not-found");return Lee(e)})}function Lee(t){return sRe(t)?{fid:t.fid,registrationStatus:0}:t}function sRe(t){return t.registrationStatus===1&&t.registrationTime+Eee<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oRe({appConfig:t,heartbeatServiceProvider:e},n){const r=aRe(t,n),i=zNe(t,n),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:Aee,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await Oee(()=>fetch(r,a));if(c.ok){const l=await c.json();return Iee(l)}else throw await xee("Generate Auth Token",c)}function aRe(t,{fid:e}){return`${See(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e=!1){let n;const r=await cO(t.appConfig,s=>{if(!Fee(s))throw sm.create("not-registered");const o=s.authToken;if(!e&&uRe(o))return s;if(o.requestStatus===1)return n=cRe(t,e),s;{if(!navigator.onLine)throw sm.create("app-offline");const a=hRe(s);return n=lRe(t,a),a}});return n?await n:r.authToken}async function cRe(t,e){let n=await vz(t.appConfig);for(;n.authToken.requestStatus===1;)await Dee(100),n=await vz(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bj(t,e):r}function vz(t){return cO(t,e=>{if(!Fee(e))throw sm.create("not-registered");const n=e.authToken;return fRe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lRe(t,e){try{const n=await oRe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await PI(t.appConfig,r),n}catch(n){if(Tee(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Mee(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await PI(t.appConfig,r)}throw n}}function Fee(t){return t!==void 0&&t.registrationStatus===2}function uRe(t){return t.requestStatus===2&&!dRe(t)}function dRe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$Ne}function hRe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function fRe(t){return t.requestStatus===1&&t.requestTime+Eee<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pRe(t){const e=t,{installationEntry:n,registrationPromise:r}=await Uj(e);return r?r.catch(console.error):Bj(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mRe(t,e=!1){const n=t;return await gRe(n),(await Bj(n,e)).token}async function gRe(t){const{registrationPromise:e}=await Uj(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yRe(t){if(!t||!t.options)throw $N("App Configuration");if(!t.name)throw $N("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $N(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $N(t){return sm.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee="installations",vRe="installations-internal",wRe=t=>{const e=t.getProvider("app").getImmediate(),n=yRe(e),r=Um(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bRe=t=>{const e=t.getProvider("app").getImmediate(),n=Um(e,$ee).getImmediate();return{getId:()=>pRe(n),getToken:i=>mRe(n,i)}};function _Re(){Ul(new zc($ee,wRe,"PUBLIC")),Ul(new zc(vRe,bRe,"PRIVATE"))}_Re();qa(_ee,$j);qa(_ee,$j,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="analytics",ERe="firebase_id",ARe="origin",CRe=60*1e3,TRe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zj="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new WP("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SRe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},da=new jm("analytics","Analytics",SRe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IRe(t){if(!t.startsWith(zj)){const e=da.create("invalid-gtag-resource",{gtagURL:t});return zo.warn(e.message),""}return t}function jee(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xRe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function PRe(t,e){const n=xRe("firebase-js-sdk-policy",{createScriptURL:IRe}),r=document.createElement("script"),i=`${zj}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ORe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function DRe(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await jee(n)).find(l=>l.measurementId===i);c&&await e[c.appId]}}catch(a){zo.error(a)}t("config",i,s)}async function NRe(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await jee(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&e[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){zo.error(s)}}function RRe(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,c]=o;await NRe(t,e,n,a,c)}else if(s==="config"){const[a,c]=o;await DRe(t,e,n,r,a,c)}else if(s==="consent"){const[a,c]=o;t("consent",a,c)}else if(s==="get"){const[a,c,l]=o;t("get",a,c,l)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){zo.error(a)}}return i}function kRe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=RRe(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function MRe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zj)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LRe=30,FRe=1e3;class $Re{constructor(e={},n=FRe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uee=new $Re;function jRe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function URe(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:jRe(r)},s=TRe.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw da.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function BRe(t,e=Uee,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw da.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw da.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HRe;return setTimeout(async()=>{a.abort()},n!==void 0?n:CRe),Bee({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Bee(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Uee){var s;const{appId:o,measurementId:a}=t;try{await zRe(r,e)}catch(c){if(a)return zo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await URe(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!VRe(l)){if(i.deleteThrottleMetadata(o),a)return zo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?l9(n,i.intervalMillis,LRe):l9(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,h),zo.debug(`Calling attemptFetch again in ${u} millis`),Bee(t,h,r,i)}}function zRe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VRe(t){if(!(t instanceof Kc)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class HRe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WRe(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qRe(){if(OJ())try{await DJ()}catch(t){return zo.warn(da.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zo.warn(da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KRe(t,e,n,r,i,s,o){var a;const c=BRe(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&zo.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>zo.error(p)),e.push(c);const l=qRe().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([c,l]);MRe(s)||PRe(s,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[ARe]="firebase",f.update=!0,h!=null&&(f[ERe]=h),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GRe{constructor(e){this.app=e}_delete(){return delete kb[this.app.options.appId],Promise.resolve()}}let kb={},wz=[];const bz={};let jN="dataLayer",YRe="gtag",_z,zee,Ez=!1;function QRe(){const t=[];if(PJ()&&t.push("This is a browser extension environment."),ixe()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=da.create("invalid-analytics-context",{errorInfo:e});zo.warn(n.message)}}function ZRe(t,e,n){QRe();const r=t.options.appId;if(!r)throw da.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw da.create("no-api-key");if(kb[r]!=null)throw da.create("already-exists",{id:r});if(!Ez){ORe(jN);const{wrappedGtag:s,gtagCore:o}=kRe(kb,wz,bz,jN,YRe);zee=s,_z=o,Ez=!0}return kb[r]=KRe(t,wz,bz,e,_z,jN,n),new GRe(t)}function JRe(t=Y$()){t=as(t);const e=Um(t,OI);return e.isInitialized()?e.getImmediate():XRe(t)}function XRe(t,e={}){const n=Um(t,OI);if(n.isInitialized()){const i=n.getImmediate();if(uf(e,n.getOptions()))return i;throw da.create("already-initialized")}return n.initialize({options:e})}function eke(t,e,n,r){t=as(t),WRe(zee,kb[t.app.options.appId],e,n,r).catch(i=>zo.error(i))}const Az="@firebase/analytics",Cz="0.10.12";function tke(){Ul(new zc(OI,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return ZRe(r,i,n)},"PUBLIC")),Ul(new zc("analytics-internal",t,"PRIVATE")),qa(Az,Cz),qa(Az,Cz,"esm2017");function t(e){try{const n=e.getProvider(OI).getImmediate();return{logEvent:(r,i,s)=>eke(n,r,i,s)}}catch(n){throw da.create("interop-component-reg-failed",{reason:n})}}}tke();var TM=function(t,e){return TM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TM(t,e)};function Vee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");TM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var DI=function(){return DI=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},DI.apply(this,arguments)};function A1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hee(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Wee(t,e){return function(n,r){e(n,r,t)}}function qee(t,e,n,r,i,s){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?r.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var g={};for(var y in r)g[y]=y==="access"?{}:r[y];for(var y in r.access)g.access[y]=r.access[y];g.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(b||null))};var v=(0,n[p])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=o(v.get))&&(u.get=h),(h=o(v.set))&&(u.set=h),(h=o(v.init))&&i.unshift(h)}else(h=o(v))&&(a==="field"?i.unshift(h):u[c]=h)}l&&Object.defineProperty(l,r.name,u),f=!0}function Kee(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function Gee(t){return typeof t=="symbol"?t:"".concat(t)}function Yee(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Qee(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Zee(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Jee(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var lO=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Xee(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&lO(e,t,n)}function NI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vj(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function ete(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Vj(arguments[e]));return t}function tte(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function nte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Nv(t){return this instanceof Nv?(this.v=t,this):new Nv(t)}function rte(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){r[p]&&(i[p]=function(y){return new Promise(function(v,b){s.push([p,y,v,b])>1||c(p,y)})},g&&(i[p]=g(i[p])))}function c(p,g){try{l(r[p](g))}catch(y){f(s[0][3],y)}}function l(p){p.value instanceof Nv?Promise.resolve(p.value.v).then(u,h):f(s[0][2],p)}function u(p){c("next",p)}function h(p){c("throw",p)}function f(p,g){p(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function ite(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Nv(t[i](o)),done:!1}:s?s(o):o}:s}}function ste(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof NI=="function"?NI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function ote(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var nke=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},SM=function(t){return SM=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},SM(t)};function ate(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=SM(t),r=0;r<n.length;r++)n[r]!=="default"&&lO(e,t,n[r]);return nke(e,t),e}function cte(t){return t&&t.__esModule?t:{default:t}}function lte(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ute(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function dte(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function hte(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var rke=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function fte(t){function e(s){t.error=t.hasError?new rke(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function pte(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const ike={__extends:Vee,__assign:DI,__rest:A1,__decorate:Hee,__param:Wee,__esDecorate:qee,__runInitializers:Kee,__propKey:Gee,__setFunctionName:Yee,__metadata:Qee,__awaiter:Zee,__generator:Jee,__createBinding:lO,__exportStar:Xee,__values:NI,__read:Vj,__spread:ete,__spreadArrays:tte,__spreadArray:nte,__await:Nv,__asyncGenerator:rte,__asyncDelegator:ite,__asyncValues:ste,__makeTemplateObject:ote,__importStar:ate,__importDefault:cte,__classPrivateFieldGet:lte,__classPrivateFieldSet:ute,__classPrivateFieldIn:dte,__addDisposableResource:hte,__disposeResources:fte,__rewriteRelativeImportExtension:pte},vlt=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:hte,get __assign(){return DI},__asyncDelegator:ite,__asyncGenerator:rte,__asyncValues:ste,__await:Nv,__awaiter:Zee,__classPrivateFieldGet:lte,__classPrivateFieldIn:dte,__classPrivateFieldSet:ute,__createBinding:lO,__decorate:Hee,__disposeResources:fte,__esDecorate:qee,__exportStar:Xee,__extends:Vee,__generator:Jee,__importDefault:cte,__importStar:ate,__makeTemplateObject:ote,__metadata:Qee,__param:Wee,__propKey:Gee,__read:Vj,__rest:A1,__rewriteRelativeImportExtension:pte,__runInitializers:Kee,__setFunctionName:Yee,__spread:ete,__spreadArray:nte,__spreadArrays:tte,__values:NI,default:ike},Symbol.toStringTag,{value:"Module"}));function mte(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ske=mte,gte=new jm("auth","Firebase",mte());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new WP("@firebase/auth");function oke(t,...e){RI.logLevel<=yn.WARN&&RI.warn(`Auth (${lw}): ${t}`,...e)}function kT(t,...e){RI.logLevel<=yn.ERROR&&RI.error(`Auth (${lw}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,...e){throw Wj(t,...e)}function kc(t,...e){return Wj(t,...e)}function Hj(t,e,n){const r=Object.assign(Object.assign({},ske()),{[e]:n});return new jm("auth","Firebase",r).create(e,{appName:t.name})}function Wu(t){return Hj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ake(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Za(t,"argument-error"),Hj(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gte.create(t,...e)}function At(t,e,...n){if(!t)throw Wj(e,...n)}function Ru(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kT(e),new Error(e)}function cd(t,e){t||Ru(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cke(){return Tz()==="http:"||Tz()==="https:"}function Tz(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lke(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cke()||PJ()||"connection"in navigator)?navigator.onLine:!0}function uke(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.shortDelay=e,this.longDelay=n,cd(n>e,"Short delay should be less than long delay!"),this.isMobile=JIe()||txe()}get(){return lke()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){cd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ru("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ru("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ru("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hke=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fke=new C1(3e4,6e4);function _d(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ed(t,e,n,r,i={}){return vte(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=y1(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:c},s);return exe()||(l.referrerPolicy="no-referrer"),yte.fetch()(await wte(t,t.config.apiHost,n,a),l)})}async function vte(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dke),e);try{const i=new mke(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hC(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hC(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw hC(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw hC(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Hj(t,u,l);Za(t,u)}}catch(i){if(i instanceof Kc)throw i;Za(t,"network-request-failed",{message:String(i)})}}async function T1(t,e,n,r,i={}){const s=await Ed(t,e,n,r,i);return"mfaPendingCredential"in s&&Za(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function wte(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?qj(t.config,i):`${t.config.apiScheme}://${i}`;return hke.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function pke(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mke{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kc(this.auth,"network-request-failed")),fke.get())})}}function hC(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kc(t,e,r);return i.customData._tokenResponse=n,i}function Sz(t){return t!==void 0&&t.enterprise!==void 0}class gke{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pke(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yke(t,e){return Ed(t,"GET","/v2/recaptchaConfig",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vke(t,e){return Ed(t,"POST","/v1/accounts:delete",e)}async function kI(t,e){return Ed(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wke(t,e=!1){const n=as(t),r=await n.getIdToken(e),i=Kj(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mb(UN(i.auth_time)),issuedAtTime:Mb(UN(i.iat)),expirationTime:Mb(UN(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function UN(t){return Number(t)*1e3}function Kj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kT("JWT malformed, contained fewer than 3 sections"),null;try{const i=TJ(n);return i?JSON.parse(i):(kT("Failed to decode base64 JWT payload"),null)}catch(i){return kT("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Iz(t){const e=Kj(t);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kc&&bke(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bke({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ke{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mb(this.lastLoginAt),this.creationTime=Mb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t){var e;const n=t.auth,r=await t.getIdToken(),i=await U_(t,kI(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bte(s.providerUserInfo):[],a=Ake(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xM(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Eke(t){const e=as(t);await MI(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ake(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bte(t){return t.map(e=>{var{providerId:n}=e,r=A1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cke(t,e){const n=await vte(t,{},async()=>{const r=y1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await wte(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yte.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tke(t,e){return Ed(t,"POST","/v2/accounts:revokeToken",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){At(e.length!==0,"internal-error");const n=Iz(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Cke(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $y;return r&&(At(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(At(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $y,this.toJSON())}_performRefresh(){return Ru("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t,e){At(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ic{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=A1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xM(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await U_(this,this.stsTokenManager.getToken(this.auth,e));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wke(this,e)}reload(){return Eke(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ic(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await MI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oa(this.auth.app))return Promise.reject(Wu(this.auth));const e=await this.getIdToken();return await U_(this,vke(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:A,emailVerified:I,isAnonymous:P,providerData:D,stsTokenManager:T}=n;At(A&&T,e,"internal-error");const S=$y.fromJSON(this.name,T);At(typeof A=="string",e,"internal-error"),$d(h,e.name),$d(f,e.name),At(typeof I=="boolean",e,"internal-error"),At(typeof P=="boolean",e,"internal-error"),$d(p,e.name),$d(g,e.name),$d(y,e.name),$d(v,e.name),$d(b,e.name),$d(_,e.name);const x=new Ic({uid:A,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:P,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:S,createdAt:b,lastLoginAt:_});return D&&Array.isArray(D)&&(x.providerData=D.map(N=>Object.assign({},N))),v&&(x._redirectEventId=v),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new $y;i.updateFromServerResponse(n);const s=new Ic({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await MI(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];At(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?bte(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $y;a.updateFromIdToken(r);const c=new Ic({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xM(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new Map;function ku(t){cd(t instanceof Function,"Expected a class definition");let e=xz.get(t);return e?(cd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xz.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_te.type="NONE";const Pz=_te;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e,n){return`firebase:${t}:${e}:${n}`}class jy{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=MT(this.userKey,i.apiKey,s),this.fullPersistenceKey=MT("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kI(this.auth,{idToken:e}).catch(()=>{});return n?Ic._fromGetAccountInfoResponse(this.auth,n,e):null}return Ic._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jy(ku(Pz),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ku(Pz);const o=MT(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){let h;if(typeof u=="string"){const f=await kI(e,{idToken:u}).catch(()=>{});if(!f)break;h=await Ic._fromGetAccountInfoResponse(e,f,u)}else h=Ic._fromJSON(e,u);l!==s&&(a=h),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new jy(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new jy(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tte(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ete(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ite(e))return"Blackberry";if(xte(e))return"Webos";if(Ate(e))return"Safari";if((e.includes("chrome/")||Cte(e))&&!e.includes("edge/"))return"Chrome";if(Ste(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ete(t=Gs()){return/firefox\//i.test(t)}function Ate(t=Gs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cte(t=Gs()){return/crios\//i.test(t)}function Tte(t=Gs()){return/iemobile/i.test(t)}function Ste(t=Gs()){return/android/i.test(t)}function Ite(t=Gs()){return/blackberry/i.test(t)}function xte(t=Gs()){return/webos/i.test(t)}function Gj(t=Gs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ske(t=Gs()){var e;return Gj(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ike(){return nxe()&&document.documentMode===10}function Pte(t=Gs()){return Gj(t)||Ste(t)||xte(t)||Ite(t)||/windows phone/i.test(t)||Tte(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(t,e=[]){let n;switch(t){case"Browser":n=Oz(Gs());break;case"Worker":n=`${Oz(Gs())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lw}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xke{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pke(t,e={}){return Ed(t,"GET","/v2/passwordPolicy",_d(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oke=6;class Dke{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Oke,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nke{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dz(this),this.idTokenSubscription=new Dz(this),this.beforeStateQueue=new xke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gte,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ku(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await jy.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kI(this,{idToken:e}),r=await Ic._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await MI(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uke()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oa(this.app))return Promise.reject(Wu(this));const n=e?as(e):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oa(this.app)?Promise.reject(Wu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oa(this.app)?Promise.reject(Wu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ku(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pke(this),n=new Dke(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tke(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ku(e)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await jy.create(this,[ku(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ote(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(oa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oke(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ad(t){return as(t)}class Dz{constructor(e){this.auth=e,this.observer=null,this.addObserver=lxe(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uO={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rke(t){uO=t}function Dte(t){return uO.loadJS(t)}function kke(){return uO.recaptchaEnterpriseScript}function Mke(){return uO.gapiScript}function Lke(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Fke{constructor(){this.enterprise=new $ke}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $ke{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jke="recaptcha-enterprise",Nte="NO_RECAPTCHA";class Uke{constructor(e){this.type=jke,this.auth=Ad(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{yke(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new gke(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;Sz(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Nte)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fke().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Sz(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=kke();c.length!==0&&(c+=a),Dte(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function _0(t,e,n,r=!1,i=!1){const s=new Uke(t);let o;if(i)o=Nte;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function LI(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await _0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await _0(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await _0(t,e,n);return r(t,a).catch(async c=>{var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await _0(t,e,n,!1,!0);return r(t,u)}return Promise.reject(c)})}else{const a=await _0(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bke(t,e){const n=Um(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(uf(s,e??{}))return i;Za(i,"already-initialized")}return n.initialize({options:e})}function zke(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ku);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Vke(t,e,n){const r=Ad(t);At(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Rte(e),{host:o,port:a}=Hke(e),c=a===null?"":`:${a}`,l={url:`${s}//${o}${c}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){At(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),At(uf(l,r.config.emulator)&&uf(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||Wke()}function Rte(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hke(t){const e=Rte(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Nz(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Nz(o)}}}function Nz(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wke(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ru("not implemented")}_getIdTokenResponse(e){return Ru("not implemented")}_linkToIdToken(e,n){return Ru("not implemented")}_getReauthenticationResolver(e){return Ru("not implemented")}}async function qke(t,e){return Ed(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kke(t,e){return T1(t,"POST","/v1/accounts:signInWithPassword",_d(t,e))}async function kte(t,e){return Ed(t,"POST","/v1/accounts:sendOobCode",_d(t,e))}async function Gke(t,e){return kte(t,e)}async function Yke(t,e){return kte(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qke(t,e){return T1(t,"POST","/v1/accounts:signInWithEmailLink",_d(t,e))}async function Zke(t,e){return T1(t,"POST","/v1/accounts:signInWithEmailLink",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends Yj{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new B_(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new B_(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LI(e,n,"signInWithPassword",Kke,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Qke(e,{email:this._email,oobCode:this._password});default:Za(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LI(e,r,"signUpPassword",qke,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zke(e,{idToken:n,email:this._email,oobCode:this._password});default:Za(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e){return T1(t,"POST","/v1/accounts:signInWithIdp",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jke="http://localhost";class am extends Yj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new am(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Za("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=A1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new am(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uy(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uy(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uy(e,n)}buildRequest(){const e={requestUri:Jke,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=y1(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xke(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e2e(t){const e=nb(rb(t)).link,n=e?nb(rb(e)).deep_link_id:null,r=nb(rb(t)).deep_link_id;return(r?nb(rb(r)).link:null)||r||n||e||t}class Qj{constructor(e){var n,r,i,s,o,a;const c=nb(rb(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=Xke((i=c.mode)!==null&&i!==void 0?i:null);At(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=e2e(e);try{return new Qj(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.providerId=gw.PROVIDER_ID}static credential(e,n){return B_._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qj.parseLink(n);return At(r,"argument-error"),B_._fromEmailAndCode(e,r.code,r.tenantId)}}gw.PROVIDER_ID="password";gw.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Zj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends S1{constructor(){super("facebook.com")}static credential(e){return am._fromParams({providerId:ah.PROVIDER_ID,signInMethod:ah.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ah.credentialFromTaggedObject(e)}static credentialFromError(e){return ah.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ah.credential(e.oauthAccessToken)}catch{return null}}}ah.FACEBOOK_SIGN_IN_METHOD="facebook.com";ah.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends S1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return am._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xu.credentialFromTaggedObject(e)}static credentialFromError(e){return xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xu.credential(n,r)}catch{return null}}}xu.GOOGLE_SIGN_IN_METHOD="google.com";xu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends S1{constructor(){super("github.com")}static credential(e){return am._fromParams({providerId:ch.PROVIDER_ID,signInMethod:ch.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ch.credentialFromTaggedObject(e)}static credentialFromError(e){return ch.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ch.credential(e.oauthAccessToken)}catch{return null}}}ch.GITHUB_SIGN_IN_METHOD="github.com";ch.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends S1{constructor(){super("twitter.com")}static credential(e,n){return am._fromParams({providerId:lh.PROVIDER_ID,signInMethod:lh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lh.credentialFromTaggedObject(e)}static credentialFromError(e){return lh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lh.credential(n,r)}catch{return null}}}lh.TWITTER_SIGN_IN_METHOD="twitter.com";lh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2e(t,e){return T1(t,"POST","/v1/accounts:signUp",_d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ic._fromIdTokenResponse(e,r,i),o=Rz(r);return new cm({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rz(r);return new cm({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rz(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI extends Kc{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,FI.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new FI(e,n,r,i)}}function Mte(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?FI._fromErrorAndOperation(t,s,e,r):s})}async function n2e(t,e,n=!1){const r=await U_(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cm._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2e(t,e,n=!1){const{auth:r}=t;if(oa(r.app))return Promise.reject(Wu(r));const i="reauthenticate";try{const s=await U_(t,Mte(r,i,e,t),n);At(s.idToken,r,"internal-error");const o=Kj(s.idToken);At(o,r,"internal-error");const{sub:a}=o;return At(t.uid===a,r,"user-mismatch"),cm._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Za(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lte(t,e,n=!1){if(oa(t.app))return Promise.reject(Wu(t));const r="signIn",i=await Mte(t,r,e),s=await cm._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function i2e(t,e){return Lte(Ad(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(t,e,n){var r;At(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),At(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),At(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(At(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(At(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $te(t){const e=Ad(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function s2e(t,e,n){const r=Ad(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Fte(r,i,n),await LI(r,i,"getOobCode",Yke,"EMAIL_PASSWORD_PROVIDER")}async function o2e(t,e,n){if(oa(t.app))return Promise.reject(Wu(t));const r=Ad(t),o=await LI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",t2e,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&$te(t),c}),a=await cm._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function a2e(t,e,n){return oa(t.app)?Promise.reject(Wu(t)):i2e(as(t),gw.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$te(t),r})}async function kz(t,e){const n=as(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Fte(n.auth,i,e);const{email:s}=await Gke(n.auth,i);s!==t.email&&await t.reload()}function c2e(t,e,n,r){return as(t).onIdTokenChanged(e,n,r)}function l2e(t,e,n){return as(t).beforeAuthStateChanged(e,n)}function Jj(t,e,n,r){return as(t).onAuthStateChanged(e,n,r)}function PM(t){return as(t).signOut()}const $I="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($I,"1"),this.storage.removeItem($I),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2e=1e3,d2e=10;class Ute extends jte{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pte(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Ike()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d2e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u2e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ute.type="LOCAL";const h2e=Ute;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte extends jte{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bte.type="SESSION";const zte=Bte;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dO(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),c=await f2e(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dO.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const l=Xj("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(){return window}function m2e(t){kl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(){return typeof kl().WorkerGlobalScope<"u"&&typeof kl().importScripts=="function"}async function g2e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y2e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function v2e(){return Vte()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte="firebaseLocalStorageDb",w2e=1,jI="firebaseLocalStorage",Wte="fbase_key";class I1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hO(t,e){return t.transaction([jI],e?"readwrite":"readonly").objectStore(jI)}function b2e(){const t=indexedDB.deleteDatabase(Hte);return new I1(t).toPromise()}function OM(){const t=indexedDB.open(Hte,w2e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jI,{keyPath:Wte})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jI)?e(r):(r.close(),await b2e(),e(await OM()))})})}async function Mz(t,e,n){const r=hO(t,!0).put({[Wte]:e,value:n});return new I1(r).toPromise()}async function _2e(t,e){const n=hO(t,!1).get(e),r=await new I1(n).toPromise();return r===void 0?null:r.value}function Lz(t,e){const n=hO(t,!0).delete(e);return new I1(n).toPromise()}const E2e=800,A2e=3;class qte{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OM(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A2e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vte()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dO._getInstance(v2e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await g2e(),!this.activeServiceWorker)return;this.sender=new p2e(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y2e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OM();return await Mz(e,$I,"1"),await Lz(e,$I),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mz(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_2e(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lz(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hO(i,!1).getAll();return new I1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E2e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qte.type="LOCAL";const C2e=qte;new C1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(t,e){return e?ku(e):(At(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU extends Yj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uy(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T2e(t){return Lte(t.auth,new eU(t),t.bypassAuthState)}function S2e(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),r2e(n,new eU(t),t.bypassAuthState)}async function I2e(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),n2e(n,new eU(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2e;case"linkViaPopup":case"linkViaRedirect":return I2e;case"reauthViaPopup":case"reauthViaRedirect":return S2e;default:Za(this.auth,"internal-error")}}resolve(e){cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2e=new C1(2e3,1e4);async function Yte(t,e,n){if(oa(t.app))return Promise.reject(kc(t,"operation-not-supported-in-this-environment"));const r=Ad(t);ake(t,e,Zj);const i=Kte(r,n);return new gp(r,"signInViaPopup",e,i).executeNotNull()}class gp extends Gte{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gp.currentPopupAction&&gp.currentPopupAction.cancel(),gp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){cd(this.filter.length===1,"Popup operations only handle one event");const e=Xj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x2e.get())};e()}}gp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2e="pendingRedirect",LT=new Map;class O2e extends Gte{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=LT.get(this.auth._key());if(!e){try{const r=await D2e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}LT.set(this.auth._key(),e)}return this.bypassAuthState||LT.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D2e(t,e){const n=k2e(e),r=R2e(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function N2e(t,e){LT.set(t._key(),e)}function R2e(t){return ku(t._redirectPersistence)}function k2e(t){return MT(P2e,t.config.apiKey,t.name)}async function M2e(t,e,n=!1){if(oa(t.app))return Promise.reject(Wu(t));const r=Ad(t),i=Kte(r,e),o=await new O2e(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2e=10*60*1e3;class F2e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2e(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qte(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2e&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fz(e))}saveEventToCache(e){this.cachedEventUids.add(Fz(e)),this.lastProcessedEventTime=Date.now()}}function Fz(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qte({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $2e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qte(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2e(t,e={}){return Ed(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2e=/^https?/;async function z2e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j2e(t);for(const n of e)try{if(V2e(n))return}catch{}Za(t,"unauthorized-domain")}function V2e(t){const e=IM(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!B2e.test(n))return!1;if(U2e.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2e=new C1(3e4,6e4);function $z(){const t=kl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W2e(t){return new Promise((e,n)=>{var r,i,s;function o(){$z(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$z(),n(kc(t,"network-request-failed"))},timeout:H2e.get()})}if(!((i=(r=kl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kl().gapi)===null||s===void 0)&&s.load)o();else{const a=Lke("iframefcb");return kl()[a]=()=>{gapi.load?o():n(kc(t,"network-request-failed"))},Dte(`${Mke()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw FT=null,e})}let FT=null;function q2e(t){return FT=FT||W2e(t),FT}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2e=new C1(5e3,15e3),G2e="__/auth/iframe",Y2e="emulator/auth/iframe",Q2e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z2e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J2e(t){const e=t.config;At(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qj(e,Y2e):`https://${t.config.authDomain}/${G2e}`,r={apiKey:e.apiKey,appName:t.name,v:lw},i=Z2e.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${y1(r).slice(1)}`}async function X2e(t){const e=await q2e(t),n=kl().gapi;return At(n,t,"internal-error"),e.open({where:document.body,url:J2e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q2e,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kc(t,"network-request-failed"),a=kl().setTimeout(()=>{s(o)},K2e.get());function c(){kl().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eMe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tMe=500,nMe=600,rMe="_blank",iMe="http://localhost";class jz{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sMe(t,e,n,r=tMe,i=nMe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},eMe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Gs().toLowerCase();n&&(a=Cte(l)?rMe:n),Ete(l)&&(e=e||iMe,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(Ske(l)&&a!=="_self")return oMe(e||"",a),new jz(null);const h=window.open(e||"",a,u);At(h,t,"popup-blocked");try{h.focus()}catch{}return new jz(h)}function oMe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aMe="__/auth/handler",cMe="emulator/auth/handler",lMe=encodeURIComponent("fac");async function Uz(t,e,n,r,i,s){At(t.config.authDomain,t,"auth-domain-config-required"),At(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lw,eventId:i};if(e instanceof Zj){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cxe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof S1){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${lMe}=${encodeURIComponent(c)}`:"";return`${uMe(t)}?${y1(a).slice(1)}${l}`}function uMe({config:t}){return t.emulator?qj(t,cMe):`https://${t.authDomain}/${aMe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="webStorageSupport";class dMe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zte,this._completeRedirectFn=M2e,this._overrideRedirectResult=N2e}async _openPopup(e,n,r,i){var s;cd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Uz(e,n,r,IM(),i);return sMe(e,o,Xj())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Uz(e,n,r,IM(),i);return m2e(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X2e(e),r=new F2e(e);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(BN,{type:BN},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[BN];o!==void 0&&n(!!o),Za(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z2e(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pte()||Ate()||Gj()}}const hMe=dMe;var Bz="@firebase/auth",zz="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fMe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pMe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mMe(t){Ul(new zc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;At(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ote(t)},l=new Nke(r,i,s,c);return zke(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new zc("auth-internal",e=>{const n=Ad(e.getProvider("auth").getImmediate());return(r=>new fMe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qa(Bz,zz,pMe(t)),qa(Bz,zz,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gMe=5*60,yMe=xJ("authIdTokenMaxAge")||gMe;let Vz=null;const vMe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yMe)return;const i=n==null?void 0:n.token;Vz!==i&&(Vz=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zte(t=Y$()){const e=Um(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bke(t,{popupRedirectResolver:hMe,persistence:[C2e,h2e,zte]}),r=xJ("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=vMe(s.toString());l2e(n,o,()=>o(n.currentUser)),c2e(n,a=>o(a))}}const i=SJ("auth");return i&&Vke(n,`http://${i}`),n}function wMe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rke({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",wMe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mMe("Browser");const bMe={apiKey:"AIzaSyDOm6tbDKYpR_Kfx_iRaCU2MtsZn3Cl9gw",authDomain:"travel-booking-8b898.firebaseapp.com",projectId:"travel-booking-8b898",storageBucket:"travel-booking-8b898.firebasestorage.app",messagingSenderId:"837714192379",appId:"1:837714192379:web:72f2befc6bf988cf284d5e",measurementId:"G-XQ1H5WJ04T"},tU=MJ(bMe),Lo=Zte(tU),zl=yNe(tU),Jte=new xu;JRe(tU);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function _Me(t,e,n){return(e=AMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hz(Object(n),!0).forEach(function(r){_Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AMe(t){var e=EMe(t,"string");return typeof e=="symbol"?e:e+""}const Wz=()=>{};let nU={},Xte={},ene=null,tne={mark:Wz,measure:Wz};try{typeof window<"u"&&(nU=window),typeof document<"u"&&(Xte=document),typeof MutationObserver<"u"&&(ene=MutationObserver),typeof performance<"u"&&(tne=performance)}catch{}const{userAgent:qz=""}=nU.navigator||{},yf=nU,Rr=Xte,Kz=ene,fC=tne;yf.document;const Cd=!!Rr.documentElement&&!!Rr.head&&typeof Rr.addEventListener=="function"&&typeof Rr.createElement=="function",nne=~qz.indexOf("MSIE")||~qz.indexOf("Trident/");var CMe=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,TMe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,rne={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},SMe={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ine=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ys="classic",fO="duotone",IMe="sharp",xMe="sharp-duotone",sne=[Ys,fO,IMe,xMe],PMe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},OMe={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},DMe=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),NMe={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},RMe=["fak","fa-kit","fakd","fa-kit-duotone"],Gz={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},kMe=["kit"],MMe={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},LMe=["fak","fakd"],FMe={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},Yz={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},pC={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},$Me=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],jMe=["fak","fa-kit","fakd","fa-kit-duotone"],UMe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},BMe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},zMe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},DM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},VMe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],NM=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...$Me,...VMe],HMe=["solid","regular","light","thin","duotone","brands"],one=[1,2,3,4,5,6,7,8,9,10],WMe=one.concat([11,12,13,14,15,16,17,18,19,20]),qMe=[...Object.keys(zMe),...HMe,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",pC.GROUP,pC.SWAP_OPACITY,pC.PRIMARY,pC.SECONDARY].concat(one.map(t=>"".concat(t,"x"))).concat(WMe.map(t=>"w-".concat(t))),KMe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ld="___FONT_AWESOME___",RM=16,ane="fa",cne="svg-inline--fa",lm="data-fa-i2svg",kM="data-fa-pseudo-element",GMe="data-fa-pseudo-element-pending",rU="data-prefix",iU="data-icon",Qz="fontawesome-i2svg",YMe="async",QMe=["HTML","HEAD","STYLE","SCRIPT"],lne=(()=>{try{return!0}catch{return!1}})();function x1(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Ys]}})}const une=Se({},rne);une[Ys]=Se(Se(Se(Se({},{"fa-duotone":"duotone"}),rne[Ys]),Gz.kit),Gz["kit-duotone"]);const ZMe=x1(une),MM=Se({},NMe);MM[Ys]=Se(Se(Se(Se({},{duotone:"fad"}),MM[Ys]),Yz.kit),Yz["kit-duotone"]);const Zz=x1(MM),LM=Se({},DM);LM[Ys]=Se(Se({},LM[Ys]),FMe.kit);const sU=x1(LM),FM=Se({},BMe);FM[Ys]=Se(Se({},FM[Ys]),MMe.kit);x1(FM);const JMe=CMe,dne="fa-layers-text",XMe=TMe,eLe=Se({},PMe);x1(eLe);const tLe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zN=SMe,nLe=[...kMe,...qMe],Lb=yf.FontAwesomeConfig||{};function rLe(t){var e=Rr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function iLe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Rr&&typeof Rr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=iLe(rLe(n));i!=null&&(Lb[r]=i)});const hne={styleDefault:"solid",familyDefault:Ys,cssPrefix:ane,replacementClass:cne,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Lb.familyPrefix&&(Lb.cssPrefix=Lb.familyPrefix);const Rv=Se(Se({},hne),Lb);Rv.autoReplaceSvg||(Rv.observeMutations=!1);const bt={};Object.keys(hne).forEach(t=>{Object.defineProperty(bt,t,{enumerable:!0,set:function(e){Rv[t]=e,Fb.forEach(n=>n(bt))},get:function(){return Rv[t]}})});Object.defineProperty(bt,"familyPrefix",{enumerable:!0,set:function(t){Rv.cssPrefix=t,Fb.forEach(e=>e(bt))},get:function(){return Rv.cssPrefix}});yf.FontAwesomeConfig=bt;const Fb=[];function sLe(t){return Fb.push(t),()=>{Fb.splice(Fb.indexOf(t),1)}}const jd=RM,Tl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function oLe(t){if(!t||!Cd)return;const e=Rr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Rr.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Rr.head.insertBefore(e,r),t}const aLe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function z_(){let t=12,e="";for(;t-- >0;)e+=aLe[Math.random()*62|0];return e}function yw(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function oU(t){return t.classList?yw(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function fne(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cLe(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(fne(t[n]),'" '),"").trim()}function pO(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function aU(t){return t.size!==Tl.size||t.x!==Tl.x||t.y!==Tl.y||t.rotate!==Tl.rotate||t.flipX||t.flipY}function lLe(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(o," ").concat(a)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:l}}function uLe(t){let{transform:e,width:n=RM,height:r=RM,startCentered:i=!1}=t,s="";return i&&nne?s+="translate(".concat(e.x/jd-n/2,"em, ").concat(e.y/jd-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/jd,"em), calc(-50% + ").concat(e.y/jd,"em)) "):s+="translate(".concat(e.x/jd,"em, ").concat(e.y/jd,"em) "),s+="scale(".concat(e.size/jd*(e.flipX?-1:1),", ").concat(e.size/jd*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var dLe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function pne(){const t=ane,e=cne,n=bt.cssPrefix,r=bt.replacementClass;let i=dLe;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let Jz=!1;function VN(){bt.autoAddCss&&!Jz&&(oLe(pne()),Jz=!0)}var hLe={mixout(){return{dom:{css:pne,insertCss:VN}}},hooks(){return{beforeDOMElementCreation(){VN()},beforeI2svg(){VN()}}}};const ud=yf||{};ud[ld]||(ud[ld]={});ud[ld].styles||(ud[ld].styles={});ud[ld].hooks||(ud[ld].hooks={});ud[ld].shims||(ud[ld].shims=[]);var Sl=ud[ld];const mne=[],gne=function(){Rr.removeEventListener("DOMContentLoaded",gne),UI=1,mne.map(t=>t())};let UI=!1;Cd&&(UI=(Rr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Rr.readyState),UI||Rr.addEventListener("DOMContentLoaded",gne));function fLe(t){Cd&&(UI?setTimeout(t,0):mne.push(t))}function P1(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?fne(t):"<".concat(e," ").concat(cLe(n),">").concat(r.map(P1).join(""),"</").concat(e,">")}function Xz(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var pLe=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},HN=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?pLe(n,i):n,c,l,u;for(r===void 0?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)l=s[c],u=a(u,e[l],l,e);return u};function mLe(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function $M(t){const e=mLe(t);return e.length===1?e[0].toString(16):null}function gLe(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function eV(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function jM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=eV(e);typeof Sl.hooks.addPack=="function"&&!r?Sl.hooks.addPack(t,eV(e)):Sl.styles[t]=Se(Se({},Sl.styles[t]||{}),i),t==="fas"&&jM("fa",e)}const{styles:V_,shims:yLe}=Sl,yne=Object.keys(sU),vLe=yne.reduce((t,e)=>(t[e]=Object.keys(sU[e]),t),{});let cU=null,vne={},wne={},bne={},_ne={},Ene={};function wLe(t){return~nLe.indexOf(t)}function bLe(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!wLe(i)?i:null}const Ane=()=>{const t=r=>HN(V_,(i,s,o)=>(i[o]=HN(s,r,{}),i),{});vne=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),wne=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),Ene=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in V_||bt.autoFetchSvg,n=HN(yLe,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});bne=n.names,_ne=n.unicodes,cU=mO(bt.styleDefault,{family:bt.familyDefault})};sLe(t=>{cU=mO(t.styleDefault,{family:bt.familyDefault})});Ane();function lU(t,e){return(vne[t]||{})[e]}function _Le(t,e){return(wne[t]||{})[e]}function yp(t,e){return(Ene[t]||{})[e]}function Cne(t){return bne[t]||{prefix:null,iconName:null}}function ELe(t){const e=_ne[t],n=lU("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function vf(){return cU}const Tne=()=>({prefix:null,iconName:null,rest:[]});function ALe(t){let e=Ys;const n=yne.reduce((r,i)=>(r[i]="".concat(bt.cssPrefix,"-").concat(i),r),{});return sne.forEach(r=>{(t.includes(n[r])||t.some(i=>vLe[r].includes(i)))&&(e=r)}),e}function mO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Ys}=e,r=ZMe[n][t];if(n===fO&&!t)return"fad";const i=Zz[n][t]||Zz[n][r],s=t in Sl.styles?t:null;return i||s||null}function CLe(t){let e=[],n=null;return t.forEach(r=>{const i=bLe(bt.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function tV(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function gO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=NM.concat(jMe),s=tV(t.filter(h=>i.includes(h))),o=tV(t.filter(h=>!NM.includes(h))),a=s.filter(h=>(r=h,!ine.includes(h))),[c=null]=a,l=ALe(s),u=Se(Se({},CLe(o)),{},{prefix:mO(c,{family:l})});return Se(Se(Se({},u),xLe({values:t,family:l,styles:V_,config:bt,canonical:u,givenPrefix:r})),TLe(n,r,u))}function TLe(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const s=e==="fa"?Cne(i):{},o=yp(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!V_.far&&V_.fas&&!bt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const SLe=sne.filter(t=>t!==Ys||t!==fO),ILe=Object.keys(DM).filter(t=>t!==Ys).map(t=>Object.keys(DM[t])).flat();function xLe(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,a=n===fO,c=e.includes("fa-duotone")||e.includes("fad"),l=o.familyDefault==="duotone",u=r.prefix==="fad"||r.prefix==="fa-duotone";if(!a&&(c||l||u)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&SLe.includes(n)&&(Object.keys(s).find(f=>ILe.includes(f))||o.autoFetchSvg)){const f=DMe.get(n).defaultShortPrefixId;r.prefix=f,r.iconName=yp(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=vf()||"fas"),r}class PLe{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=Se(Se({},this.definitions[s]||{}),i[s]),jM(s,i[s]);const o=sU[Ys][s];o&&jM(o,i[s]),Ane()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],c=a[2];e[s]||(e[s]={}),c.length>0&&c.forEach(l=>{typeof l=="string"&&(e[s][l]=a)}),e[s][o]=a}),e}}let nV=[],_y={};const By={},OLe=Object.keys(By);function DLe(t,e){let{mixoutsTo:n}=e;return nV=t,_y={},Object.keys(By).forEach(r=>{OLe.indexOf(r)===-1&&delete By[r]}),nV.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{_y[o]||(_y[o]=[]),_y[o].push(s[o])})}r.provides&&r.provides(By)}),n}function UM(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(_y[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function um(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(_y[t]||[]).forEach(s=>{s.apply(null,n)})}function wf(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return By[t]?By[t].apply(null,e):void 0}function BM(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||vf();if(e)return e=yp(n,e)||e,Xz(Sne.definitions,n,e)||Xz(Sl.styles,n,e)}const Sne=new PLe,NLe=()=>{bt.autoReplaceSvg=!1,bt.observeMutations=!1,um("noAuto")},RLe={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Cd?(um("beforeI2svg",t),wf("pseudoElements2svg",t),wf("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;bt.autoReplaceSvg===!1&&(bt.autoReplaceSvg=!0),bt.observeMutations=!0,fLe(()=>{MLe({autoReplaceSvgRoot:e}),um("watch",t)})}},kLe={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:yp(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=mO(t[0]);return{prefix:n,iconName:yp(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(bt.cssPrefix,"-"))>-1||t.match(JMe))){const e=gO(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||vf(),iconName:yp(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=vf();return{prefix:e,iconName:yp(e,t)||t}}}},va={noAuto:NLe,config:bt,dom:RLe,parse:kLe,library:Sne,findIconDefinition:BM,toHtml:P1},MLe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Rr}=t;(Object.keys(Sl.styles).length>0||bt.autoFetchSvg)&&Cd&&bt.autoReplaceSvg&&va.dom.i2svg({node:e})};function yO(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>P1(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Cd)return;const n=Rr.createElement("div");return n.innerHTML=t.html,n.children}}),t}function LLe(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(aU(o)&&n.found&&!r.found){const{width:a,height:c}=n,l={x:a/c/2,y:.5};i.style=pO(Se(Se({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function FLe(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(bt.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Se(Se({},i),{},{id:o}),children:r}]}]}function uU(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:c,titleId:l,extra:u,watchable:h=!1}=t,{width:f,height:p}=n.found?n:e,g=LMe.includes(r),y=[bt.replacementClass,i?"".concat(bt.cssPrefix,"-").concat(i):""].filter(P=>u.classes.indexOf(P)===-1).filter(P=>P!==""||!!P).concat(u.classes).join(" ");let v={children:[],attributes:Se(Se({},u.attributes),{},{"data-prefix":r,"data-icon":i,class:y,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)})};const b=g&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/p*16*.0625,"em")}:{};h&&(v.attributes[lm]=""),a&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(l||z_())},children:[a]}),delete v.attributes.title);const _=Se(Se({},v),{},{prefix:r,iconName:i,main:e,mask:n,maskId:c,transform:s,symbol:o,styles:Se(Se({},b),u.styles)}),{children:A,attributes:I}=n.found&&e.found?wf("generateAbstractMask",_)||{children:[],attributes:{}}:wf("generateAbstractIcon",_)||{children:[],attributes:{}};return _.children=A,_.attributes=I,o?FLe(_):LLe(_)}function rV(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,c=Se(Se(Se({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});a&&(c[lm]="");const l=Se({},o.styles);aU(i)&&(l.transform=uLe({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);const u=pO(l);u.length>0&&(c.style=u);const h=[];return h.push({tag:"span",attributes:c,children:[e]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function $Le(t){const{content:e,title:n,extra:r}=t,i=Se(Se(Se({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=pO(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:WN}=Sl;function zM(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(bt.cssPrefix,"-").concat(zN.GROUP)},children:[{tag:"path",attributes:{class:"".concat(bt.cssPrefix,"-").concat(zN.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(bt.cssPrefix,"-").concat(zN.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const jLe={found:!1,width:512,height:512};function ULe(t,e){!lne&&!bt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function VM(t,e){let n=e;return e==="fa"&&bt.styleDefault!==null&&(e=vf()),new Promise((r,i)=>{if(n==="fa"){const s=Cne(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&WN[e]&&WN[e][t]){const s=WN[e][t];return r(zM(s))}ULe(t,e),r(Se(Se({},jLe),{},{icon:bt.showMissingIcons&&t?wf("missingIconAbstract")||{}:{}}))})}const iV=()=>{},HM=bt.measurePerformance&&fC&&fC.mark&&fC.measure?fC:{mark:iV,measure:iV},cb='FA "6.7.2"',BLe=t=>(HM.mark("".concat(cb," ").concat(t," begins")),()=>Ine(t)),Ine=t=>{HM.mark("".concat(cb," ").concat(t," ends")),HM.measure("".concat(cb," ").concat(t),"".concat(cb," ").concat(t," begins"),"".concat(cb," ").concat(t," ends"))};var dU={begin:BLe,end:Ine};const $T=()=>{};function sV(t){return typeof(t.getAttribute?t.getAttribute(lm):null)=="string"}function zLe(t){const e=t.getAttribute?t.getAttribute(rU):null,n=t.getAttribute?t.getAttribute(iU):null;return e&&n}function VLe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(bt.replacementClass)}function HLe(){return bt.autoReplaceSvg===!0?jT.replace:jT[bt.autoReplaceSvg]||jT.replace}function WLe(t){return Rr.createElementNS("http://www.w3.org/2000/svg",t)}function qLe(t){return Rr.createElement(t)}function xne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?WLe:qLe}=e;if(typeof t=="string")return Rr.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(xne(s,{ceFn:n}))}),r}function KLe(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const jT={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(xne(n),e)}),e.getAttribute(lm)===null&&bt.keepOriginalSource){let n=Rr.createComment(KLe(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~oU(e).indexOf(bt.replacementClass))return jT.replace(t);const r=new RegExp("".concat(bt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===bt.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>P1(s)).join(`
`);e.setAttribute(lm,""),e.innerHTML=i}};function oV(t){t()}function Pne(t,e){const n=typeof e=="function"?e:$T;if(t.length===0)n();else{let r=oV;bt.mutateApproach===YMe&&(r=yf.requestAnimationFrame||oV),r(()=>{const i=HLe(),s=dU.begin("mutate");t.map(i),s(),n()})}}let hU=!1;function One(){hU=!0}function WM(){hU=!1}let BI=null;function aV(t){if(!Kz||!bt.observeMutations)return;const{treeCallback:e=$T,nodeCallback:n=$T,pseudoElementsCallback:r=$T,observeMutationsRoot:i=Rr}=t;BI=new Kz(s=>{if(hU)return;const o=vf();yw(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!sV(a.addedNodes[0])&&(bt.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&bt.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&sV(a.target)&&~tLe.indexOf(a.attributeName))if(a.attributeName==="class"&&zLe(a.target)){const{prefix:c,iconName:l}=gO(oU(a.target));a.target.setAttribute(rU,c||o),l&&a.target.setAttribute(iU,l)}else VLe(a.target)&&n(a.target)})}),Cd&&BI.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function GLe(){BI&&BI.disconnect()}function YLe(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function QLe(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=gO(oU(t));return i.prefix||(i.prefix=vf()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=_Le(i.prefix,t.innerText)||lU(i.prefix,$M(t.innerText))),!i.iconName&&bt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function ZLe(t){const e=yw(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return bt.autoA11y&&(n?e["aria-labelledby"]="".concat(bt.replacementClass,"-title-").concat(r||z_()):(e["aria-hidden"]="true",e.focusable="false")),e}function JLe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Tl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function cV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=QLe(t),s=ZLe(t),o=UM("parseNodeAttributes",{},t);let a=e.styleParser?YLe(t):[];return Se({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Tl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}const{styles:XLe}=Sl;function Dne(t){const e=bt.autoReplaceSvg==="nest"?cV(t,{styleParser:!1}):cV(t);return~e.extra.classes.indexOf(dne)?wf("generateLayersText",t,e):wf("generateSvgReplacementMutation",t,e)}function e3e(){return[...RMe,...NM]}function lV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Cd)return Promise.resolve();const n=Rr.documentElement.classList,r=u=>n.add("".concat(Qz,"-").concat(u)),i=u=>n.remove("".concat(Qz,"-").concat(u)),s=bt.autoFetchSvg?e3e():ine.concat(Object.keys(XLe));s.includes("fa")||s.push("fa");const o=[".".concat(dne,":not([").concat(lm,"])")].concat(s.map(u=>".".concat(u,":not([").concat(lm,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=yw(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const c=dU.begin("onTree"),l=a.reduce((u,h)=>{try{const f=Dne(h);f&&u.push(f)}catch(f){lne||f.name==="MissingIcon"&&console.error(f)}return u},[]);return new Promise((u,h)=>{Promise.all(l).then(f=>{Pne(f,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),u()})}).catch(f=>{c(),h(f)})})}function t3e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Dne(t).then(n=>{n&&Pne([n],e)})}function n3e(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:BM(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:BM(i||{})),t(r,Se(Se({},n),{},{mask:i}))}}const r3e=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Tl,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:c=[],attributes:l={},styles:u={}}=e;if(!t)return;const{prefix:h,iconName:f,icon:p}=t;return yO(Se({type:"icon"},t),()=>(um("beforeDOMElementCreation",{iconDefinition:t,params:e}),bt.autoA11y&&(o?l["aria-labelledby"]="".concat(bt.replacementClass,"-title-").concat(a||z_()):(l["aria-hidden"]="true",l.focusable="false")),uU({icons:{main:zM(p),mask:i?zM(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:f,transform:Se(Se({},Tl),n),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:l,styles:u,classes:c}})))};var i3e={mixout(){return{icon:n3e(r3e)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=lV,t.nodeCallback=t3e,t}}},provides(t){t.i2svg=function(e){const{node:n=Rr,callback:r=()=>{}}=e;return lV(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:c,mask:l,maskId:u,extra:h}=n;return new Promise((f,p)=>{Promise.all([VM(r,o),l.iconName?VM(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(g=>{let[y,v]=g;f([e,uU({icons:{main:y,mask:v},prefix:o,iconName:r,transform:a,symbol:c,maskId:u,title:i,titleId:s,extra:h,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=pO(o);a.length>0&&(r.style=a);let c;return aU(s)&&(c=wf("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(c||i.icon),{children:n,attributes:r}}}},s3e={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return yO({type:"layer"},()=>{um("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(bt.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},o3e={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return yO({type:"counter",content:t},()=>(um("beforeDOMElementCreation",{content:t,params:e}),$Le({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(bt.cssPrefix,"-layers-counter"),...r]}})))}}}},a3e={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Tl,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return yO({type:"text",content:t},()=>(um("beforeDOMElementCreation",{content:t,params:e}),rV({content:t,transform:Se(Se({},Tl),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(bt.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(nne){const c=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/c,a=l.height/c}return bt.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,rV({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const c3e=new RegExp('"',"ug"),uV=[1105920,1112319],dV=Se(Se(Se(Se({},{FontAwesome:{normal:"fas",400:"fas"}}),OMe),KMe),UMe),qM=Object.keys(dV).reduce((t,e)=>(t[e.toLowerCase()]=dV[e],t),{}),l3e=Object.keys(qM).reduce((t,e)=>{const n=qM[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function u3e(t){const e=t.replace(c3e,""),n=gLe(e,0),r=n>=uV[0]&&n<=uV[1],i=e.length===2?e[0]===e[1]:!1;return{value:$M(i?e[0]:e),isSecondary:r||i}}function d3e(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(qM[n]||{})[i]||l3e[n]}function hV(t,e){const n="".concat(GMe).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=yw(t.children).filter(f=>f.getAttribute(kM)===e)[0],a=yf.getComputedStyle(t,e),c=a.getPropertyValue("font-family"),l=c.match(XMe),u=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&h!=="none"&&h!==""){const f=a.getPropertyValue("content");let p=d3e(c,u);const{value:g,isSecondary:y}=u3e(f),v=l[0].startsWith("FontAwesome");let b=lU(p,g),_=b;if(v){const A=ELe(g);A.iconName&&A.prefix&&(b=A.iconName,p=A.prefix)}if(b&&!y&&(!o||o.getAttribute(rU)!==p||o.getAttribute(iU)!==_)){t.setAttribute(n,_),o&&t.removeChild(o);const A=JLe(),{extra:I}=A;I.attributes[kM]=e,VM(b,p).then(P=>{const D=uU(Se(Se({},A),{},{icons:{main:P,mask:Tne()},prefix:p,iconName:_,extra:I,watchable:!0})),T=Rr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(T,t.firstChild):t.appendChild(T),T.outerHTML=D.map(S=>P1(S)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function h3e(t){return Promise.all([hV(t,"::before"),hV(t,"::after")])}function f3e(t){return t.parentNode!==document.head&&!~QMe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(kM)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function fV(t){if(Cd)return new Promise((e,n)=>{const r=yw(t.querySelectorAll("*")).filter(f3e).map(h3e),i=dU.begin("searchPseudoElements");One(),Promise.all(r).then(()=>{i(),WM(),e()}).catch(()=>{i(),WM(),n()})})}var p3e={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=fV,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Rr}=e;bt.searchPseudoElements&&fV(n)}}};let pV=!1;var m3e={mixout(){return{dom:{unwatch(){One(),pV=!0}}}},hooks(){return{bootstrap(){aV(UM("mutationObserverCallbacks",{}))},noAuto(){GLe()},watch(t){const{observeMutationsRoot:e}=t;pV?WM():aV(UM("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const mV=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var g3e={mixout(){return{parse:{transform:t=>mV(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=mV(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),u={transform:"".concat(a," ").concat(c," ").concat(l)},h={transform:"translate(".concat(s/2*-1," -256)")},f={outer:o,inner:u,path:h};return{tag:"g",attributes:Se({},f.outer),children:[{tag:"g",attributes:Se({},f.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Se(Se({},n.icon.attributes),f.path)}]}]}}}};const qN={x:0,y:0,width:"100%",height:"100%"};function gV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function y3e(t){return t.tag==="g"?t.children:[t]}var v3e={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?gO(n.split(" ").map(i=>i.trim())):Tne();return r.prefix||(r.prefix=vf()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:c,icon:l}=i,{width:u,icon:h}=s,f=lLe({transform:a,containerWidth:u,iconWidth:c}),p={tag:"rect",attributes:Se(Se({},qN),{},{fill:"white"})},g=l.children?{children:l.children.map(gV)}:{},y={tag:"g",attributes:Se({},f.inner),children:[gV(Se({tag:l.tag,attributes:Se(Se({},l.attributes),f.path)},g))]},v={tag:"g",attributes:Se({},f.outer),children:[y]},b="mask-".concat(o||z_()),_="clip-".concat(o||z_()),A={tag:"mask",attributes:Se(Se({},qN),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},I={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:y3e(h)},A]};return n.push(I,{tag:"rect",attributes:Se({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(b,")")},qN)}),{children:n,attributes:r}}}},w3e={provides(t){let e=!1;yf.matchMedia&&(e=yf.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Se(Se({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=Se(Se({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Se(Se({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:Se(Se({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Se(Se({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:Se(Se({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Se(Se({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:Se(Se({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Se(Se({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},b3e={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},_3e=[hLe,i3e,s3e,o3e,a3e,p3e,m3e,g3e,v3e,w3e,b3e];DLe(_3e,{mixoutsTo:va});va.noAuto;va.config;va.library;va.dom;const KM=va.parse;va.findIconDefinition;va.toHtml;const E3e=va.icon;va.layer;va.text;va.counter;function yV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zI(t){"@babel/helpers - typeof";return zI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zI(t)}function Ey(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function C3e(t,e){if(t==null)return{};var n=A3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GM(t){return T3e(t)||S3e(t)||I3e(t)||x3e()}function T3e(t){if(Array.isArray(t))return YM(t)}function S3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I3e(t,e){if(t){if(typeof t=="string")return YM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YM(t,e)}}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3e(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,c=t.spin,l=t.spinPulse,u=t.spinReverse,h=t.pulse,f=t.fixedWidth,p=t.inverse,g=t.border,y=t.listItem,v=t.flip,b=t.size,_=t.rotation,A=t.pull,I=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":h,"fa-fw":f,"fa-inverse":p,"fa-border":g,"fa-li":y,"fa-flip":v===!0,"fa-flip-horizontal":v==="horizontal"||v==="both","fa-flip-vertical":v==="vertical"||v==="both"},Ey(e,"fa-".concat(b),typeof b<"u"&&b!==null),Ey(e,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),Ey(e,"fa-pull-".concat(A),typeof A<"u"&&A!==null),Ey(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(I).map(function(P){return I[P]?P:null}).filter(function(P){return P})}function O3e(t){return t=t-0,t===t}function Nne(t){return O3e(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var D3e=["style"];function N3e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function R3e(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=Nne(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[N3e(i)]=s:e[i]=s,e},{})}function Rne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return Rne(t,c)}),i=Object.keys(e.attributes||{}).reduce(function(c,l){var u=e.attributes[l];switch(l){case"class":c.attrs.className=u,delete e.attributes.class;break;case"style":c.attrs.style=R3e(u);break;default:l.indexOf("aria-")===0||l.indexOf("data-")===0?c.attrs[l.toLowerCase()]=u:c.attrs[Nne(l)]=u}return c},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=C3e(n,D3e);return i.attrs.style=yl(yl({},i.attrs.style),o),t.apply(void 0,[e.tag,yl(yl({},i.attrs),a)].concat(GM(r)))}var kne=!1;try{kne=!0}catch{}function k3e(){if(!kne&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function vV(t){if(t&&zI(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(KM.icon)return KM.icon(t);if(t===null)return null;if(t&&zI(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function KN(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Ey({},t,e):{}}var wV={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},fU=ce.forwardRef(function(t,e){var n=yl(yl({},wV),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,c=n.titleId,l=n.maskId,u=vV(r),h=KN("classes",[].concat(GM(P3e(n)),GM((o||"").split(" ")))),f=KN("transform",typeof n.transform=="string"?KM.transform(n.transform):n.transform),p=KN("mask",vV(i)),g=E3e(u,yl(yl(yl(yl({},h),f),p),{},{symbol:s,title:a,titleId:c,maskId:l}));if(!g)return k3e("Could not find icon",u),null;var y=g.abstract,v={ref:e};return Object.keys(n).forEach(function(b){wV.hasOwnProperty(b)||(v[b]=n[b])}),M3e(y[0],v)});fU.displayName="FontAwesomeIcon";fU.propTypes={beat:We.bool,border:We.bool,beatFade:We.bool,bounce:We.bool,className:We.string,fade:We.bool,flash:We.bool,mask:We.oneOfType([We.object,We.array,We.string]),maskId:We.string,fixedWidth:We.bool,inverse:We.bool,flip:We.oneOf([!0,!1,"horizontal","vertical","both"]),icon:We.oneOfType([We.object,We.array,We.string]),listItem:We.bool,pull:We.oneOf(["right","left"]),pulse:We.bool,rotation:We.oneOf([0,90,180,270]),shake:We.bool,size:We.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:We.bool,spinPulse:We.bool,spinReverse:We.bool,symbol:We.oneOfType([We.bool,We.string]),title:We.string,titleId:We.string,transform:We.oneOfType([We.string,We.object]),swapOpacity:We.bool};var M3e=Rne.bind(null,ce.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const L3e={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]};function pU({cityName:t,countryName:e,tourName:n,tourImage:r,tourRating:i,tourReview:s,tourPrice:o,tourDuration:a,slugValue:c,onRemoveFavorite:l}){const[u,h]=M.useState(!1),f=Lo.currentUser;M.useEffect(()=>{(async()=>{if(f){const y=j_(zl,"favorites",`${f.uid}_${c}`),v=await wee(y);h(v.exists())}})()},[f,c]);const p=async()=>{if(!f){vt("Please log in to save favorites");return}const g=j_(zl,"favorites",`${f.uid}_${c}`);try{u?(await NNe(g),h(!1),l&&l()):(await AM(g,{userId:f.uid,tourSlug:c,tourName:n,cityName:t,countryName:e,tourImage:r,tourRating:i,tourReview:s,tourPrice:o,tourDuration:a,timestamp:new Date}),h(!0))}catch(y){console.error("Error updating favorite:",y),vt.error("Error updating favorite")}};return C.jsx(ri,{to:Ue.TOURS_DETAIL.path.replace(":slugId",c),className:"link-class",children:C.jsxs("div",{className:"tour-card-container",children:[C.jsxs("div",{className:"tour-image-container",children:[C.jsx("img",{src:r,alt:n}),C.jsx("button",{className:"favorite-button",onClick:g=>{g.preventDefault(),p()},children:C.jsx(fU,{icon:L3e,className:u?"heart-icon favorite":"heart-icon"})})]}),C.jsxs("div",{className:"tour-info-container",children:[C.jsxs("p",{className:"project-theme-color",children:[t,", ",e]}),C.jsx(ri,{className:"link-class",to:Ue.TOURS_DETAIL.path.replace(":slugId",c),children:C.jsx("h4",{children:n})}),C.jsxs("div",{className:"tour-additional-info",children:[C.jsxs("div",{className:"rating-reviews",children:[C.jsxs("span",{className:"rating-star-class",children:[C.jsx("i",{className:"fa fa-star"})," ",i]}),C.jsxs("span",{className:"tour-additional-info-text",children:[s," reviews"]})]}),C.jsx("span",{className:"tour-additional-info-text",children:a})]}),C.jsxs("div",{className:"tour-price",children:[C.jsx("p",{children:"Starting From"}),C.jsx("span",{className:"tour-price-text",children:o})]})]})]})})}function Mne(){return C.jsxs("div",{className:"tour-card-container skeleton",children:[C.jsx("div",{className:"tour-image-container skeleton-box"}),C.jsxs("div",{className:"tour-info-container",children:[C.jsx("div",{className:"skeleton-line short"}),C.jsx("div",{className:"skeleton-line medium"}),C.jsxs("div",{className:"tour-additional-info",children:[C.jsxs("div",{className:"rating-reviews",children:[C.jsx("div",{className:"skeleton-badge"}),C.jsx("div",{className:"skeleton-line tiny"})]}),C.jsx("div",{className:"skeleton-line tiny"})]}),C.jsxs("div",{className:"tour-price",children:[C.jsx("div",{className:"skeleton-line tiny"}),C.jsx("div",{className:"skeleton-line short"})]})]})]})}function Lne(){var y,v;const t="eyJwaW5uZWRQcm9kdWN0IjoiUFJpSEhIVjB1TGJPIiwidWZpIjoyMDA4ODMyNX0=",{data:n,isLoading:r}=UIe({destinationId:t,currentPage:1}),i=((v=(y=n==null?void 0:n.data)==null?void 0:y.products)==null?void 0:v.slice(1,9))||[],s=4,o=i.length-s+1,[a,c]=M.useState(0),l=1765,f=_J({onSwipedLeft:()=>{c(b=>b+1<i.length?b+1:0)},onSwipedRight:()=>{c(b=>b-1>=0?b-1:i.length-s)},trackMouse:!0}),p=b=>{c(b)},g=()=>{let b=i.slice(a,a+s);if(b.length<s){const _=s-b.length;b=[...b,...i.slice(0,_)]}return b};return C.jsxs("div",{className:"tour-slider-container",...f,children:[C.jsx("div",{className:"tour-slider-content",children:r?Array.from({length:4}).map((b,_)=>C.jsx(Mne,{},_)):g().map((b,_)=>{var $,j,K,B,z,Y,V,Q,G;const A=(K=(j=($=b==null?void 0:b.ufiDetails)==null?void 0:$.url)==null?void 0:j.country)==null?void 0:K.toUpperCase(),I=(B=b==null?void 0:b.ufiDetails)==null?void 0:B.bCityName,P=b==null?void 0:b.name,D=(z=b==null?void 0:b.primaryPhoto)==null?void 0:z.small,T=(V=(Y=b==null?void 0:b.reviewsStats)==null?void 0:Y.combinedNumericStats)==null?void 0:V.average,S=(Q=b==null?void 0:b.reviewsStats)==null?void 0:Q.combinedNumericStats.total,N=`${(((G=b==null?void 0:b.representativePrice)==null?void 0:G.chargeAmount)/l).toFixed(5)} ETH`,R=b==null?void 0:b.slug;return C.jsx(pU,{cityName:I,countryName:A,tourName:P,tourImage:D,tourRating:T,tourReview:S,tourPrice:N,tourDuration:"1 days",slugValue:R},`${R}-${_}`)})}),C.jsx("div",{className:"navigation-dots",children:Array.from({length:o}).map((b,_)=>C.jsx("div",{className:`dot ${a===_?"active":""}`,onClick:()=>p(_)},_))})]})}function F3e({tourType:t,numberOfTours:e,startingPrice:n,categoryIcon:r}){return C.jsxs("div",{className:"tour-category-card",children:[C.jsx("img",{src:r}),C.jsx("h6",{children:t}),C.jsxs("p",{children:[e," Tours+"]}),C.jsxs("div",{className:"category-card-price",children:[C.jsx("p",{children:"From"}),C.jsxs("h5",{className:"cursive-text",children:["$",n]})]})]})}const tp=[{id:1,title:"Trekking the Trails of Patagonia",date:"April 26, 2025",image:_t.TRAIL,shortDescription:"Patagonia’s rugged trails offer breathtaking views and thrilling adventures. From glaciers to peaks, discover why this region is a hiker’s paradise.",content:["Patagonia, spanning Chile and Argentina, is a dream for adventure seekers. Its trails, like the W Trek in Torres del Paine, weave through turquoise lakes, glaciers, and granite spires. The park’s unpredictable weather adds a thrill—pack layers and sturdy boots.","Beyond hiking, spot guanacos and condors, or kayak near icebergs. Refugios (mountain huts) provide cozy rest stops with hearty meals. For a lighter trek, try Laguna Azul’s scenic loop. Patagonia’s raw beauty demands respect—stick to marked paths to preserve its wilderness.","This destination suits those craving nature’s untamed side. A week here feels like a lifetime of stories."],category:"Adventure",tag:"Hiking"},{id:2,title:"Uncovering Marrakech’s Cultural Souks",date:"March 5, 2025",image:_t.MOROCCO,shortDescription:"Marrakech’s vibrant souks pulse with history and color. Dive into Morocco’s cultural heart for spices, crafts, and timeless tales.",content:["Marrakech, Morocco, is a sensory overload. Its souks, narrow alleys in the medina, brim with leather bags, lanterns, and saffron piles. Jemaa el-Fnaa square buzzes with snake charmers and storytellers at dusk. Bargaining is an art here—smile, sip mint tea, and haggle politely.","Beyond shopping, visit the Bahia Palace for intricate tilework or the Saadian Tombs for royal history. Locals are warm but firm—respect their pace. A guided tour helps navigate the maze without getting lost. Try a tagine cooking class for a taste of tradition.","Marrakech blends chaos and charm, perfect for culture lovers. Two days feel like a whirlwind of discovery."],category:"Culture",tag:"History"},{id:3,title:"Serenity Over Santorini’s Caldera",date:"April 12, 2025",image:_t.SANTORINI,shortDescription:"Santorini’s whitewashed cliffs and blue domes frame stunning sunsets. Explore Greece’s volcanic gem for peace and beauty.",content:["Santorini, Greece, is a postcard come alive. Its caldera, formed by a volcanic eruption, cradles villages like Oia and Fira. Stroll cobblestone paths for jaw-dropping views, especially at sunset when crowds hush. The island’s black-sand beaches, like Perissa, add raw contrast.","Skip overpriced restaurants—local tavernas serve fresh calamari and fava beans. Rent a scooter to explore Akrotiri’s ancient ruins or sail to hot springs. Summer’s busy, so book early or visit in fall for quieter vibes. Santorini’s magic lies in its serene, timeless feel.","Ideal for couples or solo travelers, a few days here recharge the soul. Bring a camera—you’ll need it."],category:"Nature",tag:"Scenic"},{id:4,title:"Savoring Street Food in Bangkok",date:"January 20, 2025",image:_t.BANGOK_FOOD,shortDescription:"Bangkok’s street food is a flavor explosion. From spicy som tam to sweet mango sticky rice, taste Thailand’s soul.",content:["Bangkok’s streets are a foodie’s playground. At Yaowarat (Chinatown), stalls dish out crispy duck and peppery crab. Sukhumvit Soi 38 offers som tam (papaya salad) that bites back—ask for mild if you’re spice-shy. Don’t skip mango sticky rice; it’s pure joy.","Vendors cook fresh, but check for busy stalls to avoid tummy troubles. Pair meals with iced Thai tea. For a break, visit Chatuchak Market to snack while browsing. Night markets blend food and vibe—go hungry. A street food tour maximizes variety in one evening.","Bangkok’s flavors are bold yet balanced, perfect for culinary explorers. You’ll leave craving more."],category:"Food",tag:"Cuisine"}];function Fne(){const t=[{quantity:120,quantityElement:"Total Destination"},{quantity:500,quantityElement:"Travel Packages"},{quantity:"10K",quantityElement:"Total Travelers"},{quantity:"7K",quantityElement:"Positive Reviews"}],e=[{categoryIcon:_t.ADVENTURE,tourType:"Adventure",numberOfTours:10,startingPrice:250},{categoryIcon:_t.HIKING_TOURS,tourType:"Beaches",numberOfTours:15,startingPrice:200},{categoryIcon:_t.FOOD_TOURS,tourType:"Boat Tours",numberOfTours:10,startingPrice:250},{categoryIcon:_t.BOAT_TOURS,tourType:"City Tours",numberOfTours:20,startingPrice:200},{categoryIcon:_t.BEACHES,tourType:"Food",numberOfTours:25,startingPrice:350},{categoryIcon:_t.CITY_TOURS,tourType:"Hiking",numberOfTours:20,startingPrice:300}];return M.useEffect(()=>{window.scrollTo(0,0)},[]),C.jsxs("div",{children:[C.jsxs("div",{className:"homepage-banner",children:[C.jsx("img",{src:_t.HomePageBanner,alt:"home-page-banner"}),C.jsx("div",{className:"banner-text-container",children:C.jsxs("div",{className:"banner-text-content",children:[C.jsx("h3",{className:"kaushan-text",children:"Save 15% off in Worldwide"}),C.jsx("h1",{className:"",children:"Travel & Adventures"}),C.jsx("p",{className:"project-normal-font",children:"Find awesome hotel, tour, car and activities in London"})]})})]}),C.jsx(K$,{searchAreaData:()=>{}}),C.jsxs("div",{className:"tour-container",children:[C.jsxs("div",{className:"section-headers",children:[C.jsx("h4",{className:"kaushan-text cursive-normal",children:"Tours"}),C.jsx("h2",{className:"section-heading",children:"Most Popular Tours"})]}),C.jsx("div",{className:"tour-content-container",children:C.jsx("div",{className:"tour-content",children:C.jsx(Lne,{})})})]}),C.jsx("div",{className:"homepage-number-wrapper",children:C.jsx("div",{className:"homepage-number-container",children:C.jsx("div",{className:"our-numbers-wrapper",children:C.jsx("div",{className:"our-numbers-container",children:t.map(n=>C.jsxs("div",{className:"number-data",children:[C.jsxs("h1",{children:[n.quantity,"+"]}),C.jsx("p",{children:n.quantityElement})]}))})})})}),C.jsx(ywe,{}),C.jsx(VQ,{}),C.jsxs("div",{className:"browse-by-category-wrapper",children:[C.jsx("h4",{className:"cursive-text",children:"Browse By Category"}),C.jsx("h2",{children:"Pick a Tour Type"}),C.jsx("div",{className:"browse-by-category",children:e.map(n=>C.jsx(F3e,{categoryIcon:n.categoryIcon,tourType:n.tourType,numberOfTours:n.numberOfTours,startingPrice:n.startingPrice}))})]}),C.jsx("div",{className:"testimonial-section",children:C.jsx(EJ,{})}),C.jsx("div",{className:"travel-guide-wrapper",children:C.jsxs("div",{className:"travel-guide-container",children:[C.jsx("h4",{className:"cursive-text",children:"Updates"}),C.jsx("h2",{children:"Latest Travel Guide"}),C.jsx("div",{className:"travel-guide",children:tp.slice(0,4).map(n=>C.jsx(ri,{to:`/blog/${n.id}`,className:"link-class",children:C.jsxs("div",{className:"travel-guide-card",children:[C.jsx("div",{className:"travel-guide-image-container",children:C.jsx("img",{src:n.image,alt:n.title})}),C.jsxs("div",{className:"travel-guide-info",children:[C.jsxs("p",{children:[n.date," Admin"]}),C.jsx("h6",{children:n.title})]})]},n.id)}))})]})})]})}function $ne(t,e){const n=M.useRef(e);M.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const $3e=1;function j3e(t){return Object.freeze({__version:$3e,map:t})}function U3e(t,e){return Object.freeze({...t,...e})}const jne=M.createContext(null),Une=jne.Provider;function mU(){const t=M.useContext(jne);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function B3e(t){function e(n,r){const{instance:i,context:s}=t(n).current;return M.useImperativeHandle(r,()=>i),n.children==null?null:ce.createElement(Une,{value:s},n.children)}return M.forwardRef(e)}function z3e(t){function e(n,r){const[i,s]=M.useState(!1),{instance:o}=t(n,s).current;M.useImperativeHandle(r,()=>o),M.useEffect(function(){i&&o.update()},[o,i,n.children]);const a=o._contentNode;return a?xf.createPortal(n.children,a):null}return M.forwardRef(e)}function V3e(t){function e(n,r){const{instance:i}=t(n).current;return M.useImperativeHandle(r,()=>i),null}return M.forwardRef(e)}function Bne(t,e){const n=M.useRef();M.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function gU(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function H3e(t,e){return function(r,i){const s=mU(),o=t(gU(r,s),s);return $ne(s.map,r.attribution),Bne(o.current,r.eventHandlers),e(o.current,s,r,i),o}}var QM={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(io,function(n){var r="1.9.4";function i(d){var m,E,O,F;for(E=1,O=arguments.length;E<O;E++){F=arguments[E];for(m in F)d[m]=F[m]}return d}var s=Object.create||function(){function d(){}return function(m){return d.prototype=m,new d}}();function o(d,m){var E=Array.prototype.slice;if(d.bind)return d.bind.apply(d,E.call(arguments,1));var O=E.call(arguments,2);return function(){return d.apply(m,O.length?O.concat(E.call(arguments)):arguments)}}var a=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++a),d._leaflet_id}function l(d,m,E){var O,F,H,J;return J=function(){O=!1,F&&(H.apply(E,F),F=!1)},H=function(){O?F=arguments:(d.apply(E,arguments),setTimeout(J,m),O=!0)},H}function u(d,m,E){var O=m[1],F=m[0],H=O-F;return d===O&&E?d:((d-F)%H+H)%H+F}function h(){return!1}function f(d,m){if(m===!1)return d;var E=Math.pow(10,m===void 0?6:m);return Math.round(d*E)/E}function p(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function g(d){return p(d).split(/\s+/)}function y(d,m){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?s(d.options):{});for(var E in m)d.options[E]=m[E];return d.options}function v(d,m,E){var O=[];for(var F in d)O.push(encodeURIComponent(E?F.toUpperCase():F)+"="+encodeURIComponent(d[F]));return(!m||m.indexOf("?")===-1?"?":"&")+O.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function _(d,m){return d.replace(b,function(E,O){var F=m[O];if(F===void 0)throw new Error("No value provided for variable "+E);return typeof F=="function"&&(F=F(m)),F})}var A=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function I(d,m){for(var E=0;E<d.length;E++)if(d[E]===m)return E;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var T=0;function S(d){var m=+new Date,E=Math.max(0,16-(m-T));return T=m+E,window.setTimeout(d,E)}var x=window.requestAnimationFrame||D("RequestAnimationFrame")||S,N=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function R(d,m,E){if(E&&x===S)d.call(m);else return x.call(window,o(d,m))}function $(d){d&&N.call(window,d)}var j={__proto__:null,extend:i,create:s,bind:o,get lastId(){return a},stamp:c,throttle:l,wrapNum:u,falseFn:h,formatNum:f,trim:p,splitWords:g,setOptions:y,getParamString:v,template:_,isArray:A,indexOf:I,emptyImageUrl:P,requestFn:x,cancelFn:N,requestAnimFrame:R,cancelAnimFrame:$};function K(){}K.extend=function(d){var m=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=m.__super__=this.prototype,O=s(E);O.constructor=m,m.prototype=O;for(var F in this)Object.prototype.hasOwnProperty.call(this,F)&&F!=="prototype"&&F!=="__super__"&&(m[F]=this[F]);return d.statics&&i(m,d.statics),d.includes&&(B(d.includes),i.apply(null,[O].concat(d.includes))),i(O,d),delete O.statics,delete O.includes,O.options&&(O.options=E.options?s(E.options):{},i(O.options,d.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,J=O._initHooks.length;H<J;H++)O._initHooks[H].call(this)}},m},K.include=function(d){var m=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=m,this.mergeOptions(d.options)),this},K.mergeOptions=function(d){return i(this.prototype.options,d),this},K.addInitHook=function(d){var m=Array.prototype.slice.call(arguments,1),E=typeof d=="function"?d:function(){this[d].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function B(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=A(d)?d:[d];for(var m=0;m<d.length;m++)d[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(d,m,E){if(typeof d=="object")for(var O in d)this._on(O,d[O],m);else{d=g(d);for(var F=0,H=d.length;F<H;F++)this._on(d[F],m,E)}return this},off:function(d,m,E){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var O in d)this._off(O,d[O],m);else{d=g(d);for(var F=arguments.length===1,H=0,J=d.length;H<J;H++)F?this._off(d[H]):this._off(d[H],m,E)}return this},_on:function(d,m,E,O){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(d,m,E)===!1){E===this&&(E=void 0);var F={fn:m,ctx:E};O&&(F.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(F)}},_off:function(d,m,E){var O,F,H;if(this._events&&(O=this._events[d],!!O)){if(arguments.length===1){if(this._firingCount)for(F=0,H=O.length;F<H;F++)O[F].fn=h;delete this._events[d];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var J=this._listens(d,m,E);if(J!==!1){var ae=O[J];this._firingCount&&(ae.fn=h,this._events[d]=O=O.slice()),O.splice(J,1)}}},fire:function(d,m,E){if(!this.listens(d,E))return this;var O=i({},m,{type:d,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var F=this._events[d];if(F){this._firingCount=this._firingCount+1||1;for(var H=0,J=F.length;H<J;H++){var ae=F[H],fe=ae.fn;ae.once&&this.off(d,fe,ae.ctx),fe.call(ae.ctx||this,O)}this._firingCount--}}return E&&this._propagateEvent(O),this},listens:function(d,m,E,O){typeof d!="string"&&console.warn('"string" type argument expected');var F=m;typeof m!="function"&&(O=!!m,F=void 0,E=void 0);var H=this._events&&this._events[d];if(H&&H.length&&this._listens(d,F,E)!==!1)return!0;if(O){for(var J in this._eventParents)if(this._eventParents[J].listens(d,m,E,O))return!0}return!1},_listens:function(d,m,E){if(!this._events)return!1;var O=this._events[d]||[];if(!m)return!!O.length;E===this&&(E=void 0);for(var F=0,H=O.length;F<H;F++)if(O[F].fn===m&&O[F].ctx===E)return F;return!1},once:function(d,m,E){if(typeof d=="object")for(var O in d)this._on(O,d[O],m,!0);else{d=g(d);for(var F=0,H=d.length;F<H;F++)this._on(d[F],m,E,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var m in this._eventParents)this._eventParents[m].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var Y=K.extend(z);function V(d,m,E){this.x=E?Math.round(d):d,this.y=E?Math.round(m):m}var Q=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(d){return this.clone()._add(G(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(G(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new V(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new V(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(d){d=G(d);var m=d.x-this.x,E=d.y-this.y;return Math.sqrt(m*m+E*E)},equals:function(d){return d=G(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=G(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function G(d,m,E){return d instanceof V?d:A(d)?new V(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new V(d.x,d.y):new V(d,m,E)}function ee(d,m){if(d)for(var E=m?[d,m]:d,O=0,F=E.length;O<F;O++)this.extend(E[O])}ee.prototype={extend:function(d){var m,E;if(!d)return this;if(d instanceof V||typeof d[0]=="number"||"x"in d)m=E=G(d);else if(d=ne(d),m=d.min,E=d.max,!m||!E)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=E.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(d){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var m,E;return typeof d[0]=="number"||d instanceof V?d=G(d):d=ne(d),d instanceof ee?(m=d.min,E=d.max):m=E=d,m.x>=this.min.x&&E.x<=this.max.x&&m.y>=this.min.y&&E.y<=this.max.y},intersects:function(d){d=ne(d);var m=this.min,E=this.max,O=d.min,F=d.max,H=F.x>=m.x&&O.x<=E.x,J=F.y>=m.y&&O.y<=E.y;return H&&J},overlaps:function(d){d=ne(d);var m=this.min,E=this.max,O=d.min,F=d.max,H=F.x>m.x&&O.x<E.x,J=F.y>m.y&&O.y<E.y;return H&&J},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var m=this.min,E=this.max,O=Math.abs(m.x-E.x)*d,F=Math.abs(m.y-E.y)*d;return ne(G(m.x-O,m.y-F),G(E.x+O,E.y+F))},equals:function(d){return d?(d=ne(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function ne(d,m){return!d||d instanceof ee?d:new ee(d,m)}function le(d,m){if(d)for(var E=m?[d,m]:d,O=0,F=E.length;O<F;O++)this.extend(E[O])}le.prototype={extend:function(d){var m=this._southWest,E=this._northEast,O,F;if(d instanceof re)O=d,F=d;else if(d instanceof le){if(O=d._southWest,F=d._northEast,!O||!F)return this}else return d?this.extend(oe(d)||ue(d)):this;return!m&&!E?(this._southWest=new re(O.lat,O.lng),this._northEast=new re(F.lat,F.lng)):(m.lat=Math.min(O.lat,m.lat),m.lng=Math.min(O.lng,m.lng),E.lat=Math.max(F.lat,E.lat),E.lng=Math.max(F.lng,E.lng)),this},pad:function(d){var m=this._southWest,E=this._northEast,O=Math.abs(m.lat-E.lat)*d,F=Math.abs(m.lng-E.lng)*d;return new le(new re(m.lat-O,m.lng-F),new re(E.lat+O,E.lng+F))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof re||"lat"in d?d=oe(d):d=ue(d);var m=this._southWest,E=this._northEast,O,F;return d instanceof le?(O=d.getSouthWest(),F=d.getNorthEast()):O=F=d,O.lat>=m.lat&&F.lat<=E.lat&&O.lng>=m.lng&&F.lng<=E.lng},intersects:function(d){d=ue(d);var m=this._southWest,E=this._northEast,O=d.getSouthWest(),F=d.getNorthEast(),H=F.lat>=m.lat&&O.lat<=E.lat,J=F.lng>=m.lng&&O.lng<=E.lng;return H&&J},overlaps:function(d){d=ue(d);var m=this._southWest,E=this._northEast,O=d.getSouthWest(),F=d.getNorthEast(),H=F.lat>m.lat&&O.lat<E.lat,J=F.lng>m.lng&&O.lng<E.lng;return H&&J},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,m){return d?(d=ue(d),this._southWest.equals(d.getSouthWest(),m)&&this._northEast.equals(d.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(d,m){return d instanceof le?d:new le(d,m)}function re(d,m,E){if(isNaN(d)||isNaN(m))throw new Error("Invalid LatLng object: ("+d+", "+m+")");this.lat=+d,this.lng=+m,E!==void 0&&(this.alt=+E)}re.prototype={equals:function(d,m){if(!d)return!1;d=oe(d);var E=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return E<=(m===void 0?1e-9:m)},toString:function(d){return"LatLng("+f(this.lat,d)+", "+f(this.lng,d)+")"},distanceTo:function(d){return Te.distance(this,oe(d))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(d){var m=180*d/40075017,E=m/Math.cos(Math.PI/180*this.lat);return ue([this.lat-m,this.lng-E],[this.lat+m,this.lng+E])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function oe(d,m,E){return d instanceof re?d:A(d)&&typeof d[0]!="object"?d.length===3?new re(d[0],d[1],d[2]):d.length===2?new re(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new re(d.lat,"lng"in d?d.lng:d.lon,d.alt):m===void 0?null:new re(d,m,E)}var ye={latLngToPoint:function(d,m){var E=this.projection.project(d),O=this.scale(m);return this.transformation._transform(E,O)},pointToLatLng:function(d,m){var E=this.scale(m),O=this.transformation.untransform(d,E);return this.projection.unproject(O)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var m=this.projection.bounds,E=this.scale(d),O=this.transformation.transform(m.min,E),F=this.transformation.transform(m.max,E);return new ee(O,F)},infinite:!1,wrapLatLng:function(d){var m=this.wrapLng?u(d.lng,this.wrapLng,!0):d.lng,E=this.wrapLat?u(d.lat,this.wrapLat,!0):d.lat,O=d.alt;return new re(E,m,O)},wrapLatLngBounds:function(d){var m=d.getCenter(),E=this.wrapLatLng(m),O=m.lat-E.lat,F=m.lng-E.lng;if(O===0&&F===0)return d;var H=d.getSouthWest(),J=d.getNorthEast(),ae=new re(H.lat-O,H.lng-F),fe=new re(J.lat-O,J.lng-F);return new le(ae,fe)}},Te=i({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(d,m){var E=Math.PI/180,O=d.lat*E,F=m.lat*E,H=Math.sin((m.lat-d.lat)*E/2),J=Math.sin((m.lng-d.lng)*E/2),ae=H*H+Math.cos(O)*Math.cos(F)*J*J,fe=2*Math.atan2(Math.sqrt(ae),Math.sqrt(1-ae));return this.R*fe}}),Be=6378137,et={R:Be,MAX_LATITUDE:85.0511287798,project:function(d){var m=Math.PI/180,E=this.MAX_LATITUDE,O=Math.max(Math.min(E,d.lat),-E),F=Math.sin(O*m);return new V(this.R*d.lng*m,this.R*Math.log((1+F)/(1-F))/2)},unproject:function(d){var m=180/Math.PI;return new re((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*m,d.x*m/this.R)},bounds:function(){var d=Be*Math.PI;return new ee([-d,-d],[d,d])}()};function tt(d,m,E,O){if(A(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=m,this._c=E,this._d=O}tt.prototype={transform:function(d,m){return this._transform(d.clone(),m)},_transform:function(d,m){return m=m||1,d.x=m*(this._a*d.x+this._b),d.y=m*(this._c*d.y+this._d),d},untransform:function(d,m){return m=m||1,new V((d.x/m-this._b)/this._a,(d.y/m-this._d)/this._c)}};function Fe(d,m,E,O){return new tt(d,m,E,O)}var pt=i({},Te,{code:"EPSG:3857",projection:et,transformation:function(){var d=.5/(Math.PI*et.R);return Fe(d,.5,-d,.5)}()}),mt=i({},pt,{code:"EPSG:900913"});function an(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Pt(d,m){var E="",O,F,H,J,ae,fe;for(O=0,H=d.length;O<H;O++){for(ae=d[O],F=0,J=ae.length;F<J;F++)fe=ae[F],E+=(F?"L":"M")+fe.x+" "+fe.y;E+=m?he.svg?"z":"x":""}return E||"M0 0"}var An=document.documentElement.style,Fn="ActiveXObject"in window,fn=Fn&&!document.addEventListener,mr="msLaunchUri"in navigator&&!("documentMode"in document),Jt=ge("webkit"),se=ge("android"),xe=ge("android 2")||ge("android 3"),Ce=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Me=se&&ge("Google")&&Ce<537&&!("AudioNode"in window),ot=!!window.opera,Ye=!mr&&ge("chrome"),yt=ge("gecko")&&!Jt&&!ot&&!Fn,Mt=!Ye&&ge("safari"),gr=ge("phantom"),lr="OTransition"in An,Ko=navigator.platform.indexOf("Win")===0,$n=Fn&&"transition"in An,wi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xe,zi="MozPerspective"in An,Oi=!window.L_DISABLE_3D&&($n||wi||zi)&&!lr&&!gr,Vi=typeof orientation<"u"||ge("mobile"),_e=Vi&&Jt,Vt=Vi&&wi,cn=!window.PointerEvent&&window.MSPointerEvent,ur=!!(window.PointerEvent||cn),Xt="ontouchstart"in window||!!window.TouchEvent,Cn=!window.L_NO_TOUCH&&(Xt||ur),Un=Vi&&ot,Jr=Vi&&yt,wn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,dr=function(){var d=!1;try{var m=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",h,m),window.removeEventListener("testPassiveEventSupport",h,m)}catch{}return d}(),Di=function(){return!!document.createElement("canvas").getContext}(),si=!!(document.createElementNS&&an("svg").createSVGRect),go=!!si&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Z=!si&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var m=d.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),te=navigator.platform.indexOf("Mac")===0,de=navigator.platform.indexOf("Linux")===0;function ge(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var he={ie:Fn,ielt9:fn,edge:mr,webkit:Jt,android:se,android23:xe,androidStock:Me,opera:ot,chrome:Ye,gecko:yt,safari:Mt,phantom:gr,opera12:lr,win:Ko,ie3d:$n,webkit3d:wi,gecko3d:zi,any3d:Oi,mobile:Vi,mobileWebkit:_e,mobileWebkit3d:Vt,msPointer:cn,pointer:ur,touch:Cn,touchNative:Xt,mobileOpera:Un,mobileGecko:Jr,retina:wn,passiveEvents:dr,canvas:Di,svg:si,vml:Z,inlineSvg:go,mac:te,linux:de},Qe=he.msPointer?"MSPointerDown":"pointerdown",ht=he.msPointer?"MSPointerMove":"pointermove",je=he.msPointer?"MSPointerUp":"pointerup",ze=he.msPointer?"MSPointerCancel":"pointercancel",$e={touchstart:Qe,touchmove:ht,touchend:je,touchcancel:ze},nt={touchstart:ft,touchmove:Lt,touchend:Lt,touchcancel:Lt},Pe={},Ze=!1;function Et(d,m,E){return m==="touchstart"&&yo(),nt[m]?(E=nt[m].bind(this,E),d.addEventListener($e[m],E,!1),E):(console.warn("wrong event specified:",m),h)}function jt(d,m,E){if(!$e[m]){console.warn("wrong event specified:",m);return}d.removeEventListener($e[m],E,!1)}function It(d){Pe[d.pointerId]=d}function bn(d){Pe[d.pointerId]&&(Pe[d.pointerId]=d)}function Hi(d){delete Pe[d.pointerId]}function yo(){Ze||(document.addEventListener(Qe,It,!0),document.addEventListener(ht,bn,!0),document.addEventListener(je,Hi,!0),document.addEventListener(ze,Hi,!0),Ze=!0)}function Lt(d,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var E in Pe)m.touches.push(Pe[E]);m.changedTouches=[m],d(m)}}function ft(d,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Ei(m),Lt(d,m)}function ln(d){var m={},E,O;for(O in d)E=d[O],m[O]=E&&E.bind?E.bind(d):E;return d=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Tn=200;function Nn(d,m){d.addEventListener("dblclick",m);var E=0,O;function F(H){if(H.detail!==1){O=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var J=Pd(H);if(!(J.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!J.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var ae=Date.now();ae-E<=Tn?(O++,O===2&&m(ln(H))):O=1,E=ae}}}return d.addEventListener("click",F),{dblclick:m,simDblclick:F}}function oi(d,m){d.removeEventListener("dblclick",m.dblclick),d.removeEventListener("click",m.simDblclick)}var yr=eu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),St=eu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pn=St==="webkitTransition"||St==="OTransition"?St+"End":"transitionend";function bi(d){return typeof d=="string"?document.getElementById(d):d}function ai(d,m){var E=d.style[m]||d.currentStyle&&d.currentStyle[m];if((!E||E==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(d,null);E=O?O[m]:null}return E==="auto"?null:E}function ut(d,m,E){var O=document.createElement(d);return O.className=m||"",E&&E.appendChild(O),O}function rn(d){var m=d.parentNode;m&&m.removeChild(d)}function vo(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function ic(d){var m=d.parentNode;m&&m.lastChild!==d&&m.appendChild(d)}function Xl(d){var m=d.parentNode;m&&m.firstChild!==d&&m.insertBefore(d,m.firstChild)}function Rw(d,m){if(d.classList!==void 0)return d.classList.contains(m);var E=og(d);return E.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(E)}function Yt(d,m){if(d.classList!==void 0)for(var E=g(m),O=0,F=E.length;O<F;O++)d.classList.add(E[O]);else if(!Rw(d,m)){var H=og(d);sg(d,(H?H+" ":"")+m)}}function Mr(d,m){d.classList!==void 0?d.classList.remove(m):sg(d,p((" "+og(d)+" ").replace(" "+m+" "," ")))}function sg(d,m){d.className.baseVal===void 0?d.className=m:d.className.baseVal=m}function og(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function _i(d,m){"opacity"in d.style?d.style.opacity=m:"filter"in d.style&&sc(d,m)}function sc(d,m){var E=!1,O="DXImageTransform.Microsoft.Alpha";try{E=d.filters.item(O)}catch{if(m===1)return}m=Math.round(m*100),E?(E.Enabled=m!==100,E.Opacity=m):d.style.filter+=" progid:"+O+"(opacity="+m+")"}function eu(d){for(var m=document.documentElement.style,E=0;E<d.length;E++)if(d[E]in m)return d[E];return!1}function ba(d,m,E){var O=m||new V(0,0);d.style[yr]=(he.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(E?" scale("+E+")":"")}function Hr(d,m){d._leaflet_pos=m,he.any3d?ba(d,m):(d.style.left=m.x+"px",d.style.top=m.y+"px")}function xn(d){return d._leaflet_pos||new V(0,0)}var Yc,oc,tu;if("onselectstart"in document)Yc=function(){Ut(window,"selectstart",Ei)},oc=function(){nr(window,"selectstart",Ei)};else{var kf=eu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yc=function(){if(kf){var d=document.documentElement.style;tu=d[kf],d[kf]="none"}},oc=function(){kf&&(document.documentElement.style[kf]=tu,tu=void 0)}}function ag(){Ut(window,"dragstart",Ei)}function kw(){nr(window,"dragstart",Ei)}var cg,Mw;function Lw(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Qc(),cg=d,Mw=d.style.outlineStyle,d.style.outlineStyle="none",Ut(window,"keydown",Qc))}function Qc(){cg&&(cg.style.outlineStyle=Mw,cg=void 0,Mw=void 0,nr(window,"keydown",Qc))}function ac(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function lg(d){var m=d.getBoundingClientRect();return{x:m.width/d.offsetWidth||1,y:m.height/d.offsetHeight||1,boundingClientRect:m}}var cA={__proto__:null,TRANSFORM:yr,TRANSITION:St,TRANSITION_END:pn,get:bi,getStyle:ai,create:ut,remove:rn,empty:vo,toFront:ic,toBack:Xl,hasClass:Rw,addClass:Yt,removeClass:Mr,setClass:sg,getClass:og,setOpacity:_i,testProp:eu,setTransform:ba,setPosition:Hr,getPosition:xn,get disableTextSelection(){return Yc},get enableTextSelection(){return oc},disableImageDrag:ag,enableImageDrag:kw,preventOutline:Lw,restoreOutline:Qc,getSizedParentNode:ac,getScale:lg};function Ut(d,m,E,O){if(m&&typeof m=="object")for(var F in m)_a(d,F,m[F],E);else{m=g(m);for(var H=0,J=m.length;H<J;H++)_a(d,m[H],E,O)}return this}var ds="_leaflet_events";function nr(d,m,E,O){if(arguments.length===1)lA(d),delete d[ds];else if(m&&typeof m=="object")for(var F in m)$w(d,F,m[F],E);else if(m=g(m),arguments.length===2)lA(d,function(ae){return I(m,ae)!==-1});else for(var H=0,J=m.length;H<J;H++)$w(d,m[H],E,O);return this}function lA(d,m){for(var E in d[ds]){var O=E.split(/\d/)[0];(!m||m(O))&&$w(d,O,null,null,E)}}var Fw={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _a(d,m,E,O){var F=m+c(E)+(O?"_"+c(O):"");if(d[ds]&&d[ds][F])return this;var H=function(ae){return E.call(O||d,ae||window.event)},J=H;!he.touchNative&&he.pointer&&m.indexOf("touch")===0?H=Et(d,m,H):he.touch&&m==="dblclick"?H=Nn(d,H):"addEventListener"in d?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?d.addEventListener(Fw[m]||m,H,he.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(H=function(ae){ae=ae||window.event,Bw(d,ae)&&J(ae)},d.addEventListener(Fw[m],H,!1)):d.addEventListener(m,J,!1):d.attachEvent("on"+m,H),d[ds]=d[ds]||{},d[ds][F]=H}function $w(d,m,E,O,F){F=F||m+c(E)+(O?"_"+c(O):"");var H=d[ds]&&d[ds][F];if(!H)return this;!he.touchNative&&he.pointer&&m.indexOf("touch")===0?jt(d,m,H):he.touch&&m==="dblclick"?oi(d,H):"removeEventListener"in d?d.removeEventListener(Fw[m]||m,H,!1):d.detachEvent("on"+m,H),d[ds][F]=null}function nu(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function xd(d){return _a(d,"wheel",nu),this}function Zc(d){return Ut(d,"mousedown touchstart dblclick contextmenu",nu),d._leaflet_disable_click=!0,this}function Ei(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Go(d){return Ei(d),nu(d),this}function Pd(d){if(d.composedPath)return d.composedPath();for(var m=[],E=d.target;E;)m.push(E),E=E.parentNode;return m}function jw(d,m){if(!m)return new V(d.clientX,d.clientY);var E=lg(m),O=E.boundingClientRect;return new V((d.clientX-O.left)/E.x-m.clientLeft,(d.clientY-O.top)/E.y-m.clientTop)}var Uw=he.linux&&he.chrome?window.devicePixelRatio:he.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tr(d){return he.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Uw:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Bw(d,m){var E=m.relatedTarget;if(!E)return!0;try{for(;E&&E!==d;)E=E.parentNode}catch{return!1}return E!==d}var dD={__proto__:null,on:Ut,off:nr,stopPropagation:nu,disableScrollPropagation:xd,disableClickPropagation:Zc,preventDefault:Ei,stop:Go,getPropagationPath:Pd,getMousePosition:jw,getWheelDelta:Tr,isExternalTarget:Bw,addListener:Ut,removeListener:nr},zw=Y.extend({run:function(d,m,E,O){this.stop(),this._el=d,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=xn(d),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(d){var m=+new Date-this._startTime,E=this._duration*1e3;m<E?this._runFrame(this._easeOut(m/E),d):(this._runFrame(1),this._complete())},_runFrame:function(d,m){var E=this._startPos.add(this._offset.multiplyBy(d));m&&E._round(),Hr(this._el,E),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),mn=Y.extend({options:{crs:pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,m){m=y(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(oe(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=St&&he.any3d&&!he.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,pn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,m,E){if(m=m===void 0?this._zoom:this._limitZoom(m),d=this._limitCenter(oe(d),m,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var O=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,m,E.zoom):this._tryAnimatedPan(d,E.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(d,m,E.pan&&E.pan.noMoveStart),this},setZoom:function(d,m){return this._loaded?this.setView(this.getCenter(),d,{zoom:m}):(this._zoom=d,this)},zoomIn:function(d,m){return d=d||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,m)},zoomOut:function(d,m){return d=d||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,m)},setZoomAround:function(d,m,E){var O=this.getZoomScale(m),F=this.getSize().divideBy(2),H=d instanceof V?d:this.latLngToContainerPoint(d),J=H.subtract(F).multiplyBy(1-1/O),ae=this.containerPointToLatLng(F.add(J));return this.setView(ae,m,{zoom:E})},_getBoundsCenterZoom:function(d,m){m=m||{},d=d.getBounds?d.getBounds():ue(d);var E=G(m.paddingTopLeft||m.padding||[0,0]),O=G(m.paddingBottomRight||m.padding||[0,0]),F=this.getBoundsZoom(d,!1,E.add(O));if(F=typeof m.maxZoom=="number"?Math.min(m.maxZoom,F):F,F===1/0)return{center:d.getCenter(),zoom:F};var H=O.subtract(E).divideBy(2),J=this.project(d.getSouthWest(),F),ae=this.project(d.getNorthEast(),F),fe=this.unproject(J.add(ae).divideBy(2).add(H),F);return{center:fe,zoom:F}},fitBounds:function(d,m){if(d=ue(d),!d.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(d,m);return this.setView(E.center,E.zoom,m)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,m){return this.setView(d,this._zoom,{pan:m})},panBy:function(d,m){if(d=G(d).round(),m=m||{},!d.x&&!d.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Yt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,E,m.duration||.25,m.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,m,E){if(E=E||{},E.animate===!1||!he.any3d)return this.setView(d,m,E);this._stop();var O=this.project(this.getCenter()),F=this.project(d),H=this.getSize(),J=this._zoom;d=oe(d),m=m===void 0?J:m;var ae=Math.max(H.x,H.y),fe=ae*this.getZoomScale(J,m),be=F.distanceTo(O)||1,qe=1.42,Ot=qe*qe;function un(Ai){var IA=Ai?-1:1,Tle=Ai?fe:ae,Sle=fe*fe-ae*ae+IA*Ot*Ot*be*be,Ile=2*Tle*Ot*be,gD=Sle/Ile,c4=Math.sqrt(gD*gD+1)-gD,xle=c4<1e-9?-18:Math.log(c4);return xle}function Xs(Ai){return(Math.exp(Ai)-Math.exp(-Ai))/2}function qi(Ai){return(Math.exp(Ai)+Math.exp(-Ai))/2}function Ca(Ai){return Xs(Ai)/qi(Ai)}var wo=un(0);function vg(Ai){return ae*(qi(wo)/qi(wo+qe*Ai))}function _le(Ai){return ae*(qi(wo)*Ca(wo+qe*Ai)-Xs(wo))/Ot}function Ele(Ai){return 1-Math.pow(1-Ai,1.5)}var Ale=Date.now(),o4=(un(1)-wo)/qe,Cle=E.duration?1e3*E.duration:1e3*o4*.8;function a4(){var Ai=(Date.now()-Ale)/Cle,IA=Ele(Ai)*o4;Ai<=1?(this._flyToFrame=R(a4,this),this._move(this.unproject(O.add(F.subtract(O).multiplyBy(_le(IA)/be)),J),this.getScaleZoom(ae/vg(IA),J),{flyTo:!0})):this._move(d,m)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),a4.call(this),this},flyToBounds:function(d,m){var E=this._getBoundsCenterZoom(d,m);return this.flyTo(E.center,E.zoom,m)},setMaxBounds:function(d){return d=ue(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var m=this.options.minZoom;return this.options.minZoom=d,this._loaded&&m!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var m=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&m!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,m){this._enforcingBounds=!0;var E=this.getCenter(),O=this._limitCenter(E,this._zoom,ue(d));return E.equals(O)||this.panTo(O,m),this._enforcingBounds=!1,this},panInside:function(d,m){m=m||{};var E=G(m.paddingTopLeft||m.padding||[0,0]),O=G(m.paddingBottomRight||m.padding||[0,0]),F=this.project(this.getCenter()),H=this.project(d),J=this.getPixelBounds(),ae=ne([J.min.add(E),J.max.subtract(O)]),fe=ae.getSize();if(!ae.contains(H)){this._enforcingBounds=!0;var be=H.subtract(ae.getCenter()),qe=ae.extend(H).getSize().subtract(fe);F.x+=be.x<0?-qe.x:qe.x,F.y+=be.y<0?-qe.y:qe.y,this.panTo(this.unproject(F),m),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),O=m.divideBy(2).round(),F=E.divideBy(2).round(),H=O.subtract(F);return!H.x&&!H.y?this:(d.animate&&d.pan?this.panBy(H):(d.pan&&this._rawPanBy(H),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,E,d):navigator.geolocation.getCurrentPosition(m,E,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var m=d.code,E=d.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var m=d.coords.latitude,E=d.coords.longitude,O=new re(m,E),F=O.toBounds(d.coords.accuracy*2),H=this._locateOptions;if(H.setView){var J=this.getBoundsZoom(F);this.setView(O,H.maxZoom?Math.min(J,H.maxZoom):J)}var ae={latlng:O,bounds:F,timestamp:d.timestamp};for(var fe in d.coords)typeof d.coords[fe]=="number"&&(ae[fe]=d.coords[fe]);this.fire("locationfound",ae)}},addHandler:function(d,m){if(!m)return this;var E=this[d]=new m(this);return this._handlers.push(E),this.options[d]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)rn(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,m){var E="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),O=ut("div",E,m||this._mapPane);return d&&(this._panes[d]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),m=this.unproject(d.getBottomLeft()),E=this.unproject(d.getTopRight());return new le(m,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,m,E){d=ue(d),E=G(E||[0,0]);var O=this.getZoom()||0,F=this.getMinZoom(),H=this.getMaxZoom(),J=d.getNorthWest(),ae=d.getSouthEast(),fe=this.getSize().subtract(E),be=ne(this.project(ae,O),this.project(J,O)).getSize(),qe=he.any3d?this.options.zoomSnap:1,Ot=fe.x/be.x,un=fe.y/be.y,Xs=m?Math.max(Ot,un):Math.min(Ot,un);return O=this.getScaleZoom(Xs,O),qe&&(O=Math.round(O/(qe/100))*(qe/100),O=m?Math.ceil(O/qe)*qe:Math.floor(O/qe)*qe),Math.max(F,Math.min(H,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,m){var E=this._getTopLeftPoint(d,m);return new ee(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,m){var E=this.options.crs;return m=m===void 0?this._zoom:m,E.scale(d)/E.scale(m)},getScaleZoom:function(d,m){var E=this.options.crs;m=m===void 0?this._zoom:m;var O=E.zoom(d*E.scale(m));return isNaN(O)?1/0:O},project:function(d,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(oe(d),m)},unproject:function(d,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(G(d),m)},layerPointToLatLng:function(d){var m=G(d).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(d){var m=this.project(oe(d))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(oe(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(ue(d))},distance:function(d,m){return this.options.crs.distance(oe(d),oe(m))},containerPointToLayerPoint:function(d){return G(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return G(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var m=this.containerPointToLayerPoint(G(d));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(d)))},mouseEventToContainerPoint:function(d){return jw(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var m=this._container=bi(d);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(m,"scroll",this._onScroll,this),this._containerId=c(m)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&he.any3d,Yt(d,"leaflet-container"+(he.touch?" leaflet-touch":"")+(he.retina?" leaflet-retina":"")+(he.ielt9?" leaflet-oldie":"")+(he.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=ai(d,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Hr(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Yt(d.markerPane,"leaflet-zoom-hide"),Yt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,m,E){Hr(this._mapPane,new V(0,0));var O=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var F=this._zoom!==m;this._moveStart(F,E)._move(d,m)._moveEnd(F),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(d,m){return d&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(d,m,E,O){m===void 0&&(m=this._zoom);var F=this._zoom!==m;return this._zoom=m,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),O?E&&E.pinch&&this.fire("zoom",E):((F||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Hr(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var m=d?nr:Ut;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),he.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,m){for(var E=[],O,F=m==="mouseout"||m==="mouseover",H=d.target||d.srcElement,J=!1;H;){if(O=this._targets[c(H)],O&&(m==="click"||m==="preclick")&&this._draggableMoved(O)){J=!0;break}if(O&&O.listens(m,!0)&&(F&&!Bw(H,d)||(E.push(O),F))||H===this._container)break;H=H.parentNode}return!E.length&&!J&&!F&&this.listens(m,!0)&&(E=[this]),E},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var m=d.target||d.srcElement;if(!(!this._loaded||m._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(m))){var E=d.type;E==="mousedown"&&Lw(m),this._fireDOMEvent(d,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,m,E){if(d.type==="click"){var O=i({},d);O.type="preclick",this._fireDOMEvent(O,O.type,E)}var F=this._findEventTargets(d,m);if(E){for(var H=[],J=0;J<E.length;J++)E[J].listens(m,!0)&&H.push(E[J]);F=H.concat(F)}if(F.length){m==="contextmenu"&&Ei(d);var ae=F[0],fe={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var be=ae.getLatLng&&(!ae._radius||ae._radius<=10);fe.containerPoint=be?this.latLngToContainerPoint(ae.getLatLng()):this.mouseEventToContainerPoint(d),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=be?ae.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(J=0;J<F.length;J++)if(F[J].fire(m,fe,!0),fe.originalEvent._stopped||F[J].options.bubblingMouseEvents===!1&&I(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,m=this._handlers.length;d<m;d++)this._handlers[d].disable()},whenReady:function(d,m){return this._loaded?d.call(m||this,{target:this}):this.on("load",d,m),this},_getMapPanePos:function(){return xn(this._mapPane)||new V(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,m){var E=d&&m!==void 0?this._getNewPixelOrigin(d,m):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,m){var E=this.getSize()._divideBy(2);return this.project(d,m)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,m,E){var O=this._getNewPixelOrigin(E,m);return this.project(d,m)._subtract(O)},_latLngBoundsToNewLayerBounds:function(d,m,E){var O=this._getNewPixelOrigin(E,m);return ne([this.project(d.getSouthWest(),m)._subtract(O),this.project(d.getNorthWest(),m)._subtract(O),this.project(d.getSouthEast(),m)._subtract(O),this.project(d.getNorthEast(),m)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,m,E){if(!E)return d;var O=this.project(d,m),F=this.getSize().divideBy(2),H=new ee(O.subtract(F),O.add(F)),J=this._getBoundsOffset(H,E,m);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?d:this.unproject(O.add(J),m)},_limitOffset:function(d,m){if(!m)return d;var E=this.getPixelBounds(),O=new ee(E.min.add(d),E.max.add(d));return d.add(this._getBoundsOffset(O,m))},_getBoundsOffset:function(d,m,E){var O=ne(this.project(m.getNorthEast(),E),this.project(m.getSouthWest(),E)),F=O.min.subtract(d.min),H=O.max.subtract(d.max),J=this._rebound(F.x,-H.x),ae=this._rebound(F.y,-H.y);return new V(J,ae)},_rebound:function(d,m){return d+m>0?Math.round(d-m)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(m))},_limitZoom:function(d){var m=this.getMinZoom(),E=this.getMaxZoom(),O=he.any3d?this.options.zoomSnap:1;return O&&(d=Math.round(d/O)*O),Math.max(m,Math.min(E,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Mr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,m){var E=this._getCenterOffset(d)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,m),!0)},_createAnimProxy:function(){var d=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(m){var E=yr,O=this._proxy.style[E];ba(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),O===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),m=this.getZoom();ba(this._proxy,this.project(d,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,m,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(m),F=this._getCenterOffset(d)._divideBy(1-1/O);return E.animate!==!0&&!this.getSize().contains(F)?!1:(R(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(d,m,!0)},this),!0)},_animateZoom:function(d,m,E,O){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=m,Yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:m,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Mr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function uA(d,m){return new mn(d,m)}var Ms=K.extend({options:{position:"topright"},initialize:function(d){y(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var m=this._map;return m&&m.removeControl(this),this.options.position=d,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var m=this._container=this.onAdd(d),E=this.getPosition(),O=d._controlCorners[E];return Yt(m,"leaflet-control"),E.indexOf("bottom")!==-1?O.insertBefore(m,O.firstChild):O.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Od=function(d){return new Ms(d)};mn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},m="leaflet-",E=this._controlContainer=ut("div",m+"control-container",this._container);function O(F,H){var J=m+F+" "+m+H;d[F+H]=ut("div",J,E)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)rn(this._controlCorners[d]);rn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ea=Ms.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,m,E,O){return E<O?-1:O<E?1:0}},initialize:function(d,m,E){y(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in d)this._addLayer(d[O],O);for(O in m)this._addLayer(m[O],O,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Ms.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,m){return this._addLayer(d,m),this._map?this._update():this},addOverlay:function(d,m){return this._addLayer(d,m,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var m=this._getLayer(c(d));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(Yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Mr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Mr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",m=this._container=ut("div",d),E=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Zc(m),xd(m);var O=this._section=ut("section",d+"-list");E&&(this._map.on("click",this.collapse,this),Ut(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var F=this._layersLink=ut("a",d+"-toggle",m);F.href="#",F.title="Layers",F.setAttribute("role","button"),Ut(F,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){Ei(H),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=ut("div",d+"-base",O),this._separator=ut("div",d+"-separator",O),this._overlaysList=ut("div",d+"-overlays",O),m.appendChild(O)},_getLayer:function(d){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&c(this._layers[m].layer)===d)return this._layers[m]},_addLayer:function(d,m,E){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:m,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(O,F){return this.options.sortFunction(O.layer,F.layer,O.name,F.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vo(this._baseLayersList),vo(this._overlaysList),this._layerControlInputs=[];var d,m,E,O,F=0;for(E=0;E<this._layers.length;E++)O=this._layers[E],this._addItem(O),m=m||O.overlay,d=d||!O.overlay,F+=O.overlay?0:1;return this.options.hideSingleBase&&(d=d&&F>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=m&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var m=this._getLayer(c(d.target)),E=m.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;E&&this._map.fire(E,m)},_createRadioElement:function(d,m){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(m?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=E,O.firstChild},_addItem:function(d){var m=document.createElement("label"),E=this._map.hasLayer(d.layer),O;d.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=E):O=this._createRadioElement("leaflet-base-layers_"+c(this),E),this._layerControlInputs.push(O),O.layerId=c(d.layer),Ut(O,"click",this._onInputClick,this);var F=document.createElement("span");F.innerHTML=" "+d.name;var H=document.createElement("span");m.appendChild(H),H.appendChild(O),H.appendChild(F);var J=d.overlay?this._overlaysList:this._baseLayersList;return J.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,m,E,O=[],F=[];this._handlingClick=!0;for(var H=d.length-1;H>=0;H--)m=d[H],E=this._getLayer(m.layerId).layer,m.checked?O.push(E):m.checked||F.push(E);for(H=0;H<F.length;H++)this._map.hasLayer(F[H])&&this._map.removeLayer(F[H]);for(H=0;H<O.length;H++)this._map.hasLayer(O[H])||this._map.addLayer(O[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,m,E,O=this._map.getZoom(),F=d.length-1;F>=0;F--)m=d[F],E=this._getLayer(m.layerId).layer,m.disabled=E.options.minZoom!==void 0&&O<E.options.minZoom||E.options.maxZoom!==void 0&&O>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Ut(d,"click",Ei),this.expand();var m=this;setTimeout(function(){nr(d,"click",Ei),m._preventClick=!1})}}),dA=function(d,m,E){return new Ea(d,m,E)},Vw=Ms.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var m="leaflet-control-zoom",E=ut("div",m+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,m+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,m+"-out",E,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,m,E,O,F){var H=ut("a",E,O);return H.innerHTML=d,H.href="#",H.title=m,H.setAttribute("role","button"),H.setAttribute("aria-label",m),Zc(H),Ut(H,"click",Go),Ut(H,"click",F,this),Ut(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var d=this._map,m="leaflet-disabled";Mr(this._zoomInButton,m),Mr(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(Yt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(Yt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});mn.mergeOptions({zoomControl:!0}),mn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vw,this.addControl(this.zoomControl))});var Mf=function(d){return new Vw(d)},Hw=Ms.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var m="leaflet-control-scale",E=ut("div",m),O=this.options;return this._addScales(O,m+"-line",E),d.on(O.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),E},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,m,E){d.metric&&(this._mScale=ut("div",m,E)),d.imperial&&(this._iScale=ut("div",m,E))},_update:function(){var d=this._map,m=d.getSize().y/2,E=d.distance(d.containerPointToLatLng([0,m]),d.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(E)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var m=this._getRoundNum(d),E=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,E,m/d)},_updateImperial:function(d){var m=d*3.2808399,E,O,F;m>5280?(E=m/5280,O=this._getRoundNum(E),this._updateScale(this._iScale,O+" mi",O/E)):(F=this._getRoundNum(m),this._updateScale(this._iScale,F+" ft",F/m))},_updateScale:function(d,m,E){d.style.width=Math.round(this.options.maxWidth*E)+"px",d.innerHTML=m},_getRoundNum:function(d){var m=Math.pow(10,(Math.floor(d)+"").length-1),E=d/m;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,m*E}}),Ww=function(d){return new Hw(d)},ug='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',dg=Ms.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(he.inlineSvg?ug+" ":"")+"Leaflet</a>"},initialize:function(d){y(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Zc(this._container);for(var m in d._layers)d._layers[m].getAttribution&&this.addAttribution(d._layers[m].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var m in this._attributions)this._attributions[m]&&d.push(m);var E=[];this.options.prefix&&E.push(this.options.prefix),d.length&&E.push(d.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});mn.mergeOptions({attributionControl:!0}),mn.addInitHook(function(){this.options.attributionControl&&new dg().addTo(this)});var hg=function(d){return new dg(d)};Ms.Layers=Ea,Ms.Zoom=Vw,Ms.Scale=Hw,Ms.Attribution=dg,Od.layers=dA,Od.zoom=Mf,Od.scale=Ww,Od.attribution=hg;var Aa=K.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Aa.addTo=function(d,m){return d.addHandler(m,this),this};var hA={Events:z},Dd=he.touch?"touchstart mousedown":"mousedown",cc=Y.extend({options:{clickTolerance:3},initialize:function(d,m,E,O){y(this,O),this._element=d,this._dragStartTarget=m||d,this._preventOutline=E},enable:function(){this._enabled||(Ut(this._dragStartTarget,Dd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cc._dragging===this&&this.finishDrag(!0),nr(this._dragStartTarget,Dd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Rw(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){cc._dragging===this&&this.finishDrag();return}if(!(cc._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(cc._dragging=this,this._preventOutline&&Lw(this._element),ag(),Yc(),!this._moving)){this.fire("down");var m=d.touches?d.touches[0]:d,E=ac(this._element);this._startPoint=new V(m.clientX,m.clientY),this._startPos=xn(this._element),this._parentScale=lg(E);var O=d.type==="mousedown";Ut(document,O?"mousemove":"touchmove",this._onMove,this),Ut(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var m=d.touches&&d.touches.length===1?d.touches[0]:d,E=new V(m.clientX,m.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,Ei(d),this._moved||(this.fire("dragstart"),this._moved=!0,Yt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Hr(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Mr(document.body,"leaflet-dragging"),this._lastTarget&&(Mr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nr(document,"mousemove touchmove",this._onMove,this),nr(document,"mouseup touchend touchcancel",this._onUp,this),kw(),oc();var m=this._moved&&this._moving;this._moving=!1,cc._dragging=!1,m&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function qw(d,m,E){var O,F=[1,4,2,8],H,J,ae,fe,be,qe,Ot,un;for(H=0,qe=d.length;H<qe;H++)d[H]._code=ci(d[H],m);for(ae=0;ae<4;ae++){for(Ot=F[ae],O=[],H=0,qe=d.length,J=qe-1;H<qe;J=H++)fe=d[H],be=d[J],fe._code&Ot?be._code&Ot||(un=iu(be,fe,Ot,m,E),un._code=ci(un,m),O.push(un)):(be._code&Ot&&(un=iu(be,fe,Ot,m,E),un._code=ci(un,m),O.push(un)),O.push(fe));d=O}return d}function fg(d,m){var E,O,F,H,J,ae,fe,be,qe;if(!d||d.length===0)throw new Error("latlngs not passed");Ni(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ot=oe([0,0]),un=ue(d),Xs=un.getNorthWest().distanceTo(un.getSouthWest())*un.getNorthEast().distanceTo(un.getNorthWest());Xs<1700&&(Ot=Lf(d));var qi=d.length,Ca=[];for(E=0;E<qi;E++){var wo=oe(d[E]);Ca.push(m.project(oe([wo.lat-Ot.lat,wo.lng-Ot.lng])))}for(ae=fe=be=0,E=0,O=qi-1;E<qi;O=E++)F=Ca[E],H=Ca[O],J=F.y*H.x-H.y*F.x,fe+=(F.x+H.x)*J,be+=(F.y+H.y)*J,ae+=J*3;ae===0?qe=Ca[0]:qe=[fe/ae,be/ae];var vg=m.unproject(G(qe));return oe([vg.lat+Ot.lat,vg.lng+Ot.lng])}function Lf(d){for(var m=0,E=0,O=0,F=0;F<d.length;F++){var H=oe(d[F]);m+=H.lat,E+=H.lng,O++}return oe([m/O,E/O])}var fA={__proto__:null,clipPolygon:qw,polygonCenter:fg,centroid:Lf};function Ff(d,m){if(!m||!d.length)return d.slice();var E=m*m;return d=mA(d,E),d=ru(d,E),d}function Kw(d,m,E){return Math.sqrt(Nd(d,m,E,!0))}function pA(d,m,E){return Nd(d,m,E)}function ru(d,m){var E=d.length,O=typeof Uint8Array!=void 0+""?Uint8Array:Array,F=new O(E);F[0]=F[E-1]=1,pg(d,F,m,0,E-1);var H,J=[];for(H=0;H<E;H++)F[H]&&J.push(d[H]);return J}function pg(d,m,E,O,F){var H=0,J,ae,fe;for(ae=O+1;ae<=F-1;ae++)fe=Nd(d[ae],d[O],d[F],!0),fe>H&&(J=ae,H=fe);H>E&&(m[J]=1,pg(d,m,E,O,J),pg(d,m,E,J,F))}function mA(d,m){for(var E=[d[0]],O=1,F=0,H=d.length;O<H;O++)gA(d[O],d[F])>m&&(E.push(d[O]),F=O);return F<H-1&&E.push(d[H-1]),E}var Gw;function Yw(d,m,E,O,F){var H=O?Gw:ci(d,E),J=ci(m,E),ae,fe,be;for(Gw=J;;){if(!(H|J))return[d,m];if(H&J)return!1;ae=H||J,fe=iu(d,m,ae,E,F),be=ci(fe,E),ae===H?(d=fe,H=be):(m=fe,J=be)}}function iu(d,m,E,O,F){var H=m.x-d.x,J=m.y-d.y,ae=O.min,fe=O.max,be,qe;return E&8?(be=d.x+H*(fe.y-d.y)/J,qe=fe.y):E&4?(be=d.x+H*(ae.y-d.y)/J,qe=ae.y):E&2?(be=fe.x,qe=d.y+J*(fe.x-d.x)/H):E&1&&(be=ae.x,qe=d.y+J*(ae.x-d.x)/H),new V(be,qe,F)}function ci(d,m){var E=0;return d.x<m.min.x?E|=1:d.x>m.max.x&&(E|=2),d.y<m.min.y?E|=4:d.y>m.max.y&&(E|=8),E}function gA(d,m){var E=m.x-d.x,O=m.y-d.y;return E*E+O*O}function Nd(d,m,E,O){var F=m.x,H=m.y,J=E.x-F,ae=E.y-H,fe=J*J+ae*ae,be;return fe>0&&(be=((d.x-F)*J+(d.y-H)*ae)/fe,be>1?(F=E.x,H=E.y):be>0&&(F+=J*be,H+=ae*be)),J=d.x-F,ae=d.y-H,O?J*J+ae*ae:new V(F,H)}function Ni(d){return!A(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function w(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ni(d)}function k(d,m){var E,O,F,H,J,ae,fe,be;if(!d||d.length===0)throw new Error("latlngs not passed");Ni(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var qe=oe([0,0]),Ot=ue(d),un=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());un<1700&&(qe=Lf(d));var Xs=d.length,qi=[];for(E=0;E<Xs;E++){var Ca=oe(d[E]);qi.push(m.project(oe([Ca.lat-qe.lat,Ca.lng-qe.lng])))}for(E=0,O=0;E<Xs-1;E++)O+=qi[E].distanceTo(qi[E+1])/2;if(O===0)be=qi[0];else for(E=0,H=0;E<Xs-1;E++)if(J=qi[E],ae=qi[E+1],F=J.distanceTo(ae),H+=F,H>O){fe=(H-O)/F,be=[ae.x-fe*(ae.x-J.x),ae.y-fe*(ae.y-J.y)];break}var wo=m.unproject(G(be));return oe([wo.lat+qe.lat,wo.lng+qe.lng])}var U={__proto__:null,simplify:Ff,pointToSegmentDistance:Kw,closestPointOnSegment:pA,clipSegment:Yw,_getEdgeIntersection:iu,_getBitCode:ci,_sqClosestPointOnSegment:Nd,isFlat:Ni,_flat:w,polylineCenter:k},W={project:function(d){return new V(d.lng,d.lat)},unproject:function(d){return new re(d.y,d.x)},bounds:new ee([-180,-90],[180,90])},ie={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var m=Math.PI/180,E=this.R,O=d.lat*m,F=this.R_MINOR/E,H=Math.sqrt(1-F*F),J=H*Math.sin(O),ae=Math.tan(Math.PI/4-O/2)/Math.pow((1-J)/(1+J),H/2);return O=-E*Math.log(Math.max(ae,1e-10)),new V(d.lng*m*E,O)},unproject:function(d){for(var m=180/Math.PI,E=this.R,O=this.R_MINOR/E,F=Math.sqrt(1-O*O),H=Math.exp(-d.y/E),J=Math.PI/2-2*Math.atan(H),ae=0,fe=.1,be;ae<15&&Math.abs(fe)>1e-7;ae++)be=F*Math.sin(J),be=Math.pow((1-be)/(1+be),F/2),fe=Math.PI/2-2*Math.atan(H*be)-J,J+=fe;return new re(J*m,d.x*m/E)}},pe={__proto__:null,LonLat:W,Mercator:ie,SphericalMercator:et},ke=i({},Te,{code:"EPSG:3395",projection:ie,transformation:function(){var d=.5/(Math.PI*ie.R);return Fe(d,.5,-d,.5)}()}),Bn=i({},Te,{code:"EPSG:4326",projection:W,transformation:Fe(1/180,1,-1/180,.5)}),Ri=i({},ye,{projection:W,transformation:Fe(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,m){var E=m.lng-d.lng,O=m.lat-d.lat;return Math.sqrt(E*E+O*O)},infinite:!0});ye.Earth=Te,ye.EPSG3395=ke,ye.EPSG3857=pt,ye.EPSG900913=mt,ye.EPSG4326=Bn,ye.Simple=Ri;var Ht=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var m=d.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var E=this.getEvents();m.on(E,this),this.once("remove",function(){m.off(E,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});mn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var m=c(d);return this._layers[m]?this:(this._layers[m]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var m=c(d);return this._layers[m]?(this._loaded&&d.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,m){for(var E in this._layers)d.call(m,this._layers[E]);return this},_addLayers:function(d){d=d?A(d)?d:[d]:[];for(var m=0,E=d.length;m<E;m++)this.addLayer(d[m])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var m=c(d);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,m=-1/0,E=this._getZoomSpan();for(var O in this._zoomBoundLayers){var F=this._zoomBoundLayers[O].options;d=F.minZoom===void 0?d:Math.min(d,F.minZoom),m=F.maxZoom===void 0?m:Math.max(m,F.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=d===1/0?void 0:d,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wr=Ht.extend({initialize:function(d,m){y(this,m),this._layers={};var E,O;if(d)for(E=0,O=d.length;E<O;E++)this.addLayer(d[E])},addLayer:function(d){var m=this.getLayerId(d);return this._layers[m]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var m=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(d){var m=typeof d=="number"?d:this.getLayerId(d);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var m=Array.prototype.slice.call(arguments,1),E,O;for(E in this._layers)O=this._layers[E],O[d]&&O[d].apply(O,m);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,m){for(var E in this._layers)d.call(m,this._layers[E]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),Wi=function(d,m){return new Wr(d,m)},Ls=Wr.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Wr.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Wr.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new le;for(var m in this._layers){var E=this._layers[m];d.extend(E.getBounds?E.getBounds():E.getLatLng())}return d}}),Yo=function(d,m){return new Ls(d,m)},lc=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){y(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,m){var E=this._getIconUrl(d);if(!E){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(E,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(O,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(d,m){var E=this.options,O=E[m+"Size"];typeof O=="number"&&(O=[O,O]);var F=G(O),H=G(m==="shadow"&&E.shadowAnchor||E.iconAnchor||F&&F.divideBy(2,!0));d.className="leaflet-marker-"+m+" "+(E.className||""),H&&(d.style.marginLeft=-H.x+"px",d.style.marginTop=-H.y+"px"),F&&(d.style.width=F.x+"px",d.style.height=F.y+"px")},_createImg:function(d,m){return m=m||document.createElement("img"),m.src=d,m},_getIconUrl:function(d){return he.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Qw(d){return new lc(d)}var Zw=lc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Zw.imagePath!="string"&&(Zw.imagePath=this._detectIconPath()),(this.options.imagePath||Zw.imagePath)+lc.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var m=function(E,O,F){var H=O.exec(E);return H&&H[F]};return d=m(d,/^url\((['"])?(.+)\1\)$/,2),d&&m(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ut("div","leaflet-default-icon-path",document.body),m=ai(d,"background-image")||ai(d,"backgroundImage");if(document.body.removeChild(d),m=this._stripUrl(m),m)return m;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),B5=Aa.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new cc(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Yt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Mr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var m=this._marker,E=m._map,O=this._marker.options.autoPanSpeed,F=this._marker.options.autoPanPadding,H=xn(m._icon),J=E.getPixelBounds(),ae=E.getPixelOrigin(),fe=ne(J.min._subtract(ae).add(F),J.max._subtract(ae).subtract(F));if(!fe.contains(H)){var be=G((Math.max(fe.max.x,H.x)-fe.max.x)/(J.max.x-fe.max.x)-(Math.min(fe.min.x,H.x)-fe.min.x)/(J.min.x-fe.min.x),(Math.max(fe.max.y,H.y)-fe.max.y)/(J.max.y-fe.max.y)-(Math.min(fe.min.y,H.y)-fe.min.y)/(J.min.y-fe.min.y)).multiplyBy(O);E.panBy(be,{animate:!1}),this._draggable._newPos._add(be),this._draggable._startPos._add(be),Hr(m._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=R(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,d)))},_onDrag:function(d){var m=this._marker,E=m._shadow,O=xn(m._icon),F=m._map.layerPointToLatLng(O);E&&Hr(E,O),m._latlng=F,d.latlng=F,d.oldLatLng=this._oldLatLng,m.fire("move",d).fire("drag",d)},_onDragEnd:function(d){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),yA=Ht.extend({options:{icon:new Zw,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,m){y(this,m),this._latlng=oe(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var m=this._latlng;return this._latlng=oe(d),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=d.icon.createIcon(this._icon),O=!1;E!==this._icon&&(this._icon&&this._removeIcon(),O=!0,d.title&&(E.title=d.title),E.tagName==="IMG"&&(E.alt=d.alt||"")),Yt(E,m),d.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(E,"focus",this._panOnFocus,this);var F=d.icon.createShadow(this._shadow),H=!1;F!==this._shadow&&(this._removeShadow(),H=!0),F&&(Yt(F,m),F.alt=""),this._shadow=F,d.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),F&&H&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nr(this._icon,"focus",this._panOnFocus,this),rn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rn(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Hr(this._icon,d),this._shadow&&Hr(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var m=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),B5)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new B5(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&_i(this._icon,d),this._shadow&&_i(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var m=this.options.icon.options,E=m.iconSize?G(m.iconSize):G(0,0),O=m.iconAnchor?G(m.iconAnchor):G(0,0);d.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:E.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function rle(d,m){return new yA(d,m)}var Rd=Ht.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return y(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vA=Rd.extend({options:{fill:!0,radius:10},initialize:function(d,m){y(this,m),this._latlng=oe(d),this._radius=this.options.radius},setLatLng:function(d){var m=this._latlng;return this._latlng=oe(d),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var m=d&&d.radius||this._radius;return Rd.prototype.setStyle.call(this,d),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,m=this._radiusY||d,E=this._clickTolerance(),O=[d+E,m+E];this._pxBounds=new ee(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ile(d,m){return new vA(d,m)}var hD=vA.extend({initialize:function(d,m,E){if(typeof m=="number"&&(m=i({},E,{radius:m})),y(this,m),this._latlng=oe(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Rd.prototype.setStyle,_project:function(){var d=this._latlng.lng,m=this._latlng.lat,E=this._map,O=E.options.crs;if(O.distance===Te.distance){var F=Math.PI/180,H=this._mRadius/Te.R/F,J=E.project([m+H,d]),ae=E.project([m-H,d]),fe=J.add(ae).divideBy(2),be=E.unproject(fe).lat,qe=Math.acos((Math.cos(H*F)-Math.sin(m*F)*Math.sin(be*F))/(Math.cos(m*F)*Math.cos(be*F)))/F;(isNaN(qe)||qe===0)&&(qe=H/Math.cos(Math.PI/180*m)),this._point=fe.subtract(E.getPixelOrigin()),this._radius=isNaN(qe)?0:fe.x-E.project([be,d-qe]).x,this._radiusY=fe.y-J.y}else{var Ot=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Ot).x}this._updateBounds()}});function sle(d,m,E){return new hD(d,m,E)}var su=Rd.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,m){y(this,m),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var m=1/0,E=null,O=Nd,F,H,J=0,ae=this._parts.length;J<ae;J++)for(var fe=this._parts[J],be=1,qe=fe.length;be<qe;be++){F=fe[be-1],H=fe[be];var Ot=O(d,F,H,!0);Ot<m&&(m=Ot,E=O(d,F,H))}return E&&(E.distance=Math.sqrt(m)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,m){return m=m||this._defaultShape(),d=oe(d),m.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new le,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return Ni(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var m=[],E=Ni(d),O=0,F=d.length;O<F;O++)E?(m[O]=oe(d[O]),this._bounds.extend(m[O])):m[O]=this._convertLatLngs(d[O]);return m},_project:function(){var d=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),m=new V(d,d);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(d,m,E){var O=d[0]instanceof re,F=d.length,H,J;if(O){for(J=[],H=0;H<F;H++)J[H]=this._map.latLngToLayerPoint(d[H]),E.extend(J[H]);m.push(J)}else for(H=0;H<F;H++)this._projectLatlngs(d[H],m,E)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,E,O,F,H,J,ae,fe;for(E=0,F=0,H=this._rings.length;E<H;E++)for(fe=this._rings[E],O=0,J=fe.length;O<J-1;O++)ae=Yw(fe[O],fe[O+1],d,O,!0),ae&&(m[F]=m[F]||[],m[F].push(ae[0]),(ae[1]!==fe[O+1]||O===J-2)&&(m[F].push(ae[1]),F++))}},_simplifyPoints:function(){for(var d=this._parts,m=this.options.smoothFactor,E=0,O=d.length;E<O;E++)d[E]=Ff(d[E],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,m){var E,O,F,H,J,ae,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(E=0,H=this._parts.length;E<H;E++)for(ae=this._parts[E],O=0,J=ae.length,F=J-1;O<J;F=O++)if(!(!m&&O===0)&&Kw(d,ae[F],ae[O])<=fe)return!0;return!1}});function ole(d,m){return new su(d,m)}su._flat=w;var mg=su.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fg(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var m=su.prototype._convertLatLngs.call(this,d),E=m.length;return E>=2&&m[0]instanceof re&&m[0].equals(m[E-1])&&m.pop(),m},_setLatLngs:function(d){su.prototype._setLatLngs.call(this,d),Ni(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ni(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,m=this.options.weight,E=new V(m,m);if(d=new ee(d.min.subtract(E),d.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,F=this._rings.length,H;O<F;O++)H=qw(this._rings[O],d,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var m=!1,E,O,F,H,J,ae,fe,be;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(H=0,fe=this._parts.length;H<fe;H++)for(E=this._parts[H],J=0,be=E.length,ae=be-1;J<be;ae=J++)O=E[J],F=E[ae],O.y>d.y!=F.y>d.y&&d.x<(F.x-O.x)*(d.y-O.y)/(F.y-O.y)+O.x&&(m=!m);return m||su.prototype._containsPoint.call(this,d,!0)}});function ale(d,m){return new mg(d,m)}var ou=Ls.extend({initialize:function(d,m){y(this,m),this._layers={},d&&this.addData(d)},addData:function(d){var m=A(d)?d:d.features,E,O,F;if(m){for(E=0,O=m.length;E<O;E++)F=m[E],(F.geometries||F.geometry||F.features||F.coordinates)&&this.addData(F);return this}var H=this.options;if(H.filter&&!H.filter(d))return this;var J=wA(d,H);return J?(J.feature=EA(d),J.defaultOptions=J.options,this.resetStyle(J),H.onEachFeature&&H.onEachFeature(d,J),this.addLayer(J)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(m){this._setLayerStyle(m,d)},this)},_setLayerStyle:function(d,m){d.setStyle&&(typeof m=="function"&&(m=m(d.feature)),d.setStyle(m))}});function wA(d,m){var E=d.type==="Feature"?d.geometry:d,O=E?E.coordinates:null,F=[],H=m&&m.pointToLayer,J=m&&m.coordsToLatLng||fD,ae,fe,be,qe;if(!O&&!E)return null;switch(E.type){case"Point":return ae=J(O),z5(H,d,ae,m);case"MultiPoint":for(be=0,qe=O.length;be<qe;be++)ae=J(O[be]),F.push(z5(H,d,ae,m));return new Ls(F);case"LineString":case"MultiLineString":return fe=bA(O,E.type==="LineString"?0:1,J),new su(fe,m);case"Polygon":case"MultiPolygon":return fe=bA(O,E.type==="Polygon"?1:2,J),new mg(fe,m);case"GeometryCollection":for(be=0,qe=E.geometries.length;be<qe;be++){var Ot=wA({geometry:E.geometries[be],type:"Feature",properties:d.properties},m);Ot&&F.push(Ot)}return new Ls(F);case"FeatureCollection":for(be=0,qe=E.features.length;be<qe;be++){var un=wA(E.features[be],m);un&&F.push(un)}return new Ls(F);default:throw new Error("Invalid GeoJSON object.")}}function z5(d,m,E,O){return d?d(m,E):new yA(E,O&&O.markersInheritOptions&&O)}function fD(d){return new re(d[1],d[0],d[2])}function bA(d,m,E){for(var O=[],F=0,H=d.length,J;F<H;F++)J=m?bA(d[F],m-1,E):(E||fD)(d[F]),O.push(J);return O}function pD(d,m){return d=oe(d),d.alt!==void 0?[f(d.lng,m),f(d.lat,m),f(d.alt,m)]:[f(d.lng,m),f(d.lat,m)]}function _A(d,m,E,O){for(var F=[],H=0,J=d.length;H<J;H++)F.push(m?_A(d[H],Ni(d[H])?0:m-1,E,O):pD(d[H],O));return!m&&E&&F.length>0&&F.push(F[0].slice()),F}function gg(d,m){return d.feature?i({},d.feature,{geometry:m}):EA(m)}function EA(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var mD={toGeoJSON:function(d){return gg(this,{type:"Point",coordinates:pD(this.getLatLng(),d)})}};yA.include(mD),hD.include(mD),vA.include(mD),su.include({toGeoJSON:function(d){var m=!Ni(this._latlngs),E=_A(this._latlngs,m?1:0,!1,d);return gg(this,{type:(m?"Multi":"")+"LineString",coordinates:E})}}),mg.include({toGeoJSON:function(d){var m=!Ni(this._latlngs),E=m&&!Ni(this._latlngs[0]),O=_A(this._latlngs,E?2:m?1:0,!0,d);return m||(O=[O]),gg(this,{type:(E?"Multi":"")+"Polygon",coordinates:O})}}),Wr.include({toMultiPoint:function(d){var m=[];return this.eachLayer(function(E){m.push(E.toGeoJSON(d).geometry.coordinates)}),gg(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(d){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(d);var E=m==="GeometryCollection",O=[];return this.eachLayer(function(F){if(F.toGeoJSON){var H=F.toGeoJSON(d);if(E)O.push(H.geometry);else{var J=EA(H);J.type==="FeatureCollection"?O.push.apply(O,J.features):O.push(J)}}}),E?gg(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function V5(d,m){return new ou(d,m)}var cle=V5,AA=Ht.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,m,E){this._url=d,this._bounds=ue(m),y(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&ic(this._image),this},bringToBack:function(){return this._map&&Xl(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=ue(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",m=this._image=d?this._url:ut("img");if(Yt(m,"leaflet-image-layer"),this._zoomAnimated&&Yt(m,"leaflet-zoom-animated"),this.options.className&&Yt(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onload=o(this.fire,this,"load"),m.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(d){var m=this._map.getZoomScale(d.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;ba(this._image,E,m)},_reset:function(){var d=this._image,m=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=m.getSize();Hr(d,m.min),d.style.width=E.x+"px",d.style.height=E.y+"px"},_updateOpacity:function(){_i(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),lle=function(d,m,E){return new AA(d,m,E)},H5=AA.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",m=this._image=d?this._url:ut("video");if(Yt(m,"leaflet-image-layer"),this._zoomAnimated&&Yt(m,"leaflet-zoom-animated"),this.options.className&&Yt(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onloadeddata=o(this.fire,this,"load"),d){for(var E=m.getElementsByTagName("source"),O=[],F=0;F<E.length;F++)O.push(E[F].src);this._url=E.length>0?O:[m.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var J=ut("source");J.src=this._url[H],m.appendChild(J)}}});function ule(d,m,E){return new H5(d,m,E)}var W5=AA.extend({_initImage:function(){var d=this._image=this._url;Yt(d,"leaflet-image-layer"),this._zoomAnimated&&Yt(d,"leaflet-zoom-animated"),this.options.className&&Yt(d,this.options.className),d.onselectstart=h,d.onmousemove=h}});function dle(d,m,E){return new W5(d,m,E)}var Jc=Ht.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,m){d&&(d instanceof re||A(d))?(this._latlng=oe(d),y(this,m)):(y(this,d),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&_i(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&_i(this._container,1),this.bringToFront(),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(_i(this._container,0),this._removeTimeout=setTimeout(o(rn,void 0,this._container),200)):rn(this._container),this.options.interactive&&(Mr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=oe(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ic(this._container),this},bringToBack:function(){return this._map&&Xl(this._container),this},_prepareOpen:function(d){var m=this._source;if(!m._map)return!1;if(m instanceof Ls){m=null;var E=this._source._layers;for(var O in E)if(E[O]._map){m=E[O];break}if(!m)return!1;this._source=m}if(!d)if(m.getCenter)d=m.getCenter();else if(m.getLatLng)d=m.getLatLng();else if(m.getBounds)d=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")d.innerHTML=m;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),m=G(this.options.offset),E=this._getAnchor();this._zoomAnimated?Hr(this._container,d.add(E)):m=m.add(d).add(E);var O=this._containerBottom=-m.y,F=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=O+"px",this._container.style.left=F+"px"}},_getAnchor:function(){return[0,0]}});mn.include({_initOverlay:function(d,m,E,O){var F=m;return F instanceof d||(F=new d(O).setContent(m)),E&&F.setLatLng(E),F}}),Ht.include({_initOverlay:function(d,m,E,O){var F=E;return F instanceof d?(y(F,O),F._source=this):(F=m&&!O?m:new d(O,this),F.setContent(E)),F}});var CA=Jc.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Jc.prototype.openOn.call(this,d)},onAdd:function(d){Jc.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rd||this._source.on("preclick",nu))},onRemove:function(d){Jc.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rd||this._source.off("preclick",nu))},getEvents:function(){var d=Jc.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",m=this._container=ut("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=ut("div",d+"-content-wrapper",m);if(this._contentNode=ut("div",d+"-content",E),Zc(m),xd(this._contentNode),Ut(m,"contextmenu",nu),this._tipContainer=ut("div",d+"-tip-container",m),this._tip=ut("div",d+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=ut("a",d+"-close-button",m);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(O,"click",function(F){Ei(F),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,m=d.style;m.width="",m.whiteSpace="nowrap";var E=d.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),m.width=E+1+"px",m.whiteSpace="",m.height="";var O=d.offsetHeight,F=this.options.maxHeight,H="leaflet-popup-scrolled";F&&O>F?(m.height=F+"px",Yt(d,H)):Mr(d,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var m=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),E=this._getAnchor();Hr(this._container,m.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,m=parseInt(ai(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+m,O=this._containerWidth,F=new V(this._containerLeft,-E-this._containerBottom);F._add(xn(this._container));var H=d.layerPointToContainerPoint(F),J=G(this.options.autoPanPadding),ae=G(this.options.autoPanPaddingTopLeft||J),fe=G(this.options.autoPanPaddingBottomRight||J),be=d.getSize(),qe=0,Ot=0;H.x+O+fe.x>be.x&&(qe=H.x+O-be.x+fe.x),H.x-qe-ae.x<0&&(qe=H.x-ae.x),H.y+E+fe.y>be.y&&(Ot=H.y+E-be.y+fe.y),H.y-Ot-ae.y<0&&(Ot=H.y-ae.y),(qe||Ot)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([qe,Ot]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hle=function(d,m){return new CA(d,m)};mn.mergeOptions({closePopupOnClick:!0}),mn.include({openPopup:function(d,m,E){return this._initOverlay(CA,d,m,E).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Ht.include({bindPopup:function(d,m){return this._popup=this._initOverlay(CA,this._popup,d,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Ls||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Go(d);var m=d.layer||d.target;if(this._popup._source===m&&!(m instanceof Rd)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=m,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var TA=Jc.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Jc.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Jc.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Jc.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",m=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var m,E,O=this._map,F=this._container,H=O.latLngToContainerPoint(O.getCenter()),J=O.layerPointToContainerPoint(d),ae=this.options.direction,fe=F.offsetWidth,be=F.offsetHeight,qe=G(this.options.offset),Ot=this._getAnchor();ae==="top"?(m=fe/2,E=be):ae==="bottom"?(m=fe/2,E=0):ae==="center"?(m=fe/2,E=be/2):ae==="right"?(m=0,E=be/2):ae==="left"?(m=fe,E=be/2):J.x<H.x?(ae="right",m=0,E=be/2):(ae="left",m=fe+(qe.x+Ot.x)*2,E=be/2),d=d.subtract(G(m,E,!0)).add(qe).add(Ot),Mr(F,"leaflet-tooltip-right"),Mr(F,"leaflet-tooltip-left"),Mr(F,"leaflet-tooltip-top"),Mr(F,"leaflet-tooltip-bottom"),Yt(F,"leaflet-tooltip-"+ae),Hr(F,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&_i(this._container,d)},_animateZoom:function(d){var m=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(m)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fle=function(d,m){return new TA(d,m)};mn.include({openTooltip:function(d,m,E){return this._initOverlay(TA,d,m,E).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Ht.include({bindTooltip:function(d,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(TA,this._tooltip,d,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var m=d?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[m](E),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Ls||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var m=typeof d.getElement=="function"&&d.getElement();m&&(Ut(m,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Ut(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var m=typeof d.getElement=="function"&&d.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var m=d.latlng,E,O;this._tooltip.options.sticky&&d.originalEvent&&(E=this._map.mouseEventToContainerPoint(d.originalEvent),O=this._map.containerPointToLayerPoint(E),m=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(m)}});var q5=lc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var m=d&&d.tagName==="DIV"?d:document.createElement("div"),E=this.options;if(E.html instanceof Element?(vo(m),m.appendChild(E.html)):m.innerHTML=E.html!==!1?E.html:"",E.bgPos){var O=G(E.bgPos);m.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function ple(d){return new q5(d)}lc.Default=Zw;var Jw=Ht.extend({options:{tileSize:256,opacity:1,updateWhenIdle:he.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){y(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),rn(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ic(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof V?d:new V(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var m=this.getPane().children,E=-d(-1/0,1/0),O=0,F=m.length,H;O<F;O++)H=m[O].style.zIndex,m[O]!==this._container&&H&&(E=d(E,+H));isFinite(E)&&(this.options.zIndex=E+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!he.ielt9){_i(this._container,this.options.opacity);var d=+new Date,m=!1,E=!1;for(var O in this._tiles){var F=this._tiles[O];if(!(!F.current||!F.loaded)){var H=Math.min(1,(d-F.loaded)/200);_i(F.el,H),H<1?m=!0:(F.active?E=!0:this._onOpaqueTile(F),F.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),m&&($(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,m=this.options.maxZoom;if(d!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===d?(this._levels[E].el.style.zIndex=m-Math.abs(d-E),this._onUpdateLevel(E)):(rn(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var O=this._levels[d],F=this._map;return O||(O=this._levels[d]={},O.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=m,O.origin=F.project(F.unproject(F.getPixelOrigin()),d).round(),O.zoom=d,this._setZoomTransform(O,F.getCenter(),F.getZoom()),h(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var d,m,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)m=this._tiles[d],m.retain=m.current;for(d in this._tiles)if(m=this._tiles[d],m.current&&!m.active){var O=m.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var m in this._tiles)this._tiles[m].coords.z===d&&this._removeTile(m)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)rn(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,m,E,O){var F=Math.floor(d/2),H=Math.floor(m/2),J=E-1,ae=new V(+F,+H);ae.z=+J;var fe=this._tileCoordsToKey(ae),be=this._tiles[fe];return be&&be.active?(be.retain=!0,!0):(be&&be.loaded&&(be.retain=!0),J>O?this._retainParent(F,H,J,O):!1)},_retainChildren:function(d,m,E,O){for(var F=2*d;F<2*d+2;F++)for(var H=2*m;H<2*m+2;H++){var J=new V(F,H);J.z=E+1;var ae=this._tileCoordsToKey(J),fe=this._tiles[ae];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);E+1<O&&this._retainChildren(F,H,E+1,O)}},_resetView:function(d){var m=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var m=this.options;return m.minNativeZoom!==void 0&&d<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<d?m.maxNativeZoom:d},_setView:function(d,m,E,O){var F=Math.round(m);this.options.maxZoom!==void 0&&F>this.options.maxZoom||this.options.minZoom!==void 0&&F<this.options.minZoom?F=void 0:F=this._clampZoom(F);var H=this.options.updateWhenZooming&&F!==this._tileZoom;(!O||H)&&(this._tileZoom=F,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),F!==void 0&&this._update(d),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(d,m)},_setZoomTransforms:function(d,m){for(var E in this._levels)this._setZoomTransform(this._levels[E],d,m)},_setZoomTransform:function(d,m,E){var O=this._map.getZoomScale(E,d.zoom),F=d.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(m,E)).round();he.any3d?ba(d.el,F,O):Hr(d.el,F)},_resetGrid:function(){var d=this._map,m=d.options.crs,E=this._tileSize=this.getTileSize(),O=this._tileZoom,F=this._map.getPixelWorldBounds(this._tileZoom);F&&(this._globalTileRange=this._pxBoundsToTileRange(F)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,m.wrapLng[0]],O).x/E.x),Math.ceil(d.project([0,m.wrapLng[1]],O).x/E.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([m.wrapLat[0],0],O).y/E.x),Math.ceil(d.project([m.wrapLat[1],0],O).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var m=this._map,E=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),O=m.getZoomScale(E,this._tileZoom),F=m.project(d,this._tileZoom).floor(),H=m.getSize().divideBy(O*2);return new ee(F.subtract(H),F.add(H))},_update:function(d){var m=this._map;if(m){var E=this._clampZoom(m.getZoom());if(d===void 0&&(d=m.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(d),F=this._pxBoundsToTileRange(O),H=F.getCenter(),J=[],ae=this.options.keepBuffer,fe=new ee(F.getBottomLeft().subtract([ae,-ae]),F.getTopRight().add([ae,-ae]));if(!(isFinite(F.min.x)&&isFinite(F.min.y)&&isFinite(F.max.x)&&isFinite(F.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var be in this._tiles){var qe=this._tiles[be].coords;(qe.z!==this._tileZoom||!fe.contains(new V(qe.x,qe.y)))&&(this._tiles[be].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(d,E);return}for(var Ot=F.min.y;Ot<=F.max.y;Ot++)for(var un=F.min.x;un<=F.max.x;un++){var Xs=new V(un,Ot);if(Xs.z=this._tileZoom,!!this._isValidTile(Xs)){var qi=this._tiles[this._tileCoordsToKey(Xs)];qi?qi.current=!0:J.push(Xs)}}if(J.sort(function(wo,vg){return wo.distanceTo(H)-vg.distanceTo(H)}),J.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ca=document.createDocumentFragment();for(un=0;un<J.length;un++)this._addTile(J[un],Ca);this._level.el.appendChild(Ca)}}}},_isValidTile:function(d){var m=this._map.options.crs;if(!m.infinite){var E=this._globalTileRange;if(!m.wrapLng&&(d.x<E.min.x||d.x>E.max.x)||!m.wrapLat&&(d.y<E.min.y||d.y>E.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(d);return ue(this.options.bounds).overlaps(O)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var m=this._map,E=this.getTileSize(),O=d.scaleBy(E),F=O.add(E),H=m.unproject(O,d.z),J=m.unproject(F,d.z);return[H,J]},_tileCoordsToBounds:function(d){var m=this._tileCoordsToNwSe(d),E=new le(m[0],m[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var m=d.split(":"),E=new V(+m[0],+m[1]);return E.z=+m[2],E},_removeTile:function(d){var m=this._tiles[d];m&&(rn(m.el),delete this._tiles[d],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){Yt(d,"leaflet-tile");var m=this.getTileSize();d.style.width=m.x+"px",d.style.height=m.y+"px",d.onselectstart=h,d.onmousemove=h,he.ielt9&&this.options.opacity<1&&_i(d,this.options.opacity)},_addTile:function(d,m){var E=this._getTilePos(d),O=this._tileCoordsToKey(d),F=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(F),this.createTile.length<2&&R(o(this._tileReady,this,d,null,F)),Hr(F,E),this._tiles[O]={el:F,coords:d,current:!0},m.appendChild(F),this.fire("tileloadstart",{tile:F,coords:d})},_tileReady:function(d,m,E){m&&this.fire("tileerror",{error:m,tile:E,coords:d});var O=this._tileCoordsToKey(d);E=this._tiles[O],E&&(E.loaded=+new Date,this._map._fadeAnimated?(_i(E.el,0),$(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),m||(Yt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),he.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var m=new V(this._wrapX?u(d.x,this._wrapX):d.x,this._wrapY?u(d.y,this._wrapY):d.y);return m.z=d.z,m},_pxBoundsToTileRange:function(d){var m=this.getTileSize();return new ee(d.min.unscaleBy(m).floor(),d.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function mle(d){return new Jw(d)}var yg=Jw.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,m){this._url=d,m=y(this,m),m.detectRetina&&he.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,m){return this._url===d&&m===void 0&&(m=!0),this._url=d,m||this.redraw(),this},createTile:function(d,m){var E=document.createElement("img");return Ut(E,"load",o(this._tileOnLoad,this,m,E)),Ut(E,"error",o(this._tileOnError,this,m,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(d),E},getTileUrl:function(d){var m={r:he.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-d.y;this.options.tms&&(m.y=E),m["-y"]=E}return _(this._url,i(m,this.options))},_tileOnLoad:function(d,m){he.ielt9?setTimeout(o(d,this,null,m),0):d(null,m)},_tileOnError:function(d,m,E){var O=this.options.errorTileUrl;O&&m.getAttribute("src")!==O&&(m.src=O),d(E,m)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,m=this.options.maxZoom,E=this.options.zoomReverse,O=this.options.zoomOffset;return E&&(d=m-d),d+O},_getSubdomain:function(d){var m=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var d,m;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(m=this._tiles[d].el,m.onload=h,m.onerror=h,!m.complete)){m.src=P;var E=this._tiles[d].coords;rn(m),delete this._tiles[d],this.fire("tileabort",{tile:m,coords:E})}},_removeTile:function(d){var m=this._tiles[d];if(m)return m.el.setAttribute("src",P),Jw.prototype._removeTile.call(this,d)},_tileReady:function(d,m,E){if(!(!this._map||E&&E.getAttribute("src")===P))return Jw.prototype._tileReady.call(this,d,m,E)}});function K5(d,m){return new yg(d,m)}var G5=yg.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,m){this._url=d;var E=i({},this.defaultWmsParams);for(var O in m)O in this.options||(E[O]=m[O]);m=y(this,m);var F=m.detectRetina&&he.retina?2:1,H=this.getTileSize();E.width=H.x*F,E.height=H.y*F,this.wmsParams=E},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,yg.prototype.onAdd.call(this,d)},getTileUrl:function(d){var m=this._tileCoordsToNwSe(d),E=this._crs,O=ne(E.project(m[0]),E.project(m[1])),F=O.min,H=O.max,J=(this._wmsVersion>=1.3&&this._crs===Bn?[F.y,F.x,H.y,H.x]:[F.x,F.y,H.x,H.y]).join(","),ae=yg.prototype.getTileUrl.call(this,d);return ae+v(this.wmsParams,ae,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(d,m){return i(this.wmsParams,d),m||this.redraw(),this}});function gle(d,m){return new G5(d,m)}yg.WMS=G5,K5.wms=gle;var au=Ht.extend({options:{padding:.1},initialize:function(d){y(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,m){var E=this._map.getZoomScale(m,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),F=this._map.project(this._center,m),H=O.multiplyBy(-E).add(F).subtract(this._map._getNewPixelOrigin(d,m));he.any3d?ba(this._container,H,E):Hr(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,m=this._map.getSize(),E=this._map.containerPointToLayerPoint(m.multiplyBy(-d)).round();this._bounds=new ee(E,E.add(m.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Y5=au.extend({options:{tolerance:0},getEvents:function(){var d=au.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){au.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Ut(d,"mousemove",this._onMouseMove,this),Ut(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,rn(this._container),nr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var m in this._layers)d=this._layers[m],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){au.prototype._update.call(this);var d=this._bounds,m=this._container,E=d.getSize(),O=he.retina?2:1;Hr(m,d.min),m.width=O*E.x,m.height=O*E.y,m.style.width=E.x+"px",m.style.height=E.y+"px",he.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){au.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var m=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var m=d._order,E=m.next,O=m.prev;E?E.prev=O:this._drawLast=O,O?O.next=E:this._drawFirst=E,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var m=d.options.dashArray.split(/[, ]+/),E=[],O,F;for(F=0;F<m.length;F++){if(O=Number(m[F]),isNaN(O))return;E.push(O)}d.options._dashArray=E}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var m=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(d._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(d._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var m=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,m=this._redrawBounds;if(this._ctx.save(),m){var E=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)d=O.layer,(!m||d._pxBounds&&d._pxBounds.intersects(m))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,m){if(this._drawing){var E,O,F,H,J=d._parts,ae=J.length,fe=this._ctx;if(ae){for(fe.beginPath(),E=0;E<ae;E++){for(O=0,F=J[E].length;O<F;O++)H=J[E][O],fe[O?"lineTo":"moveTo"](H.x,H.y);m&&fe.closePath()}this._fillStroke(fe,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var m=d._point,E=this._ctx,O=Math.max(Math.round(d._radius),1),F=(Math.max(Math.round(d._radiusY),1)||O)/O;F!==1&&(E.save(),E.scale(1,F)),E.beginPath(),E.arc(m.x,m.y/F,O,0,Math.PI*2,!1),F!==1&&E.restore(),this._fillStroke(E,d)}},_fillStroke:function(d,m){var E=m.options;E.fill&&(d.globalAlpha=E.fillOpacity,d.fillStyle=E.fillColor||E.color,d.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(d.setLineDash&&d.setLineDash(m.options&&m.options._dashArray||[]),d.globalAlpha=E.opacity,d.lineWidth=E.weight,d.strokeStyle=E.color,d.lineCap=E.lineCap,d.lineJoin=E.lineJoin,d.stroke())},_onClick:function(d){for(var m=this._map.mouseEventToLayerPoint(d),E,O,F=this._drawFirst;F;F=F.next)E=F.layer,E.options.interactive&&E._containsPoint(m)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(E))&&(O=E);this._fireEvent(O?[O]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,m)}},_handleMouseOut:function(d){var m=this._hoveredLayer;m&&(Mr(this._container,"leaflet-interactive"),this._fireEvent([m],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,m){if(!this._mouseHoverThrottled){for(var E,O,F=this._drawFirst;F;F=F.next)E=F.layer,E.options.interactive&&E._containsPoint(m)&&(O=E);O!==this._hoveredLayer&&(this._handleMouseOut(d),O&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([O],d,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,m,E){this._map._fireDOMEvent(m,E||m.type,d)},_bringToFront:function(d){var m=d._order;if(m){var E=m.next,O=m.prev;if(E)E.prev=O;else return;O?O.next=E:E&&(this._drawFirst=E),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(d)}},_bringToBack:function(d){var m=d._order;if(m){var E=m.next,O=m.prev;if(O)O.next=E;else return;E?E.prev=O:O&&(this._drawLast=O),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(d)}}});function Q5(d){return he.canvas?new Y5(d):null}var Xw=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),yle={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(au.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var m=d._container=Xw("shape");Yt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",d._path=Xw("path"),m.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var m=d._container;this._container.appendChild(m),d.options.interactive&&d.addInteractiveTarget(m)},_removePath:function(d){var m=d._container;rn(m),d.removeInteractiveTarget(m),delete this._layers[c(d)]},_updateStyle:function(d){var m=d._stroke,E=d._fill,O=d.options,F=d._container;F.stroked=!!O.stroke,F.filled=!!O.fill,O.stroke?(m||(m=d._stroke=Xw("stroke")),F.appendChild(m),m.weight=O.weight+"px",m.color=O.color,m.opacity=O.opacity,O.dashArray?m.dashStyle=A(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=O.lineCap.replace("butt","flat"),m.joinstyle=O.lineJoin):m&&(F.removeChild(m),d._stroke=null),O.fill?(E||(E=d._fill=Xw("fill")),F.appendChild(E),E.color=O.fillColor||O.color,E.opacity=O.fillOpacity):E&&(F.removeChild(E),d._fill=null)},_updateCircle:function(d){var m=d._point.round(),E=Math.round(d._radius),O=Math.round(d._radiusY||E);this._setPath(d,d._empty()?"M0 0":"AL "+m.x+","+m.y+" "+E+","+O+" 0,"+65535*360)},_setPath:function(d,m){d._path.v=m},_bringToFront:function(d){ic(d._container)},_bringToBack:function(d){Xl(d._container)}},SA=he.vml?Xw:an,e0=au.extend({_initContainer:function(){this._container=SA("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=SA("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rn(this._container),nr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){au.prototype._update.call(this);var d=this._bounds,m=d.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,E.setAttribute("width",m.x),E.setAttribute("height",m.y)),Hr(E,d.min),E.setAttribute("viewBox",[d.min.x,d.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(d){var m=d._path=SA("path");d.options.className&&Yt(m,d.options.className),d.options.interactive&&Yt(m,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){rn(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var m=d._path,E=d.options;m&&(E.stroke?(m.setAttribute("stroke",E.color),m.setAttribute("stroke-opacity",E.opacity),m.setAttribute("stroke-width",E.weight),m.setAttribute("stroke-linecap",E.lineCap),m.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?m.setAttribute("stroke-dasharray",E.dashArray):m.removeAttribute("stroke-dasharray"),E.dashOffset?m.setAttribute("stroke-dashoffset",E.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),E.fill?(m.setAttribute("fill",E.fillColor||E.color),m.setAttribute("fill-opacity",E.fillOpacity),m.setAttribute("fill-rule",E.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(d,m){this._setPath(d,Pt(d._parts,m))},_updateCircle:function(d){var m=d._point,E=Math.max(Math.round(d._radius),1),O=Math.max(Math.round(d._radiusY),1)||E,F="a"+E+","+O+" 0 1,0 ",H=d._empty()?"M0 0":"M"+(m.x-E)+","+m.y+F+E*2+",0 "+F+-E*2+",0 ";this._setPath(d,H)},_setPath:function(d,m){d._path.setAttribute("d",m)},_bringToFront:function(d){ic(d._path)},_bringToBack:function(d){Xl(d._path)}});he.vml&&e0.include(yle);function Z5(d){return he.svg||he.vml?new e0(d):null}mn.include({getRenderer:function(d){var m=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var m=this._paneRenderers[d];return m===void 0&&(m=this._createRenderer({pane:d}),this._paneRenderers[d]=m),m},_createRenderer:function(d){return this.options.preferCanvas&&Q5(d)||Z5(d)}});var J5=mg.extend({initialize:function(d,m){mg.prototype.initialize.call(this,this._boundsToLatLngs(d),m)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=ue(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function vle(d,m){return new J5(d,m)}e0.create=SA,e0.pointsToPath=Pt,ou.geometryToLayer=wA,ou.coordsToLatLng=fD,ou.coordsToLatLngs=bA,ou.latLngToCoords=pD,ou.latLngsToCoords=_A,ou.getFeature=gg,ou.asFeature=EA,mn.mergeOptions({boxZoom:!0});var X5=Aa.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){nr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yc(),ag(),this._startPoint=this._map.mouseEventToContainerPoint(d),Ut(document,{contextmenu:Go,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),Yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var m=new ee(this._point,this._startPoint),E=m.getSize();Hr(this._box,m.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(rn(this._box),Mr(this._container,"leaflet-crosshair")),oc(),kw(),nr(document,{contextmenu:Go,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var m=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mn.addInitHook("addHandler","boxZoom",X5),mn.mergeOptions({doubleClickZoom:!0});var e4=Aa.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var m=this._map,E=m.getZoom(),O=m.options.zoomDelta,F=d.originalEvent.shiftKey?E-O:E+O;m.options.doubleClickZoom==="center"?m.setZoom(F):m.setZoomAround(d.containerPoint,F)}});mn.addInitHook("addHandler","doubleClickZoom",e4),mn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var t4=Aa.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new cc(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}Yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Mr(this._map._container,"leaflet-grab"),Mr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=ue(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var m=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(m),this._prunePositions(m)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,m){return d-(d-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;d.x<m.min.x&&(d.x=this._viscousLimit(d.x,m.min.x)),d.y<m.min.y&&(d.y=this._viscousLimit(d.y,m.min.y)),d.x>m.max.x&&(d.x=this._viscousLimit(d.x,m.max.x)),d.y>m.max.y&&(d.y=this._viscousLimit(d.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,m=Math.round(d/2),E=this._initialWorldOffset,O=this._draggable._newPos.x,F=(O-m+E)%d+m-E,H=(O+m+E)%d-m-E,J=Math.abs(F+E)<Math.abs(H+E)?F:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(d){var m=this._map,E=m.options,O=!E.inertia||d.noInertia||this._times.length<2;if(m.fire("dragend",d),O)m.fire("moveend");else{this._prunePositions(+new Date);var F=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,J=E.easeLinearity,ae=F.multiplyBy(J/H),fe=ae.distanceTo([0,0]),be=Math.min(E.inertiaMaxSpeed,fe),qe=ae.multiplyBy(be/fe),Ot=be/(E.inertiaDeceleration*J),un=qe.multiplyBy(-Ot/2).round();!un.x&&!un.y?m.fire("moveend"):(un=m._limitOffset(un,m.options.maxBounds),R(function(){m.panBy(un,{duration:Ot,easeLinearity:J,noMoveStart:!0,animate:!0})}))}}});mn.addInitHook("addHandler","dragging",t4),mn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var n4=Aa.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Ut(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),nr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,m=document.documentElement,E=d.scrollTop||m.scrollTop,O=d.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(O,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var m=this._panKeys={},E=this.keyCodes,O,F;for(O=0,F=E.left.length;O<F;O++)m[E.left[O]]=[-1*d,0];for(O=0,F=E.right.length;O<F;O++)m[E.right[O]]=[d,0];for(O=0,F=E.down.length;O<F;O++)m[E.down[O]]=[0,d];for(O=0,F=E.up.length;O<F;O++)m[E.up[O]]=[0,-1*d]},_setZoomDelta:function(d){var m=this._zoomKeys={},E=this.keyCodes,O,F;for(O=0,F=E.zoomIn.length;O<F;O++)m[E.zoomIn[O]]=d;for(O=0,F=E.zoomOut.length;O<F;O++)m[E.zoomOut[O]]=-d},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){nr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var m=d.keyCode,E=this._map,O;if(m in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(O=this._panKeys[m],d.shiftKey&&(O=G(O).multiplyBy(3)),E.options.maxBounds&&(O=E._limitOffset(G(O),E.options.maxBounds)),E.options.worldCopyJump){var F=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(O)));E.panTo(F)}else E.panBy(O)}else if(m in this._zoomKeys)E.setZoom(E.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;Go(d)}}});mn.addInitHook("addHandler","keyboard",n4),mn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var r4=Aa.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){nr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var m=Tr(d),E=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var O=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),O),Go(d)},_performZoom:function(){var d=this._map,m=d.getZoom(),E=this._map.options.zoomSnap||0;d._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),F=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,H=E?Math.ceil(F/E)*E:F,J=d._limitZoom(m+(this._delta>0?H:-H))-m;this._delta=0,this._startTime=null,J&&(d.options.scrollWheelZoom==="center"?d.setZoom(m+J):d.setZoomAround(this._lastMousePos,m+J))}});mn.addInitHook("addHandler","scrollWheelZoom",r4);var wle=600;mn.mergeOptions({tapHold:he.touchNative&&he.safari&&he.mobile,tapTolerance:15});var i4=Aa.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){nr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var m=d.touches[0];this._startPos=this._newPos=new V(m.clientX,m.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Ei),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),wle),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){nr(document,"touchend",Ei),nr(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),nr(document,"touchend touchcancel contextmenu",this._cancel,this),nr(document,"touchmove",this._onMove,this)},_onMove:function(d){var m=d.touches[0];this._newPos=new V(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,m){var E=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});E._simulated=!0,m.target.dispatchEvent(E)}});mn.addInitHook("addHandler","tapHold",i4),mn.mergeOptions({touchZoom:he.touch,bounceAtZoomLimits:!0});var s4=Aa.extend({addHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Mr(this._map._container,"leaflet-touch-zoom"),nr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var m=this._map;if(!(!d.touches||d.touches.length!==2||m._animatingZoom||this._zooming)){var E=m.mouseEventToContainerPoint(d.touches[0]),O=m.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(E.add(O)._divideBy(2))),this._startDist=E.distanceTo(O),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Ei(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var m=this._map,E=m.mouseEventToContainerPoint(d.touches[0]),O=m.mouseEventToContainerPoint(d.touches[1]),F=E.distanceTo(O)/this._startDist;if(this._zoom=m.getScaleZoom(F,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&F<1||this._zoom>m.getMaxZoom()&&F>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,F===1)return}else{var H=E._add(O)._divideBy(2)._subtract(this._centerPoint);if(F===1&&H.x===0&&H.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var J=o(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(J,this,!0),Ei(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),nr(document,"touchmove",this._onTouchMove,this),nr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mn.addInitHook("addHandler","touchZoom",s4),mn.BoxZoom=X5,mn.DoubleClickZoom=e4,mn.Drag=t4,mn.Keyboard=n4,mn.ScrollWheelZoom=r4,mn.TapHold=i4,mn.TouchZoom=s4,n.Bounds=ee,n.Browser=he,n.CRS=ye,n.Canvas=Y5,n.Circle=hD,n.CircleMarker=vA,n.Class=K,n.Control=Ms,n.DivIcon=q5,n.DivOverlay=Jc,n.DomEvent=dD,n.DomUtil=cA,n.Draggable=cc,n.Evented=Y,n.FeatureGroup=Ls,n.GeoJSON=ou,n.GridLayer=Jw,n.Handler=Aa,n.Icon=lc,n.ImageOverlay=AA,n.LatLng=re,n.LatLngBounds=le,n.Layer=Ht,n.LayerGroup=Wr,n.LineUtil=U,n.Map=mn,n.Marker=yA,n.Mixin=hA,n.Path=Rd,n.Point=V,n.PolyUtil=fA,n.Polygon=mg,n.Polyline=su,n.Popup=CA,n.PosAnimation=zw,n.Projection=pe,n.Rectangle=J5,n.Renderer=au,n.SVG=e0,n.SVGOverlay=W5,n.TileLayer=yg,n.Tooltip=TA,n.Transformation=tt,n.Util=j,n.VideoOverlay=H5,n.bind=o,n.bounds=ne,n.canvas=Q5,n.circle=sle,n.circleMarker=ile,n.control=Od,n.divIcon=ple,n.extend=i,n.featureGroup=Yo,n.geoJSON=V5,n.geoJson=cle,n.gridLayer=mle,n.icon=Qw,n.imageOverlay=lle,n.latLng=oe,n.latLngBounds=ue,n.layerGroup=Wi,n.map=uA,n.marker=rle,n.point=G,n.polygon=ale,n.polyline=ole,n.popup=hle,n.rectangle=vle,n.setOptions=y,n.stamp=c,n.svg=Z5,n.svgOverlay=dle,n.tileLayer=K5,n.tooltip=fle,n.transformation=Fe,n.version=r,n.videoOverlay=ule;var ble=window.L;n.noConflict=function(){return window.L=ble,this},window.L=n})})(QM,QM.exports);var O1=QM.exports;const zne=cs(O1);function yU(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function vU(t,e){return e==null?function(r,i){const s=M.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=M.useRef();s.current||(s.current=t(r,i));const o=M.useRef(r),{instance:a}=s.current;return M.useEffect(function(){o.current!==r&&(e(a,r,o.current),o.current=r)},[a,r,i]),s}}function W3e(t,e){M.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Vne(t){return function(n){const r=mU(),i=t(gU(n,r),r);return $ne(r.map,n.attribution),Bne(i.current,n.eventHandlers),W3e(i.current,r),i}}function q3e(t,e){const n=vU(t,e),r=Vne(n);return B3e(r)}function K3e(t,e){const n=vU(t),r=H3e(n,e);return z3e(r)}function G3e(t,e){const n=vU(t,e),r=Vne(n);return V3e(r)}function Y3e(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function Q3e(){return mU().map}function ZM(){return ZM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZM.apply(this,arguments)}function Z3e({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:o,style:a,whenReady:c,zoom:l,...u},h){const[f]=M.useState({className:i,id:s,style:a}),[p,g]=M.useState(null);M.useImperativeHandle(h,()=>(p==null?void 0:p.map)??null,[p]);const y=M.useCallback(b=>{if(b!==null&&p===null){const _=new O1.Map(b,u);n!=null&&l!=null?_.setView(n,l):t!=null&&_.fitBounds(t,e),c!=null&&_.whenReady(c),g(j3e(_))}},[]);M.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const v=p?ce.createElement(Une,{value:p},r):o??null;return ce.createElement("div",ZM({},f,{ref:y}),v)}const J3e=M.forwardRef(Z3e),X3e=q3e(function({position:e,...n},r){const i=new O1.Marker(e,n);return yU(i,U3e(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),eFe=K3e(function(e,n){const r=new O1.Popup(e,n.overlayContainer);return yU(r,n)},function(e,n,{position:r},i){M.useEffect(function(){const{instance:o}=e;function a(l){l.popup===o&&(o.update(),i(!0))}function c(l){l.popup===o&&i(!1)}return n.map.on({popupopen:a,popupclose:c}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var u;n.map.off({popupopen:a,popupclose:c}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(o)}},[e,n,i,r])}),tFe=G3e(function({url:e,...n},r){const i=new O1.TileLayer(e,gU(n,r));return yU(i,r)},function(e,n,r){Y3e(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});const nFe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",rFe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",iFe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",sFe=zne.icon({iconUrl:nFe,iconRetinaUrl:rFe,shadowUrl:iFe,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});zne.Marker.prototype.options.icon=sFe;function oFe({center:t}){const e=Q3e();return M.useEffect(()=>{e.setView(t)},[t,e]),null}function wU({cityName:t,mapHeadingText:e,zoomLevel:n}){const[r,i]=M.useState(null);return M.useEffect(()=>{t&&(async()=>{try{const a=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${t}`)).json();if(a.length>0){const{lat:c,lon:l}=a[0];i([parseFloat(c),parseFloat(l)])}}catch(o){console.error("Error fetching map coordinates:",o)}})()},[t]),r?C.jsxs("div",{className:"map-container-div",children:[e&&C.jsx("h5",{className:"detail-page-minor-title",children:e}),C.jsxs(J3e,{center:r,zoom:n,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[C.jsx(oFe,{center:r}),C.jsx(tFe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),C.jsx(X3e,{position:r,children:C.jsx(eFe,{children:t??"Location"})})]})]}):C.jsx("p",{children:"Loading Map..."})}function aFe({sendDateTime:t,selectedCalendarDate:e}){var g;const[n,r]=M.useState(null),[i,s]=M.useState(null),{slugId:o}=_P(),a=o,{data:c,isFetching:l,isLoading:u}=MIe({slugValue:a,date:n},{skip:!n}),h=((g=c==null?void 0:c.data)==null?void 0:g.map(y=>{var v;return(v=y==null?void 0:y.start)==null?void 0:v.slice(11,16)}))||[];M.useEffect(()=>{r(e)},[e]);function f(y){const v=y?cI(y,"yyyy-MM-dd"):null;r(v),s(null)}function p(y){const v=y.target.value;s(v),n&&t([n,v])}return C.jsxs("div",{className:"bookNow-date-time-container",children:[C.jsx(bJ,{className:"book-now-date-time",selected:n?new Date(n):null,onChange:f,minDate:new Date,dateFormat:"yyyy-MM-dd",placeholderText:"Choose date",showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select"}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("span",{className:"book-now-minor-heading",children:"Time"}),C.jsx("br",{}),u||l?C.jsx("p",{className:"available-time-loading",children:"Loading available time slots..."}):h.length===0?C.jsx("p",{className:"available-time-loading no-time-available",children:"No time slots available for this date."}):C.jsxs("select",{className:"book-now-date-time",value:i||"choose time",onChange:p,children:[C.jsx("option",{value:"choose time",disabled:!0,children:"choose time"}),h.map((y,v)=>C.jsx("option",{value:y,children:y},v))]})]})}const Hne="2.28.0";let E0={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Hne}`},Ae=class JM extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof JM?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=(()=>n.cause instanceof JM&&n.cause.docsPath||n.docsPath)(),s=(a=E0.getDocsUrl)==null?void 0:a.call(E0,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...E0.version?[`Version: ${E0.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Hne}walk(e){return Wne(this,e)}};function Wne(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Wne(t.cause,e):e?null:t}let qne=class extends Ae{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class cFe extends Ae{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class lFe extends Ae{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let uFe=class extends Ae{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class Kne extends Ae{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let Gne=class extends Ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class bV extends Ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function vw(t,{dir:e,size:n=32}={}){return typeof t=="string"?qh(t,{dir:e,size:n}):dFe(t,{dir:e,size:n})}function qh(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Gne({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function dFe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Gne({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}function dd(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function ns(t){return dd(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function qu(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const hFe=new TextEncoder;function D1(t,e={}){return typeof t=="number"||typeof t=="bigint"?pFe(t,e):typeof t=="boolean"?fFe(t,e):dd(t)?Hc(t,e):$p(t,e)}function fFe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Xa(n,{size:e.size}),vw(n,{size:e.size})):n}const uu={zero:48,nine:57,A:65,F:70,a:97,f:102};function _V(t){if(t>=uu.zero&&t<=uu.nine)return t-uu.zero;if(t>=uu.A&&t<=uu.F)return t-(uu.A-10);if(t>=uu.a&&t<=uu.f)return t-(uu.a-10)}function Hc(t,e={}){let n=t;e.size&&(Xa(n,{size:e.size}),n=vw(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=_V(r.charCodeAt(a++)),l=_V(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Ae(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function pFe(t,e){const n=hn(t,e);return Hc(n)}function $p(t,e={}){const n=hFe.encode(t);return typeof e.size=="number"?(Xa(n,{size:e.size}),vw(n,{dir:"right",size:e.size})):n}function Xa(t,{size:e}){if(ns(t)>e)throw new uFe({givenSize:ns(t),maxSize:e})}function Elt(t,e){const n=typeof e=="string"?{to:e}:e,r=n.to;return r==="number"?bf(t,n):r==="bigint"?dm(t,n):r==="string"?bU(t,n):r==="boolean"?mFe(t,n):Hc(t,n)}function dm(t,e={}){const{signed:n}=e;e.size&&Xa(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function mFe(t,e={}){let n=t;if(e.size&&(Xa(n,{size:e.size}),n=qu(n)),qu(n)==="0x00")return!1;if(qu(n)==="0x01")return!0;throw new lFe(n)}function bf(t,e={}){return Number(dm(t,e))}function bU(t,e={}){let n=Hc(t);return e.size&&(Xa(n,{size:e.size}),n=qu(n,{dir:"right"})),new TextDecoder().decode(n)}const gFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vl(t,e={}){return typeof t=="number"||typeof t=="bigint"?hn(t,e):typeof t=="string"?vO(t,e):typeof t=="boolean"?Yne(t,e):Ds(t,e)}function Yne(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Xa(n,{size:e.size}),vw(n,{size:e.size})):n}function Ds(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=gFe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Xa(r,{size:e.size}),vw(r,{dir:"right",size:e.size})):r}function hn(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new qne({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?vw(a,{size:r}):a}const yFe=new TextEncoder;function vO(t,e={}){const n=yFe.encode(t);return Ds(n,e)}function Hl(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new PFe(t.type);return`${t.name}(${wO(t.inputs,{includeName:e})})`}function wO(t,{includeName:e=!1}={}){return t?t.map(n=>vFe(n,{includeName:e})).join(e?", ":","):""}function vFe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${wO(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class wFe extends Ae{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class EV extends Ae{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Qne extends Ae{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${wO(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class bO extends Ae{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class bFe extends Ae{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class _Fe extends Ae{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${ns(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class EFe extends Ae{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class AFe extends Ae{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class AV extends Ae{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Zne extends Ae{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class CFe extends Ae{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Jne extends Ae{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class kv extends Ae{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Xne extends Ae{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class TFe extends Ae{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class SFe extends Ae{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Hl(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Hl(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Alt extends Ae{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class XM extends Ae{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${wO(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class ere extends Ae{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Hl(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class IFe extends Ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class xFe extends Ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class tre extends Ae{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class PFe extends Ae{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function hm(t){return typeof t[0]=="string"?N1(t):OFe(t)}function OFe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function N1(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class fm extends Ae{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let _O=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};function VI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function DFe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function EO(t,...e){if(!DFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Tlt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");VI(t.outputLen),VI(t.blockLen)}function HI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nre(t,e){EO(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const mC=BigInt(2**32-1),CV=BigInt(32);function NFe(t,e=!1){return e?{h:Number(t&mC),l:Number(t>>CV&mC)}:{h:Number(t>>CV&mC)|0,l:Number(t&mC)|0}}function RFe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=NFe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const kFe=(t,e,n)=>t<<n|e>>>32-n,MFe=(t,e,n)=>e<<n|t>>>32-n,LFe=(t,e,n)=>e<<n-32|t>>>64-n,FFe=(t,e,n)=>t<<n-32|e>>>64-n,Cg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $Fe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function GN(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function el(t,e){return t<<32-e|t>>>e}const TV=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function jFe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function SV(t){for(let e=0;e<t.length;e++)t[e]=jFe(t[e])}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function UFe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function _U(t){return typeof t=="string"&&(t=UFe(t)),EO(t),t}function Slt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];EO(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let rre=class{clone(){return this._cloneInto()}};function ire(t){const e=r=>t().update(_U(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function xlt(t=32){if(Cg&&typeof Cg.getRandomValues=="function")return Cg.getRandomValues(new Uint8Array(t));if(Cg&&typeof Cg.randomBytes=="function")return Uint8Array.from(Cg.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const sre=[],ore=[],are=[],BFe=BigInt(0),A0=BigInt(1),zFe=BigInt(2),VFe=BigInt(7),HFe=BigInt(256),WFe=BigInt(113);for(let t=0,e=A0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],sre.push(2*(5*r+n)),ore.push((t+1)*(t+2)/2%64);let i=BFe;for(let s=0;s<7;s++)e=(e<<A0^(e>>VFe)*WFe)%HFe,e&zFe&&(i^=A0<<(A0<<BigInt(s))-A0);are.push(i)}const[qFe,KFe]=RFe(are,!0),IV=(t,e,n)=>n>32?LFe(t,e,n):kFe(t,e,n),xV=(t,e,n)=>n>32?FFe(t,e,n):MFe(t,e,n);function GFe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=IV(l,u,1)^n[a],f=xV(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=ore[o],c=IV(i,s,a),l=xV(i,s,a),u=sre[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=qFe[r],t[1]^=KFe[r]}n.fill(0)}let YFe=class cre extends rre{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,VI(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$Fe(this.state)}keccak(){TV||SV(this.state32),GFe(this.state32,this.rounds),TV||SV(this.state32),this.posOut=0,this.pos=0}update(e){HI(this);const{blockLen:n,state:r}=this;e=_U(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){HI(this,!1),EO(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return VI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nre(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new cre(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const QFe=(t,e,n)=>ire(()=>new YFe(e,t,n)),ZFe=QFe(1,136,256/8);function _f(t,e){const n=e||"hex",r=ZFe(dd(t,{strict:!1})?D1(t):t);return n==="bytes"?r:Vl(r)}const YN=new _O(8192);function AO(t,e){if(YN.has(`${t}.${e}`))return YN.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=_f($p(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return YN.set(`${t}.${e}`,s),s}function vp(t,e){if(!Wl(t,{strict:!1}))throw new fm({address:t});return AO(t,e)}const JFe=/^0x[a-fA-F0-9]{40}$/,QN=new _O(8192);function Wl(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(QN.has(r))return QN.get(r);const i=(()=>JFe.test(t)?t.toLowerCase()===t?!0:n?AO(t)===t:!0:!1)();return QN.set(r,i),i}function Mv(t,e,n,{strict:r}={}){return dd(t,{strict:!1})?XFe(t,e,n,{strict:r}):dre(t,e,n,{strict:r})}function lre(t,e){if(typeof e=="number"&&e>0&&e>ns(t)-1)throw new Kne({offset:e,position:"start",size:ns(t)})}function ure(t,e,n){if(typeof e=="number"&&typeof n=="number"&&ns(t)!==n-e)throw new Kne({offset:n,position:"end",size:ns(t)})}function dre(t,e,n,{strict:r}={}){lre(t,e);const i=t.slice(e,n);return r&&ure(i,e,n),i}function XFe(t,e,n,{strict:r}={}){lre(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&ure(i,e,n),i}const Plt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,e$e=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function CO(t,e){if(t.length!==e.length)throw new EFe({expectedLength:t.length,givenLength:e.length});const n=t$e({params:t,values:e}),r=AU(n);return r.length===0?"0x":r}function t$e({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(EU({param:t[r],value:e[r]}));return n}function EU({param:t,value:e}){const n=CU(t.type);if(n){const[r,i]=n;return r$e(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return c$e(e,{param:t});if(t.type==="address")return n$e(e);if(t.type==="bool")return s$e(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=e$e.exec(t.type)??[];return o$e(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return i$e(e,{param:t});if(t.type==="string")return a$e(e);throw new IFe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function AU(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=ns(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(hn(e+i,{size:32})),r.push(a),i+=ns(a)):n.push(a)}return hm([...n,...r])}function n$e(t){if(!Wl(t))throw new fm({address:t});return{dynamic:!1,encoded:qh(t.toLowerCase())}}function r$e(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new tre(t);if(!r&&t.length!==e)throw new bFe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=EU({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=AU(s);if(r){const a=hn(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?hm([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:hm(s.map(({encoded:o})=>o))}}function i$e(t,{param:e}){const[,n]=e.type.split("bytes"),r=ns(t);if(!n){let i=t;return r%32!==0&&(i=qh(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:hm([qh(hn(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new _Fe({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:qh(t,{dir:"right"})}}function s$e(t){if(typeof t!="boolean")throw new Ae(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:qh(Yne(t))}}function o$e(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new qne({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:hn(t,{size:32,signed:e})}}function a$e(t){const e=vO(t),n=Math.ceil(ns(e)/32),r=[];for(let i=0;i<n;i++)r.push(qh(Mv(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:hm([qh(hn(ns(e),{size:32})),...r])}}function c$e(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=EU({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?AU(r):hm(r.map(({encoded:i})=>i))}}function CU(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const ZN="/docs/contract/encodeDeployData";function hre(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new wFe({docsPath:ZN});if(!("inputs"in i))throw new EV({docsPath:ZN});if(!i.inputs||i.inputs.length===0)throw new EV({docsPath:ZN});const s=CO(i.inputs,n);return N1([r,s])}function Jl(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class TU extends Ae{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class JN extends Ae{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function l$e(t){const e=_f(`0x${t.substring(4)}`).substring(26);return AO(`0x${e}`)}const u$e="modulepreload",d$e=function(t){return"/"+t},PV={},Po=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=d$e(s),s in PV)return;PV[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":u$e,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};async function h$e({hash:t,signature:e}){const n=dd(t)?t:Vl(t),{secp256k1:r}=await Po(()=>import("./secp256k1-12fdd418.js"),[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:h,yParity:f}=e,p=Number(f??h),g=OV(p);return new r.Signature(dm(l),dm(u)).addRecoveryBit(g)}const o=dd(e)?e:Vl(e),a=bf(`0x${o.slice(130)}`),c=OV(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function OV(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function f$e({hash:t,signature:e}){return l$e(await h$e({hash:t,signature:e}))}class DV extends Ae{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class fre extends Ae{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class p$e extends Ae{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const m$e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new p$e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new fre({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new DV({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new DV({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function SU(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(m$e);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function g$e(t,e="hex"){const n=pre(t),r=SU(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ds(r.bytes):r.bytes}function pre(t){return Array.isArray(t)?y$e(t.map(e=>pre(e))):v$e(t)}function y$e(t){const e=t.reduce((i,s)=>i+s.length,0),n=mre(e);return{length:(()=>e<=55?1+e:1+n+e)(),encode(i){e<=55?i.pushByte(192+e):(i.pushByte(192+55+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function v$e(t){const e=typeof t=="string"?Hc(t):t,n=mre(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length)(),encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(128+55+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function mre(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ae("Length is too large.")}function w$e(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=_f(N1(["0x05",g$e([e?hn(e):"0x",i,n?hn(n):"0x"])]));return r==="bytes"?Hc(s):s}async function gre(t){const{authorization:e,signature:n}=t;return f$e({hash:w$e(e),signature:n??e})}class eL extends Ae{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class b$e extends Ae{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class _$e extends Ae{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class yre extends Ae{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function E$e({chain:t,currentChainId:e}){if(!t)throw new _$e;if(e!==t.id)throw new b$e({chain:t,currentChainId:e})}const vre={gwei:9,wei:18},A$e={ether:-9,wei:9},C$e={ether:-18,gwei:-9};function ww(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function Vo(t,e="wei"){return ww(t,A$e[e])}class wp extends Ae{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(wp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class WI extends Ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Vo(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(WI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class tL extends Ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Vo(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(tL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class nL extends Ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(nL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class rL extends Ae{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(rL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class iL extends Ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(iL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class sL extends Ae{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(sL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class oL extends Ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(oL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class aL extends Ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(aL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class cL extends Ae{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(cL,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class qI extends Ae{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Vo(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Vo(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(qI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class TO extends Ae{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function IU(t,e="wei"){return ww(t,vre[e])}function R1(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class T$e extends Ae{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class S$e extends Ae{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",R1(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class I$e extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:f}){var g;const p=R1({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${IU(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Vo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Vo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Vo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class wre extends Ae{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class bre extends Ae{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class x$e extends Ae{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Ka=(t,e,n)=>JSON.stringify(t,(r,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(r,s):s},n),P$e=t=>t,xU=t=>t;class $b extends Ae{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${xU(o)}`,e&&`Request body: ${Ka(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class PU extends Ae{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${xU(r)}`,`Request body: ${Ka(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class NV extends Ae{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${xU(n)}`,`Request body: ${Ka(e)}`],name:"TimeoutError"})}}const O$e=-1;class Wo extends Ae{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof PU?e.code:n??O$e}}class wa extends Wo{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class H_ extends Wo{constructor(e){super(e,{code:H_.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(H_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class W_ extends Wo{constructor(e){super(e,{code:W_.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(W_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class q_ extends Wo{constructor(e,{method:n}={}){super(e,{code:q_.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(q_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class K_ extends Wo{constructor(e){super(e,{code:K_.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(K_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class pm extends Wo{constructor(e){super(e,{code:pm.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(pm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class G_ extends Wo{constructor(e){super(e,{code:G_.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(G_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Y_ extends Wo{constructor(e){super(e,{code:Y_.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Y_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Kh extends Wo{constructor(e){super(e,{code:Kh.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Lv extends Wo{constructor(e){super(e,{code:Lv.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Lv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class bp extends Wo{constructor(e,{method:n}={}){super(e,{code:bp.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Fv extends Wo{constructor(e){super(e,{code:Fv.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Fv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Q_ extends Wo{constructor(e){super(e,{code:Q_.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Q_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Li extends wa{constructor(e){super(e,{code:Li.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Li,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Z_ extends wa{constructor(e){super(e,{code:Z_.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Z_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class J_ extends wa{constructor(e,{method:n}={}){super(e,{code:J_.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(J_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class X_ extends wa{constructor(e){super(e,{code:X_.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(X_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class eE extends wa{constructor(e){super(e,{code:eE.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(eE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ql extends wa{constructor(e){super(e,{code:ql.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ql,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class tE extends wa{constructor(e){super(e,{code:tE.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(tE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class nE extends wa{constructor(e){super(e,{code:nE.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(nE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class rE extends wa{constructor(e){super(e,{code:rE.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(rE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class iE extends wa{constructor(e){super(e,{code:iE.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(iE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class sE extends wa{constructor(e){super(e,{code:sE.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(sE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class oE extends wa{constructor(e){super(e,{code:oE.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(oE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class aE extends wa{constructor(e){super(e,{code:aE.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(aE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class D$e extends Wo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function OU(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Ae?t.walk(i=>(i==null?void 0:i.code)===wp.code):t;return r instanceof Ae?new wp({cause:t,message:r.details}):wp.nodeMessage.test(n)?new wp({cause:t,message:t.details}):WI.nodeMessage.test(n)?new WI({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):tL.nodeMessage.test(n)?new tL({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):nL.nodeMessage.test(n)?new nL({cause:t,nonce:e==null?void 0:e.nonce}):rL.nodeMessage.test(n)?new rL({cause:t,nonce:e==null?void 0:e.nonce}):iL.nodeMessage.test(n)?new iL({cause:t,nonce:e==null?void 0:e.nonce}):sL.nodeMessage.test(n)?new sL({cause:t}):oL.nodeMessage.test(n)?new oL({cause:t,gas:e==null?void 0:e.gas}):aL.nodeMessage.test(n)?new aL({cause:t,gas:e==null?void 0:e.gas}):cL.nodeMessage.test(n)?new cL({cause:t}):qI.nodeMessage.test(n)?new qI({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new TO({cause:t})}function N$e(t,{docsPath:e,...n}){const r=(()=>{const i=OU(t,n);return i instanceof TO?t:i})();return new I$e(r,{docsPath:e,...n})}function DU(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const R$e={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function NU(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=k$e(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Ds(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=hn(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=hn(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=hn(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=hn(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=hn(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=hn(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=R$e[t.type]),typeof t.value<"u"&&(e.value=hn(t.value)),e}function k$e(t){return t.map(e=>({address:e.address,r:e.r?hn(BigInt(e.r)):e.r,s:e.s?hn(BigInt(e.s)):e.s,chainId:hn(e.chainId),nonce:hn(e.nonce),...typeof e.yParity<"u"?{yParity:hn(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:hn(e.v)}:{}}))}function sr(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}const M$e=2n**256n-1n;function SO(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?Jl(e):void 0;if(o&&!Wl(o.address))throw new fm({address:o.address});if(s&&!Wl(s))throw new fm({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new T$e;if(r&&r>M$e)throw new WI({maxFeePerGas:r});if(i&&r&&i>r)throw new qI({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function _re(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return bf(e)}class L$e extends Ae{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class RU extends Ae{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class F$e extends Ae{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Vo(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Ere extends Ae{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Are={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Cre(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?bf(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?bf(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Are[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=$$e(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function $$e(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function j$e(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Cre(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function cE(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){var u,h,f;const s=r??"latest",o=i??!1,a=n!==void 0?hn(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!c)throw new Ere({blockHash:e,blockNumber:n});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.block)==null?void 0:f.format)||j$e)(c)}async function Tre(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function U$e(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await sr(t,cE,"getBlock")({}),u=await a({block:l,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return dm(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):sr(t,cE,"getBlock")({}),sr(t,Tre,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new RU;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function RV(t,e){var f,p;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var g,y;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new L$e;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),l=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await sr(t,cE,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new RU;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await U$e(t,{block:u,chain:r,request:i}),y=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await sr(t,Tre,"getGasPrice")({}))}}class B$e extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:f}){var g;const p=R1({from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${IU(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Vo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Vo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Vo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function z$e(t,{docsPath:e,...n}){const r=(()=>{const i=OU(t,n);return i instanceof TO?t:i})();return new B$e(r,{docsPath:e,...n})}class V$e extends Ae{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class H$e extends Ae{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function kV(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function W$e(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=kV(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=kV(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function MV(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new bV({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new bV({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function q$e(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=hn(e)),n!==void 0&&(o.nonce=hn(n)),r!==void 0&&(o.state=MV(r)),i!==void 0){if(o.state)throw new H$e;o.stateDiff=MV(i)}return o}function Sre(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Wl(n,{strict:!1}))throw new fm({address:n});if(e[n])throw new V$e({address:n});e[n]=q$e(r)}return e}async function Ire(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n?hn(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function xre(t,e){var i,s,o;const{account:n=t.account}=e,r=n?Jl(n):void 0;try{let K=function(z){const{block:Y,request:V,rpcStateOverride:Q}=z;return t.request({method:"eth_estimateGas",params:Q?[V,Y??"latest",Q]:Y?[V,Y]:[V]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:_,nonce:A,value:I,stateOverride:P,...D}=await MU(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),S=(h?hn(h):void 0)||f,x=Sre(P),N=await(async()=>{if(D.to)return D.to;if(c&&c.length>0)return await gre({authorization:c[0]}).catch(()=>{throw new Ae("`to` is required. Could not infer from `authorizationList`")})})();SO(e);const R=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,j=(R||NU)({...DU(D,{format:R}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:p,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:_,nonce:A,to:N,value:I});let B=BigInt(await K({block:S,request:j,rpcStateOverride:x}));if(c){const z=await Ire(t,{address:j.from}),Y=await Promise.all(c.map(async V=>{const{address:Q}=V,G=await K({block:S,request:{authorizationList:void 0,data:p,from:r==null?void 0:r.address,to:Q,value:hn(z)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(G)}));B+=Y.reduce((V,Q)=>V+Q,0n)}return B}catch(a){throw z$e(a,{...e,account:r,chain:t.chain})}}async function K$e(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,r?hn(r):n]},{dedupe:!!r});return bf(i)}function Pre(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Hc(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Ds(s))}function Ore(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Hc(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Hc(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>Ds(o))}function G$e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Y$e(t,e,n){return t&e^~t&n}function Q$e(t,e,n){return t&e^t&n^e&n}class Z$e extends rre{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=GN(this.buffer)}update(e){HI(this);const{view:n,buffer:r,blockLen:i}=this;e=_U(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=GN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){HI(this),nre(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;G$e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=GN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const J$e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ud=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bd=new Uint32Array(64);class X$e extends Z$e{constructor(e=32){super(64,e,8,!1),this.A=Ud[0]|0,this.B=Ud[1]|0,this.C=Ud[2]|0,this.D=Ud[3]|0,this.E=Ud[4]|0,this.F=Ud[5]|0,this.G=Ud[6]|0,this.H=Ud[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Bd[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=Bd[h-15],p=Bd[h-2],g=el(f,7)^el(f,18)^f>>>3,y=el(p,17)^el(p,19)^p>>>10;Bd[h]=y+Bd[h-7]+g+Bd[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const f=el(a,6)^el(a,11)^el(a,25),p=u+f+Y$e(a,c,l)+J$e[h]+Bd[h]|0,y=(el(r,2)^el(r,13)^el(r,22))+Q$e(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Bd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const eje=ire(()=>new X$e);function tje(t,e){const n=e||"hex",r=eje(dd(t,{strict:!1})?D1(t):t);return n==="bytes"?r:Vl(r)}function nje(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=tje(e,"bytes");return i.set([n],0),r==="bytes"?i:Ds(i)}function rje(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(nje({commitment:s,to:r,version:n}));return i}const LV=6,Dre=32,kU=4096,Nre=Dre*kU,FV=Nre*LV-1-1*kU*LV;class ije extends Ae{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class sje extends Ae{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function oje(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Hc(t.data):t.data,r=ns(n);if(!r)throw new sje;if(r>FV)throw new ije({maxSize:FV,size:r});const i=[];let s=!0,o=0;for(;s;){const a=SU(new Uint8Array(Nre));let c=0;for(;c<kU;){const l=n.slice(o,o+(Dre-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>Ds(a.bytes))}function aje(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??oje({data:e,to:r}),s=t.commitments??Pre({blobs:i,kzg:n,to:r}),o=t.proofs??Ore({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function cje(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new S$e({transaction:t})}const Rre=["blobVersionedHashes","chainId","fees","gas","nonce","type"],$V=new Map;async function MU(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:l=Rre,type:u}=e,h=n&&Jl(n),f={...e,...h?{from:h==null?void 0:h.address}:{}};let p;async function g(){return p||(p=await sr(t,cE,"getBlock")({blockTag:"latest"}),p)}let y;async function v(){return y||(i?i.id:typeof e.chainId<"u"?e.chainId:(y=await sr(t,_re,"getChainId")({}),y))}if(l.includes("nonce")&&typeof a>"u"&&h)if(c){const b=await v();f.nonce=await c.consume({address:h.address,chainId:b,client:t})}else f.nonce=await sr(t,K$e,"getTransactionCount")({address:h.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const b=Pre({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const _=rje({commitments:b,to:"hex"});f.blobVersionedHashes=_}if(l.includes("sidecars")){const _=Ore({blobs:r,commitments:b,kzg:o}),A=aje({blobs:r,commitments:b,proofs:_,to:"hex"});f.sidecars=A}}if(l.includes("chainId")&&(f.chainId=await v()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=cje(f)}catch{let b=$V.get(t.uid);if(typeof b>"u"){const _=await g();b=typeof(_==null?void 0:_.baseFeePerGas)=="bigint",$V.set(t.uid,b)}f.type=b?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const b=await g(),{maxFeePerGas:_,maxPriorityFeePerGas:A}=await RV(t,{block:b,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<A)throw new F$e({maxPriorityFeePerGas:A});f.maxPriorityFeePerGas=A,f.maxFeePerGas=_}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new RU;if(typeof e.gasPrice>"u"){const b=await g(),{gasPrice:_}=await RV(t,{block:b,chain:i,request:f,type:"legacy"});f.gasPrice=_}}return l.includes("gas")&&typeof s>"u"&&(f.gas=await sr(t,xre,"estimateGas")({...f,account:h&&{address:h.address,type:"json-rpc"}})),SO(f),delete f.parameters,f}async function lje(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const XN=new _O(128);async function kre(t,e){var b,_,A,I;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,value:g,...y}=e;if(typeof n>"u")throw new TU({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?Jl(n):null;try{SO(e);const P=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await gre({authorization:s[0]}).catch(()=>{throw new Ae("`to` is required. Could not infer from `authorizationList`.")})})();if((v==null?void 0:v.type)==="json-rpc"||v===null){let D;r!==null&&(D=await sr(t,_re,"getChainId")({}),E$e({currentChainId:D,chain:r}));const T=(A=(_=(b=t.chain)==null?void 0:b.formatters)==null?void 0:_.transactionRequest)==null?void 0:A.format,x=(T||NU)({...DU(y,{format:T}),accessList:i,authorizationList:s,blobs:o,chainId:D,data:a,from:v==null?void 0:v.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:P,value:g}),N=XN.get(t.uid),R=N?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:R,params:[x]},{retryCount:0})}catch($){if(N===!1)throw $;const j=$;if(j.name==="InvalidInputRpcError"||j.name==="InvalidParamsRpcError"||j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[x]},{retryCount:0}).then(K=>(XN.set(t.uid,!0),K)).catch(K=>{const B=K;throw B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError"?(XN.set(t.uid,!1),j):B});throw j}}if((v==null?void 0:v.type)==="local"){const D=await sr(t,MU,"prepareTransactionRequest")({account:v,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:v.nonceManager,parameters:[...Rre,"sidecars"],value:g,...y,to:P}),T=(I=r==null?void 0:r.serializers)==null?void 0:I.transaction,S=await v.signTransaction(D,{serializer:T});return await sr(t,lje,"sendRawTransaction")({serializedTransaction:S})}throw(v==null?void 0:v.type)==="smart"?new JN({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new JN({docsPath:"/docs/actions/wallet/sendTransaction",type:v==null?void 0:v.type})}catch(P){throw P instanceof JN?P:N$e(P,{...e,account:v,chain:e.chain||void 0})}}const lL=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],uL=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Mre=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Lre=[...Mre,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],uje=[...Mre,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],jV=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],UV=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];function dje(t,e={}){typeof e.size<"u"&&Xa(t,{size:e.size});const n=Ds(t,e);return dm(n,e)}function hje(t,e={}){let n=t;if(typeof e.size<"u"&&(Xa(n,{size:e.size}),n=qu(n)),n.length>1||n[0]>1)throw new cFe(n);return!!n[0]}function Ku(t,e={}){typeof e.size<"u"&&Xa(t,{size:e.size});const n=Ds(t,e);return bf(n,e)}function fje(t,e={}){let n=t;return typeof e.size<"u"&&(Xa(n,{size:e.size}),n=qu(n,{dir:"right"})),new TextDecoder().decode(n)}function k1(t,e){const n=typeof e=="string"?Hc(e):e,r=SU(n);if(ns(n)===0&&t.length>0)throw new bO;if(ns(e)&&ns(e)<32)throw new Qne({data:typeof e=="string"?e:Ds(e),params:t,size:ns(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,l]=zy(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function zy(t,e,{staticPosition:n}){const r=CU(e.type);if(r){const[i,s]=r;return mje(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return wje(t,e,{staticPosition:n});if(e.type==="address")return pje(t);if(e.type==="bool")return gje(t);if(e.type.startsWith("bytes"))return yje(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return vje(t,e);if(e.type==="string")return bje(t,{staticPosition:n});throw new xFe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const BV=32,dL=32;function pje(t){const e=t.readBytes(32);return[AO(Ds(dre(e,-20))),32]}function mje(t,e,{length:n,staticPosition:r}){if(!n){const o=Ku(t.readBytes(dL)),a=r+o,c=a+BV;t.setPosition(a);const l=Ku(t.readBytes(BV)),u=lE(e);let h=0;const f=[];for(let p=0;p<l;++p){t.setPosition(c+(u?p*32:h));const[g,y]=zy(t,e,{staticPosition:c});h+=y,f.push(g)}return t.setPosition(r+32),[f,32]}if(lE(e)){const o=Ku(t.readBytes(dL)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=zy(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=zy(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function gje(t){return[hje(t.readBytes(32),{size:32}),32]}function yje(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Ku(t.readBytes(32));t.setPosition(n+o);const a=Ku(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Ds(c),32]}return[Ds(t.readBytes(Number.parseInt(i),32)),32]}function vje(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?dje(i,{signed:n}):Ku(i,{signed:n}),32]}function wje(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(lE(e)){const o=Ku(t.readBytes(dL)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+s);const[u,h]=zy(t,l,{staticPosition:a});s+=h,i[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=zy(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function bje(t,{staticPosition:e}){const n=Ku(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ku(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=fje(qu(s));return t.setPosition(e+32),[o,32]}function lE(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(lE);const n=CU(t.type);return!!(n&&lE({...t,type:n[1]}))}const _je=t=>_f(D1(t));function Eje(t){return _je(t)}const Aje="1.0.8";let ec=class hL extends Error{constructor(e,n={}){var o;const r=n.cause instanceof hL?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof hL&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Aje}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Td(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Fre=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$re=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,jre=/^\(.+?\).*?$/,zV=/^tuple(?<array>(\[(\d*)\])*)$/;function fL(t){let e=t.type;if(zV.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=fL(s),i<n-1&&(e+=", ")}const r=Td(zV,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,fL({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function C0(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=fL(i),r!==n-1&&(e+=", ")}return e}function Cje(t){var e;return t.type==="function"?`function ${t.name}(${C0(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${C0(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${C0(t.inputs)})`:t.type==="error"?`error ${t.name}(${C0(t.inputs)})`:t.type==="constructor"?`constructor(${C0(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ure=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Tje(t){return Ure.test(t)}function Sje(t){return Td(Ure,t)}const Bre=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ije(t){return Bre.test(t)}function xje(t){return Td(Bre,t)}const zre=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Pje(t){return zre.test(t)}function Oje(t){return Td(zre,t)}const Vre=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Hre(t){return Vre.test(t)}function Dje(t){return Td(Vre,t)}const Wre=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Nje(t){return Wre.test(t)}function Rje(t){return Td(Wre,t)}const qre=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function kje(t){return qre.test(t)}function Mje(t){return Td(qre,t)}const Lje=/^receive\(\) external payable$/;function Fje(t){return Lje.test(t)}const $je=new Set(["indexed"]),pL=new Set(["calldata","memory","storage"]);class jje extends ec{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Uje extends ec{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Bje extends ec{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class zje extends ec{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Vje extends ec{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Hje extends ec{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Wje extends ec{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class bw extends ec{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qje extends ec{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Kje extends ec{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Gje extends ec{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Yje extends ec{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Qje(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const eR=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Zje(t,e={}){if(Pje(t))return Jje(t,e);if(Ije(t))return Xje(t,e);if(Tje(t))return eUe(t,e);if(Nje(t))return tUe(t,e);if(kje(t))return nUe(t);if(Fje(t))return{type:"receive",stateMutability:"payable"};throw new qje({signature:t})}function Jje(t,e={}){const n=Oje(t);if(!n)throw new bw({signature:t,type:"function"});const r=Cc(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(mm(r[a],{modifiers:pL,structs:e,type:"function"}));const o=[];if(n.returns){const a=Cc(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(mm(a[l],{modifiers:pL,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function Xje(t,e={}){const n=xje(t);if(!n)throw new bw({signature:t,type:"event"});const r=Cc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mm(r[o],{modifiers:$je,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function eUe(t,e={}){const n=Sje(t);if(!n)throw new bw({signature:t,type:"error"});const r=Cc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mm(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function tUe(t,e={}){const n=Rje(t);if(!n)throw new bw({signature:t,type:"constructor"});const r=Cc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mm(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function nUe(t){const e=Mje(t);if(!e)throw new bw({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const rUe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,iUe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sUe=/^u?int$/;function mm(t,e){var h,f;const n=Qje(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(eR.has(n))return eR.get(n);const r=jre.test(t),i=Td(r?iUe:rUe,t);if(!i)throw new Bje({param:t});if(i.name&&aUe(i.name))throw new zje({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const p=Cc(i.type),g=[],y=p.length;for(let v=0;v<y;v++)g.push(mm(p[v],{structs:a}));l={components:g}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(sUe.test(i.type))c=`${i.type}256`;else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!Kre(c))throw new Uje({type:c});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new Vje({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(pL.has(i.modifier)&&!cUe(c,!!i.array))throw new Hje({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return eR.set(n,u),u}function Cc(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Cc(a,[...e,n.trim()]):Cc(a,e,`${n}${o}`,r);case"(":return Cc(a,e,`${n}${o}`,r+1);case")":return Cc(a,e,`${n}${o}`,r-1);default:return Cc(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new Yje({current:n,depth:r});return e.push(n.trim()),e}function Kre(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Fre.test(t)||$re.test(t)}const oUe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function aUe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Fre.test(t)||$re.test(t)||oUe.test(t)}function cUe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function lUe(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!Hre(a))continue;const c=Dje(a);if(!c)throw new bw({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],h=l.length;for(let f=0;f<h;f++){const g=l[f].trim();if(!g)continue;const y=mm(g,{type:"struct"});u.push(y)}if(!u.length)throw new Kje({signature:a});e[c.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=Gre(c,e)}return r}const uUe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Gre(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(jre.test(o.type))r.push(o);else{const c=Td(uUe,o.type);if(!(c!=null&&c.type))throw new Wje({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new Gje({type:u});r.push({...o,type:`tuple${l??""}`,components:Gre(e[u]??[],e,new Set([...n,u]))})}else if(Kre(u))r.push(o);else throw new jje({type:u})}}return r}function Yre(t){const e=lUe(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];Hre(s)||n.push(Zje(s,e))}return n}function dUe(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Ae("Unable to normalize signature.");return i}const hUe=t=>{const e=(()=>typeof t=="string"?t:Cje(t))();return dUe(e)};function Qre(t){return Eje(hUe(t))}const LU=Qre,M1=t=>Mv(Qre(t),0,4);function L1(t){const{abi:e,args:n=[],name:r}=t,i=dd(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?M1(a)===r:a.type==="event"?LU(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const h="inputs"in a&&a.inputs[u];return h?mL(l,h):!1})){if(o&&"inputs"in o&&o.inputs){const l=Zre(a.inputs,o.inputs,n);if(l)throw new SFe({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function mL(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Wl(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>mL(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>mL(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Zre(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Zre(i.components,s.components,n[r]);const o=[i.type,s.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Wl(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Wl(n[r],{strict:!1}):!1)())return o}}const tR="/docs/contract/decodeFunctionResult";function F1(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=L1({abi:e,args:n,name:r});if(!a)throw new kv(r,{docsPath:tR});s=a}if(s.type!=="function")throw new kv(void 0,{docsPath:tR});if(!s.outputs)throw new Xne(s.name,{docsPath:tR});const o=k1(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const VV="/docs/contract/encodeFunctionData";function fUe(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=L1({abi:e,args:n,name:r});if(!s)throw new kv(r,{docsPath:VV});i=s}if(i.type!=="function")throw new kv(void 0,{docsPath:VV});return{abi:[i],functionName:M1(Hl(i))}}function _w(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:fUe(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?CO(i.inputs,e??[]):void 0;return N1([s,o??"0x"])}function $1({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new eL({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new eL({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Jre={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Xre={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},pUe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function mUe(t){const{abi:e,data:n}=t,r=Mv(n,0,4);if(r==="0x")throw new bO;const s=[...e||[],Xre,pUe].find(o=>o.type==="error"&&r===M1(Hl(o)));if(!s)throw new Zne(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?k1(s.inputs,Mv(n,4)):void 0,errorName:s.name}}function eie({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Ka(e[s]):e[s]}`).join(", ")})`}class gUe extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:f,stateOverride:p}){var v;const g=n?Jl(n):void 0;let y=R1({from:g==null?void 0:g.address,to:h,value:typeof f<"u"&&`${IU(f)} ${((v=i==null?void 0:i.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Vo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Vo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Vo(l)} gwei`,nonce:u});p&&(y+=`
${W$e(p)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class tie extends Ae{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=L1({abi:n,args:r,name:o}),l=c?eie({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Hl(c,{includeName:!0}):void 0,h=R1({address:i&&P$e(i),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class gL extends Ae{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=mUe({abi:e,data:n});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")c=f[0];else if(h==="Panic"){const[p]=f;c=Jre[p]}else{const p=u?Hl(u,{includeName:!0}):void 0,g=u&&f?eie({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",g&&g!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof Zne&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class yUe extends Ae{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class vUe extends Ae{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class FU extends Ae{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function $U(t,e){var r,i,s,o,a,c;if(!(t instanceof Ae))return!1;const n=t.walk(l=>l instanceof gL);return n instanceof gL?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===Jre[50]):!1}function wUe(t){const{abi:e,data:n}=t,r=Mv(n,0,4),i=e.find(s=>s.type==="function"&&r===M1(Hl(s)));if(!i)throw new TFe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?k1(i.inputs,Mv(n,4)):void 0}}const nR="/docs/contract/encodeErrorResult";function HV(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=L1({abi:e,args:r,name:n});if(!c)throw new AV(n,{docsPath:nR});i=c}if(i.type!=="error")throw new AV(void 0,{docsPath:nR});const s=Hl(i),o=M1(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new AFe(i.name,{docsPath:nR});a=CO(i.inputs,r)}return N1([o,a])}const rR="/docs/contract/encodeFunctionResult";function bUe(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=L1({abi:e,name:n});if(!o)throw new kv(n,{docsPath:rR});i=o}if(i.type!=="function")throw new kv(void 0,{docsPath:rR});if(!i.outputs)throw new Xne(i.name,{docsPath:rR});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new tre(r)})();return CO(i.outputs,s)}const nie="x-batch-gateway:true";async function Olt(t){const{data:e,ccipRequest:n}=t,{args:[r]}=wUe({abi:uL,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=_Ue(c)}})),bUe({abi:uL,functionName:"query",result:[i,s]})}function _Ue(t){return t.name==="HttpRequestError"&&t.status?HV({abi:uL,errorName:"HttpError",args:[t.status,t.shortMessage]}):HV({abi:[Xre],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function rie(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return dd(e)?e:null}function UT(t){let e=new Uint8Array(32).fill(0);if(!t)return Ds(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=rie(n[r]),s=i?D1(i):_f($p(n[r]),"bytes");e=_f(hm([e,s]),"bytes")}return Ds(e)}function EUe(t){return`[${t.slice(2)}]`}function AUe(t){const e=new Uint8Array(32).fill(0);return t?rie(t)||_f($p(t)):Ds(e)}function jU(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array($p(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=$p(i[s]);o.byteLength>255&&(o=$p(EUe(AUe(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const CUe=3;function KI(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof FU?t:t instanceof Ae?t.walk(g=>"data"in g)||t.walk():{},{code:c,data:l,details:u,message:h,shortMessage:f}=a,p=(()=>t instanceof bO?new yUe({functionName:s}):[CUe,pm.code].includes(c)&&(l||u||h||f)?new gL({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:a instanceof PU?u:f??h}):t)();return new tie(p,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}const TUe="0x82ad56cb",SUe="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",IUe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function xUe(t,{docsPath:e,...n}){const r=(()=>{const i=OU(t,n);return i instanceof TO?t:i})();return new gUe(r,{docsPath:e,...n})}function iie(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const iR=new Map;function sie({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:g}=u[p];g==null||g([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:g}=u[p];g==null||g(f)}})},o=()=>iR.delete(e),a=()=>c().map(({args:u})=>u),c=()=>iR.get(e)||[],l=u=>iR.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=iie();return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,resolve:f,reject:p}),h):(l({args:u,resolve:f,reject:p}),setTimeout(s,r),h)}}}async function oie(t,e){var R,$,j,K;const{account:n=t.account,batch:r=!!((R=t.batch)!=null&&R.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:c,data:l,factory:u,factoryData:h,gas:f,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:b,to:_,value:A,stateOverride:I,...P}=e,D=n?Jl(n):void 0;if(c&&(u||h))throw new Ae("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&_)throw new Ae("Cannot provide both `code` & `to` as parameters.");const T=c&&l,S=u&&h&&_&&l,x=T||S,N=(()=>T?DUe({code:c,data:l}):S?NUe({data:l,factory:u,factoryData:h,to:_}):l)();try{SO(e);const z=(i?hn(i):void 0)||s,Y=Sre(I),V=(K=(j=($=t.chain)==null?void 0:$.formatters)==null?void 0:j.transactionRequest)==null?void 0:K.format,G=(V||NU)({...DU(P,{format:V}),from:D==null?void 0:D.address,accessList:o,blobs:a,data:N,gas:f,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:b,to:x?void 0:_,value:A});if(r&&PUe({request:G})&&!Y)try{return await OUe(t,{...G,blockNumber:i,blockTag:s})}catch(ne){if(!(ne instanceof yre)&&!(ne instanceof eL))throw ne}const ee=await t.request({method:"eth_call",params:Y?[G,z,Y]:[G,z]});return ee==="0x"?{data:void 0}:{data:ee}}catch(B){const z=RUe(B),{offchainLookup:Y,offchainLookupSignature:V}=await Po(()=>import("./ccip-d6078cad.js"),[]);if(t.ccipRead!==!1&&(z==null?void 0:z.slice(0,10))===V&&_)return{data:await Y(t,{data:z,to:_})};throw x&&(z==null?void 0:z.slice(0,10))==="0x101bb98d"?new vUe({factory:u}):xUe(B,{...e,account:D,chain:t.chain})}}function PUe({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(TUe)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function OUe(t,e){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=t.batch)==null?void 0:y.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new yre;l=$1({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=(i?hn(i):void 0)||s,{schedule:f}=sie({id:`${t.uid}.${h}`,wait:r,shouldSplitBatch(v){return v.reduce((_,{data:A})=>_+(A.length-2),0)>n*2},fn:async v=>{const b=v.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),_=_w({abi:lL,args:[b],functionName:"aggregate3"}),A=await t.request({method:"eth_call",params:[{data:_,to:l},h]});return F1({abi:lL,args:[b],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:p,success:g}]=await f({data:o,to:c});if(!g)throw new FU({data:p});return p==="0x"?{data:void 0}:{data:p}}function DUe(t){const{code:e,data:n}=t;return hre({abi:Yre(["constructor(bytes, bytes)"]),bytecode:SUe,args:[e,n]})}function NUe(t){const{data:e,factory:n,factoryData:r,to:i}=t;return hre({abi:Yre(["constructor(address, bytes, address, bytes)"]),bytecode:IUe,args:[i,e,n,r]})}function RUe(t){var n;if(!(t instanceof Ae))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function gm(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=_w({abi:n,args:i,functionName:s});try{const{data:c}=await sr(t,oie,"call")({...o,data:a,to:r});return F1({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw KI(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function kUe(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return $1({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h=_w({abi:UV,functionName:"addr",...i!=null?{args:[UT(s),BigInt(i)]}:{args:[UT(s)]}}),f={address:l,abi:Lre,functionName:"resolve",args:[Vl(jU(s)),h,o??[nie]],blockNumber:n,blockTag:r},g=await sr(t,gm,"readContract")(f);if(g[0]==="0x")return null;const y=F1({abi:UV,args:i!=null?[UT(s),BigInt(i)]:void 0,functionName:"addr",data:g[0]});return y==="0x"||qu(y)==="0x00"?null:y}catch(h){if(a)throw h;if($U(h,"resolve"))return null;throw h}}class MUe extends Ae{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class T0 extends Ae{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class UU extends Ae{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class LUe extends Ae{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const FUe=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,$Ue=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,jUe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,UUe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function BUe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function WV(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function aie({uri:t,gatewayUrls:e}){const n=jUe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=WV(e==null?void 0:e.ipfs,"https://ipfs.io"),i=WV(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(FUe),{protocol:o,subpath:a,target:c,subtarget:l=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||$Ue.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(UUe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new UU({uri:t})}function cie(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new MUe({data:t});return t.image||t.image_url||t.image_data}async function zUe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await BU({gatewayUrls:t,uri:cie(n)})}catch{throw new UU({uri:e})}}async function BU({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=aie({uri:e,gatewayUrls:t});if(r||await BUe(n))return n;throw new UU({uri:e})}function VUe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new T0({reason:"Only EIP-155 supported"});if(!o)throw new T0({reason:"Chain ID not found"});if(!c)throw new T0({reason:"Contract address not found"});if(!i)throw new T0({reason:"Token ID not found"});if(!a)throw new T0({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function HUe(t,{nft:e}){if(e.namespace==="erc721")return gm(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return gm(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new LUe({namespace:e.namespace})}async function WUe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?qUe(t,{gatewayUrls:e,record:n}):BU({uri:n,gatewayUrls:e})}async function qUe(t,{gatewayUrls:e,record:n}){const r=VUe(n),i=await HUe(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=aie({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return BU({uri:cie(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),zUe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function KUe(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return $1({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:l,abi:Lre,functionName:"resolve",args:[Vl(jU(s)),_w({abi:jV,functionName:"text",args:[UT(s),i]}),o??[nie]],blockNumber:n,blockTag:r},p=await sr(t,gm,"readContract")(h);if(p[0]==="0x")return null;const g=F1({abi:jV,functionName:"text",data:p[0]});return g===""?null:g}catch(h){if(a)throw h;if($U(h,"resolve"))return null;throw h}}async function GUe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await sr(t,KUe,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await WUe(t,{record:c,gatewayUrls:r})}catch{return null}}async function YUe(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=$1({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:uje,functionName:"reverse",args:[Vl(jU(c))],blockNumber:n,blockTag:r},u=sr(t,gm,"readContract"),[h,f]=i?await u({...l,args:[...l.args,i]}):await u(l);return e.toLowerCase()!==f.toLowerCase()?null:h}catch(l){if(s)throw l;if($U(l,"reverse"))return null;throw l}}function QUe(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(n[o]=c.request)})),s=>n[s]||t.request}async function ZUe(t){const e=QUe(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const JUe=new Map,XUe=new Map;function e5e(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,JUe),r=e(t,XUe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function t5e(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=e5e(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const n5e=t=>`blockNumber.${t}`;async function r5e(t,{cacheTime:e=t.cacheTime}={}){const n=await t5e(()=>t.request({method:"eth_blockNumber"}),{cacheKey:n5e(t.uid),cacheTime:e});return BigInt(n)}function i5e(t,e){if(!Wl(t,{strict:!1}))throw new fm({address:t});if(!Wl(e,{strict:!1}))throw new fm({address:e});return t.toLowerCase()===e.toLowerCase()}const qV="/docs/contract/decodeEventLog";function s5e(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new CFe({docsPath:qV});const c=(()=>e.length===1?e[0]:e.find(y=>y.type==="event"&&o===LU(Hl(y))))();if(!(c&&"name"in c)||c.type!=="event")throw new Jne(o,{docsPath:qV});const{name:l,inputs:u}=c,h=u==null?void 0:u.some(y=>!("name"in y&&y.name));let f=h?[]:{};const p=u.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<p.length;y++){const v=p[y],b=a[y];if(!b)throw new ere({abiItem:c,param:v});f[h?y:v.name||y]=o5e({param:v,value:b})}const g=u.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(n&&n!=="0x")try{const y=k1(g,n);if(y)if(h)f=[...f,...y];else for(let v=0;v<g.length;v++)f[g[v].name]=y[v]}catch(y){if(s)throw y instanceof Qne||y instanceof fre?new XM({abiItem:c,data:n,params:g,size:ns(n)}):y}else if(s)throw new XM({abiItem:c,data:"0x",params:g,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function o5e({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(k1([t],e)||[])[0]}function a5e(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===LU(u));if(!c)return null;const l=s5e({...o,abi:[c],strict:i});return s&&!s.includes(l.eventName)||!c5e({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof Jne)return null;if(c instanceof XM||c instanceof ere){if(i)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function c5e(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?i5e(o,a):s.type==="string"||s.type==="bytes"?_f(D1(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}function lie(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function l5e(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>lie(s));return!("abi"in e)||!e.abi?i:a5e({abi:e.abi,logs:i,strict:n})}async function uie(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var u,h,f;const o=r||"latest",a=n!==void 0?hn(n):void 0;let c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,hn(s)]},{dedupe:!0}):(a||o)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,hn(s)]},{dedupe:!!a})),!c)throw new wre({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||Cre)(c)}const u5e={"0x0":"reverted","0x1":"success"};function d5e(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>lie(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?bf(t.transactionIndex):null,status:t.status?u5e[t.status]:null,type:t.type?Are[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function KV(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new bre({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||d5e)(n)}async function h5e(t,e){var v;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,c=e.contracts,l=r??(typeof((v=t.batch)==null?void 0:v.multicall)=="object"&&t.batch.multicall.batchSize||1024);let u=o;if(!u){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");u=$1({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let b=0;b<c.length;b++){const{abi:_,address:A,args:I,functionName:P}=c[b];try{const D=_w({abi:_,args:I,functionName:P});p+=(D.length-2)/2,l>0&&p>l&&h[f].length>0&&(f++,p=(D.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:D,target:A}]}catch(D){const T=KI(D,{abi:_,address:A,args:I,docsPath:"/docs/contract/multicall",functionName:P});if(!n)throw T;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:A}]}}const g=await Promise.allSettled(h.map(b=>sr(t,gm,"readContract")({abi:lL,address:u,args:[b],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),y=[];for(let b=0;b<g.length;b++){const _=g[b];if(_.status==="rejected"){if(!n)throw _.reason;for(let I=0;I<h[b].length;I++)y.push({status:"failure",error:_.reason,result:void 0});continue}const A=_.value;for(let I=0;I<A.length;I++){const{returnData:P,success:D}=A[I],{callData:T}=h[b][I],{abi:S,address:x,functionName:N,args:R}=c[y.length];try{if(T==="0x")throw new bO;if(!D)throw new FU({data:P});const $=F1({abi:S,args:R,data:P,functionName:N});y.push(n?{result:$,status:"success"}:$)}catch($){const j=KI($,{abi:S,address:x,args:R,docsPath:"/docs/contract/multicall",functionName:N});if(!n)throw j;y.push({error:j,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new Ae("multicall results mismatch");return y}const gC=new _O(8192);function f5e(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(gC.get(n))return gC.get(n);const r=t().finally(()=>gC.delete(n));return gC.set(n,r),r}async function GI(t){return new Promise(e=>setTimeout(e,t))}function YI(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await GI(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function p5e(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(l))throw new bp(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new bp(new Error("method not supported"),{method:l});const u=i?vO(`${c}.${Ka(n)}`):void 0;return f5e(()=>YI(async()=>{try{return await t(n)}catch(f){const p=f;switch(p.code){case H_.code:throw new H_(p);case W_.code:throw new W_(p);case q_.code:throw new q_(p,{method:n.method});case K_.code:throw new K_(p);case pm.code:throw new pm(p);case G_.code:throw new G_(p);case Y_.code:throw new Y_(p);case Kh.code:throw new Kh(p);case Lv.code:throw new Lv(p);case bp.code:throw new bp(p,{method:n.method});case Fv.code:throw new Fv(p);case Q_.code:throw new Q_(p);case Li.code:throw new Li(p);case Z_.code:throw new Z_(p);case J_.code:throw new J_(p);case X_.code:throw new X_(p);case eE.code:throw new eE(p);case ql.code:throw new ql(p);case tE.code:throw new tE(p);case nE.code:throw new nE(p);case rE.code:throw new rE(p);case iE.code:throw new iE(p);case sE.code:throw new sE(p);case oE.code:throw new oE(p);case aE.code:throw new aE(p);case 5e3:throw new Li(p);default:throw f instanceof Ae?f:new D$e(p)}}},{delay:({count:f,error:p})=>{var g;if(p&&p instanceof $b){const y=(g=p==null?void 0:p.headers)==null?void 0:g.get("Retry-After");if(y!=null&&y.match(/\d/))return Number.parseInt(y)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>m5e(f)}),{enabled:i,id:u})}}function m5e(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Fv.code||t.code===pm.code:t instanceof $b&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function die(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function hie(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function g5e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const GV=g5e();function y5e(t,e={}){return{async request(n){var h;const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const f=await hie(async({signal:g})=>{const y={...a,body:Array.isArray(r)?Ka(r.map(A=>({jsonrpc:"2.0",id:A.id??GV.take(),...A}))):Ka({jsonrpc:"2.0",id:r.id??GV.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?g:null)},v=new Request(t,y),b=await(i==null?void 0:i(v,y))??{...y,url:t};return await fetch(b.url??t,b)},{errorInstance:new NV({body:r,url:t}),timeout:o,signal:!0});s&&await s(f);let p;if((h=f.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))p=await f.json();else{p=await f.text();try{p=JSON.parse(p||"{}")}catch(g){if(f.ok)throw g;p={error:p}}}if(!f.ok)throw new $b({body:r,details:Ka(p.error)||f.statusText,headers:f.headers,status:f.status,url:t});return p}catch(f){throw f instanceof $b||f instanceof NV?f:new $b({body:r,cause:f,url:t})}}}}class v5e extends Ae{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function fie(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new v5e({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function w5e(t,e="wei"){return fie(t,vre[e])}const sR=new Map,YV=new Map;let b5e=0;function QI(t,e,n){const r=++b5e,i=()=>sR.get(t)||[],s=()=>{const u=i();sR.set(t,u.filter(h=>h.id!==r))},o=()=>{const u=i();if(!u.some(f=>f.id===r))return;const h=YV.get(t);u.length===1&&h&&h(),s()},a=i();if(sR.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...h)=>{var p,g;const f=i();if(f.length!==0)for(const y of f)(g=(p=y.fns)[u])==null||g.call(p,...h)};const l=n(c);return typeof l=="function"&&YV.set(t,l),o}function pie(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await GI(c);const l=async()=>{i&&(await t({unpoll:s}),await GI(r),l())};l()})(),s}function _5e(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=(()=>typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))();let c;return a?(()=>{const h=Ka(["watchBlockNumber",t.uid,e,n,o]);return QI(h,{onBlockNumber:r,onError:i},f=>pie(async()=>{var p;try{const g=await sr(t,r5e,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&n)for(let y=c+1n;y<g;y++)f.onBlockNumber(y,c),c=y}(!c||g>c)&&(f.onBlockNumber(g,c),c=g)}catch(g){(p=f.onError)==null||p.call(f,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=Ka(["watchBlockNumber",t.uid,e,n]);return QI(h,{onBlockNumber:r,onError:i},f=>{let p=!0,g=()=>p=!1;return(async()=>{try{const y=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(_=>_.config.type==="webSocket");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],onData(b){var A;if(!p)return;const _=dm((A=b.result)==null?void 0:A.number);f.onBlockNumber(_,c),c=_},onError(b){var _;(_=f.onError)==null||_.call(f,b)}});g=v,p||g()}catch(y){i==null||i(y)}})(),()=>g()})})()}async function E5e(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function A5e(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const l=Ka(["watchPendingTransactions",t.uid,e,s]);return QI(l,{onTransactions:r,onError:n},u=>{let h;const f=pie(async()=>{var p;try{if(!h)try{h=await sr(t,ZUe,"createPendingTransactionFilter")({});return}catch(y){throw f(),y}const g=await sr(t,l5e,"getFilterChanges")({filter:h});if(g.length===0)return;if(e)u.onTransactions(g);else for(const y of g)u.onTransactions([y])}catch(g){(p=u.onError)==null||p.call(u,g)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await sr(t,E5e,"uninstallFilter")({filter:h}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const p=f.result;r([p])},onError(f){n==null||n(f)}});u=h,l||u()}catch(h){n==null||n(h)}})(),()=>u()})()}async function C5e(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=Ka(["waitForTransactionReceipt",t.uid,n]);let l,u,h,f=!1;const{promise:p,resolve:g,reject:y}=iie(),v=a?setTimeout(()=>y(new x$e({hash:n})),a):void 0,b=QI(c,{onReplaced:r,resolve:g,reject:y},_=>{const A=sr(t,_5e,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(I){const P=T=>{clearTimeout(v),A(),T(),b()};let D=I;if(!f)try{if(h){if(e>1&&(!h.blockNumber||D-h.blockNumber+1n<e))return;P(()=>_.resolve(h));return}if(l||(f=!0,await YI(async()=>{l=await sr(t,uie,"getTransaction")({hash:n}),l.blockNumber&&(D=l.blockNumber)},{delay:o,retryCount:s}),f=!1),h=await sr(t,KV,"getTransactionReceipt")({hash:n}),e>1&&(!h.blockNumber||D-h.blockNumber+1n<e))return;P(()=>_.resolve(h))}catch(T){if(T instanceof wre||T instanceof bre){if(!l){f=!1;return}try{u=l,f=!0;const S=await YI(()=>sr(t,cE,"getBlock")({blockNumber:D,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:R})=>R instanceof Ere});f=!1;const x=S.transactions.find(({from:R,nonce:$})=>R===u.from&&$===u.nonce);if(!x||(h=await sr(t,KV,"getTransactionReceipt")({hash:x.hash}),e>1&&(!h.blockNumber||D-h.blockNumber+1n<e)))return;let N="replaced";x.to===u.to&&x.value===u.value&&x.input===u.input?N="repriced":x.from===x.to&&x.value===0n&&(N="cancelled"),P(()=>{var R;(R=_.onReplaced)==null||R.call(_,{reason:N,replacedTransaction:u,transaction:x,transactionReceipt:h}),_.resolve(h)})}catch(S){P(()=>_.reject(S))}}else P(()=>_.reject(T))}}})});return p}async function T5e(t,{account:e=t.account,message:n}){if(!e)throw new TU({docsPath:"/docs/actions/wallet/signMessage"});const r=Jl(e);if(r.signMessage)return r.signMessage({message:n});const i=(()=>typeof n=="string"?vO(n):n.raw instanceof Uint8Array?Vl(n.raw):n.raw)();return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function S5e(t,e){const{abi:n,account:r=t.account,address:i,args:s,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new TU({docsPath:"/docs/contract/writeContract"});const l=r?Jl(r):null,u=_w({abi:n,args:s,functionName:a});try{return await sr(t,kre,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:i,account:l,...c})}catch(h){throw KI(h,{abi:n,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function lo(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}const BT="2.16.7",I5e=()=>`@wagmi/core@${BT}`;var mie=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ZI,gie;let Sd=class yL extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return I5e()}constructor(e,n={}){var s;super(),ZI.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof yL?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof yL&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return mie(this,ZI,"m",gie).call(this,this,e)}};ZI=new WeakSet,gie=function t(e,n){return n!=null&&n(e)?e:e.cause?mie(this,ZI,"m",t).call(this,e.cause,n):e};class uE extends Sd{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class x5e extends Sd{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class P5e extends Sd{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class O5e extends Sd{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class D5e extends Sd{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class N5e extends Sd{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function QV(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new x5e;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:i,...s}=e,o=await n.connect(s),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}const vL=256;let yC=vL,vC;function yie(t=11){if(!vC||yC+t>vL*2){vC="",yC=0;for(let e=0;e<vL;e++)vC+=(256+Math.random()*256|0).toString(16).substring(1)}return vC.substring(yC,yC+++t)}function vie(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,c=t.chain,l=t.account?Jl(t.account):void 0,{config:u,request:h,value:f}=t.transport({chain:c,pollingInterval:o}),p={...u,...f},g={account:l,batch:e,cacheTime:n,ccipRead:r,chain:c,key:i,name:s,pollingInterval:o,request:h,transport:p,type:a,uid:yie()};function y(v){return b=>{const _=b(v);for(const I in g)delete _[I];const A={...v,..._};return Object.assign(A,{extend:y(A)})}}return Object.assign(g,{extend:y(g)})}function zU({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=yie();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:p5e(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function R5e(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>zU({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function ZV(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=k5e,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...h})=>{let f=t,p=()=>{};const g=zU({key:n,name:r,async request({method:y,params:v}){let b;const _=async(A=0)=>{const I=f[A]({...h,chain:c,retryCount:0,timeout:u});try{const P=await I.request({method:y,params:v});return p({method:y,params:v,response:P,transport:I,status:"success"}),P}catch(P){if(p({error:P,method:y,params:v,transport:I,status:"error"}),s(P)||A===f.length-1||(b??(b=f.slice(A+1).some(D=>{const{include:T,exclude:S}=D({chain:c}).config.methods||{};return T?T.includes(y):S?!S.includes(y):!0})),!b))throw P;return _(A+1)}};return _()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:y=>p=y,transports:f.map(y=>y({chain:c,retryCount:0}))});if(i){const y=typeof i=="object"?i:{};M5e({chain:c,interval:y.interval??l,onTransports:v=>f=v,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:f,weights:y.weights})}return g}}function k5e(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Lv.code||t.code===Li.code||wp.nodeMessage.test(t.message)||t.code===5e3))}function M5e({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],h=async()=>{const f=await Promise.all(o.map(async y=>{const v=y({chain:t,retryCount:0,timeout:s}),b=Date.now();let _,A;try{await(r?r({transport:v}):v.request({method:"net_listening"})),A=1}catch{A=0}finally{_=Date.now()}return{latency:_-b,success:A}}));u.push(f),u.length>i&&u.shift();const p=Math.max(...u.map(y=>Math.max(...y.map(({latency:v})=>v)))),g=o.map((y,v)=>{const b=u.map(D=>D[v].latency),A=1-b.reduce((D,T)=>D+T,0)/b.length/p,I=u.map(D=>D[v].success),P=I.reduce((D,T)=>D+T,0)/I.length;return P===0?[0,v]:[l*A+c*P,v]}).sort((y,v)=>v[0]-y[0]);n(g.map(([,y])=>o[y])),await GI(e),h()};h()}class L5e extends Ae{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function wC(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:h,retryCount:f,timeout:p})=>{const{batchSize:g=1e3,wait:y=0}=typeof n=="object"?n:{},v=e.retryCount??f,b=p??e.timeout??1e4,_=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!_)throw new L5e;const A=y5e(_,{fetchOptions:r,onRequest:a,onResponse:c,timeout:b});return zU({key:i,methods:s,name:o,async request({method:I,params:P}){const D={method:I,params:P},{schedule:T}=sie({id:_,wait:y,shouldSplitBatch(R){return R.length>g},fn:R=>A.request({body:R}),sort:(R,$)=>R.id-$.id}),S=async R=>n?T(R):[await A.request({body:R})],[{error:x,result:N}]=await S(D);if(u)return{error:x,result:N};if(x)throw new PU({body:D,error:x,url:_});return N},retryCount:v,retryDelay:l,timeout:b,type:"http"},{fetchOptions:r,url:_})}}async function IO(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new N5e({connector:l});const[u,h]=await Promise.all([l.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),l.getChainId()]);n={accounts:u,chainId:h,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new P5e;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new D5e({connectionChainId:n.chainId,connectorChainId:i});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const o=Jl(e.account??n.accounts[0]);if(o&&(o.address=vp(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new O5e({address:o.address,connector:s});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return vie({account:o,chain:a,name:"Connector Client",transport:l=>R5e(c)({...l,retryCount:0})})}async function F5e(t,e={}){var i,s;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}async function $5e(t,e){const{chainId:n,connector:r,...i}=e;let s;e.account?s=e.account:s=(await IO(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return lo(o,xre,"estimateGas")({...i,account:s})}function wie(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(C$e[t])}function JI(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],s=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function j5e(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...s}=e,o=t.getClient({chainId:r});return lo(o,h5e,"multicall")({allowFailure:n,contracts:i,...s})}function U5e(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return lo(i,gm,"readContract")(r)}async function B5e(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:i,...s}=e,o=e.contracts;try{const c={};for(const[f,p]of o.entries()){const g=p.chainId??t.state.chainId;c[g]||(c[g]=[]),(a=c[g])==null||a.push({contract:p,index:f})}const l=()=>Object.entries(c).map(([f,p])=>j5e(t,{...s,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(f),contracts:p.map(({contract:g})=>g)})),u=(await Promise.all(l())).flat(),h=Object.values(c).flatMap(f=>f.map(({index:p})=>p));return u.reduce((f,p,g)=>(f&&(f[h[g]]=p),f),[])}catch(c){if(c instanceof tie)throw c;const l=()=>o.map(u=>U5e(t,{...u,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function z5e(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:s,token:o,unit:a="ether"}=e;if(o)try{return await JV(t,{balanceAddress:n,chainId:s,symbolType:"string",tokenAddress:o})}catch(f){if(f.name==="ContractFunctionExecutionError"){const p=await JV(t,{balanceAddress:n,chainId:s,symbolType:"bytes32",tokenAddress:o}),g=bU(qu(p.symbol,{dir:"right"}));return{...p,symbol:g}}throw f}const c=t.getClient({chainId:s}),u=await lo(c,Ire,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),h=t.chains.find(f=>f.id===s)??c.chain;return{decimals:h.nativeCurrency.decimals,formatted:ww(u,wie(a)),symbol:h.nativeCurrency.symbol,value:u}}async function JV(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:s,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[c,l,u]=await B5e(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),h=ww(c??"0",wie(o??l));return{decimals:l,formatted:h,symbol:u,value:c}}function XI(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!XI(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(s&&!XI(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let bC=[];function Tg(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||XI(bC,e)?bC:(bC=e,e)}function V5e(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return lo(i,kUe,"getEnsAddress")(r)}function H5e(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return lo(i,GUe,"getEnsAvatar")(r)}function W5e(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return lo(i,YUe,"getEnsName")(r)}async function q5e(t,e){const{account:n,chainId:r,...i}=e,s=n??JI(t).address,o=t.getClient({chainId:r});return lo(o,MU,"prepareTransactionRequest")({...i,...s?{account:s}:{}})}let oR=!1;async function bie(t,e={}){var l,u;if(oR)return[];oR=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const h of e.connectors){let f;typeof h=="function"?f=t._internal.connectors.setup(h):f=h,n.push(f)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of t.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...n].sort((h,f)=>(i[h.id]??10)-(i[f.id]??10)):n;let o=!1;const a=[],c=[];for(const h of s){const f=await h.getProvider().catch(()=>{});if(!f||c.some(y=>y===f)||!await h.isAuthorized())continue;const g=await h.connect({isReconnecting:!0}).catch(()=>null);g&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(y=>{const v=new Map(o?y.connections:new Map).set(h.uid,{accounts:g.accounts,chainId:g.chainId,connector:h});return{...y,current:o?y.current:h.uid,connections:v}}),a.push({accounts:g.accounts,chainId:g.chainId,connector:h}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),oR=!1,a}async function K5e(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await IO(t,{account:n??void 0,chainId:r,connector:i}),await lo(o,kre,"sendTransaction")({...s,...n?{account:n}:{},chain:r?{id:r}:null,gas:s.gas??void 0})}async function G5e(t,e){const{account:n,connector:r,...i}=e;let s;return typeof n=="object"&&n.type==="local"?s=t.getClient():s=await IO(t,{account:n,connector:r}),lo(s,T5e,"signMessage")({...i,...n?{account:n}:{}})}class eh extends Sd{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class Y5e extends Sd{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function XV(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new Y5e({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const s=t.chains.find(a=>a.id===r);if(!s)throw new uE;return t.setState(a=>({...a,chainId:r})),s}function Q5e(t,e){const{onChange:n}=e;return t.subscribe(()=>JI(t),n,{equalityFn(r,i){const{connector:s,...o}=r,{connector:a,...c}=i;return XI(o,c)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function Z5e(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function J5e(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let i;const s=c=>{i&&i();const l=t.getClient({chainId:c});return i=lo(l,A5e,"watchPendingTransactions")(r),i},o=s(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>s(c))),()=>{o==null||o(),a==null||a()}}async function X5e(t,e){const{chainId:n,timeout:r=0,...i}=e,s=t.getClient({chainId:n}),a=await lo(s,C5e,"waitForTransactionReceipt")({...i,timeout:r});if(a.status==="reverted"){const l=await lo(s,uie,"getTransaction")({hash:a.transactionHash}),h=await lo(s,oie,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),f=h!=null&&h.data?bU(`0x${h.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:s.chain.id}}async function _ie(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await IO(t,{account:n??void 0,chainId:r,connector:i}),await lo(o,S5e,"writeContract")({...s,...n?{account:n}:{},chain:r?{id:r}:null})}function Dlt(t){return t}xO.type="injected";function xO(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...e4e[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let i,s,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:xO.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:u}={}){var p,g,y,v,b,_;const h=await this.getProvider();if(!h)throw new eh;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(v=(y=(g=(p=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:g[0])==null?void 0:y.value)==null?void 0:v.map(I=>vp(I)),f.length>0&&(f=await this.getAccounts())}catch(A){const I=A;if(I.code===Li.code)throw new Li(I);if(I.code===Kh.code)throw I}try{!(f!=null&&f.length)&&!u&&(f=(await h.request({method:"eth_requestAccounts"})).map(P=>vp(P))),o&&(h.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a));let A=await this.getChainId();if(l&&A!==l){const I=await this.switchChain({chainId:l}).catch(P=>{if(P.code===Li.code)throw P;return{id:A}});A=(I==null?void 0:I.id)??A}return e&&await((b=c.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),t.target||await((_=c.storage)==null?void 0:_.setItem("injected.connected",!0)),{accounts:f,chainId:A}}catch(A){const I=A;throw I.code===Li.code?new Li(I):I.code===Kh.code?new Kh(I):I}},async disconnect(){var u,h;const l=await this.getProvider();if(!l)throw new eh;s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await hie(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new eh;return(await l.request({method:"eth_accounts"})).map(h=>vp(h))},async getChainId(){const l=await this.getProvider();if(!l)throw new eh;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=zT(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),y=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(b=>window.addEventListener("ethereum#initialized",()=>b(g()),{once:!0}))]:[],new Promise(b=>setTimeout(()=>b(g()),y))]))return!0}throw new eh}return!!(await YI(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var g,y,v,b;const h=await this.getProvider();if(!h)throw new eh;const f=c.chains.find(_=>_.id===u);if(!f)throw new ql(new uE);const p=new Promise(_=>{const A=I=>{"chainId"in I&&I.chainId===u&&(c.emitter.off("change",A),_())};c.emitter.on("change",A)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:hn(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),p]),f}catch(_){const A=_;if(A.code===4902||((y=(g=A==null?void 0:A.data)==null?void 0:g.originalError)==null?void 0:y.code)===4902)try{const{default:I,...P}=f.blockExplorers??{};let D;l!=null&&l.blockExplorerUrls?D=l.blockExplorerUrls:I&&(D=[I.url,...Object.values(P).map(x=>x.url)]);let T;(v=l==null?void 0:l.rpcUrls)!=null&&v.length?T=l.rpcUrls:T=[((b=f.rpcUrls.default)==null?void 0:b.http[0])??""];const S={blockExplorerUrls:D,chainId:hn(u),chainName:(l==null?void 0:l.chainName)??f.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??f.nativeCurrency,rpcUrls:T};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Li(new Error("User rejected switch after adding network."))}),p]),f}catch(I){throw new Li(I)}throw A.code===Li.code?new Li(A):new ql(A)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(h=>vp(h))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const h=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:h});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const e4e={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:zT(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return zT(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:zT(t,"isPhantom")}}};function zT(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function t4e(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function n4e(){const t=new Set;let e=[];const n=()=>t4e(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const r4e=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let h=o(r.getState());l=f=>{const p=o(f);if(!u(h,p)){const g=h;a(h=p,g)}},c!=null&&c.fireImmediately&&a(h,h)}return i(l)},t(e,n,r)},i4e=r4e;function s4e(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>n.removeItem(i)}}const wL=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return wL(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return wL(r)(n)}}}},o4e=(t,e)=>(n,r,i)=>{let s={storage:s4e(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const u=()=>{const y=s.partialize({...r()});return l.setItem(s.name,{state:y,version:s.version})},h=i.setState;i.setState=(y,v)=>{h(y,v),u()};const f=t((...y)=>{n(...y),u()},r,i);i.getInitialState=()=>f;let p;const g=()=>{var y,v;if(!l)return;o=!1,a.forEach(_=>{var A;return _((A=r())!=null?A:f)});const b=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(y=r())!=null?y:f))||void 0;return wL(l.getItem.bind(l))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var A;const[I,P]=_;if(p=s.merge(P,(A=r())!=null?A:f),n(p,!0),I)return u()}).then(()=>{b==null||b(p,void 0),p=r(),o=!0,c.forEach(_=>_(p))}).catch(_=>{b==null||b(void 0,_)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||g(),p||f},a4e=o4e,eH=t=>{let e;const n=new Set,r=(l,u)=>{const h=typeof l=="function"?l(e):l;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},aR=t=>t?eH(t):eH;var Eie={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||c,f),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)e.call(u,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},a.prototype.listenerCount=function(l){var u=n?n+l:l,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,u,h,f,p,g){var y=n?n+l:l;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,_,A;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,f),!0;case 5:return v.fn.call(v.context,u,h,f,p),!0;case 6:return v.fn.call(v.context,u,h,f,p,g),!0}for(A=1,_=new Array(b-1);A<b;A++)_[A-1]=arguments[A];v.fn.apply(v.context,_)}else{var I=v.length,P;for(A=0;A<I;A++)switch(v[A].once&&this.removeListener(l,v[A].fn,void 0,!0),b){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,u);break;case 3:v[A].fn.call(v[A].context,u,h);break;case 4:v[A].fn.call(v[A].context,u,h,f);break;default:if(!_)for(P=1,_=new Array(b-1);P<b;P++)_[P-1]=arguments[P];v[A].fn.apply(v[A].context,_)}}return!0},a.prototype.on=function(l,u,h){return s(this,l,u,h,!1)},a.prototype.once=function(l,u,h){return s(this,l,u,h,!0)},a.prototype.removeListener=function(l,u,h,f){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==u||f&&!g[y].once||h&&g[y].context!==h)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Eie);var c4e=Eie.exports;const l4e=cs(c4e);class u4e{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new l4e})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function d4e(t){return new u4e(t)}function h4e(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function tH(t,e){return t.slice(0,e).join(".")||"."}function nH(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function f4e(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const l=nH(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const u=nH(i,c);if(u!==0)return r?e.call(this,a,c,tH(s,u)):`[ref=${tH(s,u)}]`}else i[0]=c,s[0]=a;return n?t.call(this,a,c):c}}function p4e(t,e,n,r){return JSON.stringify(t,f4e((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),n??void 0)}function m4e(t){const{deserialize:e=h4e,key:n="wagmi",serialize:r=p4e,storage:i=Aie}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:n,async getItem(o,a){const c=i.getItem(`${n}.${o}`),l=await s(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,r(a)))},async removeItem(o){await s(i.removeItem(`${n}.${o}`))}}}const Aie={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function g4e(){const t=(()=>typeof window<"u"&&window.localStorage?window.localStorage:Aie)();return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const bL=256;let _C=bL,EC;function y4e(t=11){if(!EC||_C+t>bL*2){EC="",_C=0;for(let e=0;e<bL;e++)EC+=(256+Math.random()*256|0).toString(16).substring(1)}return EC.substring(_C,_C+++t)}function v4e(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=m4e({storage:g4e()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?n4e():void 0,a=aR(()=>s.chains),c=aR(()=>{const P=[],D=new Set;for(const T of s.connectors??[]){const S=l(T);if(P.push(S),!i&&S.rdns){const x=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const N of x)D.add(N)}}if(!i&&o){const T=o.getProviders();for(const S of T)D.has(S.info.rdns)||P.push(l(u(S)))}return P});function l(P){var S;const D=d4e(y4e()),T={...P({emitter:D,chains:a.getState(),storage:n,transports:s.transports}),emitter:D,uid:D.uid};return D.on("connect",A),(S=T.setup)==null||S.call(T),T}function u(P){const{info:D}=P,T=P.provider;return xO({target:{...D,id:D.rdns,provider:T}})}const h=new Map;function f(P={}){const D=P.chainId??v.getState().chainId,T=a.getState().find(x=>x.id===D);if(P.chainId&&!T)throw new uE;{const x=h.get(v.getState().chainId);if(x&&!T)return x;if(!T)throw new uE}{const x=h.get(D);if(x)return x}let S;if(s.client)S=s.client({chain:T});else{const x=T.id,N=a.getState().map(j=>j.id),R={},$=Object.entries(s);for(const[j,K]of $)if(!(j==="chains"||j==="client"||j==="connectors"||j==="transports"))if(typeof K=="object")if(x in K)R[j]=K[x];else{if(N.some(z=>z in K))continue;R[j]=K}else R[j]=K;S=vie({...R,chain:T,batch:R.batch??{multicall:!0},transport:j=>s.transports[x]({...j,connectors:c})})}return h.set(D,S),S}function p(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const y="0.0.0-canary-";BT.startsWith(y)?g=Number.parseInt(BT.replace(y,"")):g=Number.parseInt(BT.split(".")[0]??"0");const v=aR(i4e(n?a4e(p,{migrate(P,D){if(D===g)return P;const T=p(),S=b(P,T.chainId);return{...T,chainId:S}},name:"store",partialize(P){return{connections:{__type:"Map",value:Array.from(P.connections.entries()).map(([D,T])=>{const{id:S,name:x,type:N,uid:R}=T.connector;return[D,{...T,connector:{id:S,name:x,type:N,uid:R}}]})},chainId:P.chainId,current:P.current}},merge(P,D){typeof P=="object"&&P&&"status"in P&&delete P.status;const T=b(P,D.chainId);return{...D,...P,chainId:T}},skipHydration:i,storage:n,version:g}):p));v.setState(p());function b(P,D){return P&&typeof P=="object"&&"chainId"in P&&typeof P.chainId=="number"&&a.getState().some(T=>T.id===P.chainId)?P.chainId:D}r&&v.subscribe(({connections:P,current:D})=>{var T;return D?(T=P.get(D))==null?void 0:T.chainId:void 0},P=>{if(a.getState().some(T=>T.id===P))return v.setState(T=>({...T,chainId:P??T.chainId}))}),o==null||o.subscribe(P=>{const D=new Set,T=new Set;for(const x of c.getState())if(D.add(x.id),x.rdns){const N=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const R of N)T.add(R)}const S=[];for(const x of P){if(T.has(x.info.rdns))continue;const N=l(u(x));D.has(N.id)||S.push(N)}n&&!v.persist.hasHydrated()||c.setState(x=>[...x,...S],!0)});function _(P){v.setState(D=>{const T=D.connections.get(P.uid);return T?{...D,connections:new Map(D.connections).set(P.uid,{accounts:P.accounts??T.accounts,chainId:P.chainId??T.chainId,connector:T.connector})}:D})}function A(P){v.getState().status==="connecting"||v.getState().status==="reconnecting"||v.setState(D=>{const T=c.getState().find(S=>S.uid===P.uid);return T?(T.emitter.listenerCount("connect")&&T.emitter.off("connect",_),T.emitter.listenerCount("change")||T.emitter.on("change",_),T.emitter.listenerCount("disconnect")||T.emitter.on("disconnect",I),{...D,connections:new Map(D.connections).set(P.uid,{accounts:P.accounts,chainId:P.chainId,connector:T}),current:P.uid,status:"connected"}):D})}function I(P){v.setState(D=>{const T=D.connections.get(P.uid);if(T){const x=T.connector;x.emitter.listenerCount("change")&&T.connector.emitter.off("change",_),x.emitter.listenerCount("disconnect")&&T.connector.emitter.off("disconnect",I),x.emitter.listenerCount("connect")||T.connector.emitter.on("connect",A)}if(D.connections.delete(P.uid),D.connections.size===0)return{...D,connections:new Map,current:null,status:"disconnected"};const S=D.connections.values().next().value;return{...D,connections:new Map(D.connections),current:S.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return v.getState()},setState(P){let D;typeof P=="function"?D=P(v.getState()):D=P;const T=p();typeof D!="object"&&(D=T),Object.keys(T).some(x=>!(x in D))&&(D=T),v.setState(D,!0)},subscribe(P,D,T){return v.subscribe(P,D,T?{...T,fireImmediately:T.emitImmediately}:void 0)},_internal:{mipd:o,store:v,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(P){const D=typeof P=="function"?P(a.getState()):P;if(D.length!==0)return a.setState(D,!0)},subscribe(P){return a.subscribe(P)}},connectors:{providerDetailToConnector:u,setup:l,setState(P){return c.setState(typeof P=="function"?P(c.getState()):P,!0)},subscribe(P){return c.subscribe(P)}},events:{change:_,connect:A,disconnect:I}}}}function w4e(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var c;const s=new Set;for(const l of i??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const h of u)s.add(h)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(s.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),h=t._internal.connectors.setup(u);o.push(h)}return[...i,...o]})),r?bie(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function b4e(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:s}=w4e(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||s();const o=M.useRef(!0);return M.useEffect(()=>{if(o.current&&n._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const Cie=M.createContext(void 0);function _4e(t){const{children:e,config:n}=t,r={value:n};return M.createElement(b4e,t,M.createElement(Cie.Provider,r,e))}const E4e="2.14.16",A4e=()=>`wagmi@${E4e}`;let C4e=class extends Sd{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return A4e()}};class T4e extends C4e{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function S4e(t={}){const e=t.config??M.useContext(Cie);if(!e)throw new T4e;return e}var j1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},PO=typeof window>"u"||"Deno"in globalThis;function yc(){}function I4e(t,e){return typeof t=="function"?t(e):t}function x4e(t){return typeof t=="number"&&t>=0&&t!==1/0}function P4e(t,e){return Math.max(t+(e||0)-Date.now(),0)}function rH(t,e){return typeof t=="function"?t(e):t}function O4e(t,e){return typeof t=="function"?t(e):t}function iH(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==VU(o,e.options))return!1}else if(!dE(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function sH(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ym(e.options.mutationKey)!==ym(s))return!1}else if(!dE(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function VU(t,e){return((e==null?void 0:e.queryKeyHashFn)||ym)(t)}function ym(t){return JSON.stringify(t,(e,n)=>_L(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function dE(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>dE(t[n],e[n])):!1}function Tie(t,e){if(t===e)return t;const n=oH(t)&&oH(e);if(n||_L(t)&&_L(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:s[l];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=Tie(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function D4e(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function oH(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _L(t){if(!aH(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!aH(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aH(t){return Object.prototype.toString.call(t)==="[object Object]"}function N4e(t){return new Promise(e=>{setTimeout(e,t)})}function R4e(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Tie(t,e):e}function k4e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function M4e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var HU=Symbol();function Sie(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===HU?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Sp,fh,Qy,rK,L4e=(rK=class extends j1{constructor(){super();dn(this,Sp,void 0);dn(this,fh,void 0);dn(this,Qy,void 0);Ft(this,Qy,e=>{if(!PO&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){me(this,fh)||this.setEventListener(me(this,Qy))}onUnsubscribe(){var e;this.hasListeners()||((e=me(this,fh))==null||e.call(this),Ft(this,fh,void 0))}setEventListener(e){var n;Ft(this,Qy,e),(n=me(this,fh))==null||n.call(this),Ft(this,fh,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){me(this,Sp)!==e&&(Ft(this,Sp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof me(this,Sp)=="boolean"?me(this,Sp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Sp=new WeakMap,fh=new WeakMap,Qy=new WeakMap,rK),Iie=new L4e,Zy,ph,Jy,iK,F4e=(iK=class extends j1{constructor(){super();dn(this,Zy,!0);dn(this,ph,void 0);dn(this,Jy,void 0);Ft(this,Jy,e=>{if(!PO&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){me(this,ph)||this.setEventListener(me(this,Jy))}onUnsubscribe(){var e;this.hasListeners()||((e=me(this,ph))==null||e.call(this),Ft(this,ph,void 0))}setEventListener(e){var n;Ft(this,Jy,e),(n=me(this,ph))==null||n.call(this),Ft(this,ph,e(this.setOnline.bind(this)))}setOnline(e){me(this,Zy)!==e&&(Ft(this,Zy,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return me(this,Zy)}},Zy=new WeakMap,ph=new WeakMap,Jy=new WeakMap,iK),ex=new F4e;function $4e(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function j4e(t){return Math.min(1e3*2**t,3e4)}function xie(t){return(t??"online")==="online"?ex.isOnline():!0}var Pie=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function cR(t){return t instanceof Pie}function Oie(t){let e=!1,n=0,r=!1,i;const s=$4e(),o=y=>{var v;r||(f(new Pie(y)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>Iie.isFocused()&&(t.networkMode==="always"||ex.isOnline())&&t.canRun(),u=()=>xie(t.networkMode)&&t.canRun(),h=y=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,y),i==null||i(),s.resolve(y))},f=y=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,y),i==null||i(),s.reject(y))},p=()=>new Promise(y=>{var v;i=b=>{(r||l())&&y(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),g=()=>{if(r)return;let y;const v=n===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var D;if(r)return;const _=t.retry??(PO?0:3),A=t.retryDelay??j4e,I=typeof A=="function"?A(n,b):A,P=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,b);if(e||!P){f(b);return}n++,(D=t.onFail)==null||D.call(t,n,b),N4e(I).then(()=>l()?void 0:p()).then(()=>{e?f(b):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),s)}}var U4e=t=>setTimeout(t,0);function B4e(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=U4e;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var As=B4e(),Ip,sK,Die=(sK=class{constructor(){dn(this,Ip,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x4e(this.gcTime)&&Ft(this,Ip,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(PO?1/0:5*60*1e3))}clearGcTimeout(){me(this,Ip)&&(clearTimeout(me(this,Ip)),Ft(this,Ip,void 0))}},Ip=new WeakMap,sK),Xy,ev,ka,xp,Bs,YE,Pp,vc,bu,oK,z4e=(oK=class extends Die{constructor(e){super();dn(this,vc);dn(this,Xy,void 0);dn(this,ev,void 0);dn(this,ka,void 0);dn(this,xp,void 0);dn(this,Bs,void 0);dn(this,YE,void 0);dn(this,Pp,void 0);Ft(this,Pp,!1),Ft(this,YE,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ft(this,xp,e.client),Ft(this,ka,me(this,xp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ft(this,Xy,H4e(this.options)),this.state=e.state??me(this,Xy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=me(this,Bs))==null?void 0:e.promise}setOptions(e){this.options={...me(this,YE),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&me(this,ka).remove(this)}setData(e,n){const r=R4e(this.state.data,e,this.options);return li(this,vc,bu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){li(this,vc,bu).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=me(this,Bs))==null?void 0:r.promise;return(i=me(this,Bs))==null||i.cancel(e),n?n.then(yc).catch(yc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(me(this,Xy))}isActive(){return this.observers.some(e=>O4e(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HU||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!P4e(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=me(this,Bs))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=me(this,Bs))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),me(this,ka).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(me(this,Bs)&&(me(this,Pp)?me(this,Bs).cancel({revert:!0}):me(this,Bs).cancelRetry()),this.scheduleGc()),me(this,ka).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||li(this,vc,bu).call(this,{type:"invalidate"})}fetch(e,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(me(this,Bs))return me(this,Bs).continueRetry(),me(this,Bs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ft(this,Pp,!0),r.signal)})},s=()=>{const h=Sie(this.options,n),f={client:me(this,xp),queryKey:this.queryKey,meta:this.meta};return i(f),Ft(this,Pp,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:me(this,xp),state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ft(this,ev,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&li(this,vc,bu).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var f,p,g,y;cR(h)&&h.silent||li(this,vc,bu).call(this,{type:"error",error:h}),cR(h)||((p=(f=me(this,ka).config).onError)==null||p.call(f,h,this),(y=(g=me(this,ka).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Ft(this,Bs,Oie({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){a(v);return}(p=(f=me(this,ka).config).onSuccess)==null||p.call(f,h,this),(y=(g=me(this,ka).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{li(this,vc,bu).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{li(this,vc,bu).call(this,{type:"pause"})},onContinue:()=>{li(this,vc,bu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),me(this,Bs).start()}},Xy=new WeakMap,ev=new WeakMap,ka=new WeakMap,xp=new WeakMap,Bs=new WeakMap,YE=new WeakMap,Pp=new WeakMap,vc=new WeakSet,bu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...V4e(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return cR(i)&&i.revert&&me(this,ev)?{...me(this,ev),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),As.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),me(this,ka).notify({query:this,type:"updated",action:e})})},oK);function V4e(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xie(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function H4e(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fl,aK,W4e=(aK=class extends j1{constructor(e={}){super();dn(this,fl,void 0);this.config=e,Ft(this,fl,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??VU(i,n);let o=this.get(s);return o||(o=new z4e({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){me(this,fl).has(e.queryHash)||(me(this,fl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=me(this,fl).get(e.queryHash);n&&(e.destroy(),n===e&&me(this,fl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){As.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return me(this,fl).get(e)}getAll(){return[...me(this,fl).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iH(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>iH(e,r)):n}notify(e){As.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){As.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){As.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fl=new WeakMap,aK),pl,to,Op,ml,Yd,cK,q4e=(cK=class extends Die{constructor(e){super();dn(this,ml);dn(this,pl,void 0);dn(this,to,void 0);dn(this,Op,void 0);this.mutationId=e.mutationId,Ft(this,to,e.mutationCache),Ft(this,pl,[]),this.state=e.state||Nie(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){me(this,pl).includes(e)||(me(this,pl).push(e),this.clearGcTimeout(),me(this,to).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ft(this,pl,me(this,pl).filter(n=>n!==e)),this.scheduleGc(),me(this,to).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){me(this,pl).length||(this.state.status==="pending"?this.scheduleGc():me(this,to).remove(this))}continue(){var e;return((e=me(this,Op))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,c,l,u,h,f,p,g,y,v,b,_,A,I,P,D,T,S;const n=()=>{li(this,ml,Yd).call(this,{type:"continue"})};Ft(this,Op,Oie({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(x,N)=>{li(this,ml,Yd).call(this,{type:"failed",failureCount:x,error:N})},onPause:()=>{li(this,ml,Yd).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>me(this,to).canRun(this)}));const r=this.state.status==="pending",i=!me(this,Op).canStart();try{if(r)n();else{li(this,ml,Yd).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=me(this,to).config).onMutate)==null?void 0:o.call(s,e,this));const N=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));N!==this.state.context&&li(this,ml,Yd).call(this,{type:"pending",context:N,variables:e,isPaused:i})}const x=await me(this,Op).start();return await((u=(l=me(this,to).config).onSuccess)==null?void 0:u.call(l,x,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,x,e,this.state.context)),await((g=(p=me(this,to).config).onSettled)==null?void 0:g.call(p,x,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,x,null,e,this.state.context)),li(this,ml,Yd).call(this,{type:"success",data:x}),x}catch(x){try{throw await((_=(b=me(this,to).config).onError)==null?void 0:_.call(b,x,e,this.state.context,this)),await((I=(A=this.options).onError)==null?void 0:I.call(A,x,e,this.state.context)),await((D=(P=me(this,to).config).onSettled)==null?void 0:D.call(P,void 0,x,this.state.variables,this.state.context,this)),await((S=(T=this.options).onSettled)==null?void 0:S.call(T,void 0,x,e,this.state.context)),x}finally{li(this,ml,Yd).call(this,{type:"error",error:x})}}finally{me(this,to).runNext(this)}}},pl=new WeakMap,to=new WeakMap,Op=new WeakMap,ml=new WeakSet,Yd=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),As.batch(()=>{me(this,pl).forEach(r=>{r.onMutationUpdate(e)}),me(this,to).notify({mutation:this,type:"updated",action:e})})},cK);function Nie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Su,wc,QE,lK,K4e=(lK=class extends j1{constructor(e={}){super();dn(this,Su,void 0);dn(this,wc,void 0);dn(this,QE,void 0);this.config=e,Ft(this,Su,new Set),Ft(this,wc,new Map),Ft(this,QE,0)}build(e,n,r){const i=new q4e({mutationCache:this,mutationId:++xA(this,QE)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){me(this,Su).add(e);const n=AC(e);if(typeof n=="string"){const r=me(this,wc).get(n);r?r.push(e):me(this,wc).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(me(this,Su).delete(e)){const n=AC(e);if(typeof n=="string"){const r=me(this,wc).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&me(this,wc).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=AC(e);if(typeof n=="string"){const r=me(this,wc).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=AC(e);if(typeof n=="string"){const i=(r=me(this,wc).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){As.batch(()=>{me(this,Su).forEach(e=>{this.notify({type:"removed",mutation:e})}),me(this,Su).clear(),me(this,wc).clear()})}getAll(){return Array.from(me(this,Su))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sH(n,r))}findAll(e={}){return this.getAll().filter(n=>sH(e,n))}notify(e){As.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return As.batch(()=>Promise.all(e.map(n=>n.continue().catch(yc))))}},Su=new WeakMap,wc=new WeakMap,QE=new WeakMap,lK);function AC(t){var e;return(e=t.options.scope)==null?void 0:e.id}function cH(t){return{onFetch:(e,n)=>{var u,h,f,p,g;const r=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let y=!1;const v=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=Sie(e.options,e.fetchOptions),_=async(A,I,P)=>{if(y)return Promise.reject();if(I==null&&A.pages.length)return Promise.resolve(A);const D={client:e.client,queryKey:e.queryKey,pageParam:I,direction:P?"backward":"forward",meta:e.options.meta};v(D);const T=await b(D),{maxPages:S}=e.options,x=P?M4e:k4e;return{pages:x(A.pages,T,S),pageParams:x(A.pageParams,I,S)}};if(i&&s.length){const A=i==="backward",I=A?G4e:lH,P={pages:s,pageParams:o},D=I(r,P);a=await _(P,D,A)}else{const A=t??s.length;do{const I=c===0?o[0]??r.initialPageParam:lH(r,a);if(c>0&&I==null)break;a=await _(a,I),c++}while(c<A)}return a};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function lH(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function G4e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ei,mh,gh,tv,nv,yh,rv,iv,uK,Y4e=(uK=class{constructor(t={}){dn(this,ei,void 0);dn(this,mh,void 0);dn(this,gh,void 0);dn(this,tv,void 0);dn(this,nv,void 0);dn(this,yh,void 0);dn(this,rv,void 0);dn(this,iv,void 0);Ft(this,ei,t.queryCache||new W4e),Ft(this,mh,t.mutationCache||new K4e),Ft(this,gh,t.defaultOptions||{}),Ft(this,tv,new Map),Ft(this,nv,new Map),Ft(this,yh,0)}mount(){xA(this,yh)._++,me(this,yh)===1&&(Ft(this,rv,Iie.subscribe(async t=>{t&&(await this.resumePausedMutations(),me(this,ei).onFocus())})),Ft(this,iv,ex.subscribe(async t=>{t&&(await this.resumePausedMutations(),me(this,ei).onOnline())})))}unmount(){var t,e;xA(this,yh)._--,me(this,yh)===0&&((t=me(this,rv))==null||t.call(this),Ft(this,rv,void 0),(e=me(this,iv))==null||e.call(this),Ft(this,iv,void 0))}isFetching(t){return me(this,ei).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return me(this,mh).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=me(this,ei).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=me(this,ei).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(rH(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return me(this,ei).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=me(this,ei).get(r.queryHash),s=i==null?void 0:i.state.data,o=I4e(e,s);if(o!==void 0)return me(this,ei).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return As.batch(()=>me(this,ei).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=me(this,ei).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=me(this,ei);As.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=me(this,ei);return As.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=As.batch(()=>me(this,ei).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(yc).catch(yc)}invalidateQueries(t,e={}){return As.batch(()=>(me(this,ei).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=As.batch(()=>me(this,ei).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(yc)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(yc)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=me(this,ei).build(this,e);return n.isStaleByTime(rH(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yc).catch(yc)}fetchInfiniteQuery(t){return t.behavior=cH(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yc).catch(yc)}ensureInfiniteQueryData(t){return t.behavior=cH(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ex.isOnline()?me(this,mh).resumePausedMutations():Promise.resolve()}getQueryCache(){return me(this,ei)}getMutationCache(){return me(this,mh)}getDefaultOptions(){return me(this,gh)}setDefaultOptions(t){Ft(this,gh,t)}setQueryDefaults(t,e){me(this,tv).set(ym(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...me(this,tv).values()],n={};return e.forEach(r=>{dE(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){me(this,nv).set(ym(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...me(this,nv).values()],n={};return e.forEach(r=>{dE(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...me(this,gh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=VU(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===HU&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...me(this,gh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){me(this,ei).clear(),me(this,mh).clear()}},ei=new WeakMap,mh=new WeakMap,gh=new WeakMap,tv=new WeakMap,nv=new WeakMap,yh=new WeakMap,rv=new WeakMap,iv=new WeakMap,uK),vh,wh,Io,Iu,sv,VT,ZE,EL,dK,Q4e=(dK=class extends j1{constructor(n,r){super();dn(this,sv);dn(this,ZE);dn(this,vh,void 0);dn(this,wh,void 0);dn(this,Io,void 0);dn(this,Iu,void 0);Ft(this,vh,n),this.setOptions(r),this.bindMethods(),li(this,sv,VT).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=me(this,vh).defaultMutationOptions(n),D4e(this.options,r)||me(this,vh).getMutationCache().notify({type:"observerOptionsUpdated",mutation:me(this,Io),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ym(r.mutationKey)!==ym(this.options.mutationKey)?this.reset():((i=me(this,Io))==null?void 0:i.state.status)==="pending"&&me(this,Io).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=me(this,Io))==null||n.removeObserver(this)}onMutationUpdate(n){li(this,sv,VT).call(this),li(this,ZE,EL).call(this,n)}getCurrentResult(){return me(this,wh)}reset(){var n;(n=me(this,Io))==null||n.removeObserver(this),Ft(this,Io,void 0),li(this,sv,VT).call(this),li(this,ZE,EL).call(this)}mutate(n,r){var i;return Ft(this,Iu,r),(i=me(this,Io))==null||i.removeObserver(this),Ft(this,Io,me(this,vh).getMutationCache().build(me(this,vh),this.options)),me(this,Io).addObserver(this),me(this,Io).execute(n)}},vh=new WeakMap,wh=new WeakMap,Io=new WeakMap,Iu=new WeakMap,sv=new WeakSet,VT=function(){var r;const n=((r=me(this,Io))==null?void 0:r.state)??Nie();Ft(this,wh,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ZE=new WeakSet,EL=function(n){As.batch(()=>{var r,i,s,o,a,c,l,u;if(me(this,Iu)&&this.hasListeners()){const h=me(this,wh).variables,f=me(this,wh).context;(n==null?void 0:n.type)==="success"?((i=(r=me(this,Iu)).onSuccess)==null||i.call(r,n.data,h,f),(o=(s=me(this,Iu)).onSettled)==null||o.call(s,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(a=me(this,Iu)).onError)==null||c.call(a,n.error,h,f),(u=(l=me(this,Iu)).onSettled)==null||u.call(l,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(me(this,wh))})})},dK);function Z4e(t){return{mutationFn(e){return _ie(t,e)},mutationKey:["writeContract"]}}var Rie=M.createContext(void 0),J4e=t=>{const e=M.useContext(Rie);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},X4e=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(Rie.Provider,{value:t,children:e}));function eBe(t,e){return typeof t=="function"?t(...e):!!t}function tBe(){}function nBe(t,e){const n=J4e(e),[r]=M.useState(()=>new Q4e(n,t));M.useEffect(()=>{r.setOptions(t)},[r,t]);const i=M.useSyncExternalStore(M.useCallback(o=>r.subscribe(As.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=M.useCallback((o,a)=>{r.mutate(o,a).catch(tBe)},[r]);if(i.error&&eBe(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function rBe(t={}){const{mutation:e}=t,n=S4e(t),r=Z4e(n),{mutate:i,mutateAsync:s,...o}=nBe({...e,...r});return{...o,writeContract:i,writeContractAsync:s}}const iBe=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ERC721EnumerableForbiddenBatchMint",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"ERC721OutOfBoundsIndex",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllBirdies",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBaseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintedBirdie",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tokenURI",type:"string"}],name:"mintNFT",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"tokensOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],sBe="0xE32383aB1dbea75Fa416CB7cA200b0e1c89735AC",oBe=({makePayment:t,onSuccess:e,totalEthPrice:n})=>{const{writeContractAsync:r,isPending:i}=rBe(),s=async o=>{if(!window.ethereum){vt.error("Please install MetaMask first.");return}if(!t){vt.error("All fields are required.");return}try{await r({address:sBe,abi:iBe,functionName:"mintNFT",args:[""],value:w5e(o.toString())}),e()}catch(a){console.log("checking........",a.message),vt.error("Error during transaction: "+a.message.slice(0,26)+"...")}};return C.jsx("div",{className:"wallet-btn-wrapper",children:C.jsx("button",{className:"button-hovering-color",onClick:()=>s(n),disabled:i,children:i?"Processing...":"Book Now"})})},aBe=Symbol(),WU=Symbol(),S0="a",HT="w";let cBe=(t,e)=>new Proxy(t,e);const AL=Object.getPrototypeOf,CL=new WeakMap,kie=t=>t&&(CL.has(t)?CL.get(t):AL(t)===Object.prototype||AL(t)===Array.prototype),uH=t=>typeof t=="object"&&t!==null,lBe=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(AL(t),e)},Mie=t=>t[WU]||t,Lie=(t,e,n,r)=>{if(!kie(t))return t;let i=r&&r.get(t);if(!i){const c=Mie(t);i=(l=>Object.values(Object.getOwnPropertyDescriptors(l)).some(u=>!u.configurable&&!u.writable))(c)?[c,lBe(c)]:[c],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return a&&a[1].f===!!o||(a=((c,l)=>{const u={f:l};let h=!1;const f=(g,y)=>{if(!h){let v=u[S0].get(c);if(v||(v={},u[S0].set(c,v)),g===HT)v[HT]=!0;else{let b=v[g];b||(b=new Set,v[g]=b),b.add(y)}}},p={get:(g,y)=>y===WU?c:(f("k",y),Lie(Reflect.get(g,y),u[S0],u.c,u.t)),has:(g,y)=>y===aBe?(h=!0,u[S0].delete(c),!0):(f("h",y),Reflect.has(g,y)),getOwnPropertyDescriptor:(g,y)=>(f("o",y),Reflect.getOwnPropertyDescriptor(g,y)),ownKeys:g=>(f(HT),Reflect.ownKeys(g))};return l&&(p.set=p.deleteProperty=()=>!1),[p,u]})(s,!!o),a[1].p=cBe(o||s,a[0]),n&&n.set(s,a)),a[1][S0]=e,a[1].c=n,a[1].t=r,a[1].p},Fie=(t,e,n,r,i=Object.is)=>{if(i(t,e))return!1;if(!uH(t)||!uH(e))return!0;const s=n.get(Mie(t));if(!s)return!0;if(r){const a=r.get(t);if(a&&a.n===e)return a.g;r.set(t,{n:e,g:!1})}let o=null;try{for(const a of s.h||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[HT]===!0){if(o=((a,c)=>{const l=Reflect.ownKeys(a),u=Reflect.ownKeys(c);return l.length!==u.length||l.some((h,f)=>h!==u[f])})(t,e),o)return o}else for(const a of s.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(t,a)!=!!Reflect.getOwnPropertyDescriptor(e,a),o)return o;for(const a of s.k||[])if(o=Fie(t[a],e[a],n,r,i),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(t,{n:e,g:o})}},uBe=t=>kie(t)&&t[WU]||null,dH=(t,e=!0)=>{CL.set(t,e)};const lR=t=>typeof t=="object"&&t!==null,th=new WeakMap,lb=new WeakSet,dBe=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>lR(l)&&!lb.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,h=r)=>{const f=i.get(l);if((f==null?void 0:f[0])===u)return f[1];const p=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return dH(p,!0),i.set(l,[u,p]),Reflect.ownKeys(l).forEach(g=>{if(Object.getOwnPropertyDescriptor(p,g))return;const y=Reflect.get(l,g),{enumerable:v}=Reflect.getOwnPropertyDescriptor(l,g),b={value:y,enumerable:v,configurable:!0};if(lb.has(y))dH(y,!1);else if(y instanceof Promise)delete b.value,b.get=()=>h(y);else if(th.has(y)){const[_,A]=th.get(y);b.value=s(_,A(),h)}Object.defineProperty(p,g,b)}),Object.preventExtensions(p)},o=new WeakMap,a=[1,1],c=l=>{if(!lR(l))throw new Error("object required");const u=o.get(l);if(u)return u;let h=a[0];const f=new Set,p=(x,N=++a[0])=>{h!==N&&(h=N,f.forEach(R=>R(x,N)))};let g=a[1];const y=(x=++a[1])=>(g!==x&&!f.size&&(g=x,b.forEach(([N])=>{const R=N[1](x);R>h&&(h=R)})),h),v=x=>(N,R)=>{const $=[...N];$[1]=[x,...$[1]],p($,R)},b=new Map,_=(x,N)=>{if(f.size){const R=N[3](v(x));b.set(x,[N,R])}else b.set(x,[N])},A=x=>{var N;const R=b.get(x);R&&(b.delete(x),(N=R[1])==null||N.call(R))},I=x=>(f.add(x),f.size===1&&b.forEach(([R,$],j)=>{const K=R[3](v(j));b.set(j,[R,K])}),()=>{f.delete(x),f.size===0&&b.forEach(([R,$],j)=>{$&&($(),b.set(j,[R]))})}),P=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),T=e(P,{deleteProperty(x,N){const R=Reflect.get(x,N);A(N);const $=Reflect.deleteProperty(x,N);return $&&p(["delete",[N],R]),$},set(x,N,R,$){const j=Reflect.has(x,N),K=Reflect.get(x,N,$);if(j&&(t(K,R)||o.has(R)&&t(K,o.get(R))))return!0;A(N),lR(R)&&(R=uBe(R)||R);let B=R;if(R instanceof Promise)R.then(z=>{R.status="fulfilled",R.value=z,p(["resolve",[N],z])}).catch(z=>{R.status="rejected",R.reason=z,p(["reject",[N],z])});else{!th.has(R)&&n(R)&&(B=c(R));const z=!lb.has(B)&&th.get(B);z&&_(N,z)}return Reflect.set(x,N,B,$),p(["set",[N],R,K]),!0}});o.set(l,T);const S=[P,y,s,I];return th.set(T,S),Reflect.ownKeys(l).forEach(x=>{const N=Object.getOwnPropertyDescriptor(l,x);"value"in N&&(T[x]=l[x],delete N.value,delete N.writable),Object.defineProperty(P,x,N)}),T})=>[c,th,lb,t,e,n,r,i,s,o,a],[hBe]=dBe();function Br(t={}){return hBe(t)}function Qs(t,e,n){const r=th.get(t);let i;const s=[],o=r[3];let a=!1;const l=o(u=>{if(s.push(u),n){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function vm(t,e){const n=th.get(t),[r,i,s]=n;return s(r,i(),e)}function wm(t){return lb.add(t),t}function mo(t,e,n,r){let i=t[e];return Qs(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)},r)}function fBe(t){const e=Br({data:Array.from(t||[]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const hE={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var pBe=20,mBe=1,bm=1e6,hH=1e6,gBe=-7,yBe=21,vBe=!1,U1="[big.js] ",Wm=U1+"Invalid ",OO=Wm+"decimal places",wBe=Wm+"rounding mode",$ie=U1+"Division by zero",Xn={},Ml=void 0,bBe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function jie(){function t(e){var n=this;if(!(n instanceof t))return e===Ml?jie():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Wm+"value");e=e===0&&1/e<0?"-0":String(e)}_Be(n,e)}n.constructor=t}return t.prototype=Xn,t.DP=pBe,t.RM=mBe,t.NE=gBe,t.PE=yBe,t.strict=vBe,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function _Be(t,e){var n,r,i;if(!bBe.test(e))throw Error(Wm+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function qm(t,e,n,r){var i=t.c;if(n===Ml&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(wBe);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Ml))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==Ml||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Km(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}Xn.abs=function(){var t=new this.constructor(this);return t.s=1,t};Xn.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Xn.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>bm)throw Error(OO);if(!i[0])throw Error($ie);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,h,f=i.slice(),p=a=i.length,g=r.length,y=r.slice(0,a),v=y.length,b=t,_=b.c=[],A=0,I=o+(b.e=e.e-t.e)+1;for(b.s=s,s=I<0?0:I,f.unshift(0);v++<a;)y.push(0);do{for(l=0;l<10;l++){if(a!=(v=y.length))u=a>v?1:-1;else for(h=-1,u=0;++h<a;)if(i[h]!=y[h]){u=i[h]>y[h]?1:-1;break}if(u<0){for(c=v==a?i:f;v;){if(y[--v]<c[v]){for(h=v;h&&!y[--h];)y[h]=9;--y[h],y[v]+=10}y[v]-=c[v]}for(;!y[0];)y.shift()}else break}_[A++]=u?l:++l,y[0]&&u?y[v]=r[p]||0:y=[r[p]]}while((p++<g||y[0]!==Ml)&&s--);return!_[0]&&A!=1&&(_.shift(),b.e--,I--),A>I&&qm(b,I,n.RM,y[0]!==Ml),b};Xn.eq=function(t){return this.cmp(t)===0};Xn.gt=function(t){return this.cmp(t)>0};Xn.gte=function(t){return this.cmp(t)>-1};Xn.lt=function(t){return this.cmp(t)<0};Xn.lte=function(t){return this.cmp(t)<1};Xn.minus=Xn.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,h=t.c,f=t.e;if(!l[0]||!h[0])return h[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-f){for((i=a<0)?(a=-a,r=l):(f=u,r=h),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<h.length)?l:h).length,a=c=0;c<n;c++)if(l[c]!=h[c]){i=l[c]<h[c];break}if(i&&(r=l,l=h,h=r,t.s=-t.s),(c=(n=h.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<h[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=h[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(t.s=1,l=[f=0]),t.c=l,t.e=f,t};Xn.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error($ie);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};Xn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Xn.plus=Xn.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Xn.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-hH||t>hH)throw Error(Wm+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};Xn.prec=function(t,e){if(t!==~~t||t<1||t>bm)throw Error(Wm+"precision");return qm(new this.constructor(this),t,e)};Xn.round=function(t,e){if(t===Ml)t=0;else if(t!==~~t||t<-bm||t>bm)throw Error(OO);return qm(new this.constructor(this),t+this.e+1,e)};Xn.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(U1+"No square root");s=Math.sqrt(+Km(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return qm(t,(i.DP-=4)+t.e+1,i.RM)};Xn.times=Xn.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Xn.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Ml){if(t!==~~t||t<0||t>bm)throw Error(OO);for(n=qm(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Km(n,!0,!!r)};Xn.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Ml){if(t!==~~t||t<0||t>bm)throw Error(OO);for(n=qm(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Km(n,!1,!!r)};Xn[Symbol.for("nodejs.util.inspect.custom")]=Xn.toJSON=Xn.toString=function(){var t=this,e=t.constructor;return Km(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Xn.toNumber=function(){var t=+Km(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(U1+"Imprecise conversion");return t};Xn.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==Ml){if(t!==~~t||t<1||t>bm)throw Error(Wm+"precision");for(n=qm(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Km(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};Xn.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(U1+"valueOf disallowed");return Km(t,t.e<=e.NE||t.e>=e.PE,!0)};var EBe=jie();const I0=EBe,CC={bigNumber(t){return t?new I0(t):new I0(0)},multiply(t,e){if(t===void 0||e===void 0)return new I0(0);const n=new I0(t),r=new I0(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},ABe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],CBe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],TBe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Oe={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},SBe={getERC20Abi:t=>Oe.USDT_CONTRACT_ADDRESSES.includes(t)?TBe:ABe,getSwapAbi:()=>CBe},zd={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},en={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function uR(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Kt={setItem(t,e){ub()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(ub())return localStorage.getItem(t)||void 0},removeItem(t){ub()&&localStorage.removeItem(t)},clear(){ub()&&localStorage.clear()}};function ub(){return typeof window<"u"&&typeof localStorage<"u"}function Mu(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function IBe(t){return(t==null?void 0:t.endsWith(Oe.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(Oe.WC_NAME_SUFFIX))}const dR=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",klt=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Mlt="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",rs={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:dR,SECURE_SITE_DASHBOARD:`${dR}/dashboard`,SECURE_SITE_FAVICON:`${dR}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},Ke={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Ke.getActiveNamespace(),e=Ke.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Kt.setItem(en.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Kt.getItem(en.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Kt.removeItem(en.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Kt.setItem(en.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Kt.setItem(en.ACTIVE_CAIP_NETWORK_ID,t),Ke.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Kt.getItem(en.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Kt.removeItem(en.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=uR(t);Kt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Ke.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Kt.setItem(en.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Kt.getItem(en.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=uR(t);Kt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Kt.getItem(en.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=uR(t);return Kt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Kt.setItem(en.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Kt.getItem(en.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Kt.removeItem(en.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Kt.getItem(en.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Kt.getItem(en.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Kt.setItem(en.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Kt.getItem(en.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Kt.getItem(en.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Kt.setItem(en.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Ke.getConnectedNamespaces();e.includes(t)||(e.push(t),Ke.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Ke.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Ke.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Kt.getItem(en.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Kt.setItem(en.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Kt.removeItem(en.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Kt.getItem(en.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Ke.getBalanceCache();Kt.setItem(en.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Ke.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Ke.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Ke.getBalanceCache();e[t.caipAddress]=t,Kt.setItem(en.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Kt.getItem(en.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Ke.getBalanceCache();Kt.setItem(en.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Ke.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Ke.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Ke.getNativeBalanceCache();e[t.caipAddress]=t,Kt.setItem(en.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Kt.getItem(en.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Ke.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Ke.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Ke.getEnsCache();e[t.address]=t,Kt.setItem(en.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Ke.getEnsCache();Kt.setItem(en.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Kt.getItem(en.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Ke.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Ke.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Ke.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Kt.setItem(en.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Ke.getIdentityCache();Kt.setItem(en.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Kt.removeItem(en.PORTFOLIO_CACHE),Kt.removeItem(en.NATIVE_BALANCE_CACHE),Kt.removeItem(en.ENS_CACHE),Kt.removeItem(en.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Kt.setItem(en.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Kt.getItem(en.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},$t={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return $t.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=rs.TEN_SEC_MS:!0},isAllowedRetry(t,e=rs.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+rs.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if($t.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},formatUniversalUrl(t,e){if(!$t.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Ke.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,$t.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const i=Number(t);i&&(n=(r=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Oe.W3M_API_URL},getBlockchainApiUrl(){return Oe.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Oe.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?rs.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Oe.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),u=c+n;return a+u+l}};async function x0(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class DO{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await x0(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await x0(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await x0(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await x0(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await x0(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const xBe={handleSolanaDeeplinkRedirect(t){if(X.state.activeChain===Oe.CHAIN.SOLANA){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${r}://${i}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}}},Qo=Br({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Ac={state:Qo,subscribeNetworkImages(t){return Qs(Qo.networkImages,()=>t(Qo.networkImages))},subscribeKey(t,e){return mo(Qo,t,e)},subscribe(t){return Qs(Qo,()=>t(Qo))},setWalletImage(t,e){Qo.walletImages[t]=e},setNetworkImage(t,e){Qo.networkImages[t]=e},setChainImage(t,e){Qo.chainImages[t]=e},setConnectorImage(t,e){Qo.connectorImages={...Qo.connectorImages,[t]:e}},setTokenImage(t,e){Qo.tokenImages[t]=e},setCurrencyImage(t,e){Qo.currencyImages[t]=e}},PBe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},hR=Br({networkImagePromises:{}}),Uie={async fetchWalletImage(t){if(t)return await Bt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(hR.networkImagePromises[t]||(hR.networkImagePromises[t]=Bt._fetchNetworkImage(t)),await hR.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Ac.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Ac.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Ac.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Ac.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Ac.state.connectorImages[t.imageId]},getChainImage(t){return Ac.state.networkImages[PBe[t]]}},OBe={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?rs.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if($t.isTelegram()){if($t.isIos())return t.filter(e=>e!=="google");if($t.isMac())return t.filter(e=>e!=="x");if($t.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Dt=Br({features:rs.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),De={state:Dt,subscribeKey(t,e){return mo(Dt,t,e)},setOptions(t){Object.assign(Dt,t)},setFeatures(t){if(!t)return;Dt.features||(Dt.features=rs.DEFAULT_FEATURES);const e={...Dt.features,...t};Dt.features=e,Dt.features.socials&&(Dt.features.socials=OBe.filterSocialsByPlatform(Dt.features.socials))},setProjectId(t){Dt.projectId=t},setCustomRpcUrls(t){Dt.customRpcUrls=t},setAllWallets(t){Dt.allWallets=t},setIncludeWalletIds(t){Dt.includeWalletIds=t},setExcludeWalletIds(t){Dt.excludeWalletIds=t},setFeaturedWalletIds(t){Dt.featuredWalletIds=t},setTokens(t){Dt.tokens=t},setTermsConditionsUrl(t){Dt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Dt.privacyPolicyUrl=t},setCustomWallets(t){Dt.customWallets=t},setIsSiweEnabled(t){Dt.isSiweEnabled=t},setIsUniversalProvider(t){Dt.isUniversalProvider=t},setSdkVersion(t){Dt.sdkVersion=t},setMetadata(t){Dt.metadata=t},setDisableAppend(t){Dt.disableAppend=t},setEIP6963Enabled(t){Dt.enableEIP6963=t},setDebug(t){Dt.debug=t},setEnableWalletConnect(t){Dt.enableWalletConnect=t},setEnableWalletGuide(t){Dt.enableWalletGuide=t},setEnableAuthLogger(t){Dt.enableAuthLogger=t},setEnableWallets(t){Dt.enableWallets=t},setHasMultipleAddresses(t){Dt.hasMultipleAddresses=t},setSIWX(t){Dt.siwx=t},setConnectMethodsOrder(t){Dt.features={...Dt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Dt.features={...Dt.features,walletFeaturesOrder:t}},setSocialsOrder(t){Dt.features={...Dt.features,socials:t}},setCollapseWallets(t){Dt.features={...Dt.features,collapseWallets:t}},setEnableEmbedded(t){Dt.enableEmbedded=t},setAllowUnsupportedChain(t){Dt.allowUnsupportedChain=t},setManualWCControl(t){Dt.manualWCControl=t},setEnableNetworkSwitch(t){Dt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Dt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Dt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Dt.universalProviderConfigOverride},getSnapshot(){return vm(Dt)}},Vd=Br({message:"",variant:"info",open:!1}),jp={state:Vd,subscribeKey(t,e){return mo(Vd,t,e)},open(t,e){const{debug:n}=De.state,{shortMessage:r,longMessage:i}=t;n&&(Vd.message=r,Vd.variant=e,Vd.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Vd.open=!1,Vd.message="",Vd.variant="info"}},DBe=$t.getAnalyticsUrl(),NBe=new DO({baseUrl:DBe,clientId:null}),RBe=["MODAL_CREATED"],du=Br({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),pr={state:du,subscribe(t){return Qs(du,()=>t(du))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=De.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=lt.state.address;if(RBe.includes(t.data.event)||typeof window>"u")return;await NBe.post({path:"/e",params:pr.getSdkProperties(),body:{eventId:$t.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),du.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Oe.HTTP_STATUS_CODES.FORBIDDEN&&!du.reportedErrors.FORBIDDEN&&(jp.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${ub()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),du.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;du.timestamp=Date.now(),du.data=t,(e=De.state.features)!=null&&e.analytics&&pr._sendAnalyticsEvent(du)}},kBe=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],MBe=$t.getApiUrl(),Ia=new DO({baseUrl:MBe,clientId:null}),LBe=40,fH=4,FBe=20,qn=Br({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Bt={state:qn,subscribeKey(t,e){return mo(qn,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=De.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return De.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Ia.baseUrl}/getWalletImage/${t}`,n=await Ia.getBlob({path:e,params:Bt._getSdkProperties()});Ac.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Ia.baseUrl}/public/getAssetImage/${t}`,n=await Ia.getBlob({path:e,params:Bt._getSdkProperties()});Ac.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Ia.baseUrl}/public/getAssetImage/${t}`,n=await Ia.getBlob({path:e,params:Bt._getSdkProperties()});Ac.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Ia.baseUrl}/public/getCurrencyImage/${t}`,n=await Ia.getBlob({path:e,params:Bt._getSdkProperties()});Ac.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Ia.baseUrl}/public/getTokenImage/${t}`,n=await Ia.getBlob({path:e,params:Bt._getSdkProperties()});Ac.setTokenImage(t,URL.createObjectURL(n))},async fetchNetworkImages(){const t=X.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!Uie.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Bt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Qt.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Bt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Bt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Bt._fetchTokenImage(e)))},async fetchWallets(t){var r,i;const e=t.exclude??[];return Bt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...kBe),await Ia.get({path:"/getWallets",params:{...Bt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(r=t.include)==null?void 0:r.join(","),exclude:(i=t.exclude)==null?void 0:i.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=De.state;if(t!=null&&t.length){const e={...Bt._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??fH,include:t},{data:n}=await Bt.fetchWallets(e);n.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const r=n.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(r.map(i=>Bt._fetchWalletImage(i))),qn.featured=n,qn.allFeatured=n}},async fetchRecommendedWallets(){try{qn.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=De.state,r=[...e??[],...n??[]].filter(Boolean),i=X.getRequestedCaipNetworkIds().join(","),s={page:1,entries:fH,include:t,exclude:r,chains:i},{data:o,count:a}=await Bt.fetchWallets(s),c=Ke.getRecentWallets(),l=o.map(h=>h.image_id).filter(Boolean),u=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(h=>Bt._fetchWalletImage(h))),qn.recommended=o,qn.allRecommended=o,qn.count=a??0}catch{}finally{qn.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=De.state,i=X.getRequestedCaipNetworkIds().join(","),s=[...qn.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:LBe,include:e,exclude:s,chains:i},{data:a,count:c}=await Bt.fetchWallets(o),l=a.slice(0,FBe).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Bt._fetchWalletImage(u))),qn.wallets=$t.uniqueBy([...qn.wallets,...Bt._filterOutExtensions(a)],"id"),qn.count=c>qn.count?c:qn.count,qn.page=t},async initializeExcludedWallets({ids:t}){const e=X.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await Bt.fetchWallets(n);r&&r.forEach(i=>{qn.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=De.state,i=X.getRequestedCaipNetworkIds().join(",");qn.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await Bt.fetchWallets(s);pr.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Bt._fetchWalletImage(c)),$t.wait(300)]),qn.search=Bt._filterOutExtensions(o)},initPromise(t,e){const n=qn.promises[t];return n||(qn.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&Bt.initPromise("connectorImages",Bt.fetchConnectorImages),e&&Bt.initPromise("featuredWallets",Bt.fetchFeaturedWallets),n&&Bt.initPromise("recommendedWallets",Bt.fetchRecommendedWallets),r&&Bt.initPromise("networkImages",Bt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=De.state.features)!=null&&t.analytics&&Bt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Ia.get({path:"/getAnalyticsConfig",params:Bt._getSdkProperties()});De.setFeatures({analytics:t})}catch{De.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){qn.featured=qn.allFeatured,qn.recommended=qn.allRecommended;return}const e=X.getRequestedCaipNetworkIds().join(",");qn.featured=qn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),qn.recommended=qn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})}},zn=Br({view:"Connect",history:["Connect"],transactionStack:[]}),Zn={state:zn,subscribeKey(t,e){return mo(zn,t,e)},pushTransactionStack(t){zn.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=zn.transactionStack.pop();if(e)if(t)this.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=zn.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(gi.close(),zn.history=[])}else e.view&&this.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==zn.view&&(zn.view=t,zn.history.push(t),zn.data=e)},reset(t,e){zn.view=t,zn.history=[t],zn.data=e},replace(t,e){zn.history.at(-1)===t||(zn.view=t,zn.history[zn.history.length-1]=t,zn.data=e)},goBack(){var e;const t=!X.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(zn.history.length>1&&!zn.history.includes("UnsupportedChain")){zn.history.pop();const[n]=zn.history.slice(-1);n&&(zn.view=n)}else gi.close();(e=zn.data)!=null&&e.wallet&&(zn.data.wallet=void 0),setTimeout(()=>{var n,r,i;if(t){lt.setFarcasterUrl(void 0,X.state.activeChain);const s=Qt.getAuthConnector();(n=s==null?void 0:s.provider)==null||n.reload();const o=vm(De.state);(i=(r=s==null?void 0:s.provider)==null?void 0:r.syncDappData)==null||i.call(r,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(zn.history.length>1){zn.history=zn.history.slice(0,t+1);const[e]=zn.history.slice(-1);e&&(zn.view=e)}}},hu=Br({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Vs={state:hu,subscribe(t){return Qs(hu,()=>t(hu))},setThemeMode(t){hu.themeMode=t;try{const e=Qt.getAuthConnector();if(e){const n=Vs.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Mu(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){hu.themeVariables={...hu.themeVariables,...t};try{const e=Qt.getAuthConnector();if(e){const n=Vs.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Mu(hu.themeVariables,hu.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return vm(hu)}},Bie={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Kn=Br({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...Bie}}),Qt={state:Kn,subscribe(t){return Qs(Kn,()=>{t(Kn)})},subscribeKey(t,e){return mo(Kn,t,e)},initialize(t){t.forEach(e=>{const n=Ke.getConnectedConnectorId(e);n&&this.setConnectorId(n,e)})},setActiveConnector(t){t&&(Kn.activeConnector=wm(t))},setConnectors(t){t.filter(n=>!Kn.allConnectors.some(r=>r.id===n.id&&this.getConnectorName(r.name)===this.getConnectorName(n.name)&&r.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&Kn.allConnectors.push(wm(n))}),Kn.connectors=this.mergeMultiChainConnectors(Kn.allConnectors)},removeAdapter(t){Kn.allConnectors=Kn.allConnectors.filter(e=>e.chain!==t),Kn.connectors=this.mergeMultiChainConnectors(Kn.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===Oe.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=this.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Oe.CONNECTOR_ID.AUTH){const i=t,s=vm(De.state),o=Vs.getSnapshot().themeMode,a=Vs.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Mu(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var r;const e=t||X.state.activeChain,n=Kn.connectors.find(i=>i.id===Oe.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return Kn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return Kn.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Kn.allConnectors.filter(r=>r.chain===X.state.activeChain).find(r=>{var i;return r.explorerId===t||((i=r.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,n=vm(De.state),r=Vs.getSnapshot().themeMode,i=Vs.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Mu(i,r)})},getConnectorsByNamespace(t){const e=Kn.allConnectors.filter(n=>n.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Qt.getConnector(t.id,t.rdns);X.state.activeChain===Oe.CHAIN.SOLANA&&xBe.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?Zn.push("ConnectingExternal",{connector:e}):Zn.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(Kn.allConnectors)},setFilterByNamespace(t){Kn.filterByNamespace=t,Kn.connectors=this.getConnectors(t),Bt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Kn.activeConnectorIds={...Kn.activeConnectorIds,[e]:t},Ke.setConnectedConnectorId(e,t))},removeConnectorId(t){Kn.activeConnectorIds={...Kn.activeConnectorIds,[t]:void 0},Ke.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Kn.activeConnectorIds[t]},isConnected(t){return t?!!Kn.activeConnectorIds[t]:Object.values(Kn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Kn.activeConnectorIds={...Bie}}};function TC(t,e){return Qt.getConnectorId(t)===e}function $Be(t){const e=Array.from(X.state.chains.keys());let n=[];return t?(n.push([t,X.state.chains.get(t)]),TC(t,Oe.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&TC(r,Oe.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,X.state.chains.get(r)])}):TC(t,Oe.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&TC(r,Oe.CONNECTOR_ID.AUTH)&&n.push([r,X.state.chains.get(r)])})):n=Array.from(X.state.chains.entries()),n}var qU={exports:{}},Vy=typeof Reflect=="object"?Reflect:null,pH=Vy&&typeof Vy.apply=="function"?Vy.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},WT;Vy&&typeof Vy.ownKeys=="function"?WT=Vy.ownKeys:Object.getOwnPropertySymbols?WT=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:WT=function(e){return Object.getOwnPropertyNames(e)};function jBe(t){console&&console.warn&&console.warn(t)}var zie=Number.isNaN||function(e){return e!==e};function or(){or.init.call(this)}qU.exports=or;qU.exports.once=VBe;or.EventEmitter=or;or.prototype._events=void 0;or.prototype._eventsCount=0;or.prototype._maxListeners=void 0;var mH=10;function NO(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(or,"defaultMaxListeners",{enumerable:!0,get:function(){return mH},set:function(t){if(typeof t!="number"||t<0||zie(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");mH=t}});or.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};or.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||zie(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Vie(t){return t._maxListeners===void 0?or.defaultMaxListeners:t._maxListeners}or.prototype.getMaxListeners=function(){return Vie(this)};or.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")pH(c,this,n);else for(var l=c.length,u=Gie(c,l),r=0;r<l;++r)pH(u[r],this,n);return!0};function Hie(t,e,n,r){var i,s,o;if(NO(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=Vie(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,jBe(a)}return t}or.prototype.addListener=function(e,n){return Hie(this,e,n,!1)};or.prototype.on=or.prototype.addListener;or.prototype.prependListener=function(e,n){return Hie(this,e,n,!0)};function UBe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Wie(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=UBe.bind(r);return i.listener=n,r.wrapFn=i,i}or.prototype.once=function(e,n){return NO(n),this.on(e,Wie(this,e,n)),this};or.prototype.prependOnceListener=function(e,n){return NO(n),this.prependListener(e,Wie(this,e,n)),this};or.prototype.removeListener=function(e,n){var r,i,s,o,a;if(NO(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():BBe(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};or.prototype.off=or.prototype.removeListener;or.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function qie(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?zBe(i):Gie(i,i.length)}or.prototype.listeners=function(e){return qie(this,e,!0)};or.prototype.rawListeners=function(e){return qie(this,e,!1)};or.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Kie.call(t,e)};or.prototype.listenerCount=Kie;function Kie(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}or.prototype.eventNames=function(){return this._eventsCount>0?WT(this._events):[]};function Gie(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function BBe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function zBe(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function VBe(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}Yie(t,e,s,{once:!0}),e!=="error"&&HBe(t,i,{once:!0})})}function HBe(t,e,n){typeof t.on=="function"&&Yie(t,"error",e,n)}function Yie(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var tc=qU.exports;const KU=cs(tc);var Re={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TL=function(t,e){return TL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},TL(t,e)};function WBe(t,e){TL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var SL=function(){return SL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},SL.apply(this,arguments)};function qBe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KBe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function GBe(t,e){return function(n,r){e(n,r,t)}}function YBe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function QBe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function ZBe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function JBe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function XBe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function IL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qie(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function e6e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qie(arguments[e]));return t}function t6e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function fE(t){return this instanceof fE?(this.v=t,this):new fE(t)}function n6e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(g,y){s.push([f,p,g,y])>1||a(f,p)})})}function a(f,p){try{c(r[f](p))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof fE?Promise.resolve(f.value.v).then(l,u):h(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function r6e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:fE(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function i6e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof IL=="function"?IL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function s6e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function o6e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a6e(t){return t&&t.__esModule?t:{default:t}}function c6e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function l6e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const u6e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return SL},__asyncDelegator:r6e,__asyncGenerator:n6e,__asyncValues:i6e,__await:fE,__awaiter:QBe,__classPrivateFieldGet:c6e,__classPrivateFieldSet:l6e,__createBinding:JBe,__decorate:KBe,__exportStar:XBe,__extends:WBe,__generator:ZBe,__importDefault:a6e,__importStar:o6e,__makeTemplateObject:s6e,__metadata:YBe,__param:GBe,__read:Qie,__rest:qBe,__spread:e6e,__spreadArrays:t6e,__values:IL},Symbol.toStringTag,{value:"Module"})),RO=pK(u6e);var fR={},P0={},gH;function d6e(){if(gH)return P0;gH=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return P0.delay=t,P0}var jf={},pR={},Uf={},yH;function h6e(){return yH||(yH=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.ONE_THOUSAND=Uf.ONE_HUNDRED=void 0,Uf.ONE_HUNDRED=100,Uf.ONE_THOUSAND=1e3),Uf}var mR={},vH;function f6e(){return vH||(vH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(mR)),mR}var wH;function Zie(){return wH||(wH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=RO;e.__exportStar(h6e(),t),e.__exportStar(f6e(),t)}(pR)),pR}var bH;function p6e(){if(bH)return jf;bH=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.fromMiliseconds=jf.toMiliseconds=void 0;const t=Zie();function e(r){return r*t.ONE_THOUSAND}jf.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return jf.fromMiliseconds=n,jf}var _H;function m6e(){return _H||(_H=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=RO;e.__exportStar(d6e(),t),e.__exportStar(p6e(),t)}(fR)),fR}var Sg={},EH;function g6e(){if(EH)return Sg;EH=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Sg.Watch=t,Sg.default=t,Sg}var gR={},O0={},AH;function y6e(){if(AH)return O0;AH=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.IWatch=void 0;class t{}return O0.IWatch=t,O0}var CH;function v6e(){return CH||(CH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),RO.__exportStar(y6e(),t)}(gR)),gR}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=RO;e.__exportStar(m6e(),t),e.__exportStar(g6e(),t),e.__exportStar(v6e(),t),e.__exportStar(Zie(),t)})(Re);class Gm{}let w6e=class extends Gm{constructor(e){super()}};const TH=Re.FIVE_SECONDS,Ew={pulse:"heartbeat_pulse"};let b6e=class Jie extends w6e{constructor(e){super(e),this.events=new tc.EventEmitter,this.interval=TH,this.interval=(e==null?void 0:e.interval)||TH}static async init(e){const n=new Jie(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Re.toMiliseconds(this.interval))}pulse(){this.events.emit(Ew.pulse)}};const _6e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,E6e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,A6e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function C6e(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){T6e(t);return}return e}function T6e(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function SC(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!A6e.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(_6e.test(t)||E6e.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,C6e)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function S6e(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Yi(t,...e){try{return S6e(t(...e))}catch(n){return Promise.reject(n)}}function I6e(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function x6e(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function qT(t){if(I6e(t))return String(t);if(x6e(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return qT(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const xL="base64:";function P6e(t){return typeof t=="string"?t:xL+N6e(t)}function O6e(t){return typeof t!="string"||!t.startsWith(xL)?t:D6e(t.slice(xL.length))}function D6e(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function N6e(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function To(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function R6e(...t){return To(t.join(":"))}function IC(t){return t=To(t),t?t+":":""}function k6e(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function M6e(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const L6e="memory",F6e=()=>{const t=new Map;return{name:L6e,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function $6e(t={}){const e={mounts:{"":t.driver||F6e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(h=>h.startsWith(l)||u&&l.startsWith(h)).map(h=>({relativeBase:l.length>h.length?l.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(l,u)=>{if(e.watching){u=To(u);for(const h of e.watchListeners)h(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await SH(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,h)=>{const f=new Map,p=g=>{let y=f.get(g.base);return y||(y={driver:g.driver,base:g.base,items:[]},f.set(g.base,y)),y};for(const g of l){const y=typeof g=="string",v=To(y?g:g.key),b=y?void 0:g.value,_=y||!g.options?u:{...u,...g.options},A=n(v);p(A).items.push({key:v,value:b,relativeKey:A.relativeKey,options:_})}return Promise.all([...f.values()].map(g=>h(g))).then(g=>g.flat())},c={hasItem(l,u={}){l=To(l);const{relativeKey:h,driver:f}=n(l);return Yi(f.hasItem,h,u)},getItem(l,u={}){l=To(l);const{relativeKey:h,driver:f}=n(l);return Yi(f.getItem,h,u).then(p=>SC(p))},getItems(l,u={}){return a(l,u,h=>h.driver.getItems?Yi(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:R6e(h.base,p.key),value:SC(p.value)}))):Promise.all(h.items.map(f=>Yi(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:SC(p)})))))},getItemRaw(l,u={}){l=To(l);const{relativeKey:h,driver:f}=n(l);return f.getItemRaw?Yi(f.getItemRaw,h,u):Yi(f.getItem,h,u).then(p=>O6e(p))},async setItem(l,u,h={}){if(u===void 0)return c.removeItem(l);l=To(l);const{relativeKey:f,driver:p}=n(l);p.setItem&&(await Yi(p.setItem,f,qT(u),h),p.watch||i("update",l))},async setItems(l,u){await a(l,u,async h=>{if(h.driver.setItems)return Yi(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:qT(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>Yi(h.driver.setItem,f.relativeKey,qT(f.value),f.options)))})},async setItemRaw(l,u,h={}){if(u===void 0)return c.removeItem(l,h);l=To(l);const{relativeKey:f,driver:p}=n(l);if(p.setItemRaw)await Yi(p.setItemRaw,f,u,h);else if(p.setItem)await Yi(p.setItem,f,P6e(u),h);else return;p.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=To(l);const{relativeKey:h,driver:f}=n(l);f.removeItem&&(await Yi(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await Yi(f.removeItem,h+"$",u),f.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=To(l);const{relativeKey:h,driver:f}=n(l),p=Object.create(null);if(f.getMeta&&Object.assign(p,await Yi(f.getMeta,h,u)),!u.nativeOnly){const g=await Yi(f.getItem,h+"$",u).then(y=>SC(y));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(p,g))}return p},setMeta(l,u,h={}){return this.setItem(l+"$",u,h)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var v;l=IC(l);const h=r(l,!0);let f=[];const p=[];let g=!0;for(const b of h){(v=b.driver.flags)!=null&&v.maxDepth||(g=!1);const _=await Yi(b.driver.getKeys,b.relativeBase,u);for(const A of _){const I=b.mountpoint+To(A);f.some(P=>I.startsWith(P))||p.push(I)}f=[b.mountpoint,...f.filter(A=>!A.startsWith(b.mountpoint))]}const y=u.maxDepth!==void 0&&!g;return p.filter(b=>(!y||k6e(b,u.maxDepth))&&M6e(b,l))},async clear(l,u={}){l=IC(l),await Promise.all(r(l,!1).map(async h=>{if(h.driver.clear)return Yi(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>IH(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=IC(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[l]=u,e.watching&&Promise.resolve(SH(u,i,l)).then(h=>{e.unwatch[l]=h}).catch(console.error),c},async unmount(l,u=!0){var h,f;l=IC(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((f=(h=e.unwatch)[l])==null||f.call(h),delete e.unwatch[l]),u&&await IH(e.mounts[l]),e.mountpoints=e.mountpoints.filter(p=>p!==l),delete e.mounts[l])},getMount(l=""){l=To(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=To(l),r(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,h={})=>c.setItem(l,u,h),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function SH(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function IH(t){typeof t.dispose=="function"&&await Yi(t.dispose)}function Ym(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Xie(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Ym(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let yR;function B1(){return yR||(yR=Xie("keyval-store","keyval")),yR}function xH(t,e=B1()){return e("readonly",n=>Ym(n.get(t)))}function j6e(t,e,n=B1()){return n("readwrite",r=>(r.put(e,t),Ym(r.transaction)))}function U6e(t,e=B1()){return e("readwrite",n=>(n.delete(t),Ym(n.transaction)))}function B6e(t=B1()){return t("readwrite",e=>(e.clear(),Ym(e.transaction)))}function z6e(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ym(t.transaction)}function V6e(t=B1()){return t("readonly",e=>{if(e.getAllKeys)return Ym(e.getAllKeys());const n=[];return z6e(e,r=>n.push(r.key)).then(()=>n)})}const H6e=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),W6e=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function _m(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return W6e(t)}catch{return t}}function hd(t){return typeof t=="string"?t:H6e(t)||""}const q6e="idb-keyval";var K6e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=Xie(t.dbName,t.storeName)),{name:q6e,options:t,async hasItem(i){return!(typeof await xH(n(i),r)>"u")},async getItem(i){return await xH(n(i),r)??null},setItem(i,s){return j6e(n(i),s,r)},removeItem(i){return U6e(n(i),r)},getKeys(){return V6e(r)},clear(){return B6e(r)}}};const G6e="WALLET_CONNECT_V2_INDEXED_DB",Y6e="keyvaluestorage";let Q6e=class{constructor(){this.indexedDb=$6e({driver:K6e({dbName:G6e,storeName:Y6e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,hd(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var vR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KT={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof vR<"u"&&vR.localStorage?KT.exports=vR.localStorage:typeof window<"u"&&window.localStorage?KT.exports=window.localStorage:KT.exports=new e})();function Z6e(t){var e;return[t[0],_m((e=t[1])!=null?e:"")]}let J6e=class{constructor(){this.localStorage=KT.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Z6e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return _m(n)}async setItem(e,n){this.localStorage.setItem(e,hd(n))}async removeItem(e){this.localStorage.removeItem(e)}};const X6e="wc_storage_version",PH=1,e8e=async(t,e,n)=>{const r=X6e,i=await e.getItem(r);if(i&&i>=PH){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,PH),n(e),t8e(t,o)},t8e=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let n8e=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new J6e;this.storage=e;try{const n=new Q6e;e8e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function r8e(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var i8e=s8e;function s8e(t,e,n){var r=n&&n.stringify||r8e,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,h=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=c||e[u]==null)break;h<p&&(l+=t.slice(h,p)),l+=Number(e[u]),h=p+2,p++;break;case 105:if(u>=c||e[u]==null)break;h<p&&(l+=t.slice(h,p)),l+=Math.floor(Number(e[u])),h=p+2,p++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;h<p&&(l+=t.slice(h,p));var g=typeof e[u];if(g==="string"){l+="'"+e[u]+"'",h=p+2,p++;break}if(g==="function"){l+=e[u].name||"<anonymous>",h=p+2,p++;break}l+=r(e[u]),h=p+2,p++;break;case 115:if(u>=c)break;h<p&&(l+=t.slice(h,p)),l+=String(e[u]),h=p+2,p++;break;case 37:h<p&&(l+=t.slice(h,p)),l+="%",h=p+2,p++,u--;break}++u}++p}return h===-1?t:(h<f&&(l+=t.slice(h)),l)}const OH=i8e;var ty=Ll;const pE=m8e().console||{},o8e={mapHttpRequest:xC,mapHttpResponse:xC,wrapRequestSerializer:wR,wrapResponseSerializer:wR,wrapErrorSerializer:wR,req:xC,res:xC,err:d8e};function a8e(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ll(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||pE;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=a8e(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=mE),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:h,set:f});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:h8e(t)};c.levels=Ll.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=mE,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=p,e&&(c._logEvent=PL());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,Ig(l,c,"error","log"),Ig(l,c,"fatal","error"),Ig(l,c,"warn","error"),Ig(l,c,"info","log"),Ig(l,c,"debug","log"),Ig(l,c,"trace","log")}function p(g,y){if(!g)throw new Error("missing bindings for child Pino");y=y||{},i&&g.serializers&&(y.serializers=g.serializers);const v=y.serializers;if(i&&v){var b=Object.assign({},r,v),_=t.browser.serialize===!0?Object.keys(b):i;delete g.serializers,kO([g],_,b,this._stdErrSerialize)}function A(I){this._childLevel=(I._childLevel|0)+1,this.error=xg(I,g,"error"),this.fatal=xg(I,g,"fatal"),this.warn=xg(I,g,"warn"),this.info=xg(I,g,"info"),this.debug=xg(I,g,"debug"),this.trace=xg(I,g,"trace"),b&&(this.serializers=b,this._serialize=_),e&&(this._logEvent=PL([].concat(I._logEvent.bindings,g)))}return A.prototype=this,new A(this)}return c}Ll.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ll.stdSerializers=o8e;Ll.stdTimeFunctions=Object.assign({},{nullTime:ese,epochTime:tse,unixTime:f8e,isoTime:p8e});function Ig(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?mE:i[n]?i[n]:pE[n]||pE[r]||mE,c8e(t,e,n)}function c8e(t,e,n){!t.transmit&&e[n]===mE||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===pE?pE:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&kO(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,l8e(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Ll.levels.values[l],h=Ll.levels.values[n];if(h<u)return;u8e(this,{ts:s,methodLevel:n,methodValue:h,transmitLevel:l,transmitValue:Ll.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function l8e(t,e,n,r){t._serialize&&kO(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=Ll.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?OH(i.shift(),i):void 0}else typeof s=="string"&&(s=OH(i.shift(),i));return s!==void 0&&(o.msg=s),o}function kO(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Ll.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function xg(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function u8e(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;kO(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=PL(c)}function PL(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function d8e(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function h8e(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?ese:tse}function xC(){return{}}function wR(t){return t}function mE(){}function ese(){return!1}function tse(){return Date.now()}function f8e(){return Math.round(Date.now()/1e3)}function p8e(){return new Date(Date.now()).toISOString()}function m8e(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const z1=cs(ty),g8e={level:"info"},V1="custom_context",GU=1e3*1024;let y8e=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},DH=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new y8e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},nse=class{constructor(e,n=GU){this.level=e??"error",this.levelValue=ty.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new DH(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===ty.levels.values.error?console.error(e):n===ty.levels.values.warn?console.warn(e):n===ty.levels.values.debug?console.debug(e):n===ty.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(hd({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new DH(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(hd({extraMetadata:e})),new Blob(n,{type:"application/json"})}},v8e=class{constructor(e,n=GU){this.baseChunkLogger=new nse(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},w8e=class{constructor(e,n=GU){this.baseChunkLogger=new nse(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var b8e=Object.defineProperty,_8e=Object.defineProperties,E8e=Object.getOwnPropertyDescriptors,NH=Object.getOwnPropertySymbols,A8e=Object.prototype.hasOwnProperty,C8e=Object.prototype.propertyIsEnumerable,RH=(t,e,n)=>e in t?b8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tx=(t,e)=>{for(var n in e||(e={}))A8e.call(e,n)&&RH(t,n,e[n]);if(NH)for(var n of NH(e))C8e.call(e,n)&&RH(t,n,e[n]);return t},nx=(t,e)=>_8e(t,E8e(e));function Aw(t){return nx(tx({},t),{level:(t==null?void 0:t.level)||g8e.level})}function T8e(t,e=V1){return t[e]||""}function S8e(t,e,n=V1){return t[n]=e,t}function qo(t,e=V1){let n="";return typeof t.bindings>"u"?n=T8e(t,e):n=t.bindings().context||"",n}function I8e(t,e,n=V1){const r=qo(t,n);return r.trim()?`${r}/${e}`:e}function Js(t,e,n=V1){const r=I8e(t,e,n),i=t.child({context:r});return S8e(i,r,n)}function x8e(t){var e,n;const r=new v8e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:z1(nx(tx({},t.opts),{level:"trace",browser:nx(tx({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function P8e(t){var e;const n=new w8e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:z1(nx(tx({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function YU(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?x8e(t):P8e(t)}var O8e=Object.defineProperty,D8e=(t,e,n)=>e in t?O8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kH=(t,e,n)=>D8e(t,typeof e!="symbol"?e+"":e,n);let N8e=class extends Gm{constructor(e){super(),this.opts=e,kH(this,"protocol","wc"),kH(this,"version",2)}};var R8e=Object.defineProperty,k8e=(t,e,n)=>e in t?R8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M8e=(t,e,n)=>k8e(t,typeof e!="symbol"?e+"":e,n);let L8e=class extends Gm{constructor(e,n){super(),this.core=e,this.logger=n,M8e(this,"records",new Map)}},F8e=class{constructor(e,n){this.logger=e,this.core=n}},$8e=class extends Gm{constructor(e,n){super(),this.relayer=e,this.logger=n}},j8e=class extends Gm{constructor(e){super()}},U8e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},B8e=class extends Gm{constructor(e,n){super(),this.relayer=e,this.logger=n}},z8e=class extends Gm{constructor(e,n){super(),this.core=e,this.logger=n}},V8e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},H8e=class{constructor(e,n){this.projectId=e,this.logger=n}},W8e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var q8e=Object.defineProperty,K8e=(t,e,n)=>e in t?q8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MH=(t,e,n)=>K8e(t,typeof e!="symbol"?e+"":e,n);let G8e=class{constructor(e){this.opts=e,MH(this,"protocol","wc"),MH(this,"version",2)}},Y8e=class{constructor(e){this.client=e}};function Q8e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rse(t,...e){if(!Q8e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function LH(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Z8e(t,e){rse(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Pg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bR=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function J8e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ise(t){return typeof t=="string"&&(t=J8e(t)),rse(t),t}let X8e=class{clone(){return this._cloneInto()}};function e9e(t){const e=r=>t().update(ise(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function sse(t=32){if(Pg&&typeof Pg.getRandomValues=="function")return Pg.getRandomValues(new Uint8Array(t));if(Pg&&typeof Pg.randomBytes=="function")return Pg.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function t9e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let n9e=class extends X8e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bR(this.buffer)}update(e){LH(this);const{view:n,buffer:r,blockLen:i}=this;e=ise(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=bR(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){LH(this),Z8e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;t9e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=bR(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const PC=BigInt(2**32-1),OL=BigInt(32);function ose(t,e=!1){return e?{h:Number(t&PC),l:Number(t>>OL&PC)}:{h:Number(t>>OL&PC)|0,l:Number(t&PC)|0}}function r9e(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=ose(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const i9e=(t,e)=>BigInt(t>>>0)<<OL|BigInt(e>>>0),s9e=(t,e,n)=>t>>>n,o9e=(t,e,n)=>t<<32-n|e>>>n,a9e=(t,e,n)=>t>>>n|e<<32-n,c9e=(t,e,n)=>t<<32-n|e>>>n,l9e=(t,e,n)=>t<<64-n|e>>>n-32,u9e=(t,e,n)=>t>>>n-32|e<<64-n,d9e=(t,e)=>e,h9e=(t,e)=>t,f9e=(t,e,n)=>t<<n|e>>>32-n,p9e=(t,e,n)=>e<<n|t>>>32-n,m9e=(t,e,n)=>e<<n-32|t>>>64-n,g9e=(t,e,n)=>t<<n-32|e>>>64-n;function y9e(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const v9e=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),w9e=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,b9e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),_9e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,E9e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),A9e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,tn={fromBig:ose,split:r9e,toBig:i9e,shrSH:s9e,shrSL:o9e,rotrSH:a9e,rotrSL:c9e,rotrBH:l9e,rotrBL:u9e,rotr32H:d9e,rotr32L:h9e,rotlSH:f9e,rotlSL:p9e,rotlBH:m9e,rotlBL:g9e,add:y9e,add3L:v9e,add3H:w9e,add4L:b9e,add4H:_9e,add5H:A9e,add5L:E9e},[C9e,T9e]=(()=>tn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),Hd=new Uint32Array(80),Wd=new Uint32Array(80);let S9e=class extends n9e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:y,Hl:v}=this;return[e,n,r,i,s,o,a,c,l,u,h,f,p,g,y,v]}set(e,n,r,i,s,o,a,c,l,u,h,f,p,g,y,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=y|0,this.Hl=v|0}process(e,n){for(let A=0;A<16;A++,n+=4)Hd[A]=e.getUint32(n),Wd[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const I=Hd[A-15]|0,P=Wd[A-15]|0,D=tn.rotrSH(I,P,1)^tn.rotrSH(I,P,8)^tn.shrSH(I,P,7),T=tn.rotrSL(I,P,1)^tn.rotrSL(I,P,8)^tn.shrSL(I,P,7),S=Hd[A-2]|0,x=Wd[A-2]|0,N=tn.rotrSH(S,x,19)^tn.rotrBH(S,x,61)^tn.shrSH(S,x,6),R=tn.rotrSL(S,x,19)^tn.rotrBL(S,x,61)^tn.shrSL(S,x,6),$=tn.add4L(T,R,Wd[A-7],Wd[A-16]),j=tn.add4H($,D,N,Hd[A-7],Hd[A-16]);Hd[A]=j|0,Wd[A]=$|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:y,Gl:v,Hh:b,Hl:_}=this;for(let A=0;A<80;A++){const I=tn.rotrSH(h,f,14)^tn.rotrSH(h,f,18)^tn.rotrBH(h,f,41),P=tn.rotrSL(h,f,14)^tn.rotrSL(h,f,18)^tn.rotrBL(h,f,41),D=h&p^~h&y,T=f&g^~f&v,S=tn.add5L(_,P,T,T9e[A],Wd[A]),x=tn.add5H(S,b,I,D,C9e[A],Hd[A]),N=S|0,R=tn.rotrSH(r,i,28)^tn.rotrBH(r,i,34)^tn.rotrBH(r,i,39),$=tn.rotrSL(r,i,28)^tn.rotrBL(r,i,34)^tn.rotrBL(r,i,39),j=r&s^r&a^s&a,K=i&o^i&c^o&c;b=y|0,_=v|0,y=p|0,v=g|0,p=h|0,g=f|0,{h,l:f}=tn.add(l|0,u|0,x|0,N|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const B=tn.add3L(N,$,K);r=tn.add3H(B,x,R,j),i=B|0}({h:r,l:i}=tn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=tn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=tn.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=tn.add(this.Dh|0,this.Dl|0,l|0,u|0),{h,l:f}=tn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=tn.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:y,l:v}=tn.add(this.Gh|0,this.Gl|0,y|0,v|0),{h:b,l:_}=tn.add(this.Hh|0,this.Hl|0,b|0,_|0),this.set(r,i,s,o,a,c,l,u,h,f,p,g,y,v,b,_)}roundClean(){Hd.fill(0),Wd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const I9e=e9e(()=>new S9e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QU=BigInt(0),ase=BigInt(1),x9e=BigInt(2);function ZU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function JU(t){if(!ZU(t))throw new Error("Uint8Array expected")}function _R(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const P9e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function XU(t){JU(t);let e="";for(let n=0;n<t.length;n++)e+=P9e[t[n]];return e}function cse(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?QU:BigInt("0x"+t)}const fu={_0:48,_9:57,A:65,F:70,a:97,f:102};function FH(t){if(t>=fu._0&&t<=fu._9)return t-fu._0;if(t>=fu.A&&t<=fu.F)return t-(fu.A-10);if(t>=fu.a&&t<=fu.f)return t-(fu.a-10)}function lse(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=FH(t.charCodeAt(s)),a=FH(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function O9e(t){return cse(XU(t))}function GT(t){return JU(t),cse(XU(Uint8Array.from(t).reverse()))}function use(t,e){return lse(t.toString(16).padStart(e*2,"0"))}function DL(t,e){return use(t,e).reverse()}function pu(t,e,n){let r;if(typeof e=="string")try{r=lse(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(ZU(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function $H(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];JU(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const ER=t=>typeof t=="bigint"&&QU<=t;function D9e(t,e,n){return ER(t)&&ER(e)&&ER(n)&&e<=t&&t<n}function D0(t,e,n,r){if(!D9e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function N9e(t){let e;for(e=0;t>QU;t>>=ase,e+=1);return e}const R9e=t=>(x9e<<BigInt(t-1))-ase,k9e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ZU(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function e5(t,e,n={}){const r=(i,s,o)=>{const a=k9e[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function jH(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const is=BigInt(0),pi=BigInt(1),np=BigInt(2),M9e=BigInt(3),NL=BigInt(4),UH=BigInt(5),BH=BigInt(8);function $i(t,e){const n=t%e;return n>=is?n:e+n}function L9e(t,e,n){if(e<is)throw new Error("invalid exponent, negatives unsupported");if(n<=is)throw new Error("invalid modulus");if(n===pi)return is;let r=pi;for(;e>is;)e&pi&&(r=r*t%n),t=t*t%n,e>>=pi;return r}function tl(t,e,n){let r=t;for(;e-- >is;)r*=r,r%=n;return r}function zH(t,e){if(t===is)throw new Error("invert: expected non-zero number");if(e<=is)throw new Error("invert: expected positive modulus, got "+e);let n=$i(t,e),r=e,i=is,s=pi;for(;n!==is;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==pi)throw new Error("invert: does not exist");return $i(i,e)}function F9e(t){const e=(t-pi)/np;let n,r,i;for(n=t-pi,r=0;n%np===is;n/=np,r++);for(i=np;i<t&&L9e(i,e,t)!==t-pi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+pi)/NL;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+pi)/np;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let g=o.sqr(h);f<c&&!o.eql(g,o.ONE);f++)g=o.sqr(g);const p=o.pow(l,pi<<BigInt(c-f-1));l=o.sqr(p),u=o.mul(u,p),h=o.mul(h,l),c=f}return u}}function $9e(t){if(t%NL===M9e){const e=(t+pi)/NL;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%BH===UH){const e=(t-UH)/BH;return function(n,r){const i=n.mul(r,np),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,np),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return F9e(t)}const j9e=(t,e)=>($i(t,e)&pi)===pi,U9e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function B9e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=U9e.reduce((r,i)=>(r[i]="function",r),e);return e5(t,n)}function z9e(t,e,n){if(n<is)throw new Error("invalid exponent, negatives unsupported");if(n===is)return t.ONE;if(n===pi)return e;let r=t.ONE,i=e;for(;n>is;)n&pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=pi;return r}function V9e(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function dse(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function hse(t,e,n=!1,r={}){if(t<=is)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=dse(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:R9e(i),ZERO:is,ONE:pi,create:c=>$i(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return is<=c&&c<t},is0:c=>c===is,isOdd:c=>(c&pi)===pi,neg:c=>$i(-c,t),eql:(c,l)=>c===l,sqr:c=>$i(c*c,t),add:(c,l)=>$i(c+l,t),sub:(c,l)=>$i(c-l,t),mul:(c,l)=>$i(c*l,t),pow:(c,l)=>z9e(a,c,l),div:(c,l)=>$i(c*zH(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>zH(c,t),sqrt:r.sqrt||(c=>(o||(o=$9e(t)),o(a,c))),invertBatch:c=>V9e(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?DL(c,s):use(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?GT(c):O9e(c)}});return Object.freeze(a)}const VH=BigInt(0),OC=BigInt(1);function AR(t,e){const n=e.negate();return t?n:e}function fse(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function CR(t,e){fse(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function H9e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function W9e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const TR=new WeakMap,pse=new WeakMap;function SR(t){return pse.get(t)||1}function q9e(t,e){return{constTimeNegate:AR,hasPrecomputes(n){return SR(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>VH;)r&OC&&(i=i.add(s)),s=s.double(),r>>=OC;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=CR(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=CR(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let g=Number(i&l);i>>=h,g>o&&(g-=u,i+=OC);const y=p,v=p+Math.abs(g)-1,b=f%2!==0,_=g<0;g===0?c=c.add(AR(b,r[y])):a=a.add(AR(_,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=CR(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===VH)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=OC),p===0)continue;let g=r[f+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=TR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&TR.set(r,i(s))),s},wNAFCached(n,r,i){const s=SR(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=SR(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){fse(r,e),pse.set(n,r),TR.delete(n)}}}function K9e(t,e,n,r){if(H9e(n,t),W9e(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=N9e(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let p=0;p<r.length;p++){const g=r[p],y=Number(g>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[p])}let f=i;for(let p=c.length-1,g=i;p>0;p--)g=g.add(c[p]),f=f.add(g);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function G9e(t){return B9e(t.Fp),e5(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dse(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const dc=BigInt(0),bo=BigInt(1),DC=BigInt(2),Y9e=BigInt(8),Q9e={zip215:!0};function Z9e(t){const e=G9e(t);return e5(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function J9e(t){const e=Z9e(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=DC<<BigInt(a*8)-bo,u=n.create,h=hse(e.n,e.nBitLength),f=e.uvRatio||((B,z)=>{try{return{isValid:!0,value:n.sqrt(B*n.inv(z))}}catch{return{isValid:!1,value:dc}}}),p=e.adjustScalarBytes||(B=>B),g=e.domain||((B,z,Y)=>{if(_R("phflag",Y),z.length||Y)throw new Error("Contexts/pre-hash are not supported");return B});function y(B,z){D0("coordinate "+B,z,dc,l)}function v(B){if(!(B instanceof A))throw new Error("ExtendedPoint expected")}const b=jH((B,z)=>{const{ex:Y,ey:V,ez:Q}=B,G=B.is0();z==null&&(z=G?Y9e:n.inv(Q));const ee=u(Y*z),ne=u(V*z),le=u(Q*z);if(G)return{x:dc,y:bo};if(le!==bo)throw new Error("invZ was invalid");return{x:ee,y:ne}}),_=jH(B=>{const{a:z,d:Y}=e;if(B.is0())throw new Error("bad point: ZERO");const{ex:V,ey:Q,ez:G,et:ee}=B,ne=u(V*V),le=u(Q*Q),ue=u(G*G),re=u(ue*ue),oe=u(ne*z),ye=u(ue*u(oe+le)),Te=u(re+u(Y*u(ne*le)));if(ye!==Te)throw new Error("bad point: equation left != right (1)");const Be=u(V*Q),et=u(G*ee);if(Be!==et)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(z,Y,V,Q){this.ex=z,this.ey=Y,this.ez=V,this.et=Q,y("x",z),y("y",Y),y("z",V),y("t",Q),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(z){if(z instanceof A)throw new Error("extended point not allowed");const{x:Y,y:V}=z||{};return y("x",Y),y("y",V),new A(Y,V,bo,u(Y*V))}static normalizeZ(z){const Y=n.invertBatch(z.map(V=>V.ez));return z.map((V,Q)=>V.toAffine(Y[Q])).map(A.fromAffine)}static msm(z,Y){return K9e(A,h,z,Y)}_setWindowSize(z){D.setWindowSize(this,z)}assertValidity(){_(this)}equals(z){v(z);const{ex:Y,ey:V,ez:Q}=this,{ex:G,ey:ee,ez:ne}=z,le=u(Y*ne),ue=u(G*Q),re=u(V*ne),oe=u(ee*Q);return le===ue&&re===oe}is0(){return this.equals(A.ZERO)}negate(){return new A(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:z}=e,{ex:Y,ey:V,ez:Q}=this,G=u(Y*Y),ee=u(V*V),ne=u(DC*u(Q*Q)),le=u(z*G),ue=Y+V,re=u(u(ue*ue)-G-ee),oe=le+ee,ye=oe-ne,Te=le-ee,Be=u(re*ye),et=u(oe*Te),tt=u(re*Te),Fe=u(ye*oe);return new A(Be,et,Fe,tt)}add(z){v(z);const{a:Y,d:V}=e,{ex:Q,ey:G,ez:ee,et:ne}=this,{ex:le,ey:ue,ez:re,et:oe}=z;if(Y===BigInt(-1)){const fn=u((G-Q)*(ue+le)),mr=u((G+Q)*(ue-le)),Jt=u(mr-fn);if(Jt===dc)return this.double();const se=u(ee*DC*oe),xe=u(ne*DC*re),Ce=xe+se,Me=mr+fn,ot=xe-se,Ye=u(Ce*Jt),yt=u(Me*ot),Mt=u(Ce*ot),gr=u(Jt*Me);return new A(Ye,yt,gr,Mt)}const ye=u(Q*le),Te=u(G*ue),Be=u(ne*V*oe),et=u(ee*re),tt=u((Q+G)*(le+ue)-ye-Te),Fe=et-Be,pt=et+Be,mt=u(Te-Y*ye),an=u(tt*Fe),Pt=u(pt*mt),An=u(tt*mt),Fn=u(Fe*pt);return new A(an,Pt,Fn,An)}subtract(z){return this.add(z.negate())}wNAF(z){return D.wNAFCached(this,z,A.normalizeZ)}multiply(z){const Y=z;D0("scalar",Y,bo,r);const{p:V,f:Q}=this.wNAF(Y);return A.normalizeZ([V,Q])[0]}multiplyUnsafe(z,Y=A.ZERO){const V=z;return D0("scalar",V,dc,r),V===dc?P:this.is0()||V===bo?this:D.wNAFCachedUnsafe(this,V,A.normalizeZ,Y)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return D.unsafeLadder(this,r).is0()}toAffine(z){return b(this,z)}clearCofactor(){const{h:z}=e;return z===bo?this:this.multiplyUnsafe(z)}static fromHex(z,Y=!1){const{d:V,a:Q}=e,G=n.BYTES;z=pu("pointHex",z,G),_R("zip215",Y);const ee=z.slice(),ne=z[G-1];ee[G-1]=ne&-129;const le=GT(ee),ue=Y?l:n.ORDER;D0("pointHex.y",le,dc,ue);const re=u(le*le),oe=u(re-bo),ye=u(V*re-Q);let{isValid:Te,value:Be}=f(oe,ye);if(!Te)throw new Error("Point.fromHex: invalid y coordinate");const et=(Be&bo)===bo,tt=(ne&128)!==0;if(!Y&&Be===dc&&tt)throw new Error("Point.fromHex: x=0 and x_0=1");return tt!==et&&(Be=u(-Be)),A.fromAffine({x:Be,y:le})}static fromPrivateKey(z){return x(z).point}toRawBytes(){const{x:z,y:Y}=this.toAffine(),V=DL(Y,n.BYTES);return V[V.length-1]|=z&bo?128:0,V}toHex(){return XU(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,bo,u(e.Gx*e.Gy)),A.ZERO=new A(dc,bo,bo,dc);const{BASE:I,ZERO:P}=A,D=q9e(A,a*8);function T(B){return $i(B,r)}function S(B){return T(GT(B))}function x(B){const z=n.BYTES;B=pu("private key",B,z);const Y=pu("hashed private key",s(B),2*z),V=p(Y.slice(0,z)),Q=Y.slice(z,2*z),G=S(V),ee=I.multiply(G),ne=ee.toRawBytes();return{head:V,prefix:Q,scalar:G,point:ee,pointBytes:ne}}function N(B){return x(B).pointBytes}function R(B=new Uint8Array,...z){const Y=$H(...z);return S(s(g(Y,pu("context",B),!!i)))}function $(B,z,Y={}){B=pu("message",B),i&&(B=i(B));const{prefix:V,scalar:Q,pointBytes:G}=x(z),ee=R(Y.context,V,B),ne=I.multiply(ee).toRawBytes(),le=R(Y.context,ne,G,B),ue=T(ee+le*Q);D0("signature.s",ue,dc,r);const re=$H(ne,DL(ue,n.BYTES));return pu("result",re,n.BYTES*2)}const j=Q9e;function K(B,z,Y,V=j){const{context:Q,zip215:G}=V,ee=n.BYTES;B=pu("signature",B,2*ee),z=pu("message",z),Y=pu("publicKey",Y,ee),G!==void 0&&_R("zip215",G),i&&(z=i(z));const ne=GT(B.slice(ee,2*ee));let le,ue,re;try{le=A.fromHex(Y,G),ue=A.fromHex(B.slice(0,ee),G),re=I.multiplyUnsafe(ne)}catch{return!1}if(!G&&le.isSmallOrder())return!1;const oe=R(Q,ue.toRawBytes(),le.toRawBytes(),z);return ue.add(le.multiplyUnsafe(oe)).subtract(re).clearCofactor().equals(A.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:N,sign:$,verify:K,ExtendedPoint:A,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>o(n.BYTES),precompute(B=8,z=A.BASE){return z._setWindowSize(B),z.multiply(BigInt(3)),z}}}}BigInt(0),BigInt(1);const t5=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),HH=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const X9e=BigInt(1),WH=BigInt(2);BigInt(3);const eze=BigInt(5),tze=BigInt(8);function nze(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=t5,o=t*t%s*t%s,a=tl(o,WH,s)*o%s,c=tl(a,X9e,s)*t%s,l=tl(c,eze,s)*c%s,u=tl(l,e,s)*l%s,h=tl(u,n,s)*u%s,f=tl(h,r,s)*h%s,p=tl(f,i,s)*f%s,g=tl(p,i,s)*f%s,y=tl(g,e,s)*l%s;return{pow_p_5_8:tl(y,WH,s)*t%s,b2:o}}function rze(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function ize(t,e){const n=t5,r=$i(e*e*e,n),i=$i(r*r*e,n),s=nze(t*i).pow_p_5_8;let o=$i(t*r*s,n);const a=$i(e*o*o,n),c=o,l=$i(o*HH,n),u=a===t,h=a===$i(-t,n),f=a===$i(-t*HH,n);return u&&(o=c),(h||f)&&(o=l),j9e(o,n)&&(o=$i(-o,n)),{isValid:u||h,value:o}}const sze=(()=>hse(t5,void 0,!0))(),oze=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:sze,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:tze,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:I9e,randomBytes:sse,adjustScalarBytes:rze,uvRatio:ize}))(),mse=(()=>J9e(oze))(),aze="EdDSA",cze="JWT",rx=".",MO="base64url",gse="utf8",yse="utf8",lze=":",uze="did",dze="key",qH="base58btc",hze="z",fze="K36",pze=32;function n5(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function vse(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?n5(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function wse(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=vse(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n5(n)}function mze(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,b=0,_=g.length;b!==_&&g[b]===0;)b++,y++;for(var A=(_-b)*u+1>>>0,I=new Uint8Array(A);b!==_;){for(var P=g[b],D=0,T=A-1;(P!==0||D<v)&&T!==-1;T--,D++)P+=256*I[T]>>>0,I[T]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");v=D,b++}for(var S=A-v;S!==A&&I[S]===0;)S++;for(var x=c.repeat(y);S<A;++S)x+=t.charAt(I[S]);return x}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,b=0;g[y]===c;)v++,y++;for(var _=(g.length-y)*l+1>>>0,A=new Uint8Array(_);g[y];){var I=n[g.charCodeAt(y)];if(I===255)return;for(var P=0,D=_-1;(I!==0||P<b)&&D!==-1;D--,P++)I+=a*A[D]>>>0,A[D]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=P,y++}if(g[y]!==" "){for(var T=_-b;T!==_&&A[T]===0;)T++;for(var S=new Uint8Array(v+(_-T)),x=v;T!==_;)S[x++]=A[T++];return S}}}function p(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var gze=mze,yze=gze;const bse=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},vze=t=>new TextEncoder().encode(t),wze=t=>new TextDecoder().decode(t);let bze=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_ze=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return _se(this,e)}},Eze=class{constructor(e){this.decoders=e}or(e){return _se(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const _se=(t,e)=>new Eze({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Aze=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new bze(e,n,r),this.decoder=new _ze(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const LO=({name:t,prefix:e,encode:n,decode:r})=>new Aze(t,e,n,r),H1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=yze(n,e);return LO({prefix:t,name:e,encode:r,decode:s=>bse(i(s))})},Cze=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Tze=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Ns=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>LO({prefix:e,name:t,encode(i){return Tze(i,r,n)},decode(i){return Cze(i,r,n,t)}}),Sze=LO({prefix:"\0",name:"identity",encode:t=>wze(t),decode:t=>vze(t)});var Ize=Object.freeze({__proto__:null,identity:Sze});const xze=Ns({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Pze=Object.freeze({__proto__:null,base2:xze});const Oze=Ns({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Dze=Object.freeze({__proto__:null,base8:Oze});const Nze=H1({prefix:"9",name:"base10",alphabet:"0123456789"});var Rze=Object.freeze({__proto__:null,base10:Nze});const kze=Ns({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Mze=Ns({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Lze=Object.freeze({__proto__:null,base16:kze,base16upper:Mze});const Fze=Ns({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$ze=Ns({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jze=Ns({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Uze=Ns({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Bze=Ns({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zze=Ns({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Vze=Ns({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Hze=Ns({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wze=Ns({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var qze=Object.freeze({__proto__:null,base32:Fze,base32upper:$ze,base32pad:jze,base32padupper:Uze,base32hex:Bze,base32hexupper:zze,base32hexpad:Vze,base32hexpadupper:Hze,base32z:Wze});const Kze=H1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Gze=H1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Yze=Object.freeze({__proto__:null,base36:Kze,base36upper:Gze});const Qze=H1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Zze=H1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Jze=Object.freeze({__proto__:null,base58btc:Qze,base58flickr:Zze});const Xze=Ns({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eVe=Ns({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tVe=Ns({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nVe=Ns({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var rVe=Object.freeze({__proto__:null,base64:Xze,base64pad:eVe,base64url:tVe,base64urlpad:nVe});const Ese=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),iVe=Ese.reduce((t,e,n)=>(t[n]=e,t),[]),sVe=Ese.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function oVe(t){return t.reduce((e,n)=>(e+=iVe[n],e),"")}function aVe(t){const e=[];for(const n of t){const r=sVe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const cVe=LO({prefix:"🚀",name:"base256emoji",encode:oVe,decode:aVe});var lVe=Object.freeze({__proto__:null,base256emoji:cVe}),uVe=Ase,KH=128,dVe=127,hVe=~dVe,fVe=Math.pow(2,31);function Ase(t,e,n){e=e||[],n=n||0;for(var r=n;t>=fVe;)e[n++]=t&255|KH,t/=128;for(;t&hVe;)e[n++]=t&255|KH,t>>>=7;return e[n]=t|0,Ase.bytes=n-r+1,e}var pVe=RL,mVe=128,GH=127;function RL(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw RL.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&GH)<<i:(o&GH)*Math.pow(2,i),i+=7}while(o>=mVe);return RL.bytes=s-r,n}var gVe=Math.pow(2,7),yVe=Math.pow(2,14),vVe=Math.pow(2,21),wVe=Math.pow(2,28),bVe=Math.pow(2,35),_Ve=Math.pow(2,42),EVe=Math.pow(2,49),AVe=Math.pow(2,56),CVe=Math.pow(2,63),TVe=function(t){return t<gVe?1:t<yVe?2:t<vVe?3:t<wVe?4:t<bVe?5:t<_Ve?6:t<EVe?7:t<AVe?8:t<CVe?9:10},SVe={encode:uVe,decode:pVe,encodingLength:TVe},Cse=SVe;const YH=(t,e,n=0)=>(Cse.encode(t,e,n),e),QH=t=>Cse.encodingLength(t),kL=(t,e)=>{const n=e.byteLength,r=QH(t),i=r+QH(n),s=new Uint8Array(i+n);return YH(t,s,0),YH(n,s,r),s.set(e,i),new IVe(t,n,e,s)};let IVe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const Tse=({name:t,code:e,encode:n})=>new xVe(t,e,n);let xVe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?kL(this.code,n):n.then(r=>kL(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Sse=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),PVe=Tse({name:"sha2-256",code:18,encode:Sse("SHA-256")}),OVe=Tse({name:"sha2-512",code:19,encode:Sse("SHA-512")});var DVe=Object.freeze({__proto__:null,sha256:PVe,sha512:OVe});const Ise=0,NVe="identity",xse=bse,RVe=t=>kL(Ise,xse(t)),kVe={code:Ise,name:NVe,encode:xse,digest:RVe};var MVe=Object.freeze({__proto__:null,identity:kVe});new TextEncoder,new TextDecoder;const ZH={...Ize,...Pze,...Dze,...Rze,...Lze,...qze,...Yze,...Jze,...rVe,...lVe};({...DVe,...MVe});function Pse(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const JH=Pse("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),IR=Pse("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=vse(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Ose={utf8:JH,"utf-8":JH,hex:ZH.base16,latin1:IR,ascii:IR,binary:IR,...ZH};function FO(t,e="utf8"){const n=Ose[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Cw(t,e="utf8"){const n=Ose[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?n5(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function XH(t){return _m(FO(Cw(t,MO),gse))}function ix(t){return FO(Cw(hd(t),gse),MO)}function Dse(t){const e=Cw(fze,qH),n=hze+FO(wse([e,t]),qH);return[uze,dze,n].join(lze)}function LVe(t){return FO(t,MO)}function FVe(t){return Cw(t,MO)}function $Ve(t){return Cw([ix(t.header),ix(t.payload)].join(rx),yse)}function jVe(t){return[ix(t.header),ix(t.payload),LVe(t.signature)].join(rx)}function ML(t){const e=t.split(rx),n=XH(e[0]),r=XH(e[1]),i=FVe(e[2]),s=Cw(e.slice(0,2).join(rx),yse);return{header:n,payload:r,signature:i,data:s}}function e7(t=sse(pze)){const e=mse.getPublicKey(t);return{secretKey:wse([t,e]),publicKey:e}}async function UVe(t,e,n,r,i=Re.fromMiliseconds(Date.now())){const s={alg:aze,typ:cze},o=Dse(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=$Ve({header:s,payload:c}),u=mse.sign(l,r.secretKey.slice(0,32));return jVe({header:s,payload:c,signature:u})}var t7=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},BVe=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),zVe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),VVe=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),HVe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),WVe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),qVe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,KVe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,n7=3,GVe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",qVe]],r7=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function YVe(t){return t?i7(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new WVe:typeof navigator<"u"?i7(navigator.userAgent):JVe()}function QVe(t){return t!==""&&GVe.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function i7(t){var e=QVe(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new HVe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<n7&&(i=t7(t7([],i,!0),XVe(n7-i.length),!0)):i=[];var s=i.join("."),o=ZVe(t),a=KVe.exec(t);return a&&a[1]?new VVe(n,s,o,a[1]):new BVe(n,s,o)}function ZVe(t){for(var e=0,n=r7.length;e<n;e++){var r=r7[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function JVe(){var t=typeof process<"u"&&process.version;return t?new zVe(process.version.slice(1)):null}function XVe(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.getLocalStorage=Er.getLocalStorageOrThrow=Er.getCrypto=Er.getCryptoOrThrow=Nse=Er.getLocation=Er.getLocationOrThrow=r5=Er.getNavigator=Er.getNavigatorOrThrow=W1=Er.getDocument=Er.getDocumentOrThrow=Er.getFromWindowOrThrow=Er.getFromWindow=void 0;function Qm(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Er.getFromWindow=Qm;function Tw(t){const e=Qm(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Er.getFromWindowOrThrow=Tw;function eHe(){return Tw("document")}Er.getDocumentOrThrow=eHe;function tHe(){return Qm("document")}var W1=Er.getDocument=tHe;function nHe(){return Tw("navigator")}Er.getNavigatorOrThrow=nHe;function rHe(){return Qm("navigator")}var r5=Er.getNavigator=rHe;function iHe(){return Tw("location")}Er.getLocationOrThrow=iHe;function sHe(){return Qm("location")}var Nse=Er.getLocation=sHe;function oHe(){return Tw("crypto")}Er.getCryptoOrThrow=oHe;function aHe(){return Qm("crypto")}Er.getCrypto=aHe;function cHe(){return Tw("localStorage")}Er.getLocalStorageOrThrow=cHe;function lHe(){return Qm("localStorage")}Er.getLocalStorage=lHe;var i5={};Object.defineProperty(i5,"__esModule",{value:!0});var Rse=i5.getWindowMetadata=void 0;const s7=Er;function uHe(){let t,e;try{t=s7.getDocumentOrThrow(),e=s7.getLocationOrThrow()}catch{return null}function n(){const h=t.getElementsByTagName("link"),f=[];for(let p=0;p<h.length;p++){const g=h[p],y=g.getAttribute("rel");if(y&&y.toLowerCase().indexOf("icon")>-1){const v=g.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let b=e.protocol+"//"+e.host;if(v.indexOf("/")===0)b+=v;else{const _=e.pathname.split("/");_.pop();const A=_.join("/");b+=A+"/"+v}f.push(b)}else if(v.indexOf("//")===0){const b=e.protocol+v;f.push(b)}else f.push(v)}}return f}function r(...h){const f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){const g=f[p],y=["itemprop","property","name"].map(v=>g.getAttribute(v)).filter(v=>v?h.includes(v):!1);if(y.length&&y){const v=g.getAttribute("content");if(v)return v}}return""}function i(){let h=r("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}Rse=i5.getWindowMetadata=uHe;function gE(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function o7(t){return gE(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const kse="2.23.2";let N0={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${kse}`};class Em extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Em?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=(()=>n.cause instanceof Em&&n.cause.docsPath||n.docsPath)(),s=(a=N0.getDocsUrl)==null?void 0:a.call(N0,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...N0.version?[`Version: ${N0.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=kse}walk(e){return Mse(this,e)}}function Mse(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Mse(t.cause,e):e?null:t}class Lse extends Em{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Sw(t,{dir:e,size:n=32}={}){return typeof t=="string"?dHe(t,{dir:e,size:n}):hHe(t,{dir:e,size:n})}function dHe(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Lse({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function hHe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Lse({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class fHe extends Em{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class pHe extends Em{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Iw(t,{size:e}){if(o7(t)>e)throw new pHe({givenSize:o7(t),maxSize:e})}function LL(t,e={}){const{signed:n}=e;e.size&&Iw(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function mHe(t,e={}){return Number(LL(t,e))}const gHe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function FL(t,e={}){return typeof t=="number"||typeof t=="bigint"?$se(t,e):typeof t=="string"?wHe(t,e):typeof t=="boolean"?yHe(t,e):Fse(t,e)}function yHe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Iw(n,{size:e.size}),Sw(n,{size:e.size})):n}function Fse(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=gHe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Iw(r,{size:e.size}),Sw(r,{dir:"right",size:e.size})):r}function $se(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new fHe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Sw(a,{size:r}):a}const vHe=new TextEncoder;function wHe(t,e={}){const n=vHe.encode(t);return Fse(n,e)}const bHe=new TextEncoder;function _He(t,e={}){return typeof t=="number"||typeof t=="bigint"?AHe(t,e):typeof t=="boolean"?EHe(t,e):gE(t)?jse(t,e):Use(t,e)}function EHe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Iw(n,{size:e.size}),Sw(n,{size:e.size})):n}const mu={zero:48,nine:57,A:65,F:70,a:97,f:102};function a7(t){if(t>=mu.zero&&t<=mu.nine)return t-mu.zero;if(t>=mu.A&&t<=mu.F)return t-(mu.A-10);if(t>=mu.a&&t<=mu.f)return t-(mu.a-10)}function jse(t,e={}){let n=t;e.size&&(Iw(n,{size:e.size}),n=Sw(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=a7(r.charCodeAt(a++)),l=a7(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Em(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function AHe(t,e){const n=$se(t,e);return jse(n)}function Use(t,e={}){const n=bHe.encode(t);return typeof e.size=="number"?(Iw(n,{size:e.size}),Sw(n,{dir:"right",size:e.size})):n}function sx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function CHe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $O(t,...e){if(!CHe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function fut(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sx(t.outputLen),sx(t.blockLen)}function c7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function THe(t,e){$O(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const NC=BigInt(2**32-1),l7=BigInt(32);function SHe(t,e=!1){return e?{h:Number(t&NC),l:Number(t>>l7&NC)}:{h:Number(t>>l7&NC)|0,l:Number(t&NC)|0}}function IHe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=SHe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const xHe=(t,e,n)=>t<<n|e>>>32-n,PHe=(t,e,n)=>e<<n|t>>>32-n,OHe=(t,e,n)=>e<<n-32|t>>>64-n,DHe=(t,e,n)=>t<<n-32|e>>>64-n,Og=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NHe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function put(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mut(t,e){return t<<32-e|t>>>e}const u7=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function RHe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function d7(t){for(let e=0;e<t.length;e++)t[e]=RHe(t[e])}function kHe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Bse(t){return typeof t=="string"&&(t=kHe(t)),$O(t),t}function gut(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];$O(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class MHe{clone(){return this._cloneInto()}}function LHe(t){const e=r=>t().update(Bse(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function yut(t=32){if(Og&&typeof Og.getRandomValues=="function")return Og.getRandomValues(new Uint8Array(t));if(Og&&typeof Og.randomBytes=="function")return Og.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const zse=[],Vse=[],Hse=[],FHe=BigInt(0),R0=BigInt(1),$He=BigInt(2),jHe=BigInt(7),UHe=BigInt(256),BHe=BigInt(113);for(let t=0,e=R0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],zse.push(2*(5*r+n)),Vse.push((t+1)*(t+2)/2%64);let i=FHe;for(let s=0;s<7;s++)e=(e<<R0^(e>>jHe)*BHe)%UHe,e&$He&&(i^=R0<<(R0<<BigInt(s))-R0);Hse.push(i)}const[zHe,VHe]=IHe(Hse,!0),h7=(t,e,n)=>n>32?OHe(t,e,n):xHe(t,e,n),f7=(t,e,n)=>n>32?DHe(t,e,n):PHe(t,e,n);function HHe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=h7(l,u,1)^n[a],f=f7(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Vse[o],c=h7(i,s,a),l=f7(i,s,a),u=zse[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=zHe[r],t[1]^=VHe[r]}n.fill(0)}class s5 extends MHe{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sx(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=NHe(this.state)}keccak(){u7||d7(this.state32),HHe(this.state32,this.rounds),u7||d7(this.state32),this.posOut=0,this.pos=0}update(e){c7(this);const{blockLen:n,state:r}=this;e=Bse(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){c7(this,!1),$O(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(THe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new s5(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const WHe=(t,e,n)=>LHe(()=>new s5(e,t,n)),qHe=WHe(1,136,256/8);function Wse(t,e){const n=e||"hex",r=qHe(gE(t,{strict:!1})?_He(t):t);return n==="bytes"?r:FL(r)}class KHe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const xR=new KHe(8192);function GHe(t,e){if(xR.has(`${t}.${e}`))return xR.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Wse(Use(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return xR.set(`${t}.${e}`,s),s}function YHe(t){const e=Wse(`0x${t.substring(4)}`).substring(26);return GHe(`0x${e}`)}async function QHe({hash:t,signature:e}){const n=gE(t)?t:FL(t),{secp256k1:r}=await Po(()=>import("./secp256k1-a567de35.js"),[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:h,yParity:f}=e,p=Number(f??h),g=p7(p);return new r.Signature(LL(l),LL(u)).addRecoveryBit(g)}const o=gE(e)?e:FL(e),a=mHe(`0x${o.slice(130)}`),c=p7(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function p7(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function ZHe({hash:t,signature:e}){return YHe(await QHe({hash:t,signature:e}))}function JHe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,h=0,f=0;const p=l.length;for(;f!==p&&l[f]===0;)f++,u++;const g=(p-f)*s+1>>>0,y=new Uint8Array(g);for(;f!==p;){let _=l[f],A=0;for(let I=g-1;(_!==0||A<h)&&I!==-1;I--,A++)_+=256*y[I]>>>0,y[I]=_%n>>>0,_=_/n>>>0;if(_!==0)throw new Error("Non-zero carry");h=A,f++}let v=g-h;for(;v!==g&&y[v]===0;)v++;let b=r.repeat(u);for(;v<g;++v)b+=t.charAt(y[v]);return b}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;l[u]===r;)h++,u++;const p=(l.length-u)*i+1>>>0,g=new Uint8Array(p);for(;u<l.length;){const _=l.charCodeAt(u);if(_>255)return;let A=e[_];if(A===255)return;let I=0;for(let P=p-1;(A!==0||I<f)&&P!==-1;P--,I++)A+=n*g[P]>>>0,g[P]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");f=I,u++}let y=p-f;for(;y!==p&&g[y]===0;)y++;const v=new Uint8Array(h+(p-y));let b=h;for(;y!==p;)v[b++]=g[y++];return v}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var XHe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const qse=JHe(XHe);function Kse(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function jb(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Kse(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function e7e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,b=0,_=g.length;b!==_&&g[b]===0;)b++,y++;for(var A=(_-b)*u+1>>>0,I=new Uint8Array(A);b!==_;){for(var P=g[b],D=0,T=A-1;(P!==0||D<v)&&T!==-1;T--,D++)P+=256*I[T]>>>0,I[T]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");v=D,b++}for(var S=A-v;S!==A&&I[S]===0;)S++;for(var x=c.repeat(y);S<A;++S)x+=t.charAt(I[S]);return x}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,b=0;g[y]===c;)v++,y++;for(var _=(g.length-y)*l+1>>>0,A=new Uint8Array(_);g[y];){var I=n[g.charCodeAt(y)];if(I===255)return;for(var P=0,D=_-1;(I!==0||P<b)&&D!==-1;D--,P++)I+=a*A[D]>>>0,A[D]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=P,y++}if(g[y]!==" "){for(var T=_-b;T!==_&&A[T]===0;)T++;for(var S=new Uint8Array(v+(_-T)),x=v;T!==_;)S[x++]=A[T++];return S}}}function p(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var t7e=e7e,n7e=t7e;const r7e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},i7e=t=>new TextEncoder().encode(t),s7e=t=>new TextDecoder().decode(t);class o7e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class a7e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Gse(this,e)}}class c7e{constructor(e){this.decoders=e}or(e){return Gse(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Gse=(t,e)=>new c7e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class l7e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new o7e(e,n,r),this.decoder=new a7e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const jO=({name:t,prefix:e,encode:n,decode:r})=>new l7e(t,e,n,r),q1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=n7e(n,e);return jO({prefix:t,name:e,encode:r,decode:s=>r7e(i(s))})},u7e=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},d7e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Rs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>jO({prefix:e,name:t,encode(i){return d7e(i,r,n)},decode(i){return u7e(i,r,n,t)}}),h7e=jO({prefix:"\0",name:"identity",encode:t=>s7e(t),decode:t=>i7e(t)}),f7e=Object.freeze(Object.defineProperty({__proto__:null,identity:h7e},Symbol.toStringTag,{value:"Module"})),p7e=Rs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m7e=Object.freeze(Object.defineProperty({__proto__:null,base2:p7e},Symbol.toStringTag,{value:"Module"})),g7e=Rs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),y7e=Object.freeze(Object.defineProperty({__proto__:null,base8:g7e},Symbol.toStringTag,{value:"Module"})),v7e=q1({prefix:"9",name:"base10",alphabet:"0123456789"}),w7e=Object.freeze(Object.defineProperty({__proto__:null,base10:v7e},Symbol.toStringTag,{value:"Module"})),b7e=Rs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_7e=Rs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),E7e=Object.freeze(Object.defineProperty({__proto__:null,base16:b7e,base16upper:_7e},Symbol.toStringTag,{value:"Module"})),A7e=Rs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),C7e=Rs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),T7e=Rs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),S7e=Rs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),I7e=Rs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),x7e=Rs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),P7e=Rs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),O7e=Rs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),D7e=Rs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),N7e=Object.freeze(Object.defineProperty({__proto__:null,base32:A7e,base32hex:I7e,base32hexpad:P7e,base32hexpadupper:O7e,base32hexupper:x7e,base32pad:T7e,base32padupper:S7e,base32upper:C7e,base32z:D7e},Symbol.toStringTag,{value:"Module"})),R7e=q1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),k7e=q1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),M7e=Object.freeze(Object.defineProperty({__proto__:null,base36:R7e,base36upper:k7e},Symbol.toStringTag,{value:"Module"})),L7e=q1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),F7e=q1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),$7e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:L7e,base58flickr:F7e},Symbol.toStringTag,{value:"Module"})),j7e=Rs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),U7e=Rs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),B7e=Rs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),z7e=Rs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),V7e=Object.freeze(Object.defineProperty({__proto__:null,base64:j7e,base64pad:U7e,base64url:B7e,base64urlpad:z7e},Symbol.toStringTag,{value:"Module"})),Yse=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),H7e=Yse.reduce((t,e,n)=>(t[n]=e,t),[]),W7e=Yse.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function q7e(t){return t.reduce((e,n)=>(e+=H7e[n],e),"")}function K7e(t){const e=[];for(const n of t){const r=W7e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const G7e=jO({prefix:"🚀",name:"base256emoji",encode:q7e,decode:K7e}),Y7e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:G7e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const m7={...f7e,...m7e,...y7e,...w7e,...E7e,...N7e,...M7e,...$7e,...V7e,...Y7e};function Qse(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const g7=Qse("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),PR=Qse("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Kse(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Zse={utf8:g7,"utf-8":g7,hex:m7.base16,latin1:PR,ascii:PR,binary:PR,...m7};function Ha(t,e="utf8"){const n=Zse[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Ho(t,e="utf8"){const n=Zse[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Q7e={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Z7e=":";function Hy(t){const[e,n]=t.split(Z7e);return{namespace:e,reference:n}}function vut(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function Jse(t,e){return t.includes(":")?[t]:e.chains||[]}var J7e=Object.defineProperty,X7e=Object.defineProperties,eWe=Object.getOwnPropertyDescriptors,y7=Object.getOwnPropertySymbols,tWe=Object.prototype.hasOwnProperty,nWe=Object.prototype.propertyIsEnumerable,v7=(t,e,n)=>e in t?J7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w7=(t,e)=>{for(var n in e||(e={}))tWe.call(e,n)&&v7(t,n,e[n]);if(y7)for(var n of y7(e))nWe.call(e,n)&&v7(t,n,e[n]);return t},rWe=(t,e)=>X7e(t,eWe(e));const iWe="ReactNative",ca={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},sWe="js";function ox(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Df(){return!W1()&&!!r5()&&navigator.product===iWe}function oWe(){return Df()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function aWe(){return Df()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function K1(){return!ox()&&!!r5()&&!!W1()}function G1(){return Df()?ca.reactNative:ox()?ca.node:K1()?ca.browser:ca.unknown}function b7(){var t;try{return Df()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function cWe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function lWe(t){var e,n;const r=Xse();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),rWe(w7(w7({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Xse(){return Rse()||{name:"",description:"",url:"",icons:[""]}}function uWe(){if(G1()===ca.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=YVe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function dWe(){var t;const e=G1();return e===ca.browser?[e,((t=Nse())==null?void 0:t.host)||"unknown"].join(":"):e}function eoe(t,e,n){const r=uWe(),i=dWe();return[[t,e].join("-"),[sWe,n].join("-"),r,i].join("/")}function hWe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=eoe(t,e,r),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},f=cWe(l[1]||"",h);return l[0]+"?"+f}function _p(t,e){return t.filter(n=>e.includes(n)).length===t.length}function $L(t){return Object.fromEntries(t.entries())}function jL(t){return new Map(Object.entries(t))}function Qf(t=Re.FIVE_MINUTES,e){const n=Re.toMiliseconds(t||Re.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Ih(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function toe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function fWe(t){return toe("topic",t)}function pWe(t){return toe("id",t)}function noe(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Mi(t,e){return Re.fromMiliseconds((e||Date.now())+Re.toMiliseconds(t))}function nh(t){return Date.now()>=Re.toMiliseconds(t)}function Vn(t,e){return`${t}${e?`:${e}`:""}`}function YT(t=[],e=[]){return[...new Set([...t,...e])]}async function mWe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=gWe(s,t,e),a=G1();if(a===ca.browser){if(!((r=W1())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}yWe(o)}else a===ca.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function gWe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${_We(r,!0)}`}else i=`${i}/wc?${r}`;return i}function yWe(t){let e="_self";bWe()?e="_top":(wWe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function vWe(t,e){let n="";try{if(K1()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function _7(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function E7(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function o5(){return typeof process<"u"&&{}.IS_VITEST==="true"}function wWe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function bWe(){try{return window.self!==window.top}catch{return!1}}function _We(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function roe(t){return Buffer.from(t,"base64").toString("utf-8")}function EWe(t){return new Promise(e=>setTimeout(e,t))}function yE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function AWe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Y1(t,...e){if(!AWe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function a5(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yE(t.outputLen),yE(t.blockLen)}function $v(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ioe(t,e){Y1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const RC=BigInt(2**32-1),A7=BigInt(32);function CWe(t,e=!1){return e?{h:Number(t&RC),l:Number(t>>A7&RC)}:{h:Number(t>>A7&RC)|0,l:Number(t&RC)|0}}function TWe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=CWe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const SWe=(t,e,n)=>t<<n|e>>>32-n,IWe=(t,e,n)=>e<<n|t>>>32-n,xWe=(t,e,n)=>e<<n-32|t>>>64-n,PWe=(t,e,n)=>t<<n-32|e>>>64-n,Dg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function OWe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function OR(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function nl(t,e){return t<<32-e|t>>>e}const C7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function DWe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function T7(t){for(let e=0;e<t.length;e++)t[e]=DWe(t[e])}function NWe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function jv(t){return typeof t=="string"&&(t=NWe(t)),Y1(t),t}function RWe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Y1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let c5=class{clone(){return this._cloneInto()}};function soe(t){const e=r=>t().update(jv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function xw(t=32){if(Dg&&typeof Dg.getRandomValues=="function")return Dg.getRandomValues(new Uint8Array(t));if(Dg&&typeof Dg.randomBytes=="function")return Dg.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const ooe=[],aoe=[],coe=[],kWe=BigInt(0),k0=BigInt(1),MWe=BigInt(2),LWe=BigInt(7),FWe=BigInt(256),$We=BigInt(113);for(let t=0,e=k0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ooe.push(2*(5*r+n)),aoe.push((t+1)*(t+2)/2%64);let i=kWe;for(let s=0;s<7;s++)e=(e<<k0^(e>>LWe)*$We)%FWe,e&MWe&&(i^=k0<<(k0<<BigInt(s))-k0);coe.push(i)}const[jWe,UWe]=TWe(coe,!0),S7=(t,e,n)=>n>32?xWe(t,e,n):SWe(t,e,n),I7=(t,e,n)=>n>32?PWe(t,e,n):IWe(t,e,n);function BWe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=S7(l,u,1)^n[a],f=I7(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=aoe[o],c=S7(i,s,a),l=I7(i,s,a),u=ooe[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=jWe[r],t[1]^=UWe[r]}n.fill(0)}let zWe=class loe extends c5{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,yE(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=OWe(this.state)}keccak(){C7||T7(this.state32),BWe(this.state32,this.rounds),C7||T7(this.state32),this.posOut=0,this.pos=0}update(e){$v(this);const{blockLen:n,state:r}=this;e=jv(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){$v(this,!1),Y1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return yE(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ioe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new loe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const VWe=(t,e,n)=>soe(()=>new zWe(e,t,n)),HWe=VWe(1,136,256/8),WWe="https://rpc.walletconnect.org/v1";function uoe(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(HWe(n)).toString("hex")}async function qWe(t,e,n,r,i,s){switch(n.t){case"eip191":return await KWe(t,e,n.s);case"eip1271":return await GWe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function KWe(t,e,n){return(await ZHe({hash:uoe(e),signature:n})).toLowerCase()===t.toLowerCase()}async function GWe(t,e,n,r,i,s){const o=Hy(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),h=uoe(e).substring(2),f=a+h+c+l+u,p=await fetch(`${s||WWe}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:YWe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:g}=await p.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function YWe(){return Date.now()+Math.floor(Math.random()*1e3)}function QWe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return qse.encode(s)}var ZWe=Object.defineProperty,JWe=Object.defineProperties,XWe=Object.getOwnPropertyDescriptors,x7=Object.getOwnPropertySymbols,eqe=Object.prototype.hasOwnProperty,tqe=Object.prototype.propertyIsEnumerable,P7=(t,e,n)=>e in t?ZWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nqe=(t,e)=>{for(var n in e||(e={}))eqe.call(e,n)&&P7(t,n,e[n]);if(x7)for(var n of x7(e))tqe.call(e,n)&&P7(t,n,e[n]);return t},rqe=(t,e)=>JWe(t,XWe(e));const iqe="did:pkh:",l5=t=>t==null?void 0:t.split(":"),sqe=t=>{const e=t&&l5(t);if(e)return t.includes(iqe)?e[3]:e[1]},UL=t=>{const e=t&&l5(t);if(e)return e[2]+":"+e[3]},ax=t=>{const e=t&&l5(t);if(e)return e.pop()};async function O7(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=doe(i,i.iss),o=ax(i.iss);return await qWe(o,s,r,UL(i.iss),n)}const doe=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=ax(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${sqe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(y=>`
- ${y}`).join("")}`:void 0,g=QT(t.resources);if(g){const y=vE(g);i=pqe(i,y)}return[n,r,"",i,"",s,o,a,c,l,u,h,f,p].filter(y=>y!=null).join(`
`)};function oqe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function aqe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Am(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function cqe(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:lqe(e,n,r)}}}function lqe(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function hoe(t){return Am(t),`urn:recap:${oqe(t).replace(/=/g,"")}`}function vE(t){const e=aqe(t.replace("urn:recap:",""));return Am(e),e}function uqe(t,e,n){const r=cqe(t,e,n);return hoe(r)}function dqe(t){return t&&t.includes("urn:recap:")}function hqe(t,e){const n=vE(t),r=vE(e),i=fqe(n,r);return hoe(i)}function fqe(t,e){Am(t),Am(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=rqe(nqe({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function pqe(t="",e){Am(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));c.sort((h,f)=>h.action.localeCompare(f.action));const l={};c.forEach(h=>{l[h.ability]||(l[h.ability]=[]),l[h.ability].push(h.action)});const u=Object.keys(l).map(h=>(i++,`(${i}) '${h}': '${l[h].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function D7(t){var e;const n=vE(t);Am(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function N7(t){const e=vE(t);Am(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function QT(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return dqe(e)?e:void 0}function DR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function foe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ra(t,...e){if(!foe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function R7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mqe(t,e){ra(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function k7(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Gh=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),gqe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),yqe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yqe)throw new Error("Non little-endian hardware is not supported");function vqe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function BL(t){if(typeof t=="string")t=vqe(t);else if(foe(t))t=zL(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function wqe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function bqe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const _qe=(t,e)=>{function n(r,...i){if(ra(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?ra(l):ra(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ra(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");ra(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ra(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(ra(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function M7(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Eqe(e))throw new Error("invalid output, must be aligned");return e}function L7(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Eqe(t){return t.byteOffset%4===0}function zL(t){return Uint8Array.from(t)}function Uv(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const poe=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Aqe=poe("expand 16-byte k"),Cqe=poe("expand 32-byte k"),Tqe=Gh(Aqe),Sqe=Gh(Cqe);function Rn(t,e){return t<<e|t>>>32-e}function VL(t){return t.byteOffset%4===0}const kC=64,Iqe=16,moe=2**32-1,F7=new Uint32Array;function xqe(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(kC),u=Gh(l),h=VL(i)&&VL(s),f=h?Gh(i):F7,p=h?Gh(s):F7;for(let g=0;g<c;o++){if(t(e,n,r,u,o,a),o>=moe)throw new Error("arx: counter overflow");const y=Math.min(kC,c-g);if(h&&y===kC){const v=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let b=0,_;b<Iqe;b++)_=v+b,p[_]=f[_]^u[b];g+=kC;continue}for(let v=0,b;v<y;v++)b=g+v,s[b]=i[b]^l[v];g+=y}}function Pqe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=wqe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return DR(i),DR(o),k7(s),k7(n),(a,c,l,u,h=0)=>{ra(a),ra(c),ra(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),ra(u),DR(h),h<0||h>=moe)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let g=a.length,y,v;if(g===32)p.push(y=zL(a)),v=Sqe;else if(g===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),v=Tqe,p.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);VL(c)||p.push(c=zL(c));const b=Gh(y);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(v,b,Gh(c.subarray(0,16)),b),c=c.subarray(16)}const _=16-i;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const I=new Uint8Array(12);I.set(c,s?0:12-c.length),c=I,p.push(c)}const A=Gh(c);return xqe(t,v,b,A,l,u,h,o),Uv(...p),u}}const hs=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Oqe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=BL(e),ra(e,32);const n=hs(e,0),r=hs(e,2),i=hs(e,4),s=hs(e,6),o=hs(e,8),a=hs(e,10),c=hs(e,12),l=hs(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=hs(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],h=o[4],f=o[5],p=o[6],g=o[7],y=o[8],v=o[9],b=hs(e,n+0),_=hs(e,n+2),A=hs(e,n+4),I=hs(e,n+6),P=hs(e,n+8),D=hs(e,n+10),T=hs(e,n+12),S=hs(e,n+14);let x=s[0]+(b&8191),N=s[1]+((b>>>13|_<<3)&8191),R=s[2]+((_>>>10|A<<6)&8191),$=s[3]+((A>>>7|I<<9)&8191),j=s[4]+((I>>>4|P<<12)&8191),K=s[5]+(P>>>1&8191),B=s[6]+((P>>>14|D<<2)&8191),z=s[7]+((D>>>11|T<<5)&8191),Y=s[8]+((T>>>8|S<<8)&8191),V=s[9]+(S>>>5|i),Q=0,G=Q+x*a+N*(5*v)+R*(5*y)+$*(5*g)+j*(5*p);Q=G>>>13,G&=8191,G+=K*(5*f)+B*(5*h)+z*(5*u)+Y*(5*l)+V*(5*c),Q+=G>>>13,G&=8191;let ee=Q+x*c+N*a+R*(5*v)+$*(5*y)+j*(5*g);Q=ee>>>13,ee&=8191,ee+=K*(5*p)+B*(5*f)+z*(5*h)+Y*(5*u)+V*(5*l),Q+=ee>>>13,ee&=8191;let ne=Q+x*l+N*c+R*a+$*(5*v)+j*(5*y);Q=ne>>>13,ne&=8191,ne+=K*(5*g)+B*(5*p)+z*(5*f)+Y*(5*h)+V*(5*u),Q+=ne>>>13,ne&=8191;let le=Q+x*u+N*l+R*c+$*a+j*(5*v);Q=le>>>13,le&=8191,le+=K*(5*y)+B*(5*g)+z*(5*p)+Y*(5*f)+V*(5*h),Q+=le>>>13,le&=8191;let ue=Q+x*h+N*u+R*l+$*c+j*a;Q=ue>>>13,ue&=8191,ue+=K*(5*v)+B*(5*y)+z*(5*g)+Y*(5*p)+V*(5*f),Q+=ue>>>13,ue&=8191;let re=Q+x*f+N*h+R*u+$*l+j*c;Q=re>>>13,re&=8191,re+=K*a+B*(5*v)+z*(5*y)+Y*(5*g)+V*(5*p),Q+=re>>>13,re&=8191;let oe=Q+x*p+N*f+R*h+$*u+j*l;Q=oe>>>13,oe&=8191,oe+=K*c+B*a+z*(5*v)+Y*(5*y)+V*(5*g),Q+=oe>>>13,oe&=8191;let ye=Q+x*g+N*p+R*f+$*h+j*u;Q=ye>>>13,ye&=8191,ye+=K*l+B*c+z*a+Y*(5*v)+V*(5*y),Q+=ye>>>13,ye&=8191;let Te=Q+x*y+N*g+R*p+$*f+j*h;Q=Te>>>13,Te&=8191,Te+=K*u+B*l+z*c+Y*a+V*(5*v),Q+=Te>>>13,Te&=8191;let Be=Q+x*v+N*y+R*g+$*p+j*f;Q=Be>>>13,Be&=8191,Be+=K*h+B*u+z*l+Y*c+V*a,Q+=Be>>>13,Be&=8191,Q=(Q<<2)+Q|0,Q=Q+G|0,G=Q&8191,Q=Q>>>13,ee+=Q,s[0]=G,s[1]=ee,s[2]=ne,s[3]=le,s[4]=ue,s[5]=re,s[6]=oe,s[7]=ye,s[8]=Te,s[9]=Be}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Uv(r)}update(e){R7(this);const{buffer:n,blockLen:r}=this;e=BL(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Uv(this.h,this.r,this.buffer,this.pad)}digestInto(e){R7(this),mqe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Dqe(t){const e=(r,i)=>t(i).update(BL(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Nqe=Dqe(t=>new Oqe(t));function Rqe(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],h=e[1],f=e[2],p=e[3],g=e[4],y=e[5],v=e[6],b=e[7],_=i,A=n[0],I=n[1],P=n[2],D=o,T=a,S=c,x=l,N=u,R=h,$=f,j=p,K=g,B=y,z=v,Y=b,V=_,Q=A,G=I,ee=P;for(let le=0;le<s;le+=2)D=D+N|0,V=Rn(V^D,16),K=K+V|0,N=Rn(N^K,12),D=D+N|0,V=Rn(V^D,8),K=K+V|0,N=Rn(N^K,7),T=T+R|0,Q=Rn(Q^T,16),B=B+Q|0,R=Rn(R^B,12),T=T+R|0,Q=Rn(Q^T,8),B=B+Q|0,R=Rn(R^B,7),S=S+$|0,G=Rn(G^S,16),z=z+G|0,$=Rn($^z,12),S=S+$|0,G=Rn(G^S,8),z=z+G|0,$=Rn($^z,7),x=x+j|0,ee=Rn(ee^x,16),Y=Y+ee|0,j=Rn(j^Y,12),x=x+j|0,ee=Rn(ee^x,8),Y=Y+ee|0,j=Rn(j^Y,7),D=D+R|0,ee=Rn(ee^D,16),z=z+ee|0,R=Rn(R^z,12),D=D+R|0,ee=Rn(ee^D,8),z=z+ee|0,R=Rn(R^z,7),T=T+$|0,V=Rn(V^T,16),Y=Y+V|0,$=Rn($^Y,12),T=T+$|0,V=Rn(V^T,8),Y=Y+V|0,$=Rn($^Y,7),S=S+j|0,Q=Rn(Q^S,16),K=K+Q|0,j=Rn(j^K,12),S=S+j|0,Q=Rn(Q^S,8),K=K+Q|0,j=Rn(j^K,7),x=x+N|0,G=Rn(G^x,16),B=B+G|0,N=Rn(N^B,12),x=x+N|0,G=Rn(G^x,8),B=B+G|0,N=Rn(N^B,7);let ne=0;r[ne++]=o+D|0,r[ne++]=a+T|0,r[ne++]=c+S|0,r[ne++]=l+x|0,r[ne++]=u+N|0,r[ne++]=h+R|0,r[ne++]=f+$|0,r[ne++]=p+j|0,r[ne++]=g+K|0,r[ne++]=y+B|0,r[ne++]=v+z|0,r[ne++]=b+Y|0,r[ne++]=_+V|0,r[ne++]=A+Q|0,r[ne++]=I+G|0,r[ne++]=P+ee|0}const kqe=Pqe(Rqe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Mqe=new Uint8Array(16),$7=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Mqe.subarray(n))},Lqe=new Uint8Array(32);function j7(t,e,n,r,i){const s=t(e,n,Lqe),o=Nqe.create(s);i&&$7(o,i),$7(o,r);const a=new Uint8Array(16),c=gqe(a);L7(c,0,BigInt(i?i.length:0),!0),L7(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return Uv(s,a),l}const Fqe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=M7(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=j7(t,e,n,a,r);return s.set(c,o),Uv(c),s},decrypt(i,s){s=M7(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=j7(t,e,n,o,r);if(!bqe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Uv(c),s}}),goe=_qe({blockSize:64,nonceLength:12,tagLength:16},Fqe(kqe));let yoe=class extends c5{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,a5(e);const r=jv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return $v(this),this.iHash.update(e),this}digestInto(e){$v(this),Y1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const UO=(t,e,n)=>new yoe(t,e).update(n).digest();UO.create=(t,e)=>new yoe(t,e);function $qe(t,e,n){return a5(t),n===void 0&&(n=new Uint8Array(t.outputLen)),UO(t,jv(n),jv(e))}const NR=new Uint8Array([0]),U7=new Uint8Array;function jqe(t,e,n,r=32){if(a5(t),yE(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=U7);const s=new Uint8Array(i*t.outputLen),o=UO.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)NR[0]=l+1,a.update(l===0?U7:c).update(n).update(NR).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),NR.fill(0),s.slice(0,r)}const Uqe=(t,e,n,r,i)=>jqe(t,$qe(t,e,n),r,i);function Bqe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function zqe(t,e,n){return t&e^~t&n}function Vqe(t,e,n){return t&e^t&n^e&n}let Hqe=class extends c5{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=OR(this.buffer)}update(e){$v(this);const{view:n,buffer:r,blockLen:i}=this;e=jv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=OR(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$v(this),ioe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Bqe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=OR(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Wqe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kd=new Uint32Array(64);class qqe extends Hqe{constructor(){super(64,32,8,!1),this.A=qd[0]|0,this.B=qd[1]|0,this.C=qd[2]|0,this.D=qd[3]|0,this.E=qd[4]|0,this.F=qd[5]|0,this.G=qd[6]|0,this.H=qd[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Kd[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=Kd[h-15],p=Kd[h-2],g=nl(f,7)^nl(f,18)^f>>>3,y=nl(p,17)^nl(p,19)^p>>>10;Kd[h]=y+Kd[h-7]+g+Kd[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const f=nl(a,6)^nl(a,11)^nl(a,25),p=u+f+zqe(a,c,l)+Wqe[h]+Kd[h]|0,g=(nl(r,2)^nl(r,13)^nl(r,22))+Vqe(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Kd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Q1=soe(()=>new qqe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BO=BigInt(0),zO=BigInt(1),Kqe=BigInt(2);function Cm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Z1(t){if(!Cm(t))throw new Error("Uint8Array expected")}function Bv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Gqe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zv(t){Z1(t);let e="";for(let n=0;n<t.length;n++)e+=Gqe[t[n]];return e}function Ay(t){const e=t.toString(16);return e.length&1?"0"+e:e}function u5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?BO:BigInt("0x"+t)}const gu={_0:48,_9:57,A:65,F:70,a:97,f:102};function B7(t){if(t>=gu._0&&t<=gu._9)return t-gu._0;if(t>=gu.A&&t<=gu.F)return t-(gu.A-10);if(t>=gu.a&&t<=gu.f)return t-(gu.a-10)}function Vv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=B7(t.charCodeAt(s)),a=B7(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Up(t){return u5(zv(t))}function wE(t){return Z1(t),u5(zv(Uint8Array.from(t).reverse()))}function Hv(t,e){return Vv(t.toString(16).padStart(e*2,"0"))}function VO(t,e){return Hv(t,e).reverse()}function Yqe(t){return Vv(Ay(t))}function ta(t,e,n){let r;if(typeof e=="string")try{r=Vv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Cm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function bE(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Z1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function Qqe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Zqe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const RR=t=>typeof t=="bigint"&&BO<=t;function HO(t,e,n){return RR(t)&&RR(e)&&RR(n)&&e<=t&&t<n}function Gu(t,e,n,r){if(!HO(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function voe(t){let e;for(e=0;t>BO;t>>=zO,e+=1);return e}function Jqe(t,e){return t>>BigInt(e)&zO}function Xqe(t,e,n){return t|(n?zO:BO)<<BigInt(e)}const d5=t=>(Kqe<<BigInt(t-1))-zO,kR=t=>new Uint8Array(t),z7=t=>Uint8Array.from(t);function woe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=kR(t),i=kR(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=kR())=>{i=a(z7([0]),u),r=a(),u.length!==0&&(i=a(z7([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<e;){r=a();const f=r.slice();h.push(f),u+=r.length}return bE(...h)};return(u,h)=>{o(),c(u);let f;for(;!(f=h(l()));)c();return o(),f}}const eKe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Cm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Pw(t,e,n={}){const r=(i,s,o)=>{const a=eKe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const tKe=()=>{throw new Error("not implemented")};function HL(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var nKe=Object.freeze({__proto__:null,isBytes:Cm,abytes:Z1,abool:Bv,bytesToHex:zv,numberToHexUnpadded:Ay,hexToNumber:u5,hexToBytes:Vv,bytesToNumberBE:Up,bytesToNumberLE:wE,numberToBytesBE:Hv,numberToBytesLE:VO,numberToVarBytesBE:Yqe,ensureBytes:ta,concatBytes:bE,equalBytes:Qqe,utf8ToBytes:Zqe,inRange:HO,aInRange:Gu,bitLen:voe,bitGet:Jqe,bitSet:Xqe,bitMask:d5,createHmacDrbg:woe,validateObject:Pw,notImplemented:tKe,memoized:HL});const ss=BigInt(0),mi=BigInt(1),rp=BigInt(2),rKe=BigInt(3),WL=BigInt(4),V7=BigInt(5),H7=BigInt(8);function Do(t,e){const n=t%e;return n>=ss?n:e+n}function boe(t,e,n){if(e<ss)throw new Error("invalid exponent, negatives unsupported");if(n<=ss)throw new Error("invalid modulus");if(n===mi)return ss;let r=mi;for(;e>ss;)e&mi&&(r=r*t%n),t=t*t%n,e>>=mi;return r}function mc(t,e,n){let r=t;for(;e-- >ss;)r*=r,r%=n;return r}function qL(t,e){if(t===ss)throw new Error("invert: expected non-zero number");if(e<=ss)throw new Error("invert: expected positive modulus, got "+e);let n=Do(t,e),r=e,i=ss,s=mi;for(;n!==ss;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==mi)throw new Error("invert: does not exist");return Do(i,e)}function iKe(t){const e=(t-mi)/rp;let n,r,i;for(n=t-mi,r=0;n%rp===ss;n/=rp,r++);for(i=rp;i<t&&boe(i,e,t)!==t-mi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+mi)/WL;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+mi)/rp;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let g=o.sqr(h);f<c&&!o.eql(g,o.ONE);f++)g=o.sqr(g);const p=o.pow(l,mi<<BigInt(c-f-1));l=o.sqr(p),u=o.mul(u,p),h=o.mul(h,l),c=f}return u}}function sKe(t){if(t%WL===rKe){const e=(t+mi)/WL;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%H7===V7){const e=(t-V7)/H7;return function(n,r){const i=n.mul(r,rp),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,rp),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return iKe(t)}const oKe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aKe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=oKe.reduce((r,i)=>(r[i]="function",r),e);return Pw(t,n)}function cKe(t,e,n){if(n<ss)throw new Error("invalid exponent, negatives unsupported");if(n===ss)return t.ONE;if(n===mi)return e;let r=t.ONE,i=e;for(;n>ss;)n&mi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=mi;return r}function lKe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function _oe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Eoe(t,e,n=!1,r={}){if(t<=ss)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=_oe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:d5(i),ZERO:ss,ONE:mi,create:c=>Do(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ss<=c&&c<t},is0:c=>c===ss,isOdd:c=>(c&mi)===mi,neg:c=>Do(-c,t),eql:(c,l)=>c===l,sqr:c=>Do(c*c,t),add:(c,l)=>Do(c+l,t),sub:(c,l)=>Do(c-l,t),mul:(c,l)=>Do(c*l,t),pow:(c,l)=>cKe(a,c,l),div:(c,l)=>Do(c*qL(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>qL(c,t),sqrt:r.sqrt||(c=>(o||(o=sKe(t)),o(a,c))),invertBatch:c=>lKe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?VO(c,s):Hv(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?wE(c):Up(c)}});return Object.freeze(a)}function Aoe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Coe(t){const e=Aoe(t);return e+Math.ceil(e/2)}function uKe(t,e,n=!1){const r=t.length,i=Aoe(e),s=Coe(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?wE(t):Up(t),a=Do(o,e-mi)+mi;return n?VO(a,i):Hv(a,i)}const W7=BigInt(0),MC=BigInt(1);function MR(t,e){const n=e.negate();return t?n:e}function Toe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function LR(t,e){Toe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function dKe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function hKe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const FR=new WeakMap,Soe=new WeakMap;function $R(t){return Soe.get(t)||1}function fKe(t,e){return{constTimeNegate:MR,hasPrecomputes(n){return $R(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>W7;)r&MC&&(i=i.add(s)),s=s.double(),r>>=MC;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=LR(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=LR(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let g=Number(i&l);i>>=h,g>o&&(g-=u,i+=MC);const y=p,v=p+Math.abs(g)-1,b=f%2!==0,_=g<0;g===0?c=c.add(MR(b,r[y])):a=a.add(MR(_,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=LR(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===W7)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=MC),p===0)continue;let g=r[f+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=FR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&FR.set(r,i(s))),s},wNAFCached(n,r,i){const s=$R(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=$R(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Toe(r,e),Soe.set(n,r),FR.delete(n)}}}function pKe(t,e,n,r){if(dKe(n,t),hKe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=voe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let p=0;p<r.length;p++){const g=r[p],y=Number(g>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[p])}let f=i;for(let p=c.length-1,g=i;p>0;p--)g=g.add(c[p]),f=f.add(g);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function Ioe(t){return aKe(t.Fp),Pw(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._oe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ng=BigInt(0),jR=BigInt(1);function mKe(t){return Pw(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function gKe(t){const e=mKe(t),{P:n}=e,r=_=>Do(_,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(_=>_),c=e.powPminus2||(_=>boe(_,n-BigInt(2),n));function l(_,A,I){const P=r(_*(A-I));return A=r(A-P),I=r(I+P),[A,I]}const u=(e.a-BigInt(2))/BigInt(4);function h(_,A){Gu("u",_,Ng,n),Gu("scalar",A,Ng,n);const I=A,P=_;let D=jR,T=Ng,S=_,x=jR,N=Ng,R;for(let j=BigInt(i-1);j>=Ng;j--){const K=I>>j&jR;N^=K,R=l(N,D,S),D=R[0],S=R[1],R=l(N,T,x),T=R[0],x=R[1],N=K;const B=D+T,z=r(B*B),Y=D-T,V=r(Y*Y),Q=z-V,G=S+x,ee=S-x,ne=r(ee*B),le=r(G*Y),ue=ne+le,re=ne-le;S=r(ue*ue),x=r(P*r(re*re)),D=r(z*V),T=r(Q*(z+r(u*Q)))}R=l(N,D,S),D=R[0],S=R[1],R=l(N,T,x),T=R[0],x=R[1];const $=c(T);return r(D*$)}function f(_){return VO(r(_),s)}function p(_){const A=ta("u coordinate",_,s);return o===32&&(A[31]&=127),wE(A)}function g(_){const A=ta("scalar",_),I=A.length;if(I!==s&&I!==o){let P=""+s+" or "+o;throw new Error("invalid scalar, expected "+P+" bytes, got "+I)}return wE(a(A))}function y(_,A){const I=p(A),P=g(_),D=h(I,P);if(D===Ng)throw new Error("invalid private or public key received");return f(D)}const v=f(e.Gu);function b(_){return y(_,v)}return{scalarMult:y,scalarMultBase:b,getSharedSecret:(_,A)=>y(_,A),getPublicKey:_=>b(_),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:v}}const KL=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const yKe=BigInt(1),q7=BigInt(2),vKe=BigInt(3),wKe=BigInt(5);BigInt(8);function bKe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=KL,o=t*t%s*t%s,a=mc(o,q7,s)*o%s,c=mc(a,yKe,s)*t%s,l=mc(c,wKe,s)*c%s,u=mc(l,e,s)*l%s,h=mc(u,n,s)*u%s,f=mc(h,r,s)*h%s,p=mc(f,i,s)*f%s,g=mc(p,i,s)*f%s,y=mc(g,e,s)*l%s;return{pow_p_5_8:mc(y,q7,s)*t%s,b2:o}}function _Ke(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const GL=gKe({P:KL,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=KL,{pow_p_5_8:n,b2:r}=bKe(t);return Do(mc(n,vKe,e)*r,e)},adjustScalarBytes:_Ke,randomBytes:xw});function K7(t){t.lowS!==void 0&&Bv("lowS",t.lowS),t.prehash!==void 0&&Bv("prehash",t.prehash)}function EKe(t){const e=Ioe(t);Pw(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:AKe,hexToBytes:CKe}=nKe;class TKe extends Error{constructor(e=""){super(e)}}const Tu={Err:TKe,_tlv:{encode:(t,e)=>{const{Err:n}=Tu;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Ay(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ay(i.length/2|128):"";return Ay(t)+s+i+e},decode(t,e){const{Err:n}=Tu;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Tu;if(t<Pu)throw new e("integer: negative integers are not allowed");let n=Ay(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Tu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return AKe(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Tu,i=typeof t=="string"?CKe(t):t;Z1(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Tu,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Pu=BigInt(0),Qi=BigInt(1);BigInt(2);const G7=BigInt(3);BigInt(4);function SKe(t){const e=EKe(t),{Fp:n}=e,r=Eoe(e.n,e.nBitLength),i=e.toBytes||((y,v,b)=>{const _=v.toAffine();return bE(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(y=>{const v=y.subarray(1),b=n.fromBytes(v.subarray(0,n.BYTES)),_=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:b,y:_}});function o(y){const{a:v,b}=e,_=n.sqr(y),A=n.mul(_,y);return n.add(n.add(A,n.mul(y,v)),b)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return HO(y,Qi,e.n)}function c(y){const{allowedPrivateKeyLengths:v,nByteLength:b,wrapPrivateKey:_,n:A}=e;if(v&&typeof y!="bigint"){if(Cm(y)&&(y=zv(y)),typeof y!="string"||!v.includes(y.length))throw new Error("invalid private key");y=y.padStart(b*2,"0")}let I;try{I=typeof y=="bigint"?y:Up(ta("private key",y,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof y)}return _&&(I=Do(I,A)),Gu("private key",I,Qi,A),I}function l(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}const u=HL((y,v)=>{const{px:b,py:_,pz:A}=y;if(n.eql(A,n.ONE))return{x:b,y:_};const I=y.is0();v==null&&(v=I?n.ONE:n.inv(A));const P=n.mul(b,v),D=n.mul(_,v),T=n.mul(A,v);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:P,y:D}}),h=HL(y=>{if(y.is0()){if(e.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:v,y:b}=y.toAffine();if(!n.isValid(v)||!n.isValid(b))throw new Error("bad point: x or y not FE");const _=n.sqr(b),A=o(v);if(!n.eql(_,A))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(v,b,_){if(this.px=v,this.py=b,this.pz=_,v==null||!n.isValid(v))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");Object.freeze(this)}static fromAffine(v){const{x:b,y:_}=v||{};if(!v||!n.isValid(b)||!n.isValid(_))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const A=I=>n.eql(I,n.ZERO);return A(b)&&A(_)?f.ZERO:new f(b,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const b=n.invertBatch(v.map(_=>_.pz));return v.map((_,A)=>_.toAffine(b[A])).map(f.fromAffine)}static fromHex(v){const b=f.fromAffine(s(ta("pointHex",v)));return b.assertValidity(),b}static fromPrivateKey(v){return f.BASE.multiply(c(v))}static msm(v,b){return pKe(f,r,v,b)}_setWindowSize(v){g.setWindowSize(this,v)}assertValidity(){h(this)}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){l(v);const{px:b,py:_,pz:A}=this,{px:I,py:P,pz:D}=v,T=n.eql(n.mul(b,D),n.mul(I,A)),S=n.eql(n.mul(_,D),n.mul(P,A));return T&&S}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b}=e,_=n.mul(b,G7),{px:A,py:I,pz:P}=this;let D=n.ZERO,T=n.ZERO,S=n.ZERO,x=n.mul(A,A),N=n.mul(I,I),R=n.mul(P,P),$=n.mul(A,I);return $=n.add($,$),S=n.mul(A,P),S=n.add(S,S),D=n.mul(v,S),T=n.mul(_,R),T=n.add(D,T),D=n.sub(N,T),T=n.add(N,T),T=n.mul(D,T),D=n.mul($,D),S=n.mul(_,S),R=n.mul(v,R),$=n.sub(x,R),$=n.mul(v,$),$=n.add($,S),S=n.add(x,x),x=n.add(S,x),x=n.add(x,R),x=n.mul(x,$),T=n.add(T,x),R=n.mul(I,P),R=n.add(R,R),x=n.mul(R,$),D=n.sub(D,x),S=n.mul(R,N),S=n.add(S,S),S=n.add(S,S),new f(D,T,S)}add(v){l(v);const{px:b,py:_,pz:A}=this,{px:I,py:P,pz:D}=v;let T=n.ZERO,S=n.ZERO,x=n.ZERO;const N=e.a,R=n.mul(e.b,G7);let $=n.mul(b,I),j=n.mul(_,P),K=n.mul(A,D),B=n.add(b,_),z=n.add(I,P);B=n.mul(B,z),z=n.add($,j),B=n.sub(B,z),z=n.add(b,A);let Y=n.add(I,D);return z=n.mul(z,Y),Y=n.add($,K),z=n.sub(z,Y),Y=n.add(_,A),T=n.add(P,D),Y=n.mul(Y,T),T=n.add(j,K),Y=n.sub(Y,T),x=n.mul(N,z),T=n.mul(R,K),x=n.add(T,x),T=n.sub(j,x),x=n.add(j,x),S=n.mul(T,x),j=n.add($,$),j=n.add(j,$),K=n.mul(N,K),z=n.mul(R,z),j=n.add(j,K),K=n.sub($,K),K=n.mul(N,K),z=n.add(z,K),$=n.mul(j,z),S=n.add(S,$),$=n.mul(Y,z),T=n.mul(B,T),T=n.sub(T,$),$=n.mul(B,j),x=n.mul(Y,x),x=n.add(x,$),new f(T,S,x)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return g.wNAFCached(this,v,f.normalizeZ)}multiplyUnsafe(v){const{endo:b,n:_}=e;Gu("scalar",v,Pu,_);const A=f.ZERO;if(v===Pu)return A;if(this.is0()||v===Qi)return this;if(!b||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,v,f.normalizeZ);let{k1neg:I,k1:P,k2neg:D,k2:T}=b.splitScalar(v),S=A,x=A,N=this;for(;P>Pu||T>Pu;)P&Qi&&(S=S.add(N)),T&Qi&&(x=x.add(N)),N=N.double(),P>>=Qi,T>>=Qi;return I&&(S=S.negate()),D&&(x=x.negate()),x=new f(n.mul(x.px,b.beta),x.py,x.pz),S.add(x)}multiply(v){const{endo:b,n:_}=e;Gu("scalar",v,Qi,_);let A,I;if(b){const{k1neg:P,k1:D,k2neg:T,k2:S}=b.splitScalar(v);let{p:x,f:N}=this.wNAF(D),{p:R,f:$}=this.wNAF(S);x=g.constTimeNegate(P,x),R=g.constTimeNegate(T,R),R=new f(n.mul(R.px,b.beta),R.py,R.pz),A=x.add(R),I=N.add($)}else{const{p:P,f:D}=this.wNAF(v);A=P,I=D}return f.normalizeZ([A,I])[0]}multiplyAndAddUnsafe(v,b,_){const A=f.BASE,I=(D,T)=>T===Pu||T===Qi||!D.equals(A)?D.multiplyUnsafe(T):D.multiply(T),P=I(this,b).add(I(v,_));return P.is0()?void 0:P}toAffine(v){return u(this,v)}isTorsionFree(){const{h:v,isTorsionFree:b}=e;if(v===Qi)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:b}=e;return v===Qi?this:b?b(f,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return Bv("isCompressed",v),this.assertValidity(),i(f,this,v)}toHex(v=!0){return Bv("isCompressed",v),zv(this.toRawBytes(v))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,g=fKe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function IKe(t){const e=Ioe(t);return Pw(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function xKe(t){const e=IKe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(K){return Do(K,r)}function a(K){return qL(K,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=SKe({...e,toBytes(K,B,z){const Y=B.toAffine(),V=n.toBytes(Y.x),Q=bE;return Bv("isCompressed",z),z?Q(Uint8Array.from([B.hasEvenY()?2:3]),V):Q(Uint8Array.from([4]),V,n.toBytes(Y.y))},fromBytes(K){const B=K.length,z=K[0],Y=K.subarray(1);if(B===i&&(z===2||z===3)){const V=Up(Y);if(!HO(V,Qi,n.ORDER))throw new Error("Point is not on curve");const Q=u(V);let G;try{G=n.sqrt(Q)}catch(ne){const le=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+le)}const ee=(G&Qi)===Qi;return(z&1)===1!==ee&&(G=n.neg(G)),{x:V,y:G}}else if(B===s&&z===4){const V=n.fromBytes(Y.subarray(0,n.BYTES)),Q=n.fromBytes(Y.subarray(n.BYTES,2*n.BYTES));return{x:V,y:Q}}else{const V=i,Q=s;throw new Error("invalid Point, expected length of "+V+", or uncompressed "+Q+", got "+B)}}}),f=K=>zv(Hv(K,e.nByteLength));function p(K){const B=r>>Qi;return K>B}function g(K){return p(K)?o(-K):K}const y=(K,B,z)=>Up(K.slice(B,z));class v{constructor(B,z,Y){this.r=B,this.s=z,this.recovery=Y,this.assertValidity()}static fromCompact(B){const z=e.nByteLength;return B=ta("compactSignature",B,z*2),new v(y(B,0,z),y(B,z,2*z))}static fromDER(B){const{r:z,s:Y}=Tu.toSig(ta("DER",B));return new v(z,Y)}assertValidity(){Gu("r",this.r,Qi,r),Gu("s",this.s,Qi,r)}addRecoveryBit(B){return new v(this.r,this.s,B)}recoverPublicKey(B){const{r:z,s:Y,recovery:V}=this,Q=D(ta("msgHash",B));if(V==null||![0,1,2,3].includes(V))throw new Error("recovery id invalid");const G=V===2||V===3?z+e.n:z;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=V&1?"03":"02",ne=c.fromHex(ee+f(G)),le=a(G),ue=o(-Q*le),re=o(Y*le),oe=c.BASE.multiplyAndAddUnsafe(ne,ue,re);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Vv(this.toDERHex())}toDERHex(){return Tu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Vv(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey(K){try{return l(K),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const K=Coe(e.n);return uKe(e.randomBytes(K),e.n)},precompute(K=8,B=c.BASE){return B._setWindowSize(K),B.multiply(BigInt(3)),B}};function _(K,B=!0){return c.fromPrivateKey(K).toRawBytes(B)}function A(K){const B=Cm(K),z=typeof K=="string",Y=(B||z)&&K.length;return B?Y===i||Y===s:z?Y===2*i||Y===2*s:K instanceof c}function I(K,B,z=!0){if(A(K))throw new Error("first arg must be private key");if(!A(B))throw new Error("second arg must be public key");return c.fromHex(B).multiply(l(K)).toRawBytes(z)}const P=e.bits2int||function(K){if(K.length>8192)throw new Error("input is too large");const B=Up(K),z=K.length*8-e.nBitLength;return z>0?B>>BigInt(z):B},D=e.bits2int_modN||function(K){return o(P(K))},T=d5(e.nBitLength);function S(K){return Gu("num < 2^"+e.nBitLength,K,Pu,T),Hv(K,e.nByteLength)}function x(K,B,z=N){if(["recovered","canonical"].some(Te=>Te in z))throw new Error("sign() legacy options not supported");const{hash:Y,randomBytes:V}=e;let{lowS:Q,prehash:G,extraEntropy:ee}=z;Q==null&&(Q=!0),K=ta("msgHash",K),K7(z),G&&(K=ta("prehashed msgHash",Y(K)));const ne=D(K),le=l(B),ue=[S(le),S(ne)];if(ee!=null&&ee!==!1){const Te=ee===!0?V(n.BYTES):ee;ue.push(ta("extraEntropy",Te))}const re=bE(...ue),oe=ne;function ye(Te){const Be=P(Te);if(!h(Be))return;const et=a(Be),tt=c.BASE.multiply(Be).toAffine(),Fe=o(tt.x);if(Fe===Pu)return;const pt=o(et*o(oe+Fe*le));if(pt===Pu)return;let mt=(tt.x===Fe?0:2)|Number(tt.y&Qi),an=pt;return Q&&p(pt)&&(an=g(pt),mt^=1),new v(Fe,an,mt)}return{seed:re,k2sig:ye}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(K,B,z=N){const{seed:Y,k2sig:V}=x(K,B,z),Q=e;return woe(Q.hash.outputLen,Q.nByteLength,Q.hmac)(Y,V)}c.BASE._setWindowSize(8);function j(K,B,z,Y=R){var pt;const V=K;B=ta("msgHash",B),z=ta("publicKey",z);const{lowS:Q,prehash:G,format:ee}=Y;if(K7(Y),"strict"in Y)throw new Error("options.strict was renamed to lowS");if(ee!==void 0&&ee!=="compact"&&ee!=="der")throw new Error("format must be compact or der");const ne=typeof V=="string"||Cm(V),le=!ne&&!ee&&typeof V=="object"&&V!==null&&typeof V.r=="bigint"&&typeof V.s=="bigint";if(!ne&&!le)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ue,re;try{if(le&&(ue=new v(V.r,V.s)),ne){try{ee!=="compact"&&(ue=v.fromDER(V))}catch(mt){if(!(mt instanceof Tu.Err))throw mt}!ue&&ee!=="der"&&(ue=v.fromCompact(V))}re=c.fromHex(z)}catch{return!1}if(!ue||Q&&ue.hasHighS())return!1;G&&(B=e.hash(B));const{r:oe,s:ye}=ue,Te=D(B),Be=a(ye),et=o(Te*Be),tt=o(oe*Be),Fe=(pt=c.BASE.multiplyAndAddUnsafe(re,et,tt))==null?void 0:pt.toAffine();return Fe?o(Fe.x)===oe:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:I,sign:$,verify:j,ProjectivePoint:c,Signature:v,utils:b}}function PKe(t){return{hash:t,hmac:(e,...n)=>UO(t,e,RWe(...n)),randomBytes:xw}}function OKe(t,e){const n=r=>xKe({...t,...PKe(r)});return{...n(e),create:n}}const xoe=Eoe(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),DKe=xoe.create(BigInt("-3")),NKe=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),RKe=OKe({a:DKe,b:NKe,Fp:xoe,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Q1),Poe="base10",uo="base16",xc="base64pad",uh="base64url",J1="utf8",Ooe=0,Yu=1,X1=2,kKe=0,Y7=1,Ub=12,h5=32;function MKe(){const t=GL.utils.randomPrivateKey(),e=GL.getPublicKey(t);return{privateKey:Ho(t,uo),publicKey:Ho(e,uo)}}function YL(){const t=xw(h5);return Ho(t,uo)}function LKe(t,e){const n=GL.getSharedSecret(Ha(t,uo),Ha(e,uo)),r=Uqe(Q1,n,void 0,void 0,h5);return Ho(r,uo)}function ZT(t){const e=Q1(Ha(t,uo));return Ho(e,uo)}function vl(t){const e=Q1(Ha(t,J1));return Ho(e,uo)}function Doe(t){return Ha(`${t}`,Poe)}function Tm(t){return Number(Ho(t,Poe))}function Noe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Roe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function FKe(t){const e=Doe(typeof t.type<"u"?t.type:Ooe);if(Tm(e)===Yu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Ha(t.senderPublicKey,uo):void 0,r=typeof t.iv<"u"?Ha(t.iv,uo):xw(Ub),i=Ha(t.symKey,uo),s=goe(i,r).encrypt(Ha(t.message,J1)),o=koe({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===uh?Noe(o):o}function $Ke(t){const e=Ha(t.symKey,uo),{sealed:n,iv:r}=_E({encoded:t.encoded,encoding:t.encoding}),i=goe(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Ho(i,J1)}function jKe(t,e){const n=Doe(X1),r=xw(Ub),i=Ha(t,J1),s=koe({type:n,sealed:i,iv:r});return e===uh?Noe(s):s}function UKe(t,e){const{sealed:n}=_E({encoded:t,encoding:e});return Ho(n,J1)}function koe(t){if(Tm(t.type)===X1)return Ho(jb([t.type,t.sealed]),xc);if(Tm(t.type)===Yu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ho(jb([t.type,t.senderPublicKey,t.iv,t.sealed]),xc)}return Ho(jb([t.type,t.iv,t.sealed]),xc)}function _E(t){const e=(t.encoding||xc)===uh?Roe(t.encoded):t.encoded,n=Ha(e,xc),r=n.slice(kKe,Y7),i=Y7;if(Tm(r)===Yu){const c=i+h5,l=c+Ub,u=n.slice(i,c),h=n.slice(c,l),f=n.slice(l);return{type:r,sealed:f,iv:h,senderPublicKey:u}}if(Tm(r)===X1){const c=n.slice(i),l=xw(Ub);return{type:r,sealed:c,iv:l}}const s=i+Ub,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function BKe(t,e){const n=_E({encoded:t,encoding:e==null?void 0:e.encoding});return Moe({type:Tm(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Ho(n.senderPublicKey,uo):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Moe(t){const e=(t==null?void 0:t.type)||Ooe;if(e===Yu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function Q7(t){return t.type===Yu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Z7(t){return t.type===X1}function zKe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return jb([new Uint8Array([4]),e,n])}function VKe(t,e){const[n,r,i]=t.split("."),s=Buffer.from(Roe(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=Q1(c),u=zKe(e);if(!RKe.verify(jb([o,a]),l,u))throw new Error("Invalid signature");return ML(t).payload}const HKe="irn";function cx(t){return(t==null?void 0:t.relay)||{protocol:HKe}}function db(t){const e=Q7e[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function WKe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function J7(t){if(!t.includes("wc:")){const l=roe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:qKe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:WKe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function qKe(t){return t.startsWith("//")?t.substring(2):t}function KKe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function X7(t){const e=new URLSearchParams,n=KKe(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function LC(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function Ow(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function GKe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Ow(n.accounts))}),e}function YKe(t,e){const n=[];return Object.values(t).forEach(r=>{Ow(r.accounts).includes(e)&&n.push(...r.methods)}),n}function QKe(t,e){const n=[];return Object.values(t).forEach(r=>{Ow(r.accounts).includes(e)&&n.push(...r.events)}),n}function f5(t){return t.includes(":")}function hb(t){return f5(t)?t.split(":")[0]:t}function ZKe(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function eW(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=ZKe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=YT(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}const JKe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},XKe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Le(t,e){const{message:n,code:r}=XKe[t];return{message:e?`${n} ${e}`:n,code:r}}function ir(t,e){const{message:n,code:r}=JKe[t];return{message:e?`${n} ${e}`:n,code:r}}function Yh(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function EE(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function bs(t){return typeof t>"u"}function Si(t,e){return e&&bs(t)?!0:typeof t=="string"&&!!t.trim().length}function p5(t,e){return e&&bs(t)?!0:typeof t=="number"&&!isNaN(t)}function eGe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return _p(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Ow(a),h=n[o];(!_p(Jse(o,h),u)||!_p(h.methods,c)||!_p(h.events,l))&&(s=!1)}),s):!1}function lx(t){return Si(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function tGe(t){if(Si(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&lx(n)}}return!1}function nGe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Si(t,!1)){if(e(t))return!0;const n=roe(t);return e(n)}}catch{}return!1}function rGe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function iGe(t){return t==null?void 0:t.topic}function sGe(t,e){let n=null;return Si(t==null?void 0:t.publicKey,!1)||(n=Le("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function tW(t){let e=!0;return Yh(t)?t.length&&(e=t.every(n=>Si(n,!1))):e=!1,e}function oGe(t,e,n){let r=null;return Yh(e)&&e.length?e.forEach(i=>{r||lx(i)||(r=ir("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):lx(t)||(r=ir("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function aGe(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=oGe(i,Jse(i,s),`${e} ${n}`);o&&(r=o)}),r}function cGe(t,e){let n=null;return Yh(t)?t.forEach(r=>{n||tGe(r)||(n=ir("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=ir("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function lGe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=cGe(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function uGe(t,e){let n=null;return tW(t==null?void 0:t.methods)?tW(t==null?void 0:t.events)||(n=ir("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=ir("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Loe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=uGe(r,`${e}, namespace`);i&&(n=i)}),n}function dGe(t,e,n){let r=null;if(t&&EE(t)){const i=Loe(t,e);i&&(r=i);const s=aGe(t,e,n);s&&(r=s)}else r=Le("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function UR(t,e){let n=null;if(t&&EE(t)){const r=Loe(t,e);r&&(n=r);const i=lGe(t,e);i&&(n=i)}else n=Le("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Foe(t){return Si(t.protocol,!0)}function hGe(t,e){let n=!1;return e&&!t?n=!0:t&&Yh(t)&&t.length&&t.forEach(r=>{n=Foe(r)}),n}function fGe(t){return typeof t=="number"}function So(t){return typeof t<"u"&&typeof t!==null}function pGe(t){return!(!t||typeof t!="object"||!t.code||!p5(t.code,!1)||!t.message||!Si(t.message,!1))}function mGe(t){return!(bs(t)||!Si(t.method,!1))}function gGe(t){return!(bs(t)||bs(t.result)&&bs(t.error)||!p5(t.id,!1)||!Si(t.jsonrpc,!1))}function yGe(t){return!(bs(t)||!Si(t.name,!1))}function nW(t,e){return!(!lx(e)||!GKe(t).includes(e))}function vGe(t,e,n){return Si(n,!1)?YKe(t,e).includes(n):!1}function wGe(t,e,n){return Si(n,!1)?QKe(t,e).includes(n):!1}function rW(t,e,n){let r=null;const i=bGe(t),s=_Ge(e),o=Object.keys(i),a=Object.keys(s),c=iW(Object.keys(t)),l=iW(Object.keys(e)),u=c.filter(h=>!l.includes(h));return u.length&&(r=Le("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),_p(o,a)||(r=Le("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const f=Ow(e[h].accounts);f.includes(h)||(r=Le("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{r||(_p(i[h].methods,s[h].methods)?_p(i[h].events,s[h].events)||(r=Le("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=Le("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function bGe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function iW(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function _Ge(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Ow(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function EGe(t,e){return p5(t,!1)&&t<=e.max&&t>=e.min}function sW(){const t=G1();return new Promise(e=>{switch(t){case ca.browser:e(AGe());break;case ca.reactNative:e(CGe());break;case ca.node:e(TGe());break;default:e(!0)}})}function AGe(){return K1()&&(navigator==null?void 0:navigator.onLine)}async function CGe(){if(Df()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function TGe(){return!0}function SGe(t){switch(G1()){case ca.browser:IGe(t);break;case ca.reactNative:xGe(t);break}}function IGe(t){!Df()&&K1()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function xGe(t){Df()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const BR={};class M0{static get(e){return BR[e]}static set(e,n){BR[e]=n}static delete(e){delete BR[e]}}const PGe="PARSE_ERROR",OGe="INVALID_REQUEST",DGe="METHOD_NOT_FOUND",NGe="INVALID_PARAMS",$oe="INTERNAL_ERROR",m5="SERVER_ERROR",RGe=[-32700,-32600,-32601,-32602,-32603],Bb={[PGe]:{code:-32700,message:"Parse error"},[OGe]:{code:-32600,message:"Invalid Request"},[DGe]:{code:-32601,message:"Method not found"},[NGe]:{code:-32602,message:"Invalid params"},[$oe]:{code:-32603,message:"Internal error"},[m5]:{code:-32e3,message:"Server error"}},joe=m5;function kGe(t){return RGe.includes(t)}function oW(t){return Object.keys(Bb).includes(t)?Bb[t]:Bb[joe]}function MGe(t){const e=Object.values(Bb).find(n=>n.code===t);return e||Bb[joe]}function Uoe(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var Boe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QL=function(t,e){return QL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},QL(t,e)};function LGe(t,e){QL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ZL=function(){return ZL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZL.apply(this,arguments)};function FGe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $Ge(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function jGe(t,e){return function(n,r){e(n,r,t)}}function UGe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function BGe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function zGe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function VGe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function HGe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function JL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zoe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function WGe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zoe(arguments[e]));return t}function qGe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function AE(t){return this instanceof AE?(this.v=t,this):new AE(t)}function KGe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(g,y){s.push([f,p,g,y])>1||a(f,p)})})}function a(f,p){try{c(r[f](p))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof AE?Promise.resolve(f.value.v).then(l,u):h(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function GGe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:AE(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function YGe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JL=="function"?JL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function QGe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function ZGe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function JGe(t){return t&&t.__esModule?t:{default:t}}function XGe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function eYe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const tYe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ZL},__asyncDelegator:GGe,__asyncGenerator:KGe,__asyncValues:YGe,__await:AE,__awaiter:BGe,__classPrivateFieldGet:XGe,__classPrivateFieldSet:eYe,__createBinding:VGe,__decorate:$Ge,__exportStar:HGe,__extends:LGe,__generator:zGe,__importDefault:JGe,__importStar:ZGe,__makeTemplateObject:QGe,__metadata:UGe,__param:jGe,__read:zoe,__rest:FGe,__spread:WGe,__spreadArrays:qGe,__values:JL},Symbol.toStringTag,{value:"Module"})),nYe=pK(tYe);var yu={},aW;function rYe(){if(aW)return yu;aW=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.isBrowserCryptoAvailable=yu.getSubtleCrypto=yu.getBrowerCrypto=void 0;function t(){return(io==null?void 0:io.crypto)||(io==null?void 0:io.msCrypto)||{}}yu.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}yu.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return yu.isBrowserCryptoAvailable=n,yu}var vu={},cW;function iYe(){if(cW)return vu;cW=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.isBrowser=vu.isNode=vu.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}vu.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}vu.isNode=e;function n(){return!t()&&!e()}return vu.isBrowser=n,vu}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=nYe;e.__exportStar(rYe(),t),e.__exportStar(iYe(),t)})(Boe);function cl(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Ep(t=6){return BigInt(cl(t))}function xh(t,e,n){return{id:n||cl(),jsonrpc:"2.0",method:t,params:e}}function WO(t,e){return{id:t,jsonrpc:"2.0",result:e}}function qO(t,e,n){return{id:t,jsonrpc:"2.0",error:sYe(e,n)}}function sYe(t,e){return typeof t>"u"?oW($oe):(typeof t=="string"&&(t=Object.assign(Object.assign({},oW(m5)),{message:t})),typeof e<"u"&&(t.data=e),kGe(t.code)&&(t=MGe(t.code)),t)}let oYe=class{},aYe=class extends oYe{constructor(){super()}},cYe=class extends aYe{constructor(e){super()}};const lYe="^https?:",uYe="^wss?:";function dYe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Voe(t,e){const n=dYe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function lW(t){return Voe(t,lYe)}function uW(t){return Voe(t,uYe)}function hYe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Hoe(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function g5(t){return Hoe(t)&&"method"in t}function KO(t){return Hoe(t)&&(ll(t)||La(t))}function ll(t){return"result"in t}function La(t){return"error"in t}let nc=class extends cYe{constructor(e){super(e),this.events=new tc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(xh(e.method,e.params||[],e.id||Ep().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{La(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),KO(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const fYe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),pYe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",dW=t=>t.split("?")[0],hW=10,mYe=fYe();let gYe=class{constructor(e){if(this.url=e,this.events=new tc.EventEmitter,this.registering=!1,!uW(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(hd(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!uW(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=Boe.isReactNative()?void 0:{rejectUnauthorized:!hYe(e)},s=new mYe(e,[],i);pYe()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?_m(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=qO(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Uoe(e,dW(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>hW&&this.events.setMaxListeners(hW)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${dW(this.url)}`));return this.events.emit("register_error",n),n}};const Woe="wc",qoe=2,ux="core",Kl=`${Woe}@2:${ux}:`,yYe={name:ux,logger:"error"},vYe={database:":memory:"},wYe="crypto",fW="client_ed25519_seed",bYe=Re.ONE_DAY,_Ye="keychain",EYe="0.3",AYe="messages",CYe="0.3",pW=Re.SIX_HOURS,TYe="publisher",Koe="irn",SYe="error",Goe="wss://relay.walletconnect.org",IYe="relayer",Xi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},xYe="_subscription",xa={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},PYe=.1,XL="2.19.2",Ir={link_mode:"link_mode",relay:"relay"},JT={inbound:"inbound",outbound:"outbound"},OYe="0.3",DYe="WALLETCONNECT_CLIENT_ID",mW="WALLETCONNECT_LINK_MODE_APPS",Xo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},NYe="subscription",RYe="0.3",kYe="pairing",MYe="0.3",L0={wc_pairingDelete:{req:{ttl:Re.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Re.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Re.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Re.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Re.ONE_DAY,prompt:!1,tag:0},res:{ttl:Re.ONE_DAY,prompt:!1,tag:0}}},ip={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},hc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},LYe="history",FYe="0.3",$Ye="expirer",Ra={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},jYe="0.3",UYe="verify-api",BYe="https://verify.walletconnect.com",Yoe="https://verify.walletconnect.org",zb=Yoe,zYe=`${zb}/v3`,VYe=[BYe,Yoe],HYe="echo",WYe="https://echo.walletconnect.com",ol={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},_u={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},fc={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Bf={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},zf={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},F0={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},qYe=.1,KYe="event-client",GYe=86400,YYe="https://pulse.walletconnect.org/batch";function QYe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,b=0,_=g.length;b!==_&&g[b]===0;)b++,y++;for(var A=(_-b)*u+1>>>0,I=new Uint8Array(A);b!==_;){for(var P=g[b],D=0,T=A-1;(P!==0||D<v)&&T!==-1;T--,D++)P+=256*I[T]>>>0,I[T]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");v=D,b++}for(var S=A-v;S!==A&&I[S]===0;)S++;for(var x=c.repeat(y);S<A;++S)x+=t.charAt(I[S]);return x}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,b=0;g[y]===c;)v++,y++;for(var _=(g.length-y)*l+1>>>0,A=new Uint8Array(_);g[y];){var I=n[g.charCodeAt(y)];if(I===255)return;for(var P=0,D=_-1;(I!==0||P<b)&&D!==-1;D--,P++)I+=a*A[D]>>>0,A[D]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=P,y++}if(g[y]!==" "){for(var T=_-b;T!==_&&A[T]===0;)T++;for(var S=new Uint8Array(v+(_-T)),x=v;T!==_;)S[x++]=A[T++];return S}}}function p(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var ZYe=QYe,JYe=ZYe;const Qoe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},XYe=t=>new TextEncoder().encode(t),eQe=t=>new TextDecoder().decode(t);class tQe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nQe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Zoe(this,e)}}class rQe{constructor(e){this.decoders=e}or(e){return Zoe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Zoe=(t,e)=>new rQe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class iQe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new tQe(e,n,r),this.decoder=new nQe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const GO=({name:t,prefix:e,encode:n,decode:r})=>new iQe(t,e,n,r),eA=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=JYe(n,e);return GO({prefix:t,name:e,encode:r,decode:s=>Qoe(i(s))})},sQe=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},oQe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ks=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>GO({prefix:e,name:t,encode(i){return oQe(i,r,n)},decode(i){return sQe(i,r,n,t)}}),aQe=GO({prefix:"\0",name:"identity",encode:t=>eQe(t),decode:t=>XYe(t)});var cQe=Object.freeze({__proto__:null,identity:aQe});const lQe=ks({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uQe=Object.freeze({__proto__:null,base2:lQe});const dQe=ks({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var hQe=Object.freeze({__proto__:null,base8:dQe});const fQe=eA({prefix:"9",name:"base10",alphabet:"0123456789"});var pQe=Object.freeze({__proto__:null,base10:fQe});const mQe=ks({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gQe=ks({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var yQe=Object.freeze({__proto__:null,base16:mQe,base16upper:gQe});const vQe=ks({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wQe=ks({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bQe=ks({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_Qe=ks({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),EQe=ks({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),AQe=ks({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CQe=ks({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TQe=ks({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),SQe=ks({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var IQe=Object.freeze({__proto__:null,base32:vQe,base32upper:wQe,base32pad:bQe,base32padupper:_Qe,base32hex:EQe,base32hexupper:AQe,base32hexpad:CQe,base32hexpadupper:TQe,base32z:SQe});const xQe=eA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),PQe=eA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var OQe=Object.freeze({__proto__:null,base36:xQe,base36upper:PQe});const DQe=eA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),NQe=eA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var RQe=Object.freeze({__proto__:null,base58btc:DQe,base58flickr:NQe});const kQe=ks({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),MQe=ks({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),LQe=ks({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),FQe=ks({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $Qe=Object.freeze({__proto__:null,base64:kQe,base64pad:MQe,base64url:LQe,base64urlpad:FQe});const Joe=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),jQe=Joe.reduce((t,e,n)=>(t[n]=e,t),[]),UQe=Joe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function BQe(t){return t.reduce((e,n)=>(e+=jQe[n],e),"")}function zQe(t){const e=[];for(const n of t){const r=UQe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const VQe=GO({prefix:"🚀",name:"base256emoji",encode:BQe,decode:zQe});var HQe=Object.freeze({__proto__:null,base256emoji:VQe}),WQe=Xoe,gW=128,qQe=127,KQe=~qQe,GQe=Math.pow(2,31);function Xoe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=GQe;)e[n++]=t&255|gW,t/=128;for(;t&KQe;)e[n++]=t&255|gW,t>>>=7;return e[n]=t|0,Xoe.bytes=n-r+1,e}var YQe=e3,QQe=128,yW=127;function e3(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw e3.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&yW)<<i:(o&yW)*Math.pow(2,i),i+=7}while(o>=QQe);return e3.bytes=s-r,n}var ZQe=Math.pow(2,7),JQe=Math.pow(2,14),XQe=Math.pow(2,21),eZe=Math.pow(2,28),tZe=Math.pow(2,35),nZe=Math.pow(2,42),rZe=Math.pow(2,49),iZe=Math.pow(2,56),sZe=Math.pow(2,63),oZe=function(t){return t<ZQe?1:t<JQe?2:t<XQe?3:t<eZe?4:t<tZe?5:t<nZe?6:t<rZe?7:t<iZe?8:t<sZe?9:10},aZe={encode:WQe,decode:YQe,encodingLength:oZe},eae=aZe;const vW=(t,e,n=0)=>(eae.encode(t,e,n),e),wW=t=>eae.encodingLength(t),t3=(t,e)=>{const n=e.byteLength,r=wW(t),i=r+wW(n),s=new Uint8Array(i+n);return vW(t,s,0),vW(n,s,r),s.set(e,i),new cZe(t,n,e,s)};class cZe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const tae=({name:t,code:e,encode:n})=>new lZe(t,e,n);class lZe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?t3(this.code,n):n.then(r=>t3(this.code,r))}else throw Error("Unknown type, must be binary type")}}const nae=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),uZe=tae({name:"sha2-256",code:18,encode:nae("SHA-256")}),dZe=tae({name:"sha2-512",code:19,encode:nae("SHA-512")});var hZe=Object.freeze({__proto__:null,sha256:uZe,sha512:dZe});const rae=0,fZe="identity",iae=Qoe,pZe=t=>t3(rae,iae(t)),mZe={code:rae,name:fZe,encode:iae,digest:pZe};var gZe=Object.freeze({__proto__:null,identity:mZe});new TextEncoder,new TextDecoder;const bW={...cQe,...uQe,...hQe,...pQe,...yQe,...IQe,...OQe,...RQe,...$Qe,...HQe};({...hZe,...gZe});function yZe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function sae(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const _W=sae("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),zR=sae("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=yZe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),vZe={utf8:_W,"utf-8":_W,hex:bW.base16,latin1:zR,ascii:zR,binary:zR,...bW};function wZe(t,e="utf8"){const n=vZe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var bZe=Object.defineProperty,_Ze=(t,e,n)=>e in t?bZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rl=(t,e,n)=>_Ze(t,typeof e!="symbol"?e+"":e,n);class EZe{constructor(e,n){this.core=e,this.logger=n,rl(this,"keychain",new Map),rl(this,"name",_Ye),rl(this,"version",EYe),rl(this,"initialized",!1),rl(this,"storagePrefix",Kl),rl(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),rl(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),rl(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),rl(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Le("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),rl(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Js(n,this.name)}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,$L(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?jL(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}var AZe=Object.defineProperty,CZe=(t,e,n)=>e in t?AZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fs=(t,e,n)=>CZe(t,typeof e!="symbol"?e+"":e,n);class TZe{constructor(e,n,r){this.core=e,this.logger=n,fs(this,"name",wYe),fs(this,"keychain"),fs(this,"randomSessionIdentifier",YL()),fs(this,"initialized",!1),fs(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),fs(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),fs(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=e7(i);return Dse(s.publicKey)}),fs(this,"generateKeyPair",()=>{this.isInitialized();const i=MKe();return this.setPrivateKey(i.publicKey,i.privateKey)}),fs(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=e7(s),a=this.randomSessionIdentifier;return await UVe(a,i,bYe,o)}),fs(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=LKe(a,s);return this.setSymKey(c,o)}),fs(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||ZT(i);return await this.keychain.set(o,i),o}),fs(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),fs(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),fs(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Moe(o),c=hd(s);if(Z7(a))return jKe(c,o==null?void 0:o.encoding);if(Q7(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const l=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return FKe({type:u,symKey:l,message:c,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),fs(this,"decode",async(i,s,o)=>{this.isInitialized();const a=BKe(s,o);if(Z7(a)){const c=UKe(s,o==null?void 0:o.encoding);return _m(c)}if(Q7(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=$Ke({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return _m(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),fs(this,"getPayloadType",(i,s=xc)=>{const o=_E({encoded:i,encoding:s});return Tm(o.type)}),fs(this,"getPayloadSenderPublicKey",(i,s=xc)=>{const o=_E({encoded:i,encoding:s});return o.senderPublicKey?Ho(o.senderPublicKey,uo):void 0}),this.core=e,this.logger=Js(n,this.name),this.keychain=r||new EZe(this.core,this.logger)}get context(){return qo(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(fW)}catch{e=YL(),await this.keychain.set(fW,e)}return wZe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}var SZe=Object.defineProperty,IZe=Object.defineProperties,xZe=Object.getOwnPropertyDescriptors,EW=Object.getOwnPropertySymbols,PZe=Object.prototype.hasOwnProperty,OZe=Object.prototype.propertyIsEnumerable,n3=(t,e,n)=>e in t?SZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DZe=(t,e)=>{for(var n in e||(e={}))PZe.call(e,n)&&n3(t,n,e[n]);if(EW)for(var n of EW(e))OZe.call(e,n)&&n3(t,n,e[n]);return t},NZe=(t,e)=>IZe(t,xZe(e)),Zo=(t,e,n)=>n3(t,typeof e!="symbol"?e+"":e,n);class RZe extends F8e{constructor(e,n){super(e,n),this.logger=e,this.core=n,Zo(this,"messages",new Map),Zo(this,"messagesWithoutClientAck",new Map),Zo(this,"name",AYe),Zo(this,"version",CYe),Zo(this,"initialized",!1),Zo(this,"storagePrefix",Kl),Zo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Zo(this,"set",async(r,i,s)=>{this.isInitialized();const o=vl(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===JT.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,NZe(DZe({},c),{[o]:i}))}return await this.persist(),o}),Zo(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Zo(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Zo(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=vl(i);return typeof s[o]<"u"}),Zo(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=vl(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Zo(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Js(e,this.name),this.core=n}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,$L(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,$L(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?jL(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?jL(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}var kZe=Object.defineProperty,MZe=Object.defineProperties,LZe=Object.getOwnPropertyDescriptors,AW=Object.getOwnPropertySymbols,FZe=Object.prototype.hasOwnProperty,$Ze=Object.prototype.propertyIsEnumerable,r3=(t,e,n)=>e in t?kZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FC=(t,e)=>{for(var n in e||(e={}))FZe.call(e,n)&&r3(t,n,e[n]);if(AW)for(var n of AW(e))$Ze.call(e,n)&&r3(t,n,e[n]);return t},VR=(t,e)=>MZe(t,LZe(e)),pc=(t,e,n)=>r3(t,typeof e!="symbol"?e+"":e,n);class jZe extends $8e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,pc(this,"events",new tc.EventEmitter),pc(this,"name",TYe),pc(this,"queue",new Map),pc(this,"publishTimeout",Re.toMiliseconds(Re.ONE_MINUTE)),pc(this,"initialPublishTimeout",Re.toMiliseconds(Re.ONE_SECOND*15)),pc(this,"needsTransportRestart",!1),pc(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||pW,c=cx(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||Ep().toString(),f={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},p=`Failed to publish payload, please try again. id:${h} tag:${u}`;try{const g=new Promise(async y=>{const v=({id:_})=>{f.opts.id===_&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(Xi.publish,v),y(f))};this.relayer.events.on(Xi.publish,v);const b=Ih(new Promise((_,A)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:u,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(_).catch(I=>{this.logger.warn(I,I==null?void 0:I.message),A(I)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${u}`);try{await b,this.events.removeListener(Xi.publish,v)}catch(_){this.queue.set(h,VR(FC({},f),{attempt:1})),this.logger.warn(_,_==null?void 0:_.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:r,message:i,opts:s}}),await Ih(g,this.publishTimeout,p)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(h)}}),pc(this,"on",(r,i)=>{this.events.on(r,i)}),pc(this,"once",(r,i)=>{this.events.once(r,i)}),pc(this,"off",(r,i)=>{this.events.off(r,i)}),pc(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Js(n,this.name),this.registerEventListeners()}get context(){return qo(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=pW,prompt:l,tag:u,id:h,attestation:f,tvf:p}=e,g={method:db(cx().protocol).publish,params:FC({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:f},p),id:h};bs((n=g.params)==null?void 0:n.prompt)&&((r=g.params)==null||delete r.prompt),bs((i=g.params)==null?void 0:i.tag)&&((s=g.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const y=await this.relayer.request(g);return this.relayer.events.emit(Xi.publish,e),this.logger.debug("Successfully Published Payload"),y}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,VR(FC({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(VR(FC({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ew.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Xi.connection_stalled);return}this.checkQueue()}),this.relayer.on(Xi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var UZe=Object.defineProperty,BZe=(t,e,n)=>e in t?UZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rg=(t,e,n)=>BZe(t,typeof e!="symbol"?e+"":e,n);class zZe{constructor(){Rg(this,"map",new Map),Rg(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Rg(this,"get",e=>this.map.get(e)||[]),Rg(this,"exists",(e,n)=>this.get(e).includes(n)),Rg(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Rg(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var VZe=Object.defineProperty,HZe=Object.defineProperties,WZe=Object.getOwnPropertyDescriptors,CW=Object.getOwnPropertySymbols,qZe=Object.prototype.hasOwnProperty,KZe=Object.prototype.propertyIsEnumerable,i3=(t,e,n)=>e in t?VZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$0=(t,e)=>{for(var n in e||(e={}))qZe.call(e,n)&&i3(t,n,e[n]);if(CW)for(var n of CW(e))KZe.call(e,n)&&i3(t,n,e[n]);return t},HR=(t,e)=>HZe(t,WZe(e)),hr=(t,e,n)=>i3(t,typeof e!="symbol"?e+"":e,n);class GZe extends B8e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,hr(this,"subscriptions",new Map),hr(this,"topicMap",new zZe),hr(this,"events",new tc.EventEmitter),hr(this,"name",NYe),hr(this,"version",RYe),hr(this,"pending",new Map),hr(this,"cached",[]),hr(this,"initialized",!1),hr(this,"storagePrefix",Kl),hr(this,"subscribeTimeout",Re.toMiliseconds(Re.ONE_MINUTE)),hr(this,"initialSubscribeTimeout",Re.toMiliseconds(Re.ONE_SECOND*15)),hr(this,"clientId"),hr(this,"batchSubscribeTopicsLimit",500),hr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),hr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=cx(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),hr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),hr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),hr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),hr(this,"on",(r,i)=>{this.events.on(r,i)}),hr(this,"once",(r,i)=>{this.events.once(r,i)}),hr(this,"off",(r,i)=>{this.events.off(r,i)}),hr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),hr(this,"start",async()=>{await this.onConnect()}),hr(this,"stop",async()=>{await this.onDisconnect()}),hr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),hr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),hr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ew.pulse,async()=>{await this.checkPending()}),this.events.on(Xo.created,async r=>{const i=Xo.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Xo.deleted,async r=>{const i=Xo.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Js(n,this.name),this.clientId=""}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=cx(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=ir("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===Ir.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:db(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Ir.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},Re.toMiliseconds(Re.ONE_SECOND)),a;const c=new Promise(async u=>{const h=f=>{f.topic===e&&(this.events.removeListener(Xo.created,h),u(f.id))};this.events.on(Xo.created,h);try{const f=await Ih(new Promise((p,g)=>{this.relayer.request(s).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),g(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Xo.created,h),u(f)}catch{}}),l=await Ih(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Xi.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:db(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ih(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Xi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:db(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Ih(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Xi.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:db(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,HR($0({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,$0({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,$0({},n)),this.topicMap.set(n.topic,e),this.events.emit(Xo.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Xo.deleted,HR($0({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Xo.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Xo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Le("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>HR($0({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await EWe(Re.toMiliseconds(Re.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return vl(e+await this.getClientId())}}var YZe=Object.defineProperty,TW=Object.getOwnPropertySymbols,QZe=Object.prototype.hasOwnProperty,ZZe=Object.prototype.propertyIsEnumerable,s3=(t,e,n)=>e in t?YZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SW=(t,e)=>{for(var n in e||(e={}))QZe.call(e,n)&&s3(t,n,e[n]);if(TW)for(var n of TW(e))ZZe.call(e,n)&&s3(t,n,e[n]);return t},kn=(t,e,n)=>s3(t,typeof e!="symbol"?e+"":e,n);class JZe extends j8e{constructor(e){super(e),kn(this,"protocol","wc"),kn(this,"version",2),kn(this,"core"),kn(this,"logger"),kn(this,"events",new tc.EventEmitter),kn(this,"provider"),kn(this,"messages"),kn(this,"subscriber"),kn(this,"publisher"),kn(this,"name",IYe),kn(this,"transportExplicitlyClosed",!1),kn(this,"initialized",!1),kn(this,"connectionAttemptInProgress",!1),kn(this,"relayUrl"),kn(this,"projectId"),kn(this,"packageName"),kn(this,"bundleId"),kn(this,"hasExperiencedNetworkDisruption",!1),kn(this,"pingTimeout"),kn(this,"heartBeatTimeout",Re.toMiliseconds(Re.THIRTY_SECONDS+Re.FIVE_SECONDS)),kn(this,"reconnectTimeout"),kn(this,"connectPromise"),kn(this,"reconnectInProgress",!1),kn(this,"requestsInFlight",[]),kn(this,"connectTimeout",Re.toMiliseconds(Re.ONE_SECOND*15)),kn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Ep().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),kn(this,"resetPingTimeout",()=>{ox()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),kn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),kn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Xi.connect)}),kn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),kn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Xi.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),kn(this,"registerProviderListeners",()=>{this.provider.on(xa.payload,this.onPayloadHandler),this.provider.on(xa.connect,this.onConnectHandler),this.provider.on(xa.disconnect,this.onDisconnectHandler),this.provider.on(xa.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Js(e.logger,this.name):z1(Aw({level:e.logger||SYe})),this.messages=new RZe(this.logger,e.core),this.subscriber=new GZe(this,this.logger),this.publisher=new jZe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Goe,this.projectId=e.projectId,oWe()?this.packageName=b7():aWe()&&(this.bundleId=b7()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return qo(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ir.relay},JT.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Xo.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Xo.created,l)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,SW({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ih(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await sW())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Mi(Re.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Xi.message,e),await this.recordMessageEvent(e,JT.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(xa.disconnect,s),await Ih(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(xa.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(xa.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(xa.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Re.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(ox())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new nc(new gYe(hWe({sdkVersion:XL,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),g5(e)){if(!e.method.endsWith(xYe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Ir.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(SW({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else KO(e)&&this.events.emit(Xi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,JT.inbound),this.events.emit(Xi.message,e))}async acknowledgePayload(e){const n=WO(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(xa.payload,this.onPayloadHandler),this.provider.off(xa.connect,this.onConnectHandler),this.provider.off(xa.disconnect,this.onDisconnectHandler),this.provider.off(xa.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await sW();SGe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Xi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Re.toMiliseconds(PYe)))))}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function XZe(){}function IW(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function xW(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function PW(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const eJe="[object RegExp]",tJe="[object String]",nJe="[object Number]",rJe="[object Boolean]",OW="[object Arguments]",iJe="[object Symbol]",sJe="[object Date]",oJe="[object Map]",aJe="[object Set]",cJe="[object Array]",lJe="[object Function]",uJe="[object ArrayBuffer]",WR="[object Object]",dJe="[object Error]",hJe="[object DataView]",fJe="[object Uint8Array]",pJe="[object Uint8ClampedArray]",mJe="[object Uint16Array]",gJe="[object Uint32Array]",yJe="[object BigUint64Array]",vJe="[object Int8Array]",wJe="[object Int16Array]",bJe="[object Int32Array]",_Je="[object BigInt64Array]",EJe="[object Float32Array]",AJe="[object Float64Array]";function CJe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function TJe(t,e,n){return fb(t,e,void 0,void 0,void 0,void 0,n)}function fb(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Vb(t,e,s,o)}return Vb(t,e,s,o)}function Vb(t,e,n,r){if(Object.is(t,e))return!0;let i=PW(t),s=PW(e);if(i===OW&&(i=WR),s===OW&&(s=WR),i!==s)return!1;switch(i){case tJe:return t.toString()===e.toString();case nJe:{const c=t.valueOf(),l=e.valueOf();return CJe(c,l)}case rJe:case sJe:case iJe:return Object.is(t.valueOf(),e.valueOf());case eJe:return t.source===e.source&&t.flags===e.flags;case lJe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case oJe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!fb(l,e.get(c),c,t,e,n,r))return!1;return!0}case aJe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const h=c[u],f=l.findIndex(p=>fb(h,p,void 0,t,e,n,r));if(f===-1)return!1;l.splice(f,1)}return!0}case cJe:case fJe:case pJe:case mJe:case gJe:case yJe:case vJe:case wJe:case bJe:case _Je:case EJe:case AJe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!fb(t[c],e[c],c,t,e,n,r))return!1;return!0}case uJe:return t.byteLength!==e.byteLength?!1:Vb(new Uint8Array(t),new Uint8Array(e),n,r);case hJe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Vb(new Uint8Array(t),new Uint8Array(e),n,r);case dJe:return t.name===e.name&&t.message===e.message;case WR:{if(!(Vb(t.constructor,e.constructor,n,r)||IW(t)&&IW(e)))return!1;const c=[...Object.keys(t),...xW(t)],l=[...Object.keys(e),...xW(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const h=c[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!fb(f,p,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function SJe(t,e){return TJe(t,e,XZe)}var IJe=Object.defineProperty,DW=Object.getOwnPropertySymbols,xJe=Object.prototype.hasOwnProperty,PJe=Object.prototype.propertyIsEnumerable,o3=(t,e,n)=>e in t?IJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NW=(t,e)=>{for(var n in e||(e={}))xJe.call(e,n)&&o3(t,n,e[n]);if(DW)for(var n of DW(e))PJe.call(e,n)&&o3(t,n,e[n]);return t},_o=(t,e,n)=>o3(t,typeof e!="symbol"?e+"":e,n);class Zm extends U8e{constructor(e,n,r,i=Kl,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,_o(this,"map",new Map),_o(this,"version",OYe),_o(this,"cached",[]),_o(this,"initialized",!1),_o(this,"getKey"),_o(this,"storagePrefix",Kl),_o(this,"recentlyDeleted",[]),_o(this,"recentlyDeletedLimit",200),_o(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!bs(o)?this.map.set(this.getKey(o),o):rGe(o)?this.map.set(o.id,o):iGe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),_o(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),_o(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),_o(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>SJe(a[c],o[c]))):this.values)),_o(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=NW(NW({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),_o(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Js(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Le("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Le("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}var OJe=Object.defineProperty,DJe=(t,e,n)=>e in t?OJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_n=(t,e,n)=>DJe(t,typeof e!="symbol"?e+"":e,n);class NJe{constructor(e,n){this.core=e,this.logger=n,_n(this,"name",kYe),_n(this,"version",MYe),_n(this,"events",new KU),_n(this,"pairings"),_n(this,"initialized",!1),_n(this,"storagePrefix",Kl),_n(this,"ignoredPayloadTypes",[Yu]),_n(this,"registeredMethods",[]),_n(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),_n(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),_n(this,"create",async r=>{this.isInitialized();const i=YL(),s=await this.core.crypto.setSymKey(i),o=Mi(Re.FIVE_MINUTES),a={protocol:Koe},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=X7({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(ip.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),_n(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ol.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=J7(r.uri);i.props.properties.topic=s,i.addTrace(ol.pairing_uri_validation_success),i.addTrace(ol.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(ol.existing_pairing),u.active)throw i.setError(_u.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(ol.pairing_not_expired)}const h=c||Mi(Re.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:l};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(ol.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(ip.create,f),i.addTrace(ol.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(ol.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(_u.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(_u.subscribe_pairing_topic_failure),p}return i.addTrace(ol.subscribe_pairing_topic_success),f}),_n(this,"activate",async({topic:r})=>{this.isInitialized();const i=Mi(Re.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),_n(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Qf();this.events.once(Vn("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),_n(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),_n(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),_n(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),_n(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",ir("USER_DISCONNECTED")),await this.deletePairing(i))}),_n(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return X7({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),_n(this,"sendRequest",async(r,i,s)=>{const o=xh(i,s),a=await this.core.crypto.encode(r,o),c=L0[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),_n(this,"sendResult",async(r,i,s)=>{const o=WO(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=L0[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),_n(this,"sendError",async(r,i,s)=>{const o=qO(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=L0[c]?L0[c].res:L0.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),_n(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,ir("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),_n(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>nh(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),_n(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),_n(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),_n(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(ip.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),_n(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{ll(i)?this.events.emit(Vn("pairing_ping",s),{}):La(i)&&this.events.emit(Vn("pairing_ping",s),{error:i.error})},500)}),_n(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ip.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),_n(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=ir("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),_n(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(ir("WC_METHOD_UNSUPPORTED",r))}),_n(this,"isValidPair",(r,i)=>{var s;if(!So(r)){const{message:a}=Le("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(_u.malformed_pairing_uri),new Error(a)}if(!nGe(r.uri)){const{message:a}=Le("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(_u.malformed_pairing_uri),new Error(a)}const o=J7(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=Le("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(_u.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Le("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(_u.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Re.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(_u.pairing_expired);const{message:a}=Le("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),_n(this,"isValidPing",async r=>{if(!So(r)){const{message:s}=Le("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),_n(this,"isValidDisconnect",async r=>{if(!So(r)){const{message:s}=Le("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),_n(this,"isValidPairingTopic",async r=>{if(!Si(r,!1)){const{message:i}=Le("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Le("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(nh(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Le("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Js(n,this.name),this.pairings=new Zm(this.core,this.logger,this.name,this.storagePrefix)}get context(){return qo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Xi.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Ir.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);g5(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):KO(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ra.expired,async e=>{const{topic:n}=noe(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ip.expire,{topic:n}))})}}var RJe=Object.defineProperty,kJe=(t,e,n)=>e in t?RJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ps=(t,e,n)=>kJe(t,typeof e!="symbol"?e+"":e,n);class MJe extends L8e{constructor(e,n){super(e,n),this.core=e,this.logger=n,ps(this,"records",new Map),ps(this,"events",new tc.EventEmitter),ps(this,"name",LYe),ps(this,"version",FYe),ps(this,"cached",[]),ps(this,"initialized",!1),ps(this,"storagePrefix",Kl),ps(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ps(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Mi(Re.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(hc.created,o)}),ps(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=La(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(hc.updated,i))}),ps(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ps(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(hc.deleted,s)}}),this.persist()}),ps(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ps(this,"on",(r,i)=>{this.events.on(r,i)}),ps(this,"once",(r,i)=>{this.events.once(r,i)}),ps(this,"off",(r,i)=>{this.events.off(r,i)}),ps(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Js(n,this.name)}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:xh(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(hc.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Le("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(hc.created,e=>{const n=hc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(hc.updated,e=>{const n=hc.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(hc.deleted,e=>{const n=hc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ew.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Re.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(hc.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}var LJe=Object.defineProperty,FJe=(t,e,n)=>e in t?LJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Us=(t,e,n)=>FJe(t,typeof e!="symbol"?e+"":e,n);class $Je extends z8e{constructor(e,n){super(e,n),this.core=e,this.logger=n,Us(this,"expirations",new Map),Us(this,"events",new tc.EventEmitter),Us(this,"name",$Ye),Us(this,"version",jYe),Us(this,"cached",[]),Us(this,"initialized",!1),Us(this,"storagePrefix",Kl),Us(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Us(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Us(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ra.created,{target:s,expiration:o})}),Us(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Us(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ra.deleted,{target:i,expiration:s})}}),Us(this,"on",(r,i)=>{this.events.on(r,i)}),Us(this,"once",(r,i)=>{this.events.once(r,i)}),Us(this,"off",(r,i)=>{this.events.off(r,i)}),Us(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Js(n,this.name)}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fWe(e);if(typeof e=="number")return pWe(e);const{message:n}=Le("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ra.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Le("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Re.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ra.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ew.pulse,()=>this.checkExpirations()),this.events.on(Ra.created,e=>{const n=Ra.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ra.expired,e=>{const n=Ra.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ra.deleted,e=>{const n=Ra.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jJe=Object.defineProperty,UJe=(t,e,n)=>e in t?jJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ci=(t,e,n)=>UJe(t,typeof e!="symbol"?e+"":e,n);class BJe extends V8e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Ci(this,"name",UYe),Ci(this,"abortController"),Ci(this,"isDevEnv"),Ci(this,"verifyUrlV3",zYe),Ci(this,"storagePrefix",Kl),Ci(this,"version",qoe),Ci(this,"publicKey"),Ci(this,"fetchPromise"),Ci(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Re.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Ci(this,"register",async i=>{if(!K1()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=W1(),u=this.startAbortTimer(Re.ONE_SECOND*5),h=await new Promise((f,p)=>{const g=()=>{window.removeEventListener("message",v),l.body.removeChild(y),p("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const y=l.createElement("iframe");y.src=c,y.style.display="none",y.addEventListener("error",g,{signal:this.abortController.signal});const v=b=>{if(b.data&&typeof b.data=="string")try{const _=JSON.parse(b.data);if(_.type==="verify_attestation"){if(ML(_.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(y),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",v),f(_.attestation===null?"":_.attestation)}}catch(_){this.logger.warn(_)}};l.body.appendChild(y),window.addEventListener("message",v,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(l){this.logger.warn(l)}return""}),Ci(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(ML(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),Ci(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Re.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Ci(this,"getVerifyUrl",i=>{let s=i||zb;return VYe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${zb}`),s=zb),s}),Ci(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Re.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Ci(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Ci(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ci(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Ci(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ci(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Ci(this,"validateAttestation",(i,s)=>{const o=VKe(i,s.publicKey),a={hasExpired:Re.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Js(n,this.name),this.abortController=new AbortController,this.isDevEnv=o5(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return qo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Re.toMiliseconds(e))}}var zJe=Object.defineProperty,VJe=(t,e,n)=>e in t?zJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RW=(t,e,n)=>VJe(t,typeof e!="symbol"?e+"":e,n);class HJe extends H8e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,RW(this,"context",HYe),RW(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${WYe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Js(n,this.context)}}var WJe=Object.defineProperty,kW=Object.getOwnPropertySymbols,qJe=Object.prototype.hasOwnProperty,KJe=Object.prototype.propertyIsEnumerable,a3=(t,e,n)=>e in t?WJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j0=(t,e)=>{for(var n in e||(e={}))qJe.call(e,n)&&a3(t,n,e[n]);if(kW)for(var n of kW(e))KJe.call(e,n)&&a3(t,n,e[n]);return t},Ki=(t,e,n)=>a3(t,typeof e!="symbol"?e+"":e,n);class GJe extends W8e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Ki(this,"context",KYe),Ki(this,"storagePrefix",Kl),Ki(this,"storageVersion",qYe),Ki(this,"events",new Map),Ki(this,"shouldPersist",!1),Ki(this,"init",async()=>{if(!o5())try{const i={eventId:E7(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:eoe(this.core.relayer.protocol,this.core.relayer.version,XL)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ki(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=E7(),u=this.core.projectId||"",h=Date.now(),f=j0({eventId:l,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),Ki(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return j0(j0({},a),this.setMethods(a.eventId))}),Ki(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ki(this,"setEventListeners",()=>{this.core.heartbeat.on(Ew.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Re.fromMiliseconds(Date.now())-Re.fromMiliseconds(i.timestamp)>GYe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ki(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ki(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Ki(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Ki(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ki(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,j0(j0({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ki(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ki(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${YYe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${XL}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ki(this,"getAppDomain",()=>Xse().url),this.logger=Js(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var YJe=Object.defineProperty,MW=Object.getOwnPropertySymbols,QJe=Object.prototype.hasOwnProperty,ZJe=Object.prototype.propertyIsEnumerable,c3=(t,e,n)=>e in t?YJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LW=(t,e)=>{for(var n in e||(e={}))QJe.call(e,n)&&c3(t,n,e[n]);if(MW)for(var n of MW(e))ZJe.call(e,n)&&c3(t,n,e[n]);return t},vr=(t,e,n)=>c3(t,typeof e!="symbol"?e+"":e,n);let JJe=class oae extends N8e{constructor(e){var n;super(e),vr(this,"protocol",Woe),vr(this,"version",qoe),vr(this,"name",ux),vr(this,"relayUrl"),vr(this,"projectId"),vr(this,"customStoragePrefix"),vr(this,"events",new tc.EventEmitter),vr(this,"logger"),vr(this,"heartbeat"),vr(this,"relayer"),vr(this,"crypto"),vr(this,"storage"),vr(this,"history"),vr(this,"expirer"),vr(this,"pairing"),vr(this,"verify"),vr(this,"echoClient"),vr(this,"linkModeSupportedApps"),vr(this,"eventClient"),vr(this,"initialized",!1),vr(this,"logChunkController"),vr(this,"on",(a,c)=>this.events.on(a,c)),vr(this,"once",(a,c)=>this.events.once(a,c)),vr(this,"off",(a,c)=>this.events.off(a,c)),vr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),vr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Ir.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Goe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Aw({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:yYe.logger,name:ux}),{logger:s,chunkLoggerController:o}=YU({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Js(s,this.name),this.heartbeat=new b6e,this.crypto=new TZe(this,this.logger,e==null?void 0:e.keychain),this.history=new MJe(this,this.logger),this.expirer=new $Je(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new n8e(LW(LW({},vYe),e==null?void 0:e.storageOptions)),this.relayer=new JZe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new NJe(this,this.logger),this.verify=new BJe(this,this.logger,this.storage),this.echoClient=new HJe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new GJe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new oae(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(DYe,r),n}get context(){return qo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(mW,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(mW)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&{}.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const XJe=JJe,aae="wc",cae=2,lae="client",y5=`${aae}@${cae}:${lae}:`,qR={name:lae,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},FW="WALLETCONNECT_DEEPLINK_CHOICE",eXe="proposal",$W="Proposal expired",tXe="session",kg=Re.SEVEN_DAYS,nXe="engine",Gi={wc_sessionPropose:{req:{ttl:Re.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Re.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Re.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Re.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Re.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Re.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Re.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Re.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Re.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Re.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Re.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Re.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Re.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Re.FIVE_MINUTES,prompt:!1,tag:1119}}},KR={min:Re.FIVE_MINUTES,max:Re.SEVEN_DAYS},il={idle:"IDLE",active:"ACTIVE"},jW={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},rXe="request",iXe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],sXe="wc",oXe="auth",aXe="authKeys",cXe="pairingTopics",lXe="requests",YO=`${sXe}@${1.5}:${oXe}:`,XT=`${YO}:PUB_KEY`;var uXe=Object.defineProperty,dXe=Object.defineProperties,hXe=Object.getOwnPropertyDescriptors,UW=Object.getOwnPropertySymbols,fXe=Object.prototype.hasOwnProperty,pXe=Object.prototype.propertyIsEnumerable,l3=(t,e,n)=>e in t?uXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fr=(t,e)=>{for(var n in e||(e={}))fXe.call(e,n)&&l3(t,n,e[n]);if(UW)for(var n of UW(e))pXe.call(e,n)&&l3(t,n,e[n]);return t},eo=(t,e)=>dXe(t,hXe(e)),Ee=(t,e,n)=>l3(t,typeof e!="symbol"?e+"":e,n);class mXe extends Y8e{constructor(e){super(e),Ee(this,"name",nXe),Ee(this,"events",new KU),Ee(this,"initialized",!1),Ee(this,"requestQueue",{state:il.idle,queue:[]}),Ee(this,"sessionRequestQueue",{state:il.idle,queue:[]}),Ee(this,"requestQueueDelay",Re.ONE_SECOND),Ee(this,"expectedPairingMethodMap",new Map),Ee(this,"recentlyDeletedMap",new Map),Ee(this,"recentlyDeletedLimit",200),Ee(this,"relayMessageCache",[]),Ee(this,"pendingSessions",new Map),Ee(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Gi)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Re.toMiliseconds(this.requestQueueDelay)))}),Ee(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=eo(fr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,h,f=!1;try{if(u){const D=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=D.active}}catch(D){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),D}if(!u||!f){const{topic:D,uri:T}=await this.client.core.pairing.create();u=D,h=T}if(!u){const{message:D}=Le("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(D)}const p=await this.client.core.crypto.generateKeyPair(),g=Gi.wc_sessionPropose.req.ttl||Re.FIVE_MINUTES,y=Mi(g),v=eo(fr(fr({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Koe}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:cl()}),b=Vn("session_connect",v.id),{reject:_,resolve:A,done:I}=Qf(g,$W),P=({id:D})=>{D===v.id&&(this.client.events.off("proposal_expire",P),this.pendingSessions.delete(v.id),this.events.emit(b,{error:{message:$W,code:0}}))};return this.client.events.on("proposal_expire",P),this.events.once(b,({error:D,session:T})=>{this.client.events.off("proposal_expire",P),D?_(D):T&&A(T)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:v,throwOnFailedPublish:!0,clientRpcId:v.id}),await this.setProposal(v.id,v),{uri:h,approval:I}}),Ee(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Ee(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[fc.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(x){throw o.setError(Bf.no_internet_connection),x}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(x){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Bf.proposal_not_found),x}try{await this.isValidApprove(n)}catch(x){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Bf.session_approve_namespace_validation_failure),x}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:y,requiredNamespaces:v,optionalNamespaces:b}=p;let _=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});_||(_=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:fc.session_approve_started,properties:{topic:g,trace:[fc.session_approve_started,fc.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),I=y.publicKey,P=await this.client.core.crypto.generateSharedKey(A,I),D=fr(fr(fr({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:A,metadata:this.client.metadata},expiry:Mi(kg)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),T=Ir.relay;_.addTrace(fc.subscribing_session_topic);try{await this.client.core.relayer.subscribe(P,{transportType:T})}catch(x){throw _.setError(Bf.subscribe_session_topic_failure),x}_.addTrace(fc.subscribe_session_topic_success);const S=eo(fr({},D),{topic:P,requiredNamespaces:v,optionalNamespaces:b,pairingTopic:g,acknowledged:!1,self:D.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:A,transportType:Ir.relay});await this.client.session.set(P,S),_.addTrace(fc.store_session);try{_.addTrace(fc.publishing_session_settle),await this.sendRequest({topic:P,method:"wc_sessionSettle",params:D,throwOnFailedPublish:!0}).catch(x=>{throw _==null||_.setError(Bf.session_settle_publish_failure),x}),_.addTrace(fc.session_settle_publish_success),_.addTrace(fc.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(x=>{throw _==null||_.setError(Bf.session_approve_publish_failure),x}),_.addTrace(fc.session_approve_publish_success)}catch(x){throw this.client.logger.error(x),this.client.session.delete(P,ir("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(P),x}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:y.metadata}),await this.client.proposal.delete(a,ir("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(P,Mi(kg)),{topic:P,acknowledged:()=>Promise.resolve(this.client.session.get(P))}}),Ee(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:Gi.wc_sessionPropose.reject}),await this.client.proposal.delete(r,ir("USER_DISCONNECTED")))}),Ee(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Qf(),c=cl(),l=Ep().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Vn("session_update",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:u}),a(h)}),{acknowledged:s}}),Ee(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=cl(),{done:s,resolve:o,reject:a}=Qf();return this.events.once(Vn("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Mi(kg)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Ee(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:r,request:i,topic:s,expiry:o=Gi.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Ir.relay&&await this.confirmOnlineStateOrThrow();const c=cl(),l=Ep().toString(),{done:u,resolve:h,reject:f}=Qf(o,"Request expired. Please try again.");this.events.once(Vn("session_request",c),({error:b,result:_})=>{b?f(b):h(_)});const p="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:{request:eo(fr({},i),{expiryTimestamp:Mi(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(b=>f(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const y={request:eo(fr({},i),{expiryTimestamp:Mi(o)}),chainId:r},v=this.shouldSetTVF(p,y);return await Promise.all([new Promise(async b=>{await this.sendRequest(fr({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:y,expiry:o,throwOnFailedPublish:!0},v&&{tvf:this.getTVFParams(c,y)})).catch(_=>f(_)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),b()}),new Promise(async b=>{var _;if(!((_=a.sessionConfig)!=null&&_.disableDeepLink)){const A=await vWe(this.client.core.storage,FW);await mWe({id:c,topic:s,wcDeepLink:A})}b()}),u()]).then(b=>b[2])}),Ee(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ll(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):La(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),Ee(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=cl(),s=Ep().toString(),{done:o,resolve:a,reject:c}=Qf();this.events.once(Vn("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Ee(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Ep().toString(),a=cl();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Ee(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:ir("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Le("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Ee(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>eGe(r,n)))),Ee(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ee(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Ir.link_mode:Ir.relay;o===Ir.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:h,type:f,exp:p,nbf:g,methods:y=[],expiry:v}=n,b=[...n.resources||[]],{topic:_,uri:A}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:_,uri:A}});const I=await this.client.core.crypto.generateKeyPair(),P=ZT(I);if(await Promise.all([this.client.auth.authKeys.set(XT,{responseTopic:P,publicKey:I}),this.client.auth.pairingTopics.set(P,{topic:P,pairingTopic:_})]),await this.client.core.relayer.subscribe(P,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${_}`),y.length>0){const{namespace:Q}=Hy(a[0]);let G=uqe(Q,"request",y);QT(b)&&(G=hqe(G,b.pop())),b.push(G)}const D=v&&v>Gi.wc_sessionAuthenticate.req.ttl?v:Gi.wc_sessionAuthenticate.req.ttl,T={authPayload:{type:f??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:g,resources:b},requester:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:Mi(D)},S={eip155:{chains:a,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},x={requiredNamespaces:{},optionalNamespaces:S,relays:[{protocol:"irn"}],pairingTopic:_,proposer:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:Mi(Gi.wc_sessionPropose.req.ttl),id:cl()},{done:N,resolve:R,reject:$}=Qf(D,"Request expired"),j=cl(),K=Vn("session_connect",x.id),B=Vn("session_request",j),z=async({error:Q,session:G})=>{this.events.off(B,Y),Q?$(Q):G&&R({session:G})},Y=async Q=>{var G,ee,ne;if(await this.deletePendingAuthRequest(j,{message:"fulfilled",code:0}),Q.error){const Be=ir("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Q.error.code===Be.code?void 0:(this.events.off(K,z),$(Q.error.message))}await this.deleteProposal(x.id),this.events.off(K,z);const{cacaos:le,responder:ue}=Q.result,re=[],oe=[];for(const Be of le){await O7({cacao:Be,projectId:this.client.core.projectId})||(this.client.logger.error(Be,"Signature verification failed"),$(ir("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:et}=Be,tt=QT(et.resources),Fe=[UL(et.iss)],pt=ax(et.iss);if(tt){const mt=D7(tt),an=N7(tt);re.push(...mt),Fe.push(...an)}for(const mt of Fe)oe.push(`${mt}:${pt}`)}const ye=await this.client.core.crypto.generateSharedKey(I,ue.publicKey);let Te;re.length>0&&(Te={topic:ye,acknowledged:!0,self:{publicKey:I,metadata:this.client.metadata},peer:ue,controller:ue.publicKey,expiry:Mi(kg),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:_,namespaces:eW([...new Set(re)],[...new Set(oe)]),transportType:o},await this.client.core.relayer.subscribe(ye,{transportType:o}),await this.client.session.set(ye,Te),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:ue.metadata}),Te=this.client.session.get(ye)),(G=this.client.metadata.redirect)!=null&&G.linkMode&&(ee=ue.metadata.redirect)!=null&&ee.linkMode&&(ne=ue.metadata.redirect)!=null&&ne.universal&&r&&(this.client.core.addLinkModeSupportedApp(ue.metadata.redirect.universal),this.client.session.update(ye,{transportType:Ir.link_mode})),R({auths:le,session:Te})};this.events.once(K,z),this.events.once(B,Y);let V;try{if(s){const Q=xh("wc_sessionAuthenticate",T,j);this.client.core.history.set(_,Q);const G=await this.client.core.crypto.encode("",Q,{type:X1,encoding:uh});V=LC(r,_,G)}else await Promise.all([this.sendRequest({topic:_,method:"wc_sessionAuthenticate",params:T,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:j}),this.sendRequest({topic:_,method:"wc_sessionPropose",params:x,expiry:Gi.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(Q){throw this.events.off(K,z),this.events.off(B,Y),Q}return await this.setProposal(x.id,x),await this.setAuthRequest(j,{request:eo(fr({},T),{verifyContext:{}}),pairingTopic:_,transportType:o}),{uri:V??A,response:N}}),Ee(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[zf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(v){throw s.setError(F0.no_internet_connection),v}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(F0.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Ir.relay;a===Ir.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=ZT(c),h={type:Yu,receiverPublicKey:c,senderPublicKey:l},f=[],p=[];for(const v of i){if(!await O7({cacao:v,projectId:this.client.core.projectId})){s.setError(F0.invalid_cacao);const P=ir("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:P,encodeOpts:h}),new Error(P.message)}s.addTrace(zf.cacaos_verified);const{p:b}=v,_=QT(b.resources),A=[UL(b.iss)],I=ax(b.iss);if(_){const P=D7(_),D=N7(_);f.push(...P),A.push(...D)}for(const P of A)p.push(`${P}:${I}`)}const g=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(zf.create_authenticated_session_topic);let y;if((f==null?void 0:f.length)>0){y={topic:g,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Mi(kg),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:eW([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(zf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(v){throw s.setError(F0.subscribe_authenticated_session_topic_failure),v}s.addTrace(zf.subscribe_authenticated_session_topic_success),await this.client.session.set(g,y),s.addTrace(zf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(zf.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(v){throw s.setError(F0.authenticated_session_approve_publish_failure),v}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:y}}),Ee(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=ZT(o),l={type:Yu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Gi.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,ir("USER_DISCONNECTED"))}),Ee(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return doe(r,i)}),Ee(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Ee(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Ee(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,ir("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(FW).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,ir("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=il.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Ee(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Bf.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,ir("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Ee(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=il.idle,this.client.events.emit("session_request_expire",{id:n}))}),Ee(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Ee(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Ee(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Mi(Gi.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Ee(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Ir.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Ee(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Mi(Gi.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),Ee(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:h}=n,f=xh(i,s,c);let p;const g=!!u;try{const b=g?uh:xc;p=await this.client.core.crypto.encode(r,f,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let y;if(iXe.includes(i)){const b=vl(JSON.stringify(f)),_=vl(p);y=await this.client.core.verify.register({id:_,decryptedId:b})}const v=Gi[i].req;if(v.attestation=y,o&&(v.ttl=o),a&&(v.id=a),this.client.core.history.set(r,f),g){const b=LC(u,r,p);await global.Linking.openURL(b,this.client.name)}else{const b=Gi[i].req;o&&(b.ttl=o),a&&(b.id=a),b.tvf=eo(fr({},h),{correlationId:f.id}),l?(b.internal=eo(fr({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,b)):this.client.core.relayer.publish(r,p,b).catch(_=>this.client.logger.error(_))}return f.id}),Ee(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=WO(r,s);let u;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=h?uh:xc;u=await this.client.core.crypto.encode(i,l,eo(fr({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let f,p;try{f=await this.client.core.history.get(i,r);const g=f.request;try{this.shouldSetTVF(g.method,g.params)&&(p=this.getTVFParams(r,g.params,s))}catch(y){this.client.logger.warn("sendResult() -> getTVFParams() failed",y)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),g}if(h){const g=LC(c,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=f.request.method,y=Gi[g].res;y.tvf=eo(fr({},p),{correlationId:r}),o?(y.internal=eo(fr({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,y)):this.client.core.relayer.publish(i,u,y).catch(v=>this.client.logger.error(v))}await this.client.core.history.resolve(l)}),Ee(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=qO(r,s);let u;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=h?uh:xc;u=await this.client.core.crypto.encode(i,l,eo(fr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(h){const p=LC(c,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=a||Gi[p].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(l)}),Ee(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;nh(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{nh(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Ee(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Ee(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Ee(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===il.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=il.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=il.idle}),Ee(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Ee(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Ee(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Le("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Ee(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Ee(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(_u.proposal_listener_not_found)),this.isValidConnect(fr({},i.params));const u=a.expiryTimestamp||Mi(Gi.wc_sessionPropose.req.ttl),h=fr({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,h);const f=await this.getVerifyContext({attestationId:s,hash:vl(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});l==null||l.addTrace(ol.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:h,verifyContext:f})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Gi.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Ee(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(ll(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(La(r)){await this.client.proposal.delete(s,ir("USER_DISCONNECTED"));const o=Vn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Ee(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r.params,p=[...this.pendingSessions.values()].find(v=>v.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(p.proposalId),y=eo(fr(fr(fr({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:Ir.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit("session_connect",{session:y}),this.events.emit(Vn("session_connect",p.proposalId),{session:y}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Ee(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ll(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Vn("session_approve",i),{})):La(r)&&(await this.client.session.delete(n,ir("USER_DISCONNECTED")),this.events.emit(Vn("session_approve",i),{error:r.error}))}),Ee(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=M0.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:ir("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(fr({topic:n},i));try{M0.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw M0.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Ee(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Ee(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Vn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ll(r)?this.events.emit(Vn("session_update",i),{}):La(r)&&this.events.emit(Vn("session_update",i),{error:r.error})}),Ee(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Mi(kg)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Ee(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Vn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ll(r)?this.events.emit(Vn("session_extend",i),{}):La(r)&&this.events.emit(Vn("session_extend",i),{error:r.error})}),Ee(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Ee(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Vn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ll(r)?this.events.emit(Vn("session_ping",i),{}):La(r)&&this.events.emit(Vn("session_ping",i),{error:r.error})},500)}),Ee(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Xi.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:ir("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Ee(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:h,params:f}=a;try{await this.isValidRequest(fr({topic:o},f));const p=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:vl(JSON.stringify(xh("wc_sessionRequest",f,h))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),y={id:h,topic:o,params:f,verifyContext:g};await this.setPendingSessionRequest(y),u===Ir.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),Ee(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Vn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ll(r)?this.events.emit(Vn("session_request",i),{result:r.result}):La(r)&&this.events.emit(Vn("session_request",i),{error:r.error})}),Ee(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=M0.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(fr({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),M0.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Ee(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ll(r)?this.events.emit(Vn("session_request",i),{result:r.result}):La(r)&&this.events.emit(Vn("session_request",i),{error:r.error})}),Ee(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:vl(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:c}),c===Ir.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,c),p={type:Yu,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:p,rpcOpts:Gi.wc_sessionAuthenticate.autoReject,appLink:f})}}),Ee(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Ee(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=il.idle,this.processSessionRequestQueue()},Re.toMiliseconds(this.requestQueueDelay))}),Ee(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Vn("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Vn("session_request",s.request.id),{error:r})})}),Ee(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===il.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=il.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Ee(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),Ee(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:xh("wc_sessionPropose",eo(fr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),Ee(this,"isValidConnect",async n=>{if(!So(n)){const{message:l}=Le("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(bs(r)||await this.isValidPairingTopic(r),!hGe(c,!0)){const{message:l}=Le("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!bs(i)&&EE(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!bs(s)&&EE(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),bs(o)||this.validateSessionProps(o,"sessionProperties"),!bs(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Ee(this,"validateNamespaces",(n,r)=>{const i=dGe(n,"connect()",r);if(i)throw new Error(i.message)}),Ee(this,"isValidApprove",async n=>{if(!So(n))throw new Error(Le("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=UR(i,"approve()");if(l)throw new Error(l.message);const u=rW(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Si(s,!0)){const{message:h}=Le("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(bs(o)||this.validateSessionProps(o,"sessionProperties"),!bs(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),Ee(this,"isValidReject",async n=>{if(!So(n)){const{message:s}=Le("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!pGe(i)){const{message:s}=Le("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Ee(this,"isValidSessionSettleRequest",n=>{if(!So(n)){const{message:l}=Le("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!Foe(r)){const{message:l}=Le("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=sGe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=UR(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(nh(o)){const{message:l}=Le("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Ee(this,"isValidUpdate",async n=>{if(!So(n)){const{message:c}=Le("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=UR(i,"update()");if(o)throw new Error(o.message);const a=rW(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Ee(this,"isValidExtend",async n=>{if(!So(n)){const{message:i}=Le("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Ee(this,"isValidRequest",async n=>{if(!So(n)){const{message:c}=Le("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!nW(a,s)){const{message:c}=Le("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!mGe(i)){const{message:c}=Le("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!vGe(a,s,i.method)){const{message:c}=Le("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!EGe(o,KR)){const{message:c}=Le("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${KR.min} and ${KR.max}`);throw new Error(c)}}),Ee(this,"isValidRespond",async n=>{var r;if(!So(n)){const{message:o}=Le("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!gGe(s)){const{message:o}=Le("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Ee(this,"isValidPing",async n=>{if(!So(n)){const{message:i}=Le("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Ee(this,"isValidEmit",async n=>{if(!So(n)){const{message:a}=Le("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!nW(o,s)){const{message:a}=Le("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!yGe(i)){const{message:a}=Le("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!wGe(o,s,i.name)){const{message:a}=Le("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Ee(this,"isValidDisconnect",async n=>{if(!So(n)){const{message:i}=Le("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Ee(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Si(i,!1))throw new Error("uri is required parameter");if(!Si(s,!1))throw new Error("domain is required parameter");if(!Si(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Hy(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Hy(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ee(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||zb,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Ir.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Ee(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Le("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),Ee(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Ee(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Ee(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Le("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Ee(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,h,f;return!n||r!==Ir.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Ee(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),Ee(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=_7(n,"topic")||"",i=decodeURIComponent(_7(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Ir.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Ee(this,"registerLinkModeListeners",async()=>{var n;if(o5()||Df()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Ee(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(jW).includes(i.method)}),Ee(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return eo(fr({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),Ee(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Ee(this,"extractTxHashesFromResult",(n,r)=>{try{const i=jW[n];if(typeof r=="string")return[r];const s=r[i.key];if(Yh(s))return n==="solana_signAllTransactions"?s.map(o=>QWe(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Xi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(XT)?this.client.auth.authKeys.get(XT):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Ir.link_mode?uh:xc});g5(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:vl(r)})):KO(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ra.expired,async e=>{const{topic:n,id:r}=noe(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Le("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Le("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ip.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ip.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Si(e,!1)){const{message:n}=Le("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Le("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(nh(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Le("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Si(e,!1)){const{message:n}=Le("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Le("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(nh(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Le("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Le("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Si(e,!1)){const{message:n}=Le("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Le("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!fGe(e)){const{message:n}=Le("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Le("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(nh(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Le("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class gXe extends Zm{constructor(e,n){super(e,n,eXe,y5),this.core=e,this.logger=n}}let yXe=class extends Zm{constructor(e,n){super(e,n,tXe,y5),this.core=e,this.logger=n}};class vXe extends Zm{constructor(e,n){super(e,n,rXe,y5,r=>r.id),this.core=e,this.logger=n}}class wXe extends Zm{constructor(e,n){super(e,n,aXe,YO,()=>XT),this.core=e,this.logger=n}}class bXe extends Zm{constructor(e,n){super(e,n,cXe,YO),this.core=e,this.logger=n}}class _Xe extends Zm{constructor(e,n){super(e,n,lXe,YO,r=>r.id),this.core=e,this.logger=n}}var EXe=Object.defineProperty,AXe=(t,e,n)=>e in t?EXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GR=(t,e,n)=>AXe(t,typeof e!="symbol"?e+"":e,n);class CXe{constructor(e,n){this.core=e,this.logger=n,GR(this,"authKeys"),GR(this,"pairingTopics"),GR(this,"requests"),this.authKeys=new wXe(this.core,this.logger),this.pairingTopics=new bXe(this.core,this.logger),this.requests=new _Xe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var TXe=Object.defineProperty,SXe=(t,e,n)=>e in t?TXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,En=(t,e,n)=>SXe(t,typeof e!="symbol"?e+"":e,n);let IXe=class uae extends G8e{constructor(e){super(e),En(this,"protocol",aae),En(this,"version",cae),En(this,"name",qR.name),En(this,"metadata"),En(this,"core"),En(this,"logger"),En(this,"events",new tc.EventEmitter),En(this,"engine"),En(this,"session"),En(this,"proposal"),En(this,"pendingRequest"),En(this,"auth"),En(this,"signConfig"),En(this,"on",(r,i)=>this.events.on(r,i)),En(this,"once",(r,i)=>this.events.once(r,i)),En(this,"off",(r,i)=>this.events.off(r,i)),En(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),En(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),En(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),En(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),En(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),En(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||qR.name,this.metadata=lWe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:z1(Aw({level:(e==null?void 0:e.logger)||qR.logger}));this.core=(e==null?void 0:e.core)||new XJe(e),this.logger=Js(n,this.name),this.session=new yXe(this.core,this.logger),this.proposal=new gXe(this.core,this.logger),this.pendingRequest=new vXe(this.core,this.logger),this.engine=new mXe(this),this.auth=new CXe(this.core,this.logger)}static async init(e){const n=new uae(e);return await n.initialize(),n}get context(){return qo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Re.toMiliseconds(Re.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var u3={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof io<"u"&&io,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof io<"u"&&io||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(B){return B&&DataView.prototype.isPrototypeOf(B)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(B){return B&&u.indexOf(Object.prototype.toString.call(B))>-1};function f(B){if(typeof B!="string"&&(B=String(B)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(B)||B==="")throw new TypeError('Invalid character in header field name: "'+B+'"');return B.toLowerCase()}function p(B){return typeof B!="string"&&(B=String(B)),B}function g(B){var z={next:function(){var Y=B.shift();return{done:Y===void 0,value:Y}}};return c.iterable&&(z[Symbol.iterator]=function(){return z}),z}function y(B){this.map={},B instanceof y?B.forEach(function(z,Y){this.append(Y,z)},this):Array.isArray(B)?B.forEach(function(z){if(z.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+z.length);this.append(z[0],z[1])},this):B&&Object.getOwnPropertyNames(B).forEach(function(z){this.append(z,B[z])},this)}y.prototype.append=function(B,z){B=f(B),z=p(z);var Y=this.map[B];this.map[B]=Y?Y+", "+z:z},y.prototype.delete=function(B){delete this.map[f(B)]},y.prototype.get=function(B){return B=f(B),this.has(B)?this.map[B]:null},y.prototype.has=function(B){return this.map.hasOwnProperty(f(B))},y.prototype.set=function(B,z){this.map[f(B)]=p(z)},y.prototype.forEach=function(B,z){for(var Y in this.map)this.map.hasOwnProperty(Y)&&B.call(z,this.map[Y],Y,this)},y.prototype.keys=function(){var B=[];return this.forEach(function(z,Y){B.push(Y)}),g(B)},y.prototype.values=function(){var B=[];return this.forEach(function(z){B.push(z)}),g(B)},y.prototype.entries=function(){var B=[];return this.forEach(function(z,Y){B.push([Y,z])}),g(B)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function v(B){if(!B._noBody){if(B.bodyUsed)return Promise.reject(new TypeError("Already read"));B.bodyUsed=!0}}function b(B){return new Promise(function(z,Y){B.onload=function(){z(B.result)},B.onerror=function(){Y(B.error)}})}function _(B){var z=new FileReader,Y=b(z);return z.readAsArrayBuffer(B),Y}function A(B){var z=new FileReader,Y=b(z),V=/charset=([A-Za-z0-9_-]+)/.exec(B.type),Q=V?V[1]:"utf-8";return z.readAsText(B,Q),Y}function I(B){for(var z=new Uint8Array(B),Y=new Array(z.length),V=0;V<z.length;V++)Y[V]=String.fromCharCode(z[V]);return Y.join("")}function P(B){if(B.slice)return B.slice(0);var z=new Uint8Array(B.byteLength);return z.set(new Uint8Array(B)),z.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(B){this.bodyUsed=this.bodyUsed,this._bodyInit=B,B?typeof B=="string"?this._bodyText=B:c.blob&&Blob.prototype.isPrototypeOf(B)?this._bodyBlob=B:c.formData&&FormData.prototype.isPrototypeOf(B)?this._bodyFormData=B:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)?this._bodyText=B.toString():c.arrayBuffer&&c.blob&&l(B)?(this._bodyArrayBuffer=P(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(B)||h(B))?this._bodyArrayBuffer=P(B):this._bodyText=B=Object.prototype.toString.call(B):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof B=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var B=v(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var B=v(this);return B||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var B=v(this);if(B)return B;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var T=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(B){var z=B.toUpperCase();return T.indexOf(z)>-1?z:B}function x(B,z){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');z=z||{};var Y=z.body;if(B instanceof x){if(B.bodyUsed)throw new TypeError("Already read");this.url=B.url,this.credentials=B.credentials,z.headers||(this.headers=new y(B.headers)),this.method=B.method,this.mode=B.mode,this.signal=B.signal,!Y&&B._bodyInit!=null&&(Y=B._bodyInit,B.bodyUsed=!0)}else this.url=String(B);if(this.credentials=z.credentials||this.credentials||"same-origin",(z.headers||!this.headers)&&(this.headers=new y(z.headers)),this.method=S(z.method||this.method||"GET"),this.mode=z.mode||this.mode||null,this.signal=z.signal||this.signal||function(){if("AbortController"in a){var G=new AbortController;return G.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Y),(this.method==="GET"||this.method==="HEAD")&&(z.cache==="no-store"||z.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var Q=/\?/;this.url+=(Q.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function N(B){var z=new FormData;return B.trim().split("&").forEach(function(Y){if(Y){var V=Y.split("="),Q=V.shift().replace(/\+/g," "),G=V.join("=").replace(/\+/g," ");z.append(decodeURIComponent(Q),decodeURIComponent(G))}}),z}function R(B){var z=new y,Y=B.replace(/\r?\n[\t ]+/g," ");return Y.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var Q=V.split(":"),G=Q.shift().trim();if(G){var ee=Q.join(":").trim();try{z.append(G,ee)}catch(ne){console.warn("Response "+ne.message)}}}),z}D.call(x.prototype);function $(B,z){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(z||(z={}),this.type="default",this.status=z.status===void 0?200:z.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=z.statusText===void 0?"":""+z.statusText,this.headers=new y(z.headers),this.url=z.url||"",this._initBody(B)}D.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},$.error=function(){var B=new $(null,{status:200,statusText:""});return B.ok=!1,B.status=0,B.type="error",B};var j=[301,302,303,307,308];$.redirect=function(B,z){if(j.indexOf(z)===-1)throw new RangeError("Invalid status code");return new $(null,{status:z,headers:{location:B}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(z,Y){this.message=z,this.name=Y;var V=Error(z);this.stack=V.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function K(B,z){return new Promise(function(Y,V){var Q=new x(B,z);if(Q.signal&&Q.signal.aborted)return V(new o.DOMException("Aborted","AbortError"));var G=new XMLHttpRequest;function ee(){G.abort()}G.onload=function(){var ue={statusText:G.statusText,headers:R(G.getAllResponseHeaders()||"")};Q.url.indexOf("file://")===0&&(G.status<200||G.status>599)?ue.status=200:ue.status=G.status,ue.url="responseURL"in G?G.responseURL:ue.headers.get("X-Request-URL");var re="response"in G?G.response:G.responseText;setTimeout(function(){Y(new $(re,ue))},0)},G.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},G.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request timed out"))},0)},G.onabort=function(){setTimeout(function(){V(new o.DOMException("Aborted","AbortError"))},0)};function ne(ue){try{return ue===""&&a.location.href?a.location.href:ue}catch{return ue}}if(G.open(Q.method,ne(Q.url),!0),Q.credentials==="include"?G.withCredentials=!0:Q.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&(c.blob?G.responseType="blob":c.arrayBuffer&&(G.responseType="arraybuffer")),z&&typeof z.headers=="object"&&!(z.headers instanceof y||a.Headers&&z.headers instanceof a.Headers)){var le=[];Object.getOwnPropertyNames(z.headers).forEach(function(ue){le.push(f(ue)),G.setRequestHeader(ue,p(z.headers[ue]))}),Q.headers.forEach(function(ue,re){le.indexOf(re)===-1&&G.setRequestHeader(re,ue)})}else Q.headers.forEach(function(ue,re){G.setRequestHeader(re,ue)});Q.signal&&(Q.signal.addEventListener("abort",ee),G.onreadystatechange=function(){G.readyState===4&&Q.signal.removeEventListener("abort",ee)}),G.send(typeof Q._bodyInit>"u"?null:Q._bodyInit)})}return K.polyfill=!0,a.fetch||(a.fetch=K,a.Headers=y,a.Request=x,a.Response=$),o.Headers=y,o.Request=x,o.Response=$,o.fetch=K,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(u3,u3.exports);var xXe=u3.exports;const BW=cs(xXe);var PXe=Object.defineProperty,OXe=Object.defineProperties,DXe=Object.getOwnPropertyDescriptors,zW=Object.getOwnPropertySymbols,NXe=Object.prototype.hasOwnProperty,RXe=Object.prototype.propertyIsEnumerable,VW=(t,e,n)=>e in t?PXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HW=(t,e)=>{for(var n in e||(e={}))NXe.call(e,n)&&VW(t,n,e[n]);if(zW)for(var n of zW(e))RXe.call(e,n)&&VW(t,n,e[n]);return t},WW=(t,e)=>OXe(t,DXe(e));const kXe={Accept:"application/json","Content-Type":"application/json"},MXe="POST",qW={headers:kXe,method:MXe},KW=10;let Gc=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new tc.EventEmitter,this.isAvailable=!1,this.registering=!1,!lW(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=hd(e),r=await(await BW(this.url,WW(HW({},qW),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!lW(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=hd({id:1,jsonrpc:"2.0",method:"test",params:[]});await BW(e,WW(HW({},qW),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?_m(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=qO(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Uoe(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>KW&&this.events.setMaxListeners(KW)}};const GW="error",LXe="wss://relay.walletconnect.org",FXe="wc",$Xe="universal_provider",$C=`${FXe}@2:${$Xe}:`,dae="https://rpc.walletconnect.org/v1/",ny="generic",jXe=`${dae}bundler`,rc={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function UXe(){}function v5(t){return t==null||typeof t!="object"&&typeof t!="function"}function w5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BXe(t){if(v5(t))return t;if(Array.isArray(t)||w5(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function YW(t){return typeof t=="object"&&t!==null}function hae(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function fae(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const zXe="[object RegExp]",pae="[object String]",mae="[object Number]",gae="[object Boolean]",yae="[object Arguments]",VXe="[object Symbol]",HXe="[object Date]",WXe="[object Map]",qXe="[object Set]",KXe="[object Array]",GXe="[object ArrayBuffer]",YXe="[object Object]",QXe="[object DataView]",ZXe="[object Uint8Array]",JXe="[object Uint8ClampedArray]",XXe="[object Uint16Array]",eet="[object Uint32Array]",tet="[object Int8Array]",net="[object Int16Array]",ret="[object Int32Array]",iet="[object Float32Array]",set="[object Float64Array]";function oet(t,e){return Cy(t,void 0,t,new Map,e)}function Cy(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(v5(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cy(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Cy(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Cy(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(w5(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cy(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),sp(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),sp(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),sp(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,sp(o,t,n,r,i),o}if(typeof t=="object"&&aet(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),sp(o,t,n,r,i),o}return t}function sp(t,e,n=t,r,i){const s=[...Object.keys(e),...hae(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Cy(e[a],a,n,r,i))}}function aet(t){switch(fae(t)){case yae:case KXe:case GXe:case QXe:case gae:case HXe:case iet:case set:case tet:case net:case ret:case WXe:case mae:case YXe:case zXe:case qXe:case pae:case VXe:case ZXe:case JXe:case XXe:case eet:return!0;default:return!1}}function cet(t,e){return oet(t,(n,r,i,s)=>{const o=e==null?void 0:e(n,r,i,s);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case mae:case pae:case gae:{const a=new t.constructor(t==null?void 0:t.valueOf());return sp(a,t),a}case yae:{const a={};return sp(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function QW(t){return cet(t)}function ZW(t){return t!==null&&typeof t=="object"&&fae(t)==="[object Arguments]"}function uet(t){return w5(t)}function det(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function het(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=d3(i,o,r,new Map)}return i}function d3(t,e,n,r){if(v5(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return BXe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...hae(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(ZW(a)&&(a={...a}),ZW(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=QW(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],h=Reflect.ownKeys(c);for(let f=0;f<h.length;f++){const p=h[f];u[p]=c[p]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||YW(c)&&YW(a)?t[o]=d3(c,a,n,r):c==null&&det(a)?t[o]=d3({},a,n,r):c==null&&uet(a)?t[o]=QW(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function fet(t,...e){return het(t,...e,UXe)}var pet=Object.defineProperty,met=Object.defineProperties,get=Object.getOwnPropertyDescriptors,JW=Object.getOwnPropertySymbols,yet=Object.prototype.hasOwnProperty,vet=Object.prototype.propertyIsEnumerable,XW=(t,e,n)=>e in t?pet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jC=(t,e)=>{for(var n in e||(e={}))yet.call(e,n)&&XW(t,n,e[n]);if(JW)for(var n of JW(e))vet.call(e,n)&&XW(t,n,e[n]);return t},wet=(t,e)=>met(t,get(e));function pa(t,e,n){var r;const i=Hy(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${dae}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Jm(t){return t.includes(":")?t.split(":")[1]:t}function vae(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function bet(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function YR(t={},e={}){const n=eq(t),r=eq(e);return fet(n,r)}function eq(t){var e,n,r,i;const s={};if(!EE(t))return s;for(const[o,a]of Object.entries(t)){const c=f5(o)?[o]:a.chains,l=a.methods||[],u=a.events||[],h=a.rpcMap||{},f=hb(o);s[f]=wet(jC(jC({},s[f]),a),{chains:YT(c,(e=s[f])==null?void 0:e.chains),methods:YT(l,(n=s[f])==null?void 0:n.methods),events:YT(u,(r=s[f])==null?void 0:r.events),rpcMap:jC(jC({},h),(i=s[f])==null?void 0:i.rpcMap)})}return s}function tq(t){return t.includes(":")?t.split(":")[2]:t}function nq(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=f5(n)?[n]:r.chains?r.chains:vae(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function QR(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const wae={},Ln=t=>wae[t],ZR=(t,e)=>{wae[t]=e};var _et=Object.defineProperty,Eet=(t,e,n)=>e in t?_et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mg=(t,e,n)=>Eet(t,typeof e!="symbol"?e+"":e,n);class Aet{constructor(e){Mg(this,"name","polkadot"),Mg(this,"client"),Mg(this,"httpProviders"),Mg(this,"events"),Mg(this,"namespace"),Mg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Jm(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}}var Cet=Object.defineProperty,Tet=Object.defineProperties,Iet=Object.getOwnPropertyDescriptors,rq=Object.getOwnPropertySymbols,xet=Object.prototype.hasOwnProperty,Pet=Object.prototype.propertyIsEnumerable,h3=(t,e,n)=>e in t?Cet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iq=(t,e)=>{for(var n in e||(e={}))xet.call(e,n)&&h3(t,n,e[n]);if(rq)for(var n of rq(e))Pet.call(e,n)&&h3(t,n,e[n]);return t},sq=(t,e)=>Tet(t,Iet(e)),Lg=(t,e,n)=>h3(t,typeof e!="symbol"?e+"":e,n);class Oet{constructor(e){Lg(this,"name","eip155"),Lg(this,"client"),Lg(this,"chainId"),Lg(this,"namespace"),Lg(this,"httpProviders"),Lg(this,"events"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||pa(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Jm(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i;const s=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:sq(iq({},o.sessionProperties||{}),{capabilities:sq(iq({},a||{}),{[s]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xh("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${jXe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Det=Object.defineProperty,Net=(t,e,n)=>e in t?Det(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fg=(t,e,n)=>Net(t,typeof e!="symbol"?e+"":e,n);class Ret{constructor(e){Fg(this,"name","solana"),Fg(this,"client"),Fg(this,"httpProviders"),Fg(this,"events"),Fg(this,"namespace"),Fg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Jm(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}}var ket=Object.defineProperty,Met=(t,e,n)=>e in t?ket(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$g=(t,e,n)=>Met(t,typeof e!="symbol"?e+"":e,n);class Let{constructor(e){$g(this,"name","cosmos"),$g(this,"client"),$g(this,"httpProviders"),$g(this,"events"),$g(this,"namespace"),$g(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Jm(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}}var Fet=Object.defineProperty,$et=(t,e,n)=>e in t?Fet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jg=(t,e,n)=>$et(t,typeof e!="symbol"?e+"":e,n);class jet{constructor(e){jg(this,"name","algorand"),jg(this,"client"),jg(this,"httpProviders"),jg(this,"events"),jg(this,"namespace"),jg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||pa(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new nc(new Gc(r,Ln("disableProviderPing")))}}var Uet=Object.defineProperty,Bet=(t,e,n)=>e in t?Uet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ug=(t,e,n)=>Bet(t,typeof e!="symbol"?e+"":e,n);class zet{constructor(e){Ug(this,"name","cip34"),Ug(this,"client"),Ug(this,"httpProviders"),Ug(this,"events"),Ug(this,"namespace"),Ug(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Jm(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}}var Vet=Object.defineProperty,Het=(t,e,n)=>e in t?Vet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bg=(t,e,n)=>Het(t,typeof e!="symbol"?e+"":e,n);class Wet{constructor(e){Bg(this,"name","elrond"),Bg(this,"client"),Bg(this,"httpProviders"),Bg(this,"events"),Bg(this,"namespace"),Bg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Jm(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}}var qet=Object.defineProperty,Ket=(t,e,n)=>e in t?qet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zg=(t,e,n)=>Ket(t,typeof e!="symbol"?e+"":e,n);class Get{constructor(e){zg(this,"name","multiversx"),zg(this,"client"),zg(this,"httpProviders"),zg(this,"events"),zg(this,"namespace"),zg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Jm(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}}var Yet=Object.defineProperty,Qet=(t,e,n)=>e in t?Yet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vg=(t,e,n)=>Qet(t,typeof e!="symbol"?e+"":e,n);class Zet{constructor(e){Vg(this,"name","near"),Vg(this,"client"),Vg(this,"httpProviders"),Vg(this,"events"),Vg(this,"namespace"),Vg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||pa(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace);return typeof r>"u"?void 0:new nc(new Gc(r,Ln("disableProviderPing")))}}var Jet=Object.defineProperty,Xet=(t,e,n)=>e in t?Jet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hg=(t,e,n)=>Xet(t,typeof e!="symbol"?e+"":e,n);class ett{constructor(e){Hg(this,"name","tezos"),Hg(this,"client"),Hg(this,"httpProviders"),Hg(this,"events"),Hg(this,"namespace"),Hg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||pa(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace);return typeof r>"u"?void 0:new nc(new Gc(r))}}var ttt=Object.defineProperty,ntt=(t,e,n)=>e in t?ttt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wg=(t,e,n)=>ntt(t,typeof e!="symbol"?e+"":e,n);class rtt{constructor(e){Wg(this,"name",ny),Wg(this,"client"),Wg(this,"httpProviders"),Wg(this,"events"),Wg(this,"namespace"),Wg(this,"chainId"),this.namespace=e.namespace,this.events=Ln("events"),this.client=Ln("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(rc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=Hy(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||pa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nc(new Gc(r,Ln("disableProviderPing")))}}var itt=Object.defineProperty,stt=Object.defineProperties,ott=Object.getOwnPropertyDescriptors,oq=Object.getOwnPropertySymbols,att=Object.prototype.hasOwnProperty,ctt=Object.prototype.propertyIsEnumerable,f3=(t,e,n)=>e in t?itt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UC=(t,e)=>{for(var n in e||(e={}))att.call(e,n)&&f3(t,n,e[n]);if(oq)for(var n of oq(e))ctt.call(e,n)&&f3(t,n,e[n]);return t},JR=(t,e)=>stt(t,ott(e)),Pa=(t,e,n)=>f3(t,typeof e!="symbol"?e+"":e,n);let bae=class _ae{constructor(e){Pa(this,"client"),Pa(this,"namespaces"),Pa(this,"optionalNamespaces"),Pa(this,"sessionProperties"),Pa(this,"scopedProperties"),Pa(this,"events",new KU),Pa(this,"rpcProviders",{}),Pa(this,"session"),Pa(this,"providerOpts"),Pa(this,"logger"),Pa(this,"uri"),Pa(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:z1(Aw({level:(e==null?void 0:e.logger)||GW})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new _ae(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:UC({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,WO(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:ir("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=nq(this.session.namespaces);this.namespaces=YR(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=nq(i.namespaces);return this.namespaces=YR(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===ny?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Yh(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await IXe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||GW,relayUrl:this.providerOpts.relayUrl||LXe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>hb(n)))];ZR("client",this.client),ZR("events",this.events),ZR("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=bet(n,this.session),i=vae(r),s=YR(this.namespaces,this.optionalNamespaces),o=JR(UC({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new Oet({namespace:o});break;case"algorand":this.rpcProviders[n]=new jet({namespace:o});break;case"solana":this.rpcProviders[n]=new Ret({namespace:o});break;case"cosmos":this.rpcProviders[n]=new Let({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Aet({namespace:o});break;case"cip34":this.rpcProviders[n]=new zet({namespace:o});break;case"elrond":this.rpcProviders[n]=new Wet({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Get({namespace:o});break;case"near":this.rpcProviders[n]=new Zet({namespace:o});break;case"tezos":this.rpcProviders[n]=new ett({namespace:o});break;default:this.rpcProviders[ny]?this.rpcProviders[ny].updateNamespace(o):this.rpcProviders[ny]=new rtt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Yh(o)&&this.events.emit("accountsChanged",o.map(tq))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=hb(o),l=QR(o)!==QR(a)?`${c}:${QR(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=JR(UC({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",JR(UC({},ir("USER_DISCONNECTED")),{data:e.topic})))}),this.on(rc.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ny]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>hb(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=hb(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(tq);if(!Yh(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${$C}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${$C}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${$C}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith($C)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const Put=bae,ltt="https://secure.walletconnect.org/sdk",utt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||ltt,dtt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",htt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",gt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Ii={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Zf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),ki=Br({...Zf}),_s={state:ki,subscribeKey(t,e){return mo(ki,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=$t.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){ki.message=Zf.message,ki.variant=Zf.variant,ki.svg=Zf.svg,ki.open=Zf.open,ki.autoClose=Zf.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Zf.autoClose}){ki.open?(ki.open=!1,setTimeout(()=>{ki.message=t,ki.variant=n,ki.svg=e,ki.open=!0,ki.autoClose=r},150)):(ki.message=t,ki.variant=n,ki.svg=e,ki.open=!0,ki.autoClose=r)}},Hb={getSIWX(){return De.state.siwx},async initializeIfEnabled(){var s;const t=De.state.siwx,e=X.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(X.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await gi.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),pr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Ar._getClient())==null?void 0:s.disconnect().catch(console.error)),Zn.reset("Connect"),_s.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=De.state.siwx,e=$t.getPlainAddress(X.getActiveCaipAddress()),n=X.getActiveCaipNetwork(),r=Ar._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Qt.getConnectorId(n.chainNamespace)===Oe.CONNECTOR_ID.AUTH&&Zn.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),gi.close(),pr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!gi.state.open||Zn.state.view==="ApproveTransaction")&&await gi.open({view:"SIWXSignMessage"}),s.isSmartAccount?_s.showError("This application might not support Smart Accounts"):_s.showError("Signature declined"),pr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Ar.disconnect():gi.close(),Zn.reset("Connect"),pr.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=De.state.siwx,e=$t.getPlainAddress(X.getActiveCaipAddress()),n=X.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Zn.state.view==="ApproveTransaction",r=Zn.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=Hb.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:((a=X.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(u=>u!==s.chainId)]});if(_s.showLoading("Authenticating...",{autoClose:!1}),lt.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(h=>{const f=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud,version:h.p.version||s.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:f,signature:h.s.s,cacao:h}});try{await r.setSessions(u),pr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Hb.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),pr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Hb.getSIWXEventProperties()}),await t.disconnect().catch(console.error),h}finally{_s.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=X.state.activeChain;return{network:((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=lt.state.preferredAccountTypes)==null?void 0:n[t])===Ii.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},wr=Br({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),ftt={state:wr,subscribe(t){return Qs(wr,()=>t(wr))},setLastNetworkInView(t){wr.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");wr.loading=!0;try{const i=await Rt.fetchTransactions({account:t,cursor:wr.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),s=this.filterSpamTransactions(i.data),o=this.filterByConnectedChain(s),a=[...wr.transactions,...o];wr.loading=!1,e==="coinbase"?wr.coinbaseTransactions=this.groupTransactionsByYearAndMonth(wr.coinbaseTransactions,i.data):(wr.transactions=a,wr.transactionsByYear=this.groupTransactionsByYearAndMonth(wr.transactionsByYear,o)),wr.empty=a.length===0,wr.next=i.next?i.next:void 0}catch{const s=X.state.activeChain;pr.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:De.state.projectId,cursor:wr.next,isSmartAccount:((r=lt.state.preferredAccountTypes)==null?void 0:r[s])===Ii.ACCOUNT_TYPES.SMART_ACCOUNT}}),_s.showError("Failed to fetch transactions"),wr.loading=!1,wr.empty=!0,wr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){wr.next=void 0},resetTransactions(){wr.transactions=[],wr.transactionsByYear={},wr.lastNetworkInView=void 0,wr.loading=!1,wr.empty=!1,wr.next=void 0}},br=Br({wcError:!1,buffering:!1,status:"disconnected"});let qg;const Ar={state:br,subscribeKey(t,e){return mo(br,t,e)},_getClient(){return br._client},setClient(t){br._client=wm(t)},async connectWalletConnect(){var t,e,n,r;if($t.isTelegram()||$t.isSafari()&&$t.isIos()){if(qg){await qg,qg=void 0;return}if(!$t.isPairingExpired(br==null?void 0:br.wcPairingExpiry)){const i=br.wcUri;br.wcUri=i;return}qg=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await qg,qg=void 0,br.wcPairingExpiry=void 0,this.state.status="connected"}else await((r=(n=this._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,i;await((i=(r=this._getClient())==null?void 0:r.connectExternal)==null?void 0:i.call(r,t)),n&&X.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=this._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||X.state.activeChain;e&&Qt.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;gi.setLoading(!0,X.state.activeChain);const n=Qt.getAuthConnector();n&&(lt.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),Ke.setPreferredAccountTypes(lt.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(n),gi.setLoading(!1,X.state.activeChain),pr.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){br.wcUri=void 0,br.wcPairingExpiry=void 0,br.wcLinking=void 0,br.recentWallet=void 0,br.status="disconnected",ftt.resetTransactions(),Ke.deleteWalletConnectDeepLink()},resetUri(){br.wcUri=void 0,br.wcPairingExpiry=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Ar.state;t&&Ke.setWalletConnectDeepLink(t),e&&Ke.setAppKitRecent(e),pr.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Zn.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){br.wcBasic=t},setUri(t){br.wcUri=t,br.wcPairingExpiry=$t.getPairingExpiry()},setWcLinking(t){br.wcLinking=t},setWcError(t){br.wcError=t,br.buffering=!1},setRecentWallet(t){br.recentWallet=t},setBuffering(t){br.buffering=t},setStatus(t){br.status=t},async disconnect(t){try{gi.setLoading(!0,t),await Hb.clearSessions(),await X.disconnect(t),gi.setLoading(!1,t),Qt.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},Kg=Br({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Fl={state:Kg,subscribe(t){return Qs(Kg,()=>t(Kg))},subscribeOpen(t){return mo(Kg,"open",t)},set(t){Object.assign(Kg,{...Kg,...t})}},XR={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return ww(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},aq={async getMyTokensWithBalance(t){const e=lt.state.address,n=X.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await Rt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const i=XR.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Ar.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Ar.walletGetAssets({account:t,chainFilter:[i]});return XR.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>XR.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:X.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},In=Br({tokenBalances:[],loading:!1}),cq={state:In,subscribe(t){return Qs(In,()=>t(In))},subscribeKey(t,e){return mo(In,t,e)},setToken(t){t&&(In.token=wm(t))},setTokenAmount(t){In.sendTokenAmount=t},setReceiverAddress(t){In.receiverAddress=t},setReceiverProfileImageUrl(t){In.receiverProfileImageUrl=t},setReceiverProfileName(t){In.receiverProfileName=t},setGasPrice(t){In.gasPrice=t},setGasPriceInUsd(t){In.gasPriceInUSD=t},setNetworkBalanceInUsd(t){In.networkBalanceInUSD=t},setLoading(t){In.loading=t},sendToken(){var t;switch((t=X.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var n,r,i,s,o,a;const t=X.state.activeChain,e=(n=lt.state.preferredAccountTypes)==null?void 0:n[t];(r=this.state.token)!=null&&r.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(pr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ii.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((s=this.state.token)!=null&&s.quantity.decimals)&&(pr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ii.ACCOUNT_TYPES.SMART_ACCOUNT,token:(o=this.state.token)==null?void 0:o.symbol,amount:this.state.sendTokenAmount,network:((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;In.loading=!0;const e=(s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=X.state.activeCaipAddress,i=r?$t.getPlainAddress(r):void 0;if(In.lastRetry&&!$t.isAllowedRetry(In.lastRetry,30*rs.ONE_SEC_MS))return In.loading=!1,[];try{if(i&&e&&n){const a=await aq.getMyTokensWithBalance();return In.tokenBalances=a,In.lastRetry=void 0,a}}catch(a){In.lastRetry=Date.now(),t==null||t(a),_s.showError("Token Balance Unavailable")}finally{In.loading=!1}return[]},fetchNetworkBalance(){if(In.tokenBalances.length===0)return;const t=aq.mapBalancesToSwapTokens(In.tokenBalances);if(!t)return;const e=t.find(n=>n.address===X.getActiveNetworkTokenAddress());e&&(In.networkBalanceInUSD=e?CC.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const n=e||"0";return CC.bigNumber(t).eq(0)?!0:CC.bigNumber(CC.bigNumber(n)).gt(t)},hasInsufficientGasFunds(){var n;const t=X.state.activeChain;let e=!0;return((n=lt.state.preferredAccountTypes)==null?void 0:n[t])===Ii.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:In.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(In.networkBalanceInUSD,In.gasPriceInUSD)),e},async sendNativeToken(t){var o,a,c,l,u,h;const e=X.state.activeChain;Zn.pushTransactionStack({view:"Account",goBack:!1});const n=t.receiverAddress,r=lt.state.address,i=Ar.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s="0x";try{await Ar.sendTransaction({chainNamespace:"eip155",to:n,address:r,data:s,value:i??BigInt(0),gasPrice:t.gasPrice}),_s.showSuccess("Transaction started"),pr.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((o=lt.state.preferredAccountTypes)==null?void 0:o[e])===Ii.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=X.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),this.resetSend()}catch(f){console.error("SendController:sendERC20Token - failed to send native token",f);const p=f instanceof Error?f.message:"Unknown error";pr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:p,isSmartAccount:((l=lt.state.preferredAccountTypes)==null?void 0:l[e])===Ii.ACCOUNT_TYPES.SMART_ACCOUNT,token:((u=this.state.token)==null?void 0:u.symbol)||"",amount:t.sendTokenAmount,network:((h=X.state.activeCaipNetwork)==null?void 0:h.caipNetworkId)||""}}),_s.showError("Something went wrong")}},async sendERC20Token(t){var n,r,i;Zn.pushTransactionStack({view:"Account",goBack:!1});const e=Ar.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(lt.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=$t.getPlainAddress(t.tokenAddress);await Ar.writeContract({fromAddress:lt.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:SBe.getERC20Abi(s),chainNamespace:"eip155"}),_s.showSuccess("Transaction started"),this.resetSend()}}catch(s){console.error("SendController:sendERC20Token - failed to send erc20 token",s);const o=s instanceof Error?s.message:"Unknown error";pr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:o,isSmartAccount:((n=lt.state.preferredAccountTypes)==null?void 0:n.eip155)===Ii.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),_s.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){_s.showError("Please enter a valid amount and receiver address");return}Zn.pushTransactionStack({view:"Account",goBack:!1}),Ar.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),lt.fetchTokenBalance()}).catch(t=>{_s.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){In.token=void 0,In.sendTokenAmount=void 0,In.receiverAddress=void 0,In.receiverProfileImageUrl=void 0,In.receiverProfileName=void 0,In.loading=!1,In.tokenBalances=[]}},ek={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},BC={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ve=Br({chains:fBe(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),X={state:Ve,subscribe(t){return Qs(Ve,()=>{t(Ve)})},subscribeKey(t,e){return mo(Ve,t,e)},subscribeChainProp(t,e,n){let r;return Qs(Ve.chains,()=>{var s;const i=n||Ve.activeChain;if(i){const o=(s=Ve.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=Ke.getActiveNetworkProps(),s=e==null?void 0:e.find(l=>l.id.toString()===(r==null?void 0:r.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===i)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Ve.noAdapters=!0),Ve.noAdapters||(Ve.activeChain=a==null?void 0:a.namespace,Ve.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),Ve.activeChain&&Fl.set({activeChain:a==null?void 0:a.namespace})),c.forEach(l=>{const u=e==null?void 0:e.filter(h=>h.chainNamespace===l);X.state.chains.set(l,{namespace:l,networkState:Br({...BC,caipNetwork:u==null?void 0:u[0]}),accountState:Br(ek),caipNetworks:u??[],...n}),this.setRequestedCaipNetworks(u??[],l)})},removeAdapter(t){var e,n;if(Ve.activeChain===t){const r=Array.from(Ve.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&this.setActiveCaipNetwork(i)}}Ve.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Ve.chains.set(t.namespace,{namespace:t.namespace,networkState:{...BC,caipNetwork:r[0]},accountState:ek,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),this.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=Ve.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),Ve.chains.set(t.chainNamespace,{...e,caipNetworks:r}),this.setRequestedCaipNetworks(r,t.chainNamespace)}},removeNetwork(t,e){var r,i,s;const n=Ve.chains.get(t);if(n){const o=((r=Ve.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(n.caipNetworks[0]),Ve.chains.set(t,{...n,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const n=Ve.chains.get(t);n&&(n.networkState={...n.networkState||BC,...e},Ve.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Ve.chains.get(t);if(r){const i={...r.accountState||ek,...e};Ve.chains.set(t,{...r,accountState:i}),(Ve.chains.size===1||Ve.activeChain===t)&&(e.caipAddress&&(Ve.activeCaipAddress=e.caipAddress),lt.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Ve.chains.get(t);if(n){const r={...n.networkState||BC,...e};Ve.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){this.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Qt.removeConnectorId(n)},setActiveNamespace(t){var r,i;Ve.activeChain=t;const e=t?Ve.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(Ve.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,Ve.activeCaipNetwork=n,this.setChainNetworkData(t,{caipNetwork:n}),Ke.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Fl.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;Ve.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=Ve.chains.get(t.chainNamespace);Ve.activeChain=t.chainNamespace,Ve.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?Ve.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:Ve.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Ve.activeCaipAddress,t.chainNamespace),e&&lt.replaceState(e.accountState),cq.resetSend(),Fl.set({activeChain:Ve.activeChain,selectedNetworkId:(s=Ve.activeCaipNetwork)==null?void 0:s.caipNetworkId}),Ke.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&De.state.enableNetworkSwitch&&!De.state.allowUnsupportedChain&&!Ar.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=Ve.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==X.state.activeChain,n=(i=X.getNetworkData(t))==null?void 0:i.caipNetwork,r=X.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await X.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=X.state.chains.get(X.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=Ve.activeCaipNetwork)==null?void 0:o.id)}))&&Zn.goBack();const r=this.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),pr.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Ve.activeChain,n=Ve.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ve.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Ve.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var i;let n=Ve.activeChain;if(e&&(n=e),!n)return;const r=(i=Ve.chains.get(n))==null?void 0:i.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=Ve.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ve.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return $t.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Ve.chains.forEach(e=>{const n=this.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return Ve.chains.forEach(e=>{const n=this.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Ve.activeCaipNetwork},getActiveCaipAddress(){return Ve.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=Ve.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ve.activeCaipNetwork,r=this.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!Ve.activeChain)return!0;const e=this.getRequestedCaipNetworks(Ve.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=hE.caipNetworkIdToNumber((r=Ve.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=Ve.activeChain;if(!e||!t)return!1;const n=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,i;const t=((r=Ve.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((i=Ve.activeCaipNetwork)==null?void 0:i.id)||1,n=rs.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){gi.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ve.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&rs.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Ve.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Qt.removeConnectorId(e)},async disconnect(t){const e=$Be(t);try{cq.resetSend();const n=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));Ar.resetWcConnection();const r=n.filter(i=>i.status==="rejected");if(r.length>0)throw new Error(r.map(i=>i.reason.message).join(", "));Ke.deleteConnectedSocialProvider(),t?Qt.removeConnectorId(t):Qt.resetConnectorIds(),pr.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),pr.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Ve.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(Ve.chains.forEach(i=>{Oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=Ve.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=X.state.chains.get(t))==null?void 0:e.accountState:lt.state},getNetworkData(t){var n;const e=t||Ve.activeChain;if(e)return(n=X.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=X.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Qt.state.filterByNamespace;return(t?[Ve.chains.get(t)]:Array.from(Ve.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?X.getRequestedCaipNetworks(t):X.getAllRequestedCaipNetworks()}},ptt={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Eae=$t.getBlockchainApiUrl(),Jo=Br({clientId:null,api:new DO({baseUrl:Eae,clientId:null}),supportedChains:{http:[],ws:[]}}),Rt={state:Jo,async get(t){const{st:e,sv:n}=Rt.getSdkProperties(),r=De.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return Jo.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=De.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Jo.supportedChains.http.length||await Rt.getSupportedNetworks()}catch{return!1}return Jo.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await Rt.get({path:"v1/supported-chains"});return Jo.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Rt.isNetworkSupported(e))return{avatar:"",name:""};const r=Ke.getIdentityFromCacheForAddress(t);if(r)return r;const i=await Rt.get({path:`/v1/identity/${t}`,params:{sender:X.state.activeCaipAddress?$t.getPlainAddress(X.state.activeCaipAddress):void 0}});return Ke.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){var a;return await Rt.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Rt.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await Rt.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Rt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Rt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Rt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Rt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Jo.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:De.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Rt.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Rt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=Rt.getSdkProperties();if(!await Rt.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return Rt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){var o;if(!await Rt.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Jo.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:rs.CONVERT_SLIPPAGE_TOLERANCE},projectId:De.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=Rt.getSdkProperties();if(!await Rt.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Rt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var l;const{st:r,sv:i}=Rt.getSdkProperties();if(!await Rt.isNetworkSupported((l=X.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return _s.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Ke.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Rt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return Ke.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Rt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Rt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Rt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Rt.get({path:`/v1/profile/reverse/${t}`,params:{sender:lt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Rt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Rt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await Rt.isNetworkSupported((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Jo.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await Rt.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Jo.api.post({path:"/v1/generators/onrampurl",params:{projectId:De.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await Rt.isNetworkSupported((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Rt.get({path:"/v1/onramp/options"})}catch{return ptt}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await Rt.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await Jo.api.post({path:"/v1/onramp/quote",params:{projectId:De.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Rt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Rt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await Rt.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Jo.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:De.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Jo.clientId=t,Jo.api=new DO({baseUrl:Eae,clientId:t})}},Oa=Br({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),lt={state:Oa,replaceState(t){t&&Object.assign(Oa,wm(t))},subscribe(t){return X.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return X.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){X.setAccountProp("status",t,e)},getCaipAddress(t){return X.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?$t.getPlainAddress(t):void 0;e===X.state.activeChain&&(X.state.activeCaipAddress=t),X.setAccountProp("caipAddress",t,e),X.setAccountProp("address",n,e)},setBalance(t,e,n){X.setAccountProp("balance",t,n),X.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){X.setAccountProp("profileName",t,e)},setProfileImage(t,e){X.setAccountProp("profileImage",t,e)},setUser(t,e){X.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){X.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){X.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){X.setAccountProp("currentTab",t,X.state.activeChain)},setTokenBalance(t,e){t&&X.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){X.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){X.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=X.getAccountProp("addressLabels",n)||new Map;r.set(t,e),X.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=X.getAccountProp("addressLabels",e)||new Map;n.delete(t),X.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){X.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){X.setAccountProp("preferredAccountTypes",{...Oa.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Oa.preferredAccountTypes=t},setSocialProvider(t,e){t&&X.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){X.setAccountProp("socialWindow",t?wm(t):void 0,e)},setFarcasterUrl(t,e){X.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Oa.balanceLoading=!0;const e=(s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=X.state.activeCaipAddress,i=r?$t.getPlainAddress(r):void 0;if(Oa.lastRetry&&!$t.isAllowedRetry(Oa.lastRetry,30*rs.ONE_SEC_MS))return Oa.balanceLoading=!1,[];try{if(i&&e&&n){const c=(await Rt.getBalance(i,e)).balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(c,n),Oa.lastRetry=void 0,Oa.balanceLoading=!1,c}}catch(a){Oa.lastRetry=Date.now(),t==null||t(a),_s.showError("Token Balance Unavailable")}finally{Oa.balanceLoading=!1}return[]},resetAccount(t){X.resetAccount(t)}},Eo=Br({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),gi={state:Eo,subscribe(t){return Qs(Eo,()=>t(Eo))},subscribeKey(t,e){return mo(Eo,t,e)},async open(t){var i;const e=lt.state.status==="connected";Ar.state.wcBasic?Bt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Bt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await X.switchActiveNamespace(t.namespace),gi.setLoading(!0,t.namespace)):gi.setLoading(!0),Qt.setFilterByNamespace(t==null?void 0:t.namespace);const n=(i=X.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;X.state.noAdapters&&!n?$t.isMobile()?Zn.reset("AllWallets"):Zn.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Zn.reset(t.view,t.data):n?Zn.reset("Account"):Zn.reset("Connect"),Eo.open=!0,Fl.set({open:!0}),pr.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(){const t=De.state.enableEmbedded,e=!!X.state.activeCaipAddress;Eo.open&&pr.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Eo.open=!1,gi.clearLoading(),t?e?Zn.replace("Account"):Zn.push("Connect"):Fl.set({open:!1}),Ar.resetUri()},setLoading(t,e){e&&Eo.loadingNamespaceMap.set(e,t),Eo.loading=t,Fl.set({loading:t})},clearLoading(){Eo.loadingNamespaceMap.clear(),Eo.loading=!1},shake(){Eo.shake||(Eo.shake=!0,setTimeout(()=>{Eo.shake=!1},500))}},lq=2147483648,mtt={convertEVMChainIdToCoinType(t){if(t>=lq)throw new Error("Invalid chainId");return(lq|t)>>>0}},Da=Br({suggestions:[],loading:!1}),Aae={state:Da,subscribe(t){return Qs(Da,()=>t(Da))},subscribeKey(t,e){return mo(Da,t,e)},async resolveName(t){var e,n;try{return await Rt.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Rt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Da.loading=!0,Da.suggestions=[];const e=await Rt.getEnsNameSuggestions(t);return Da.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Da.suggestions}catch(e){const n=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Da.loading=!1}},async getNamesForAddress(t){try{if(!X.state.activeCaipNetwork)return[];const n=Ke.getEnsFromCacheForAddress(t);if(n)return n;const r=await Rt.reverseLookupEnsName({address:t});return Ke.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=X.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=lt.state.address,r=Qt.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Da.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Zn.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Da.loading=!1}});const s=await Ar.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=mtt.convertEVMChainIdToCoinType(Number(o));await Rt.registerEnsName({coinType:a,address:n,signature:s,message:i}),lt.setProfileName(t,e.chainNamespace),Zn.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw Zn.replace("RegisterAccountName"),new Error(s)}finally{Da.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}};var Cae={exports:{}},Tae={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv=M;function gtt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ytt=typeof Object.is=="function"?Object.is:gtt,vtt=Wv.useState,wtt=Wv.useEffect,btt=Wv.useLayoutEffect,_tt=Wv.useDebugValue;function Ett(t,e){var n=e(),r=vtt({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return btt(function(){i.value=n,i.getSnapshot=e,tk(i)&&s({inst:i})},[t,n,e]),wtt(function(){return tk(i)&&s({inst:i}),t(function(){tk(i)&&s({inst:i})})},[t]),_tt(n),n}function tk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ytt(t,n)}catch{return!0}}function Att(t,e){return e()}var Ctt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Att:Ett;Tae.useSyncExternalStore=Wv.useSyncExternalStore!==void 0?Wv.useSyncExternalStore:Ctt;Cae.exports=Tae;var Ttt=Cae.exports;const Stt=cs(Ttt),{use:uq}=ce,{useSyncExternalStore:Itt}=Stt;const xtt=new WeakMap;function Ptt(t,e){const n=e==null?void 0:e.sync,r=M.useRef(),i=M.useRef();let s=!0;const o=Itt(M.useCallback(l=>{const u=Qs(t,l,n);return l(),u},[t,n]),()=>{const l=vm(t,uq);try{if(!s&&r.current&&i.current&&!Fie(r.current,l,i.current,new WeakMap))return r.current}catch{}return l},()=>vm(t,uq));s=!1;const a=new WeakMap;M.useEffect(()=>{r.current=o,i.current=a});const c=M.useMemo(()=>new WeakMap,[]);return Lie(o,a,c,xtt)}function Ott(t){var s,o;const e=Ptt(X.state),n=(t==null?void 0:t.namespace)||e.activeChain;if(!n)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const r=(s=e.chains.get(n))==null?void 0:s.accountState,i=Qt.getAuthConnector(n);return{allAccounts:(r==null?void 0:r.allAccounts)||[],caipAddress:r==null?void 0:r.caipAddress,address:$t.getPlainAddress(r==null?void 0:r.caipAddress),isConnected:!!(r!=null&&r.caipAddress),status:r==null?void 0:r.status,embeddedWalletInfo:i?{user:r!=null&&r.user?{...r.user,username:Ke.getConnectedSocialUsername()}:void 0,authProvider:(r==null?void 0:r.socialProvider)||"email",accountType:(o=r==null?void 0:r.preferredAccountTypes)==null?void 0:o[n],isSmartAccountDeployed:!!(r!=null&&r.smartAccountDeployed)}:void 0}}const Or={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ph={ConnectorExplorerIds:{[Oe.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Oe.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Oe.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Oe.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Oe.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Or.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Or.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Or.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Or.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Or.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Or.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Or.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Or.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Or.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Or.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Or.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Oe.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Oe.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Oe.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Oe.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Oe.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Oe.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Oe.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Oe.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Oe.CONNECTOR_ID.COINBASE]:"Coinbase",[Oe.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Oe.CONNECTOR_ID.LEDGER]:"Ledger",[Oe.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Oe.CONNECTOR_ID.INJECTED]:"INJECTED",[Oe.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Oe.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Oe.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},QO={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Or.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Ap={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Dtt()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function Dtt(){return typeof window<"u"}const Ntt={createLogger(t,e="error"){const n=Aw({level:e}),{logger:r}=YU({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},Rtt="rpc.walletconnect.org";function dq(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const nk=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],El={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Rtt}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Oe.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Oe.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return nk.includes(e)?dq(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var f,p,g,y,v;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(f=t.rpcUrls.default.http)==null?void 0:f[0],a=this.getDefaultRpcUrl(t,s,n),c=((y=(g=(p=t==null?void 0:t.rpcUrls)==null?void 0:p.chainDefault)==null?void 0:g.http)==null?void 0:y[0])||o,l=((v=r==null?void 0:r[s])==null?void 0:v.map(b=>b.url))||[],u=[...l,a],h=[...l];return c&&!h.includes(c)&&h.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Ph.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>El.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var i,s,o;const r=[];return n==null||n.forEach(a=>{r.push(wC(a.url,a.config))}),nk.includes(t.caipNetworkId)&&r.push(wC(dq(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{r.push(wC(a))}),ZV(r)},extendWagmiTransports(t,e,n){if(nk.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return ZV([n,wC(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Oe.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=Ke.getActiveCaipNetworkId(),n=X.getAllRequestedCaipNetworks(),r=Array.from(((c=X.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?r.includes(i):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},dx={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Ao=Br({providers:{...dx},providerIds:{...dx}}),rr={state:Ao,subscribeKey(t,e){return mo(Ao,t,e)},subscribe(t){return Qs(Ao,()=>{t(Ao)})},subscribeProviders(t){return Qs(Ao.providers,()=>t(Ao.providers))},setProvider(t,e){e&&(Ao.providers[t]=wm(e))},getProvider(t){return Ao.providers[t]},setProviderId(t,e){e&&(Ao.providerIds[t]=e)},getProviderId(t){if(t)return Ao.providerIds[t]},reset(){Ao.providers={...dx},Ao.providerIds={...dx}},resetChain(t){Ao.providers[t]=void 0,Ao.providerIds[t]=void 0}},hq={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},gs={set(t,e){ia.isClient&&localStorage.setItem(`${gt.STORAGE_KEY}${t}`,e)},get(t){return ia.isClient?localStorage.getItem(`${gt.STORAGE_KEY}${t}`):null},delete(t,e){ia.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${gt.STORAGE_KEY}${t}`))}},zC=30*1e3,ia={checkIfAllowedToTriggerEmail(){const t=gs.get(gt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<zC){const n=Math.ceil((zC-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=gs.get(gt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<zC)return Math.ceil((zC-e)/1e3)}return 0},checkIfRequestExists(t){return Ii.NOT_SAFE_RPC_METHODS.includes(t.method)||Ii.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(hq.transactionHash))||(t==null?void 0:t.match(hq.signedMessage)))?gt.RPC_RESPONSE_TYPE_TX:gt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Ii.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Mn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Mn||(Mn={}));var p3;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(p3||(p3={}));const Ge=Mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),dh=t=>{switch(typeof t){case"undefined":return Ge.undefined;case"string":return Ge.string;case"number":return isNaN(t)?Ge.nan:Ge.number;case"boolean":return Ge.boolean;case"function":return Ge.function;case"bigint":return Ge.bigint;case"symbol":return Ge.symbol;case"object":return Array.isArray(t)?Ge.array:t===null?Ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ge.promise:typeof Map<"u"&&t instanceof Map?Ge.map:typeof Set<"u"&&t instanceof Set?Ge.set:typeof Date<"u"&&t instanceof Date?Ge.date:Ge.object;default:return Ge.unknown}},Ne=Mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ktt=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Mc extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Mc.create=t=>new Mc(t);const CE=(t,e)=>{let n;switch(t.code){case Ne.invalid_type:t.received===Ge.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Mn.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${Mn.joinValues(t.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Mn.joinValues(t.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${Mn.joinValues(t.options)}, received '${t.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Mn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,Mn.assertNever(t)}return{message:n}};let Sae=CE;function Mtt(t){Sae=t}function hx(){return Sae}const fx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Ltt=[];function st(t,e){const n=fx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hx(),CE].filter(r=>!!r)});t.common.issues.push(n)}class Zs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Wt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Zs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Wt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Wt=Object.freeze({status:"aborted"}),Iae=t=>({status:"dirty",value:t}),ho=t=>({status:"valid",value:t}),m3=t=>t.status==="aborted",g3=t=>t.status==="dirty",TE=t=>t.status==="valid",px=t=>typeof Promise<"u"&&t instanceof Promise;var Tt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Tt||(Tt={}));class Gl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fq=(t,e)=>{if(TE(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Mc(t.common.issues);return this._error=n,this._error}}};function Zt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class nn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return dh(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:dh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zs,ctx:{common:e.parent.common,data:e.data,parsedType:dh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(px(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dh(e)},s=this._parseSync({data:e,path:i.path,parent:i});return fq(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dh(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(px(i)?i:Promise.resolve(i));return fq(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ne.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Wc({schema:this,typeName:Nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qu.create(this,this._def)}nullable(){return xm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lc.create(this,this._def)}promise(){return Kv.create(this,this._def)}or(e){return PE.create([this,e],this._def)}and(e){return OE.create(this,e,this._def)}transform(e){return new Wc({...Zt(this._def),schema:this,typeName:Nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ME({...Zt(this._def),innerType:this,defaultValue:n,typeName:Nt.ZodDefault})}brand(){return new Pae({typeName:Nt.ZodBranded,type:this,...Zt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new vx({...Zt(this._def),innerType:this,catchValue:n,typeName:Nt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return tA.create(this,e)}readonly(){return bx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ftt=/^c[^\s-]{8,}$/i,$tt=/^[a-z][a-z0-9]*$/,jtt=/^[0-9A-HJKMNP-TV-Z]{26}$/,Utt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Btt=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ztt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rk;const Vtt=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Htt=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Wtt=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function qtt(t,e){return!!((e==="v4"||!e)&&Vtt.test(t)||(e==="v6"||!e)&&Htt.test(t))}class Pc extends nn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ge.string){const s=this._getOrReturnCtx(e);return st(s,{code:Ne.invalid_type,expected:Ge.string,received:s.parsedType}),Wt}const r=new Zs;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?st(i,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&st(i,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Btt.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"email",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")rk||(rk=new RegExp(ztt,"u")),rk.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"emoji",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Utt.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"uuid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Ftt.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cuid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")$tt.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cuid2",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")jtt.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"ulid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),st(i,{validation:"url",code:Ne.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"regex",code:Ne.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Wtt(s).test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?qtt(e.data,s.version)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"ip",code:Ne.invalid_string,message:s.message}),r.dirty()):Mn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ne.invalid_string,...Tt.errToObj(r)})}_addCheck(e){return new Pc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Tt.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Tt.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Tt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Tt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Tt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Tt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Tt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Tt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Tt.errToObj(n)})}nonempty(e){return this.min(1,Tt.errToObj(e))}trim(){return new Pc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Pc.create=t=>{var e;return new Pc({checks:[],typeName:Nt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Zt(t)})};function Ktt(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ef extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ge.number){const s=this._getOrReturnCtx(e);return st(s,{code:Ne.invalid_type,expected:Ge.number,received:s.parsedType}),Wt}let r;const i=new Zs;for(const s of this._def.checks)s.kind==="int"?Mn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ktt(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.not_finite,message:s.message}),i.dirty()):Mn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Tt.toString(n))}setLimit(e,n,r,i){return new Ef({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Tt.toString(i)}]})}_addCheck(e){return new Ef({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Tt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Mn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ef.create=t=>new Ef({checks:[],typeName:Nt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Zt(t)});class Af extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ge.bigint){const s=this._getOrReturnCtx(e);return st(s,{code:Ne.invalid_type,expected:Ge.bigint,received:s.parsedType}),Wt}let r;const i=new Zs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Mn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Tt.toString(n))}setLimit(e,n,r,i){return new Af({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Tt.toString(i)}]})}_addCheck(e){return new Af({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Af.create=t=>{var e;return new Af({checks:[],typeName:Nt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Zt(t)})};class SE extends nn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ge.boolean){const r=this._getOrReturnCtx(e);return st(r,{code:Ne.invalid_type,expected:Ge.boolean,received:r.parsedType}),Wt}return ho(e.data)}}SE.create=t=>new SE({typeName:Nt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Zt(t)});class Sm extends nn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ge.date){const s=this._getOrReturnCtx(e);return st(s,{code:Ne.invalid_type,expected:Ge.date,received:s.parsedType}),Wt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return st(s,{code:Ne.invalid_date}),Wt}const r=new Zs;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ne.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Mn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Tt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Tt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Sm.create=t=>new Sm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Nt.ZodDate,...Zt(t)});class mx extends nn{_parse(e){if(this._getType(e)!==Ge.symbol){const r=this._getOrReturnCtx(e);return st(r,{code:Ne.invalid_type,expected:Ge.symbol,received:r.parsedType}),Wt}return ho(e.data)}}mx.create=t=>new mx({typeName:Nt.ZodSymbol,...Zt(t)});class IE extends nn{_parse(e){if(this._getType(e)!==Ge.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:Ne.invalid_type,expected:Ge.undefined,received:r.parsedType}),Wt}return ho(e.data)}}IE.create=t=>new IE({typeName:Nt.ZodUndefined,...Zt(t)});class xE extends nn{_parse(e){if(this._getType(e)!==Ge.null){const r=this._getOrReturnCtx(e);return st(r,{code:Ne.invalid_type,expected:Ge.null,received:r.parsedType}),Wt}return ho(e.data)}}xE.create=t=>new xE({typeName:Nt.ZodNull,...Zt(t)});class qv extends nn{constructor(){super(...arguments),this._any=!0}_parse(e){return ho(e.data)}}qv.create=t=>new qv({typeName:Nt.ZodAny,...Zt(t)});class Bp extends nn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ho(e.data)}}Bp.create=t=>new Bp({typeName:Nt.ZodUnknown,...Zt(t)});class fd extends nn{_parse(e){const n=this._getOrReturnCtx(e);return st(n,{code:Ne.invalid_type,expected:Ge.never,received:n.parsedType}),Wt}}fd.create=t=>new fd({typeName:Nt.ZodNever,...Zt(t)});class gx extends nn{_parse(e){if(this._getType(e)!==Ge.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:Ne.invalid_type,expected:Ge.void,received:r.parsedType}),Wt}return ho(e.data)}}gx.create=t=>new gx({typeName:Nt.ZodVoid,...Zt(t)});class Lc extends nn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ge.array)return st(n,{code:Ne.invalid_type,expected:Ge.array,received:n.parsedType}),Wt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(st(n,{code:o?Ne.too_big:Ne.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(st(n,{code:Ne.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(st(n,{code:Ne.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Gl(n,o,n.path,a)))).then(o=>Zs.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Gl(n,o,n.path,a)));return Zs.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Lc({...this._def,minLength:{value:e,message:Tt.toString(n)}})}max(e,n){return new Lc({...this._def,maxLength:{value:e,message:Tt.toString(n)}})}length(e,n){return new Lc({...this._def,exactLength:{value:e,message:Tt.toString(n)}})}nonempty(e){return this.min(1,e)}}Lc.create=(t,e)=>new Lc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Nt.ZodArray,...Zt(e)});function ry(t){if(t instanceof qr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Qu.create(ry(r))}return new qr({...t._def,shape:()=>e})}else return t instanceof Lc?new Lc({...t._def,type:ry(t.element)}):t instanceof Qu?Qu.create(ry(t.unwrap())):t instanceof xm?xm.create(ry(t.unwrap())):t instanceof Yl?Yl.create(t.items.map(e=>ry(e))):t}class qr extends nn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Mn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ge.object){const l=this._getOrReturnCtx(e);return st(l,{code:Ne.invalid_type,expected:Ge.object,received:l.parsedType}),Wt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof fd&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],h=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Gl(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof fd){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(st(i,{code:Ne.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const h=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Gl(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const h=await u.key;l.push({key:h,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Zs.mergeObjectSync(r,l)):Zs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Tt.errToObj,new qr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Tt.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new qr({...this._def,unknownKeys:"strip"})}passthrough(){return new qr({...this._def,unknownKeys:"passthrough"})}extend(e){return new qr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new qr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Nt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new qr({...this._def,catchall:e})}pick(e){const n={};return Mn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new qr({...this._def,shape:()=>n})}omit(e){const n={};return Mn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new qr({...this._def,shape:()=>n})}deepPartial(){return ry(this)}partial(e){const n={};return Mn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new qr({...this._def,shape:()=>n})}required(e){const n={};return Mn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Qu;)s=s._def.innerType;n[r]=s}}),new qr({...this._def,shape:()=>n})}keyof(){return xae(Mn.objectKeys(this.shape))}}qr.create=(t,e)=>new qr({shape:()=>t,unknownKeys:"strip",catchall:fd.create(),typeName:Nt.ZodObject,...Zt(e)});qr.strictCreate=(t,e)=>new qr({shape:()=>t,unknownKeys:"strict",catchall:fd.create(),typeName:Nt.ZodObject,...Zt(e)});qr.lazycreate=(t,e)=>new qr({shape:t,unknownKeys:"strip",catchall:fd.create(),typeName:Nt.ZodObject,...Zt(e)});class PE extends nn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Mc(a.ctx.common.issues));return st(n,{code:Ne.invalid_union,unionErrors:o}),Wt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Mc(c));return st(n,{code:Ne.invalid_union,unionErrors:a}),Wt}}get options(){return this._def.options}}PE.create=(t,e)=>new PE({options:t,typeName:Nt.ZodUnion,...Zt(e)});const eS=t=>t instanceof NE?eS(t.schema):t instanceof Wc?eS(t.innerType()):t instanceof RE?[t.value]:t instanceof Cf?t.options:t instanceof kE?Object.keys(t.enum):t instanceof ME?eS(t._def.innerType):t instanceof IE?[void 0]:t instanceof xE?[null]:null;class ZO extends nn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ge.object)return st(n,{code:Ne.invalid_type,expected:Ge.object,received:n.parsedType}),Wt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(st(n,{code:Ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Wt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=eS(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ZO({typeName:Nt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Zt(r)})}}function y3(t,e){const n=dh(t),r=dh(e);if(t===e)return{valid:!0,data:t};if(n===Ge.object&&r===Ge.object){const i=Mn.objectKeys(e),s=Mn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=y3(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ge.array&&r===Ge.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=y3(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ge.date&&r===Ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class OE extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(m3(s)||m3(o))return Wt;const a=y3(s.value,o.value);return a.valid?((g3(s)||g3(o))&&n.dirty(),{status:n.value,value:a.data}):(st(r,{code:Ne.invalid_intersection_types}),Wt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}OE.create=(t,e,n)=>new OE({left:t,right:e,typeName:Nt.ZodIntersection,...Zt(n)});class Yl extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.array)return st(r,{code:Ne.invalid_type,expected:Ge.array,received:r.parsedType}),Wt;if(r.data.length<this._def.items.length)return st(r,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&r.data.length>this._def.items.length&&(st(r,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Gl(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Zs.mergeArray(n,o)):Zs.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Yl({...this._def,rest:e})}}Yl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yl({items:t,typeName:Nt.ZodTuple,rest:null,...Zt(e)})};class DE extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.object)return st(r,{code:Ne.invalid_type,expected:Ge.object,received:r.parsedType}),Wt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Gl(r,a,r.path,a)),value:o._parse(new Gl(r,r.data[a],r.path,a))});return r.common.async?Zs.mergeObjectAsync(n,i):Zs.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof nn?new DE({keyType:e,valueType:n,typeName:Nt.ZodRecord,...Zt(r)}):new DE({keyType:Pc.create(),valueType:e,typeName:Nt.ZodRecord,...Zt(n)})}}class yx extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.map)return st(r,{code:Ne.invalid_type,expected:Ge.map,received:r.parsedType}),Wt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new Gl(r,a,r.path,[l,"key"])),value:s._parse(new Gl(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Wt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Wt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}yx.create=(t,e,n)=>new yx({valueType:e,keyType:t,typeName:Nt.ZodMap,...Zt(n)});class Im extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.set)return st(r,{code:Ne.invalid_type,expected:Ge.set,received:r.parsedType}),Wt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(st(r,{code:Ne.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(st(r,{code:Ne.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Wt;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new Gl(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Im({...this._def,minSize:{value:e,message:Tt.toString(n)}})}max(e,n){return new Im({...this._def,maxSize:{value:e,message:Tt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Im.create=(t,e)=>new Im({valueType:t,minSize:null,maxSize:null,typeName:Nt.ZodSet,...Zt(e)});class Wy extends nn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ge.function)return st(n,{code:Ne.invalid_type,expected:Ge.function,received:n.parsedType}),Wt;function r(a,c){return fx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hx(),CE].filter(l=>!!l),issueData:{code:Ne.invalid_arguments,argumentsError:c}})}function i(a,c){return fx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hx(),CE].filter(l=>!!l),issueData:{code:Ne.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Kv){const a=this;return ho(async function(...c){const l=new Mc([]),u=await a._def.args.parseAsync(c,s).catch(p=>{throw l.addIssue(r(c,p)),l}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(p=>{throw l.addIssue(i(h,p)),l})})}else{const a=this;return ho(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new Mc([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new Mc([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Wy({...this._def,args:Yl.create(e).rest(Bp.create())})}returns(e){return new Wy({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Wy({args:e||Yl.create([]).rest(Bp.create()),returns:n||Bp.create(),typeName:Nt.ZodFunction,...Zt(r)})}}class NE extends nn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}NE.create=(t,e)=>new NE({getter:t,typeName:Nt.ZodLazy,...Zt(e)});class RE extends nn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return st(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:e.data}}get value(){return this._def.value}}RE.create=(t,e)=>new RE({value:t,typeName:Nt.ZodLiteral,...Zt(e)});function xae(t,e){return new Cf({values:t,typeName:Nt.ZodEnum,...Zt(e)})}class Cf extends nn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{expected:Mn.joinValues(r),received:n.parsedType,code:Ne.invalid_type}),Wt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{received:n.data,code:Ne.invalid_enum_value,options:r}),Wt}return ho(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Cf.create(e)}exclude(e){return Cf.create(this.options.filter(n=>!e.includes(n)))}}Cf.create=xae;class kE extends nn{_parse(e){const n=Mn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ge.string&&r.parsedType!==Ge.number){const i=Mn.objectValues(n);return st(r,{expected:Mn.joinValues(i),received:r.parsedType,code:Ne.invalid_type}),Wt}if(n.indexOf(e.data)===-1){const i=Mn.objectValues(n);return st(r,{received:r.data,code:Ne.invalid_enum_value,options:i}),Wt}return ho(e.data)}get enum(){return this._def.values}}kE.create=(t,e)=>new kE({values:t,typeName:Nt.ZodNativeEnum,...Zt(e)});class Kv extends nn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ge.promise&&n.common.async===!1)return st(n,{code:Ne.invalid_type,expected:Ge.promise,received:n.parsedType}),Wt;const r=n.parsedType===Ge.promise?n.data:Promise.resolve(n.data);return ho(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Kv.create=(t,e)=>new Kv({type:t,typeName:Nt.ZodPromise,...Zt(e)});class Wc extends nn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{st(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Wt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Wt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!TE(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>TE(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Mn.assertNever(i)}}Wc.create=(t,e,n)=>new Wc({schema:t,typeName:Nt.ZodEffects,effect:e,...Zt(n)});Wc.createWithPreprocess=(t,e,n)=>new Wc({schema:e,effect:{type:"preprocess",transform:t},typeName:Nt.ZodEffects,...Zt(n)});class Qu extends nn{_parse(e){return this._getType(e)===Ge.undefined?ho(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qu.create=(t,e)=>new Qu({innerType:t,typeName:Nt.ZodOptional,...Zt(e)});class xm extends nn{_parse(e){return this._getType(e)===Ge.null?ho(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xm.create=(t,e)=>new xm({innerType:t,typeName:Nt.ZodNullable,...Zt(e)});class ME extends nn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ge.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ME.create=(t,e)=>new ME({innerType:t,typeName:Nt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Zt(e)});class vx extends nn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return px(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Mc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}vx.create=(t,e)=>new vx({innerType:t,typeName:Nt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Zt(e)});class wx extends nn{_parse(e){if(this._getType(e)!==Ge.nan){const r=this._getOrReturnCtx(e);return st(r,{code:Ne.invalid_type,expected:Ge.nan,received:r.parsedType}),Wt}return{status:"valid",value:e.data}}}wx.create=t=>new wx({typeName:Nt.ZodNaN,...Zt(t)});const Gtt=Symbol("zod_brand");class Pae extends nn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class tA extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Wt:s.status==="dirty"?(n.dirty(),Iae(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Wt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new tA({in:e,out:n,typeName:Nt.ZodPipeline})}}class bx extends nn{_parse(e){const n=this._def.innerType._parse(e);return TE(n)&&(n.value=Object.freeze(n.value)),n}}bx.create=(t,e)=>new bx({innerType:t,typeName:Nt.ZodReadonly,...Zt(e)});const Oae=(t,e={},n)=>t?qv.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):qv.create(),Ytt={object:qr.lazycreate};var Nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Nt||(Nt={}));const Qtt=(t,e={message:`Input not instance of ${t.name}`})=>Oae(n=>n instanceof t,e),Dae=Pc.create,Nae=Ef.create,Ztt=wx.create,Jtt=Af.create,Rae=SE.create,Xtt=Sm.create,ent=mx.create,tnt=IE.create,nnt=xE.create,rnt=qv.create,int=Bp.create,snt=fd.create,ont=gx.create,ant=Lc.create,cnt=qr.create,lnt=qr.strictCreate,unt=PE.create,dnt=ZO.create,hnt=OE.create,fnt=Yl.create,pnt=DE.create,mnt=yx.create,gnt=Im.create,ynt=Wy.create,vnt=NE.create,wnt=RE.create,bnt=Cf.create,_nt=kE.create,Ent=Kv.create,pq=Wc.create,Ant=Qu.create,Cnt=xm.create,Tnt=Wc.createWithPreprocess,Snt=tA.create,Int=()=>Dae().optional(),xnt=()=>Nae().optional(),Pnt=()=>Rae().optional(),Ont={string:t=>Pc.create({...t,coerce:!0}),number:t=>Ef.create({...t,coerce:!0}),boolean:t=>SE.create({...t,coerce:!0}),bigint:t=>Af.create({...t,coerce:!0}),date:t=>Sm.create({...t,coerce:!0})},Dnt=Wt;var q=Object.freeze({__proto__:null,defaultErrorMap:CE,setErrorMap:Mtt,getErrorMap:hx,makeIssue:fx,EMPTY_PATH:Ltt,addIssueToContext:st,ParseStatus:Zs,INVALID:Wt,DIRTY:Iae,OK:ho,isAborted:m3,isDirty:g3,isValid:TE,isAsync:px,get util(){return Mn},get objectUtil(){return p3},ZodParsedType:Ge,getParsedType:dh,ZodType:nn,ZodString:Pc,ZodNumber:Ef,ZodBigInt:Af,ZodBoolean:SE,ZodDate:Sm,ZodSymbol:mx,ZodUndefined:IE,ZodNull:xE,ZodAny:qv,ZodUnknown:Bp,ZodNever:fd,ZodVoid:gx,ZodArray:Lc,ZodObject:qr,ZodUnion:PE,ZodDiscriminatedUnion:ZO,ZodIntersection:OE,ZodTuple:Yl,ZodRecord:DE,ZodMap:yx,ZodSet:Im,ZodFunction:Wy,ZodLazy:NE,ZodLiteral:RE,ZodEnum:Cf,ZodNativeEnum:kE,ZodPromise:Kv,ZodEffects:Wc,ZodTransformer:Wc,ZodOptional:Qu,ZodNullable:xm,ZodDefault:ME,ZodCatch:vx,ZodNaN:wx,BRAND:Gtt,ZodBranded:Pae,ZodPipeline:tA,ZodReadonly:bx,custom:Oae,Schema:nn,ZodSchema:nn,late:Ytt,get ZodFirstPartyTypeKind(){return Nt},coerce:Ont,any:rnt,array:ant,bigint:Jtt,boolean:Rae,date:Xtt,discriminatedUnion:dnt,effect:pq,enum:bnt,function:ynt,instanceof:Qtt,intersection:hnt,lazy:vnt,literal:wnt,map:mnt,nan:Ztt,nativeEnum:_nt,never:snt,null:nnt,nullable:Cnt,number:Nae,object:cnt,oboolean:Pnt,onumber:xnt,optional:Ant,ostring:Int,pipeline:Snt,preprocess:Tnt,promise:Ent,record:pnt,set:gnt,strictObject:lnt,string:Dae,symbol:ent,transformer:pq,tuple:fnt,undefined:tnt,union:unt,unknown:int,void:ont,NEVER:Dnt,ZodIssueCode:Ne,quotelessJson:ktt,ZodError:Mc});const Xr=q.object({message:q.string()});function rt(t){return q.literal(gt[t])}q.object({accessList:q.array(q.string()),blockHash:q.string().nullable(),blockNumber:q.string().nullable(),chainId:q.string().or(q.number()),from:q.string(),gas:q.string(),hash:q.string(),input:q.string().nullable(),maxFeePerGas:q.string(),maxPriorityFeePerGas:q.string(),nonce:q.string(),r:q.string(),s:q.string(),to:q.string(),transactionIndex:q.string().nullable(),type:q.string(),v:q.string(),value:q.string()});const Nnt=q.object({chainId:q.string().or(q.number())}),Rnt=q.object({email:q.string().email()}),knt=q.object({otp:q.string()}),Mnt=q.object({uri:q.string()}),Lnt=q.object({chainId:q.optional(q.string().or(q.number())),preferredAccountType:q.optional(q.string())}),Fnt=q.object({provider:q.enum(["google","github","apple","facebook","x","discord"])}),$nt=q.object({email:q.string().email()}),jnt=q.object({otp:q.string()}),Unt=q.object({otp:q.string()}),Bnt=q.object({themeMode:q.optional(q.enum(["light","dark"])),themeVariables:q.optional(q.record(q.string(),q.string().or(q.number()))),w3mThemeVariables:q.optional(q.record(q.string(),q.string()))}),znt=q.object({metadata:q.object({name:q.string(),description:q.string(),url:q.string(),icons:q.array(q.string())}).optional(),sdkVersion:q.string().optional(),sdkType:q.string().optional(),projectId:q.string()}),Vnt=q.object({type:q.string()}),Hnt=q.object({action:q.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Wnt=q.object({url:q.string()}),qnt=q.object({userName:q.string()}),Knt=q.object({email:q.string().optional().nullable(),address:q.string(),chainId:q.string().or(q.number()),accounts:q.array(q.object({address:q.string(),type:q.enum([Ii.ACCOUNT_TYPES.EOA,Ii.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:q.string().optional().nullable()}),Gnt=q.object({action:q.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Ynt=q.object({email:q.string().email().optional().nullable(),address:q.string(),chainId:q.string().or(q.number()),smartAccountDeployed:q.optional(q.boolean()),accounts:q.array(q.object({address:q.string(),type:q.enum([Ii.ACCOUNT_TYPES.EOA,Ii.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:q.optional(q.string())}),Qnt=q.object({uri:q.string()}),Znt=q.object({isConnected:q.boolean()}),Jnt=q.object({chainId:q.string().or(q.number())}),Xnt=q.object({chainId:q.string().or(q.number())}),ert=q.object({newEmail:q.string().email()}),trt=q.object({smartAccountEnabledNetworks:q.array(q.number())});q.object({address:q.string(),isDeployed:q.boolean()});const nrt=q.object({version:q.string().optional()}),rrt=q.object({type:q.string(),address:q.string()}),irt=q.any(),srt=q.object({method:q.literal("eth_accounts")}),ort=q.object({method:q.literal("eth_blockNumber")}),art=q.object({method:q.literal("eth_call"),params:q.array(q.any())}),crt=q.object({method:q.literal("eth_chainId")}),lrt=q.object({method:q.literal("eth_estimateGas"),params:q.array(q.any())}),urt=q.object({method:q.literal("eth_feeHistory"),params:q.array(q.any())}),drt=q.object({method:q.literal("eth_gasPrice")}),hrt=q.object({method:q.literal("eth_getAccount"),params:q.array(q.any())}),frt=q.object({method:q.literal("eth_getBalance"),params:q.array(q.any())}),prt=q.object({method:q.literal("eth_getBlockByHash"),params:q.array(q.any())}),mrt=q.object({method:q.literal("eth_getBlockByNumber"),params:q.array(q.any())}),grt=q.object({method:q.literal("eth_getBlockReceipts"),params:q.array(q.any())}),yrt=q.object({method:q.literal("eth_getBlockTransactionCountByHash"),params:q.array(q.any())}),vrt=q.object({method:q.literal("eth_getBlockTransactionCountByNumber"),params:q.array(q.any())}),wrt=q.object({method:q.literal("eth_getCode"),params:q.array(q.any())}),brt=q.object({method:q.literal("eth_getFilterChanges"),params:q.array(q.any())}),_rt=q.object({method:q.literal("eth_getFilterLogs"),params:q.array(q.any())}),Ert=q.object({method:q.literal("eth_getLogs"),params:q.array(q.any())}),Art=q.object({method:q.literal("eth_getProof"),params:q.array(q.any())}),Crt=q.object({method:q.literal("eth_getStorageAt"),params:q.array(q.any())}),Trt=q.object({method:q.literal("eth_getTransactionByBlockHashAndIndex"),params:q.array(q.any())}),Srt=q.object({method:q.literal("eth_getTransactionByBlockNumberAndIndex"),params:q.array(q.any())}),Irt=q.object({method:q.literal("eth_getTransactionByHash"),params:q.array(q.any())}),xrt=q.object({method:q.literal("eth_getTransactionCount"),params:q.array(q.any())}),Prt=q.object({method:q.literal("eth_getTransactionReceipt"),params:q.array(q.any())}),Ort=q.object({method:q.literal("eth_getUncleCountByBlockHash"),params:q.array(q.any())}),Drt=q.object({method:q.literal("eth_getUncleCountByBlockNumber"),params:q.array(q.any())}),Nrt=q.object({method:q.literal("eth_maxPriorityFeePerGas")}),Rrt=q.object({method:q.literal("eth_newBlockFilter")}),krt=q.object({method:q.literal("eth_newFilter"),params:q.array(q.any())}),Mrt=q.object({method:q.literal("eth_newPendingTransactionFilter")}),Lrt=q.object({method:q.literal("eth_sendRawTransaction"),params:q.array(q.any())}),Frt=q.object({method:q.literal("eth_syncing"),params:q.array(q.any())}),$rt=q.object({method:q.literal("eth_uninstallFilter"),params:q.array(q.any())}),mq=q.object({method:q.literal("personal_sign"),params:q.array(q.any())}),jrt=q.object({method:q.literal("eth_signTypedData_v4"),params:q.array(q.any())}),Urt=q.object({method:q.literal("eth_sendTransaction"),params:q.array(q.any())}),Brt=q.object({method:q.literal("solana_signMessage"),params:q.object({message:q.string(),pubkey:q.string()})}),zrt=q.object({method:q.literal("solana_signTransaction"),params:q.object({transaction:q.string()})}),Vrt=q.object({method:q.literal("solana_signAllTransactions"),params:q.object({transactions:q.array(q.string())})}),Hrt=q.object({method:q.literal("solana_signAndSendTransaction"),params:q.object({transaction:q.string(),options:q.object({skipPreflight:q.boolean().optional(),preflightCommitment:q.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:q.number().optional(),minContextSlot:q.number().optional()}).optional()})}),Wrt=q.object({method:q.literal("wallet_sendCalls"),params:q.array(q.object({chainId:q.string().or(q.number()).optional(),from:q.string().optional(),version:q.string().optional(),capabilities:q.any().optional(),calls:q.array(q.object({to:q.string().startsWith("0x"),data:q.string().startsWith("0x").optional(),value:q.string().optional()}))}))}),qrt=q.object({method:q.literal("wallet_getCallsStatus"),params:q.array(q.string())}),Krt=q.object({method:q.literal("wallet_getCapabilities")}),Grt=q.object({method:q.literal("wallet_grantPermissions"),params:q.array(q.any())}),Yrt=q.object({method:q.literal("wallet_revokePermissions"),params:q.any()}),Qrt=q.object({method:q.literal("wallet_getAssets"),params:q.any()}),gq=q.object({token:q.string()}),it=q.object({id:q.string().optional()}),U0={appEvent:it.extend({type:rt("APP_SWITCH_NETWORK"),payload:Nnt}).or(it.extend({type:rt("APP_CONNECT_EMAIL"),payload:Rnt})).or(it.extend({type:rt("APP_CONNECT_DEVICE")})).or(it.extend({type:rt("APP_CONNECT_OTP"),payload:knt})).or(it.extend({type:rt("APP_CONNECT_SOCIAL"),payload:Mnt})).or(it.extend({type:rt("APP_GET_FARCASTER_URI")})).or(it.extend({type:rt("APP_CONNECT_FARCASTER")})).or(it.extend({type:rt("APP_GET_USER"),payload:q.optional(Lnt)})).or(it.extend({type:rt("APP_GET_SOCIAL_REDIRECT_URI"),payload:Fnt})).or(it.extend({type:rt("APP_SIGN_OUT")})).or(it.extend({type:rt("APP_IS_CONNECTED"),payload:q.optional(gq)})).or(it.extend({type:rt("APP_GET_CHAIN_ID")})).or(it.extend({type:rt("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(it.extend({type:rt("APP_INIT_SMART_ACCOUNT")})).or(it.extend({type:rt("APP_SET_PREFERRED_ACCOUNT"),payload:Vnt})).or(it.extend({type:rt("APP_RPC_REQUEST"),payload:mq.or(Qrt).or(srt).or(ort).or(art).or(crt).or(lrt).or(urt).or(drt).or(hrt).or(frt).or(prt).or(mrt).or(grt).or(yrt).or(vrt).or(wrt).or(brt).or(_rt).or(Ert).or(Art).or(Crt).or(Trt).or(Srt).or(Irt).or(xrt).or(Prt).or(Ort).or(Drt).or(Nrt).or(Rrt).or(krt).or(Mrt).or(Lrt).or(Frt).or($rt).or(mq).or(jrt).or(Urt).or(Brt).or(zrt).or(Vrt).or(Hrt).or(qrt).or(Wrt).or(Krt).or(Grt).or(Yrt)})).or(it.extend({type:rt("APP_UPDATE_EMAIL"),payload:$nt})).or(it.extend({type:rt("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:jnt})).or(it.extend({type:rt("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Unt})).or(it.extend({type:rt("APP_SYNC_THEME"),payload:Bnt})).or(it.extend({type:rt("APP_SYNC_DAPP_DATA"),payload:znt})).or(it.extend({type:rt("APP_RELOAD")})),frameEvent:it.extend({type:rt("FRAME_SWITCH_NETWORK_ERROR"),payload:Xr}).or(it.extend({type:rt("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Xnt})).or(it.extend({type:rt("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Hnt})).or(it.extend({type:rt("FRAME_CONNECT_EMAIL_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Wnt})).or(it.extend({type:rt("FRAME_GET_FARCASTER_URI_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:qnt})).or(it.extend({type:rt("FRAME_CONNECT_FARCASTER_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_CONNECT_OTP_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_CONNECT_OTP_SUCCESS")})).or(it.extend({type:rt("FRAME_CONNECT_DEVICE_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_CONNECT_DEVICE_SUCCESS")})).or(it.extend({type:rt("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Knt})).or(it.extend({type:rt("FRAME_CONNECT_SOCIAL_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_GET_USER_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_GET_USER_SUCCESS"),payload:Ynt})).or(it.extend({type:rt("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Qnt})).or(it.extend({type:rt("FRAME_SIGN_OUT_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_SIGN_OUT_SUCCESS")})).or(it.extend({type:rt("FRAME_IS_CONNECTED_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_IS_CONNECTED_SUCCESS"),payload:Znt})).or(it.extend({type:rt("FRAME_GET_CHAIN_ID_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Jnt})).or(it.extend({type:rt("FRAME_RPC_REQUEST_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_RPC_REQUEST_SUCCESS"),payload:irt})).or(it.extend({type:rt("FRAME_SESSION_UPDATE"),payload:gq})).or(it.extend({type:rt("FRAME_UPDATE_EMAIL_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Gnt})).or(it.extend({type:rt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(it.extend({type:rt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:ert})).or(it.extend({type:rt("FRAME_SYNC_THEME_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_SYNC_THEME_SUCCESS")})).or(it.extend({type:rt("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(it.extend({type:rt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:trt})).or(it.extend({type:rt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:rrt})).or(it.extend({type:rt("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_READY"),payload:nrt})).or(it.extend({type:rt("FRAME_RELOAD_ERROR"),payload:Xr})).or(it.extend({type:rt("FRAME_RELOAD_SUCCESS")}))};function ik(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Zrt{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=Oe.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:l}){if(!ik(gt.FRAME_EVENT_KEY,l))return;const u=U0.frameEvent.parse(l);u.id===s&&(o(u),window.removeEventListener("message",c))}ia.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{ia.isClient&&window.addEventListener("message",({data:o})=>{if(!ik(gt.FRAME_EVENT_KEY,o))return;const a=U0.frameEvent.parse(o);s(a)})},onAppEvent:s=>{ia.isClient&&window.addEventListener("message",({data:o})=>{if(!ik(gt.APP_EVENT_KEY,o))return;const a=U0.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(ia.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");U0.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(ia.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");U0.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),ia.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${utt}?projectId=${e}&chainId=${r}&version=${htt}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Jrt{constructor(e){var s;const n=Aw({level:dtt}),{logger:r,chunkLoggerController:i}=YU({opts:n});this.logger=Js(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Xrt{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i}){this.openRpcRequests=[],r&&(this.w3mLogger=new Jrt(e)),this.w3mFrame=new Zrt({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(async o=>{o.type===gt.FRAME_READY&&(this.initPromise=void 0,await new Promise(a=>{setTimeout(a,500)}),s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!gs.get(gt.EMAIL_LOGIN_USED_KEY)}getEmail(){return gs.get(gt.EMAIL)}getUsername(){return gs.get(gt.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:gt.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{ia.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const r=await this.appEvent({type:gt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:gt.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:gt.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:gt.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:gt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return this.w3mFrame.initFrame(),this.appEvent({type:gt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:gt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:gt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:gt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:gt.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:gt.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:gt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:gt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:r,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async getUser(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:gt.APP_GET_USER,payload:{...e,chainId:r}});return this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{this.w3mFrame.initFrame();const r=await this.appEvent({type:gt.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:gt.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:gt.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:gt.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{const n=await this.appEvent({type:gt.APP_SIGN_OUT});return this.deleteAuthLoginCache(),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,i,s;try{if(Ii.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:gt.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===gt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===gt.FRAME_IS_CONNECTED_ERROR&&e(),n.type===gt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===gt.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===gt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===gt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===gt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Ii.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===gt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===gt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Ii.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let n;function r(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=r(e.type);return[gt.APP_CONNECT_EMAIL,gt.APP_CONNECT_DEVICE,gt.APP_CONNECT_OTP,gt.APP_CONNECT_SOCIAL,gt.APP_GET_SOCIAL_REDIRECT_URI].map(r).includes(s)&&(n=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,c)=>{var h,f,p;const l=Math.random().toString(36).substring(7);if((p=(h=this.w3mLogger)==null?void 0:(f=h.logger).info)==null||p.call(f,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),s==="RPC_REQUEST"){const g=e;this.openRpcRequests=[...this.openRpcRequests,{...g.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?c(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function u(g,y){var v,b,_;g.id===l&&((b=y==null?void 0:(v=y.logger).info)==null||b.call(v,{framEvent:g,id:l},"Received frame response"),g.type===`@w3m-frame/${s}_SUCCESS`?(n&&clearTimeout(n),"payload"in g&&a(g.payload),a(void 0)):g.type===`@w3m-frame/${s}_ERROR`&&(n&&clearTimeout(n),"payload"in g&&c(new Error(((_=g.payload)==null?void 0:_.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,g=>u(g,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){gs.set(gt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){gs.set(gt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&gs.set(gt.EMAIL,e),gs.set(gt.EMAIL_LOGIN_USED_KEY,"true"),gs.delete(gt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){gs.delete(gt.EMAIL_LOGIN_USED_KEY),gs.delete(gt.EMAIL),gs.delete(gt.LAST_USED_CHAIN_KEY),gs.delete(gt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&gs.set(gt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=gs.get(gt.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){gs.set(gt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class zp{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i}){return zp.instance||(zp.instance=new Xrt({projectId:e,chainId:n,enableLogger:r,onTimeout:i})),zp.instance}}const eit={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},v3={filterOutDuplicatesByRDNS(t){const e=De.state.enableEIP6963?Qt.state.connectors:[],n=Ke.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&$t.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Qt.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Ke.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Qt.state,n=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!n[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=De.state.features)==null?void 0:c.connectMethodsOrder),r=e||Qt.state.connectors;if(n)return n;const{injected:i,announced:s}=tS.getConnectorsByType(r,Bt.state.recommended,Bt.state.featured),o=i.filter(tS.showConnector),a=s.filter(tS.showConnector);return o.length||a.length?["wallet","email","social"]:eit.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Bt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Bt.state.excludedWallets.some(r=>QO.isLowerCaseMatch(r.name,t.name));return e||n}},tS={getConnectorsByType(t,e,n){const{customWallets:r}=De.state,i=Ke.getRecentWallets(),s=v3.filterOutDuplicateWallets(e),o=v3.filterOutDuplicateWallets(n),a=t.filter(h=>h.type==="MULTI_CHAIN"),c=t.filter(h=>h.type==="ANNOUNCED"),l=t.filter(h=>h.type==="INJECTED"),u=t.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,n=!!e&&Bt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&Bt.state.excludedWallets.some(s=>QO.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(!$t.isMobile()&&t.name==="Browser Wallet"||!e&&!Ar.checkInstalled()||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(X.state.chains.values()).some(n=>Qt.getConnectorId(n.namespace)===Oe.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=De.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=tS.getIsConnectedWithWC(),p=[{type:"walletConnect",isEnabled:De.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(b=>b.isEnabled),g=new Set(p.map(b=>b.type)),y=c.filter(b=>g.has(b)).map(b=>({type:b,isEnabled:!0})),v=p.filter(({type:b})=>!y.some(({type:A})=>A===b));return Array.from(new Set([...y,...v].map(({type:b})=>b)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nS=globalThis,b5=nS.ShadowRoot&&(nS.ShadyCSS===void 0||nS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,_5=Symbol(),yq=new WeakMap;let kae=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==_5)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(b5&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=yq.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&yq.set(n,e))}return e}toString(){return this.cssText}};const Na=t=>new kae(typeof t=="string"?t:t+"",void 0,_5),qy=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new kae(n,t,_5)},tit=(t,e)=>{if(b5)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=nS.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},vq=b5?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Na(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:nit,defineProperty:rit,getOwnPropertyDescriptor:iit,getOwnPropertyNames:sit,getOwnPropertySymbols:oit,getPrototypeOf:ait}=Object,Qh=globalThis,wq=Qh.trustedTypes,cit=wq?wq.emptyScript:"",sk=Qh.reactiveElementPolyfillSupport,Wb=(t,e)=>t,w3={toAttribute(t,e){switch(e){case Boolean:t=t?cit:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Mae=(t,e)=>!nit(t,e),bq={attribute:!0,type:String,converter:w3,reflect:!1,useDefault:!1,hasChanged:Mae};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Qh.litPropertyMetadata??(Qh.litPropertyMetadata=new WeakMap);let iy=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=bq){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&rit(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=iit(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??bq}static _$Ei(){if(this.hasOwnProperty(Wb("elementProperties")))return;const e=ait(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Wb("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Wb("properties"))){const n=this.properties,r=[...sit(n),...oit(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(vq(i))}else e!==void 0&&n.push(vq(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return tit(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:w3).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:w3;this._$Em=i,this[i]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,n,r){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(r??(r=s.getPropertyOptions(e)),!((r.hasChanged??Mae)(o,n)||r.useDefault&&r.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};iy.elementStyles=[],iy.shadowRootOptions={mode:"open"},iy[Wb("elementProperties")]=new Map,iy[Wb("finalized")]=new Map,sk==null||sk({ReactiveElement:iy}),(Qh.reactiveElementVersions??(Qh.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qb=globalThis,_x=qb.trustedTypes,_q=_x?_x.createPolicy("lit-html",{createHTML:t=>t}):void 0,Lae="$lit$",hh=`lit$${Math.random().toFixed(9).slice(2)}$`,Fae="?"+hh,lit=`<${Fae}>`,Pm=document,LE=()=>Pm.createComment(""),FE=t=>t===null||typeof t!="object"&&typeof t!="function",E5=Array.isArray,uit=t=>E5(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",ok=`[ 	
\f\r]`,B0=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Eq=/-->/g,Aq=/>/g,Vf=RegExp(`>|${ok}(?:([^\\s"'>=/]+)(${ok}*=${ok}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Cq=/'/g,Tq=/"/g,$ae=/^(?:script|style|textarea|title)$/i,jae=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Nut=jae(1),Rut=jae(2),Gv=Symbol.for("lit-noChange"),es=Symbol.for("lit-nothing"),Sq=new WeakMap,Cp=Pm.createTreeWalker(Pm,129);function Uae(t,e){if(!E5(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return _q!==void 0?_q.createHTML(e):e}const dit=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=B0;for(let a=0;a<n;a++){const c=t[a];let l,u,h=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===B0?u[1]==="!--"?o=Eq:u[1]!==void 0?o=Aq:u[2]!==void 0?($ae.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Vf):u[3]!==void 0&&(o=Vf):o===Vf?u[0]===">"?(o=i??B0,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Vf:u[3]==='"'?Tq:Cq):o===Tq||o===Cq?o=Vf:o===Eq||o===Aq?o=B0:(o=Vf,i=void 0);const p=o===Vf&&t[a+1].startsWith("/>")?" ":"";s+=o===B0?c+lit:h>=0?(r.push(l),c.slice(0,h)+Lae+c.slice(h)+hh+p):c+hh+(h===-2?a:p)}return[Uae(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class $E{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=dit(e,n);if(this.el=$E.createElement(l,r),Cp.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=Cp.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Lae)){const f=u[o++],p=i.getAttribute(h).split(hh),g=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:g[2],strings:p,ctor:g[1]==="."?fit:g[1]==="?"?pit:g[1]==="@"?mit:JO}),i.removeAttribute(h)}else h.startsWith(hh)&&(c.push({type:6,index:s}),i.removeAttribute(h));if($ae.test(i.tagName)){const h=i.textContent.split(hh),f=h.length-1;if(f>0){i.textContent=_x?_x.emptyScript:"";for(let p=0;p<f;p++)i.append(h[p],LE()),Cp.nextNode(),c.push({type:2,index:++s});i.append(h[f],LE())}}}else if(i.nodeType===8)if(i.data===Fae)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(hh,h+1))!==-1;)c.push({type:7,index:s}),h+=hh.length-1}s++}}static createElement(e,n){const r=Pm.createElement("template");return r.innerHTML=e,r}}function Yv(t,e,n=t,r){var o,a;if(e===Gv)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=FE(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=Yv(t,i._$AS(t,e.values),i,r)),e}class hit{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??Pm).importNode(n,!0);Cp.currentNode=i;let s=Cp.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new nA(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new git(s,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=Cp.nextNode(),o++)}return Cp.currentNode=Pm,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class nA{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=es,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Yv(this,e,n),FE(e)?e===es||e==null||e===""?(this._$AH!==es&&this._$AR(),this._$AH=es):e!==this._$AH&&e!==Gv&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):uit(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==es&&FE(this._$AH)?this._$AA.nextSibling.data=e:this.T(Pm.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=$E.createElement(Uae(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new hit(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=Sq.get(e.strings);return n===void 0&&Sq.set(e.strings,n=new $E(e)),n}k(e){E5(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new nA(this.O(LE()),this.O(LE()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class JO{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=es,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=es}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=Yv(this,e,n,0),o=!FE(e)||e!==this._$AH&&e!==Gv,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=Yv(this,a[r+c],n,c),l===Gv&&(l=this._$AH[c]),o||(o=!FE(l)||l!==this._$AH[c]),l===es?e=es:e!==es&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===es?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class fit extends JO{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===es?void 0:e}}class pit extends JO{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==es)}}let mit=class extends JO{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=Yv(this,e,n,0)??es)===Gv)return;const r=this._$AH,i=e===es&&r!==es||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==es&&(r===es||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}};class git{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Yv(this,e)}}const ak=qb.litHtmlPolyfillSupport;ak==null||ak($E,nA),(qb.litHtmlVersions??(qb.litHtmlVersions=[])).push("3.3.0");const yit=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new nA(e.insertBefore(LE(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vp=globalThis;class rS extends iy{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=yit(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Gv}}var hK;rS._$litElement$=!0,rS.finalized=!0,(hK=Vp.litElementHydrateSupport)==null||hK.call(Vp,{LitElement:rS});const ck=Vp.litElementPolyfillSupport;ck==null||ck({LitElement:rS});(Vp.litElementVersions??(Vp.litElementVersions=[])).push("4.2.0");let Kb,Zh,Jh;function Mut(t,e){Kb=document.createElement("style"),Zh=document.createElement("style"),Jh=document.createElement("style"),Kb.textContent=Ky(t).core.cssText,Zh.textContent=Ky(t).dark.cssText,Jh.textContent=Ky(t).light.cssText,document.head.appendChild(Kb),document.head.appendChild(Zh),document.head.appendChild(Jh),Bae(e)}function Bae(t){Zh&&Jh&&(t==="light"?(Zh.removeAttribute("media"),Jh.media="enabled"):(Jh.removeAttribute("media"),Zh.media="enabled"))}function vit(t){Kb&&Zh&&Jh&&(Kb.textContent=Ky(t).core.cssText,Zh.textContent=Ky(t).dark.cssText,Jh.textContent=Ky(t).light.cssText)}function Ky(t){return{core:qy`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Na(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Na((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Na((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Na((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Na((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:qy`
      :root {
        --w3m-color-mix: ${Na((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Na(Mu(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Na(Mu(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:qy`
      :root {
        --w3m-color-mix: ${Na((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Na(Mu(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Na(Mu(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Lut=qy`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Fut=qy`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,$ut=qy`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,VC={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},wit=die({id:17e3,name:"Holesky",nativeCurrency:{name:"Holesky Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://holesky.etherscan.io",apiUrl:"https://api-holesky.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:77},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",blockCreated:801613},ensUniversalResolver:{address:"0xa6AC935D4971E3CD133b950aE053bECD16fE7f3b",blockCreated:973484}},testnet:!0}),bit=die({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function rA(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Iq=rA({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),xq=rA({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});rA({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});rA({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});rA({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const _it={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},XO={getMethodsByChainNamespace(t){return _it[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case Iq.caipNetworkId:u.chains.push(Iq.deprecatedCaipNetworkId);break;case xq.caipNetworkId:u.chains.push(xq.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Aae.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class A5{constructor({provider:e,namespace:n}){this.id=Oe.CONNECTOR_ID.WALLET_CONNECT,this.name=Ph.ConnectorNamesMap[Oe.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ph.ConnectorImageIds[Oe.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=X.getCaipNetworks.bind(X),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=De.state.universalProviderConfigOverride,i=XO.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Hb.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Eit})}}const Eit=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class zae{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>X.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Oe.CONNECTOR_ID.AUTH,type:"AUTH",name:Oe.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ph.ConnectorImageIds[Oe.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){lt.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const o=i,a=(s=lt.state.preferredAccountTypes)==null?void 0:s[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof A5);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Ait extends zae{setUniversalProvider(e){this.addConnector(new A5({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>$t.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,l;if(!(e.caipNetwork&&rs.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(lt.state.balanceLoading&&e.chainId===((c=X.state.activeCaipNetwork)==null?void 0:c.id))return{balance:lt.state.balance||"0.00",symbol:lt.state.balanceSymbol||""};const i=(await lt.fetchTokenBalance()).find(u=>{var h,f;return u.chainId===`${(h=e.caipNetwork)==null?void 0:h.chainNamespace}:${e.chainId}`&&u.symbol===((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Oe.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:qse.encode(new TextEncoder().encode(r)),pubkey:i}},(a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},(c=X.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Oe.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:Vl(n.id)}]}))}catch(u){if(u.code===VC.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===VC.ERROR_INVALID_CHAIN_ID||u.code===VC.ERROR_CODE_DEFAULT||((o=(s=u==null?void 0:u.data)==null?void 0:s.originalError)==null?void 0:o.code)===VC.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Vl(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Cit{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var i,s,o,a;if(n){const c=(s=(i=X.getNetworkData(n))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(u=>u.id===r);if(c)return c;const l=(o=X.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=X.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:a[0])}return X.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>X.getCaipNetworks(n),this.getActiveChainNamespace=()=>X.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{X.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>X.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>X.state.activeChain===n||!n?X.state.activeCaipAddress:X.getAccountProp("caipAddress",n),this.setClientId=n=>{Rt.setClientId(n)},this.getProvider=n=>rr.getProvider(n),this.getProviderType=n=>rr.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=lt.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{lt.setCaipAddress(n,r)},this.setBalance=(n,r,i)=>{lt.setBalance(n,r,i)},this.setProfileName=(n,r)=>{lt.setProfileName(n,r)},this.setProfileImage=(n,r)=>{lt.setProfileImage(n,r)},this.setUser=(n,r)=>{lt.setUser(n,r),De.state.enableEmbedded&&gi.close()},this.resetAccount=n=>{lt.resetAccount(n)},this.setCaipNetwork=n=>{X.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{X.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{lt.setAllAccounts(n,r),De.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{lt.setStatus(n,r),Qt.isConnected()?Ke.setConnectionStatus("connected"):Ke.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>X.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Qt.state.allConnectors,...n];Qt.setConnectors(r)},this.fetchIdentity=n=>Rt.fetchIdentity(n),this.getReownName=n=>Aae.getNamesForAddress(n),this.getConnectors=()=>Qt.getConnectors(),this.getConnectorImage=n=>Uie.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=rr.getProviderId(r),s=n?{...n,type:i}:void 0;lt.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!X.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{lt.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{lt.removeAddressLabel(n,r)},this.getAddress=n=>X.state.activeChain===n||!n?lt.state.address:X.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>X.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{X.resetNetwork(n)},this.addConnector=n=>{Qt.addConnector(n)},this.resetWcConnection=()=>{Ar.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{lt.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{lt.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{X.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{lt.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{De.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(r!=null&&r.length)return[...new Set(r)];const i=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),Fl.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,pr.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Vs.setThemeMode(e.themeMode),e.themeVariables&&Vs.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");X.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&X.setActiveCaipNetwork(n)}initializeConnectionController(e){Ar.setWcBasic(e.basic??!1)}initializeConnectorController(){Qt.initialize(this.chainNamespaces)}initializeOptionsController(e){var o;De.setDebug(e.debug!==!1),De.setEnableWalletConnect(e.enableWalletConnect!==!1),De.setEnableWalletGuide(e.enableWalletGuide!==!1),De.setEnableWallets(e.enableWallets!==!1),De.setEIP6963Enabled(e.enableEIP6963!==!1),De.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),De.setEnableAuthLogger(e.enableAuthLogger!==!1),De.setCustomRpcUrls(e.customRpcUrls),De.setSdkVersion(e.sdkVersion),De.setProjectId(e.projectId),De.setEnableEmbedded(e.enableEmbedded),De.setAllWallets(e.allWallets),De.setIncludeWalletIds(e.includeWalletIds),De.setExcludeWalletIds(e.excludeWalletIds),De.setFeaturedWalletIds(e.featuredWalletIds),De.setTokens(e.tokens),De.setTermsConditionsUrl(e.termsConditionsUrl),De.setPrivacyPolicyUrl(e.privacyPolicyUrl),De.setCustomWallets(e.customWallets),De.setFeatures(e.features),De.setAllowUnsupportedChain(e.allowUnsupportedChain),De.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),De.setDefaultAccountTypes(e.defaultAccountTypes);const n=Ke.getPreferredAccountTypes(),r={...De.state.defaultAccountTypes,...n};lt.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),De.setMetadata(e.metadata),De.setDisableAppend(e.disableAppend),De.setEnableEmbedded(e.enableEmbedded),De.setSIWX(e.siwx),!e.projectId){jp.open(Ap.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===Oe.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");De.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=El.getUnsupportedNetwork(`${n}:${e}`);X.setActiveCaipNetwork(r)}}getDefaultNetwork(){return El.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return El.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return El.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?El.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=X.state.activeChain,n=this.getAdapter(e),r=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),Ke.setConnectedNamespaces([...X.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Qt.setConnectorId(Or.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o})=>{var p,g,y,v,b,_;const a=X.state.activeChain,c=s||a,l=this.getAdapter(c);if(s&&s!==a&&!o){const A=this.getCaipNetworks().find(I=>I.chainNamespace===s);A&&this.setCaipNetwork(A)}if(!l)throw new Error("Adapter not found");const u=this.getCaipNetwork(c),h=await l.connect({id:e,info:n,type:r,provider:i,chainId:(o==null?void 0:o.id)||(u==null?void 0:u.id),rpcUrl:((y=(g=(p=o==null?void 0:o.rpcUrls)==null?void 0:p.default)==null?void 0:g.http)==null?void 0:y[0])||((_=(b=(v=u==null?void 0:u.rpcUrls)==null?void 0:v.default)==null?void 0:b.http)==null?void 0:_[0])});if(!h)return;Ke.addConnectedNamespace(c),this.syncProvider({...h,chainNamespace:c});const{accounts:f}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(f,c),this.setStatus("connected",c)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=X.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Ke.addConnectedNamespace(s))},disconnect:async e=>{const n=e||X.state.activeChain,r=this.getAdapter(n),i=rr.getProvider(n),s=rr.getProviderId(n);await(r==null?void 0:r.disconnect({provider:i,providerType:s})),Ke.removeConnectedNamespace(n),rr.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(X.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:lt.state.address,provider:rr.getProvider(X.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Oe.CHAIN.EVM){const n=this.getAdapter(X.state.activeChain),r=rr.getProvider(X.state.activeChain),i=await(n==null?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:r}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Oe.CHAIN.EVM){const n=this.getAdapter(X.state.activeChain),r=rr.getProvider(X.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var r;const e=this.getAdapter(X.state.activeChain),n=await(e==null?void 0:e.getProfile({address:lt.state.address,chainId:Number((r=this.getCaipNetwork())==null?void 0:r.id)}));return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>{const n=this.getAdapter(X.state.activeChain),r=this.getCaipNetwork();if(!r)return!1;const i=await(n==null?void 0:n.getEnsAddress({name:e,caipNetwork:r}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const n=this.getAdapter(X.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=rr.getProvider(X.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(X.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(X.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(X.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ar.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(rr.getProviderId(X.state.activeChain)===Or.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=rr.getProvider(n),s=rr.getProviderId(n);if(e.chainNamespace===X.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===Or.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=zd.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new Ait({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Ke.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Ke.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=X.state.activeChain===e,c=X.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("pendingTransactions",()=>{const i=lt.state.address,s=X.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=X.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=X.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=X.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Qt.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Oe.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Oe.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const n=this.getAdapter(e),r=Qt.getConnectorId(e),i=this.getCaipNetwork(e),s=Qt.getConnectors(e).find(l=>l.id===r);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const l=await(n==null?void 0:n.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(c=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(l){const u=await(n==null?void 0:n.getAccounts({namespace:e,id:s.id}));u&&u.accounts.length>0?this.setAllAccounts(u.accounts,e):this.setAllAccounts([$t.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,c,l,u,h;const r=this.getAdapter(n),i=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[n])==null?void 0:u.accounts)||[],s=(h=X.state.activeCaipNetwork)==null?void 0:h.id,o=i.find(f=>{const{chainId:p}=zd.parseCaipAddress(f);return p===(s==null?void 0:s.toString())})||i[0];if(o){const f=zd.validateCaipAddress(o),{chainId:p,address:g}=zd.parseCaipAddress(f);if(rr.setProviderId(n,Or.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&X.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==Oe.CHAIN.EVM){const y=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:X.state.activeCaipNetwork});rr.setProvider(n,y)}else rr.setProvider(n,this.universalProvider);Qt.setConnectorId(Oe.CONNECTOR_ID.WALLET_CONNECT,n),Ke.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:g,chainId:p,chainNamespace:n})}else this.setStatus("disconnected",n);await X.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,i,s,o,a;const n=(a=(o=(s=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=zd.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>$t.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){rr.setProviderId(i,e),rr.setProvider(i,n),Qt.setConnectorId(r,i)}async syncAccount(e){var h,f;const n=e.chainNamespace===X.state.activeChain,r=X.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=Ke.getActiveNetworkProps(),c=s||a,l=((h=X.state.activeCaipNetwork)==null?void 0:h.name)===Oe.UNSUPPORTED_NETWORK_NAME,u=X.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let p=this.getCaipNetworks().find(v=>v.id.toString()===c.toString()),g=this.getCaipNetworks().find(v=>v.chainNamespace===o);if(!u&&!p&&!g){const v=this.getApprovedCaipNetworkIds()||[],b=v.find(A=>{var I;return((I=zd.parseCaipNetworkId(A))==null?void 0:I.chainId)===c.toString()}),_=v.find(A=>{var I;return((I=zd.parseCaipNetworkId(A))==null?void 0:I.chainNamespace)===o});p=this.getCaipNetworks().find(A=>A.caipNetworkId===b),g=this.getCaipNetworks().find(A=>A.caipNetworkId===_||"deprecatedCaipNetworkId"in A&&A.deprecatedCaipNetworkId===_)}const y=p||g;(y==null?void 0:y.chainNamespace)===X.state.activeChain?De.state.enableNetworkSwitch&&!De.state.allowUnsupportedChain&&((f=X.state.activeCaipNetwork)==null?void 0:f.name)===Oe.UNSUPPORTED_NETWORK_NAME?X.showUnsupportedChainUI():this.setCaipNetwork(y):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),QO.isLowerCaseMatch(i,lt.state.address)||this.syncAccountInfo(i,y==null?void 0:y.id,o),n?await this.syncBalance({address:i,chainId:y==null?void 0:y.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=Qt.getConnectorId(e),r=rr.getProviderId(e);if(r===Or.CONNECTOR_TYPE_ANNOUNCED||r===Or.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===Or.CONNECTOR_TYPE_WALLET_CONNECT){const s=rr.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n)if(n===Oe.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Oe.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:n},e)}async syncBalance(e){!hE.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=X.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});this.setBalance(o.balance,o.symbol,r)}}async initializeUniversalAdapter(){var r,i,s,o,a,c,l,u,h,f;const e=Ntt.createLogger((p,...g)=>{p&&this.handleAlertError(p),console.error(...g)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(h=this.options)==null?void 0:h.metadata.icons:[""]},logger:e};De.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await bae.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Ar.setUri(e)}),this.universalProvider.on("connect",Ar.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Ar.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(XO.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&$t.isCaipAddress(r[0])&&this.syncAccount(zd.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&$t.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){pr.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Ap.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=Ap.ALERT_ERRORS[o];a&&(jp.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Ar.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return gi.open({...e,data:{swap:e.arguments}})}return gi.open(e)}async close(){await this.injectModalUi(),gi.close()}setLoading(e,n){gi.setLoading(e,n)}async disconnect(e){await Ar.disconnect(e)}getError(){return""}getChainId(){var e;return(e=X.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){jp.open(Ap.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await X.switchActiveNetwork(n)}getWalletProvider(){return X.state.activeChain?rr.state.providers[X.state.activeChain]:null}getWalletProviderType(){return rr.getProviderId(X.state.activeChain)}subscribeProviders(e){return rr.subscribeProviders(e)}getThemeMode(){return Vs.state.themeMode}getThemeVariables(){return Vs.state.themeVariables}setThemeMode(e){Vs.setThemeMode(e),Bae(Vs.state.themeMode)}setTermsConditionsUrl(e){De.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){De.setPrivacyPolicyUrl(e)}setThemeVariables(e){Vs.setThemeVariables(e),vit(Vs.state.themeVariables)}subscribeTheme(e){return Vs.subscribe(e)}getWalletInfo(){return lt.state.connectedWalletInfo}getAccount(e){var s;const n=Qt.getAuthConnector(e),r=X.getAccountData(e),i=X.state.activeChain;if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:$t.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n?{user:r.user?{...r.user,username:Ke.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(s=r.preferredAccountTypes)==null?void 0:s[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?X.subscribeChainProp("accountState",r,n):X.subscribe(r),Qt.subscribe(r)}subscribeNetwork(e){return X.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return lt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){lt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){X.subscribeKey("activeCaipNetwork",e)}getState(){return Fl.state}subscribeState(e){return Fl.subscribe(e)}showErrorMessage(e){_s.showError(e)}showSuccessMessage(e){_s.showSuccess(e)}getEvent(){return{...pr.state}}subscribeEvents(e){return pr.subscribe(e)}replace(e){Zn.replace(e)}redirect(e){Zn.push(e)}popTransactionStack(e){Zn.popTransactionStack(e)}isOpen(){return gi.state.open}isTransactionStackEmpty(){return Zn.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=Zn.state.transactionStack[Zn.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){De.setFeatures(e)}updateOptions(e){const r={...De.state||{},...e};De.setOptions(r)}setConnectMethodsOrder(e){De.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){De.setWalletFeaturesOrder(e)}setCollapseWallets(e){De.setCollapseWallets(e)}setSocialsOrder(e){De.setSocialsOrder(e)}getConnectMethodsOrder(){return v3.getConnectOrderMethod(De.state.features,Qt.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||X.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&X.removeNetwork(e,n)}}let Pq=!1;class Tit extends Cit{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{ia.checkIfRequestExists(n)?ia.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Ii.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Ii.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const i=ia.checkIfRequestIsSafe(r),s=lt.state.address,o=X.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=X.state.activeChain;Qt.getConnectorId(n)===Oe.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(async n=>{var a,c;const r=X.state.activeChain,i=r===Oe.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,s=n.preferredAccountType||((a=lt.state.preferredAccountTypes)==null?void 0:a[r])||De.state.defaultAccountTypes[r];QO.isLowerCaseMatch(n.address,lt.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser({...lt.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(s,r);const o=(c=n.accounts)==null?void 0:c.map(l=>{var u;return $t.createAccount(r,l.address,l.type||((u=lt.state.preferredAccountTypes)==null?void 0:u[r])||De.state.defaultAccountTypes[r])});this.setAllAccounts(o||[$t.createAccount(r,n.address,n.preferredAccountType||s)],r),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...lt.state.user||{},username:n},X.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,X.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,X.state.activeChain)})}async syncAuthConnector(e,n){var u,h,f,p;const r=Oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const s=e.getEmail(),o=e.getUsername();this.setUser({...((u=lt.state)==null?void 0:u.user)||{},username:o,email:s},X.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=Vs.getSnapshot(),l=De.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:Mu(c.themeVariables,c.themeMode)}),n&&r&&(a&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:Oe.CONNECTOR_ID.AUTH,info:{name:Oe.CONNECTOR_ID.AUTH},type:Or.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=X.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):Qt.getConnectorId(n)===Oe.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Ke.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!$t.isTelegram())return;const r=Ke.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;lt.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=Qt.getAuthConnector();r&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await Ar.connectExternal(o,o.chain),Ke.setConnectedSocialProvider(r),Ke.removeTelegramSocialProvider(),pr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var o,a,c,l,u,h,f,p,g,y,v,b,_;if(!Oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?rs.DEFAULT_FEATURES.email:(l=(c=this.options)==null?void 0:c.features)==null?void 0:l.email,i=(h=(u=this.options)==null?void 0:u.features)!=null&&h.socials?((g=(p=(f=this.options)==null?void 0:f.features)==null?void 0:p.socials)==null?void 0:g.length)>0:rs.DEFAULT_FEATURES.socials,s=r||i;!this.authProvider&&((y=this.options)!=null&&y.projectId)&&s&&(this.authProvider=zp.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(v=this.getCaipNetwork(e))==null?void 0:v.caipNetworkId,onTimeout:()=>{jp.open(Ap.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),Fl.subscribeOpen(A=>{var I;!A&&this.isTransactionStackEmpty()&&((I=this.authProvider)==null||I.rejectRpcRequests())}),e===Oe.CHAIN.EVM&&((b=lt.state.preferredAccountTypes)!=null&&b.eip155)&&this.authProvider.setPreferredAccount((_=lt.state.preferredAccountTypes)==null?void 0:_.eip155),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,i;this.createAuthProvider(e),this.authProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||i.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Bt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const n=X.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===X.state.activeChain&&i){const a=this.getAdapter(r),c=rr.getProvider(r),l=rr.getProviderId(r);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:l})),this.setCaipNetwork(e)}else{const c=rr.getProviderId(n)===Or.CONNECTOR_TYPE_AUTH,l=rr.getProviderId(r),u=l===Or.CONNECTOR_TYPE_AUTH,h=Oe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((c||u)&&h)try{X.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:Oe.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Or.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===Or.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const i=`${r}:${n}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(r!==Oe.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,r),this.setProfileImage(c,r),!a){const l=this.getAdapter(r),u=await(l==null?void 0:l.getProfile({address:e,chainId:Number(n)}));u!=null&&u.profileName?(this.setProfileName(u.profileName,r),u.profileImage&&this.setProfileImage(u.profileImage,r)):(await this.syncReownName(e,r),this.setProfileImage(null,r))}}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=rr.getProviderId(e);if(n===Or.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=Ke.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!Pq&&$t.isClient()){const e={...rs.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(Po(()=>import("./embedded-wallet-4b051e13.js"),["assets/embedded-wallet-4b051e13.js","assets/if-defined-1a194203.js","assets/index-9f641e3f.js","assets/index-8982d0bf.js","assets/index-a3bd8de6.js","assets/index-e24c3c8a.js","assets/index-db713312.js","assets/index-9aaca58d.js","assets/index-8bfa1e94.js","assets/index-cca4c4e8.js"])),e.email&&n.push(Po(()=>import("./email-751d32ef.js"),["assets/email-751d32ef.js","assets/if-defined-1a194203.js","assets/index-cca4c4e8.js","assets/index-e24c3c8a.js","assets/index-8bfa1e94.js","assets/index-a3bd8de6.js","assets/index-f3d79503.js","assets/index-db713312.js"])),e.socials&&n.push(Po(()=>import("./socials-e86f616c.js"),["assets/socials-e86f616c.js","assets/if-defined-1a194203.js","assets/index-6fc8ad2a.js","assets/index-a3bd8de6.js","assets/index-e24c3c8a.js","assets/index-e9a38e6c.js","assets/index-8bfa1e94.js","assets/index-cca4c4e8.js","assets/index-b9b51093.js","assets/index-8982d0bf.js","assets/browser-e933942f.js","assets/index-54d11564.js"])),e.swaps&&n.push(Po(()=>import("./swaps-0280091d.js"),["assets/swaps-0280091d.js","assets/if-defined-1a194203.js","assets/index-a3bd8de6.js","assets/index-e24c3c8a.js","assets/index-e366227a.js","assets/index-3fed49c8.js","assets/index-543ccfb4.js","assets/index-8982d0bf.js","assets/index-8bfa1e94.js","assets/index-54d11564.js","assets/index-db713312.js"])),e.send&&n.push(Po(()=>import("./send-6ee5963b.js"),["assets/send-6ee5963b.js","assets/if-defined-1a194203.js","assets/index-a3bd8de6.js","assets/index-e24c3c8a.js","assets/index-8bfa1e94.js","assets/index-cca4c4e8.js","assets/index-543ccfb4.js","assets/index-8982d0bf.js","assets/index-db713312.js","assets/index-cd8490db.js"])),e.receive&&n.push(Po(()=>import("./receive-9da56e4e.js"),["assets/receive-9da56e4e.js","assets/if-defined-1a194203.js","assets/index-5280a4e0.js","assets/index-8982d0bf.js","assets/index-b9b51093.js","assets/browser-e933942f.js"])),e.onramp&&n.push(Po(()=>import("./onramp-263c3bdf.js"),["assets/onramp-263c3bdf.js","assets/if-defined-1a194203.js","assets/index-91a45aae.js","assets/index-54d11564.js","assets/index-8bfa1e94.js","assets/index-8982d0bf.js","assets/index-e24c3c8a.js","assets/index-2e71ce37.js","assets/index-6fc8ad2a.js","assets/index-a3bd8de6.js","assets/index-cca4c4e8.js","assets/index-db713312.js"])),e.history&&n.push(Po(()=>import("./transactions-fa06a851.js"),["assets/transactions-fa06a851.js","assets/if-defined-1a194203.js","assets/index-a7e9bda4.js","assets/index-91a45aae.js","assets/index-54d11564.js","assets/index-8bfa1e94.js","assets/index-cca4c4e8.js","assets/index-8982d0bf.js"]))),await Promise.all([...n,Po(()=>import("./index-599dcd21.js"),["assets/index-599dcd21.js","assets/if-defined-1a194203.js","assets/index-8982d0bf.js","assets/index-e24c3c8a.js","assets/index-cd8490db.js","assets/index-8bfa1e94.js","assets/index-2263fbbc.js","assets/index-3fed49c8.js","assets/index-9aaca58d.js","assets/index-2e71ce37.js","assets/index-a3bd8de6.js","assets/index-a7e9bda4.js","assets/index-91a45aae.js","assets/index-54d11564.js","assets/index-cca4c4e8.js","assets/index-e366227a.js","assets/index-db713312.js","assets/index-f3d79503.js","assets/index-6fc8ad2a.js","assets/index-e9a38e6c.js","assets/index-9f641e3f.js","assets/index-5280a4e0.js","assets/index-b9b51093.js","assets/browser-e933942f.js"]),Po(()=>import("./w3m-modal-e0fb76a7.js"),["assets/w3m-modal-e0fb76a7.js","assets/if-defined-1a194203.js","assets/index-9aaca58d.js","assets/index-8982d0bf.js","assets/index-8bfa1e94.js","assets/index-e24c3c8a.js","assets/index-3fed49c8.js","assets/index-2263fbbc.js"])]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!De.state.disableAppend&&!De.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}Pq=!0}}}const Sit="1.7.3";let lk;function Iit(t){return lk||(lk=new Tit({...t,sdkVersion:$t.generateSdkVersion(t.adapters??[],"react",Sit)})),lk}function xit({tourPrice:t,selectedCalendarDate:e,tourName:n,slugValue:r}){const[i,s]=M.useState(0),[o,a]=M.useState(0),[c,l]=M.useState(0),[u,h]=M.useState(0),[f,p]=M.useState([null,null]),{isConnected:g}=Ott();M.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]);function y(A){A=="Adults"&&i?s(I=>I-1):A=="Kids"&&o?a(I=>I-1):A=="Children"&&c&&l(I=>I-1)}function v(A){A=="Adults"?s(I=>I+1):A=="Kids"?a(I=>I+1):A=="Children"&&l(I=>I+1)}M.useEffect(()=>{const A=(c+o+i)*Number(t||0)||0;h(A)},[c,o,i,t]);const b=async()=>{const I=Zte().currentUser,P=i+o+c;if(!I){vt.error("Please login to book");return}if(!f[0]||!f[1]){vt.error("Please select both Date and Time");return}if(P<1){vt.error("At least one ticket must be selected");return}const D={userId:I.uid,tourName:n,slugValue:r,totalPrice:u,tickets:P,date:f[0],time:f[1],createdAt:kNe(),tourBookedAt:new Date().toISOString()};console.log(D);try{const T=await Lj(pw(zl,"bookings"),D);vt.success("Booked successfully!"),s(0),a(0),l(0),console.log("Booked...",D),console.log(T)}catch(T){vt.error(`Error in booking: ${T}`)}};function _(A){p(A)}return C.jsxs(C.Fragment,{children:[C.jsxs("h3",{className:"tour-booking-price-title",children:[t!="NaN"?`${t} ETH`:"Loading... "," ",C.jsx("span",{children:"/ person"})]}),C.jsxs("div",{className:"tour-booking-input-details",children:[C.jsxs("div",{className:"",children:[C.jsx("label",{className:"book-now-minor-heading",children:"Date"}),C.jsx(aFe,{sendDateTime:_,selectedCalendarDate:e})," "]}),C.jsx("span",{className:"book-now-minor-heading ticket-heading",children:"Ticket"}),C.jsxs("div",{className:"booking-people-category",children:[C.jsx("label",{htmlFor:"adult",className:"ticket-label",children:"Adults (18+ years)"}),C.jsxs("div",{className:"booking-detail-btn-group",children:[C.jsx("button",{className:"increment-decrement-btn",onClick:()=>y("Adults"),children:"-"}),C.jsx("input",{className:"increment-decrement-btn",type:"text",value:i}),C.jsx("button",{className:"increment-decrement-btn",onClick:()=>v("Adults"),children:"+"})]})]}),C.jsxs("div",{className:"booking-people-category",children:[C.jsx("label",{htmlFor:"kids",className:"ticket-label",children:"Kids (12+ years)"}),C.jsxs("div",{className:"booking-detail-btn-group",children:[C.jsx("button",{className:"increment-decrement-btn",onClick:()=>y("Kids"),children:"-"}),C.jsx("input",{className:"increment-decrement-btn",type:"text",value:o}),C.jsx("button",{className:"increment-decrement-btn",onClick:()=>v("Kids"),children:"+"})]})]}),C.jsxs("div",{className:"booking-people-category",children:[C.jsx("label",{htmlFor:"Children",className:"ticket-label",children:"Children (3+ years)"}),C.jsxs("div",{className:"booking-detail-btn-group",children:[C.jsx("button",{className:"increment-decrement-btn",onClick:()=>y("Children"),children:"-"}),C.jsx("input",{className:"increment-decrement-btn",type:"text",value:c}),C.jsx("button",{className:"increment-decrement-btn",onClick:()=>v("Children"),children:"+"})]})]})]}),C.jsxs("div",{className:"booking-detail-total",children:[C.jsx("span",{className:"ticket-label",children:"Total"}),C.jsxs("span",{className:"project-theme-color book-now-total-price",children:[u.toFixed(5)," ETH"]})]}),C.jsx("br",{}),C.jsx("div",{className:"wallet-btn",children:g?C.jsx("span",{children:C.jsx(oBe,{onSuccess:b,totalEthPrice:u,makePayment:!!(f[0]&&f[1]&&(o||i||c))})}):C.jsx("span",{children:C.jsx("appkit-button",{})})})]})}function z0({ratingName:t="",onRatingChange:e,resetSignal:n}){const[r,i]=M.useState(0),[s,o]=M.useState(0);M.useEffect(()=>{i(0),o(0)},[n]);const a=c=>{const l=r===c+1?0:c+1;i(l),e(t,l)};return C.jsxs("div",{className:"star-rating-container",children:[t&&C.jsx("span",{className:"project-normal-font",children:t}),C.jsx("span",{className:"star-container",children:[...Array(5)].map((c,l)=>{let u="grey-star";return r>0?u=r>l?"red-star":"grey-star":s>0&&(u=s>l?"hover-star":"grey-star"),C.jsx("i",{className:`fa-solid fa-star ${u}`,onClick:()=>a(l),onMouseEnter:()=>o(l+1),onMouseLeave:()=>o(0)},l)})})]})}function C5({ratings:t,onReset:e,collectionType:n}){async function r(i,{resetForm:s}){const o={name:i.userName,email:i.emailAddress,textContent:i.textContent,...t&&{ratings:t}};try{await Lj(pw(zl,n),o),vt.success("Submitted successfully!"),console.log(o),s(),e&&e()}catch(a){vt.error(`Error: ${a}`)}}return C.jsx("div",{className:"adding-comment-wrapper",children:C.jsx(d1,{initialValues:{userName:"",emailAddress:"",textContent:""},validationSchema:aw({userName:Mo().required("Required"),emailAddress:Mo().email("Invalid email").required("Required"),textContent:Mo().required("Required")}),onSubmit:r,children:({errors:i,touched:s})=>C.jsxs(ow,{children:[C.jsxs("div",{className:"name-email-container",children:[C.jsxs("div",{children:[C.jsx(Tc,{name:"userName",type:"text",placeholder:"Your name",className:"name-email-field"}),i.userName&&s.userName?C.jsx("div",{className:"error",children:i.userName}):null]}),C.jsxs("div",{children:[C.jsx(Tc,{name:"emailAddress",type:"email",placeholder:"Email address",className:"name-email-field"}),i.emailAddress&&s.emailAddress?C.jsx("div",{className:"error",children:i.emailAddress}):null]})]}),C.jsxs("div",{children:[C.jsx(Tc,{as:"textarea",name:"textContent",placeholder:"Write Something",className:"comment-field",rows:5}),i.textContent&&s.textContent?C.jsx("div",{className:"error",children:i.textContent}):null]}),C.jsx("br",{}),C.jsx("button",{type:"submit",className:"button-hovering-color",children:"Submit"})]})})})}function Pit(){const[t,e]=M.useState({Services:0,"Value for money":0,Location:0,Facilities:0,Staff:0}),[n,r]=M.useState(0),i=(o,a)=>{e(c=>({...c,[o]:a}))},s=()=>{e({Services:0,"Value for money":0,Location:0,Facilities:0,Staff:0}),r(o=>o+1)};return C.jsxs("div",{className:"add-review-container",children:[C.jsx("h5",{children:"Add a review"}),C.jsxs("div",{className:"review-rating-container",children:[C.jsx(z0,{ratingName:"Services",onRatingChange:i,resetSignal:n}),C.jsx(z0,{ratingName:"Value for money",onRatingChange:i,resetSignal:n}),C.jsx(z0,{ratingName:"Location",onRatingChange:i,resetSignal:n}),C.jsx(z0,{ratingName:"Facilities",onRatingChange:i,resetSignal:n}),C.jsx(z0,{ratingName:"Staff",onRatingChange:i,resetSignal:n})]}),C.jsx("div",{className:"adding-tour-review",children:C.jsx(C5,{ratings:t,onReset:s,collectionType:"tour-review"})})]})}function Gg({tourRating:t,tourRatingName:e}){return C.jsxs("div",{className:"review-item-container",children:[C.jsx("p",{children:e}),C.jsxs("span",{children:[C.jsx("progress",{value:t,max:5})," ",C.jsxs("span",{children:[" ",t]})]})]})}function Oit({tourId:t}){var a,c;const{data:e}=LIe(t),n=e==null?void 0:e.data[0],r=((a=n==null?void 0:n.user)==null?void 0:a.name)||"Anonymous User",i=(n==null?void 0:n.numericRating)||"0",s=n==null?void 0:n.content,o=(c=n==null?void 0:n.user)==null?void 0:c.avatar;return n?C.jsxs("div",{className:"showing-review-container",children:[C.jsx("h5",{children:"Showing 1 review"}),C.jsxs("div",{className:"showing-one-review",children:[C.jsx("div",{className:"showing-reviewer-image",children:o?C.jsx("img",{className:"reviewer-image",src:o}):C.jsx("img",{className:"reviewer-image",src:_t.BLANK_PROFILE})}),C.jsxs("div",{className:"showing-review-text-info",children:[C.jsx("span",{className:"review-date project-normal-font",children:"March 20, 2022"}),C.jsx("h6",{className:"reviewer-name project-heading-font",children:r}),C.jsxs("div",{className:"reviewer-rating",children:[C.jsxs("span",{className:"rating-star-class",children:[C.jsx("i",{className:"fa fa-star"})," ",i," ",C.jsx("br",{})]}),C.jsxs("span",{className:"tour-additional-info-text",children:["12 reviews ",C.jsx("br",{})]})]}),C.jsx("p",{className:"review-description project-normal-font",children:s})]})]})]}):""}function Dit({tourRating:t,tourId:e}){const n=typeof t=="number"?t.toString():t;function r(i){return typeof i=="number"?i>=4?"Excellent":i<3?"Bad":"Good":"N/A"}return C.jsxs("div",{className:"tour-review-section",children:[t?C.jsx(C.Fragment,{children:C.jsxs("div",{className:"average-review-section",children:[C.jsxs("div",{className:"total-average-reviews",children:[C.jsx("h2",{className:"project-heading-font",children:n}),C.jsxs("p",{children:[C.jsx("i",{className:"fa-solid fa-star"}),r(Number(n))]})]}),C.jsxs("div",{className:"review-item",children:[C.jsx(Gg,{tourRating:n,tourRatingName:"Service"}),C.jsx(Gg,{tourRating:n,tourRatingName:"Location"}),C.jsx(Gg,{tourRating:n,tourRatingName:"Price"})]}),C.jsxs("div",{className:"review-item",children:[C.jsx(Gg,{tourRating:n,tourRatingName:"Food"}),C.jsx(Gg,{tourRating:n,tourRatingName:"Amenities"}),C.jsx(Gg,{tourRating:n,tourRatingName:"Quality"})]})]})}):"",C.jsx(Oit,{tourId:e}),C.jsx(Pit,{})]})}function Vae(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Vae(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function eD(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Vae(t))&&(r&&(r+=" "),r+=e);return r}const Nit=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!Rit(i,s)&&r||Object.defineProperty(t,n,s)},Rit=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},kit=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},Mit=(t,e)=>`/* Wrapped ${t}*/
${e}`,Lit=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Fit=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),$it=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=Mit.bind(null,r,e.toString());Object.defineProperty(i,"name",Fit),Object.defineProperty(t,"toString",{...Lit,value:i})},jit=(t,e,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=t;for(const i of Reflect.ownKeys(e))Nit(t,e,i,n);return kit(t,e),$it(t,e,r),t};var Uit=jit,b3={exports:{}},Bit=()=>{const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t};(function(t,e){var n=io&&io.__awaiter||function(o,a,c,l){return new(c||(c=Promise))(function(u,h){function f(y){try{g(l.next(y))}catch(v){h(v)}}function p(y){try{g(l.throw(y))}catch(v){h(v)}}function g(y){y.done?u(y.value):new c(function(v){v(y.value)}).then(f,p)}g((l=l.apply(o,a||[])).next())})},r=io&&io.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(Bit);function s(o,a="maxAge"){let c,l,u;const h=()=>n(this,void 0,void 0,function*(){if(c!==void 0)return;const g=y=>n(this,void 0,void 0,function*(){u=i.default();const v=y[1][a]-Date.now();if(v<=0){o.delete(y[0]),u.resolve();return}return c=y[0],l=setTimeout(()=>{o.delete(y[0]),u&&u.resolve()},v),typeof l.unref=="function"&&l.unref(),u.promise});try{for(const y of o)yield g(y)}catch{}c=void 0}),f=()=>{c=void 0,l!==void 0&&(clearTimeout(l),l=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},p=o.set.bind(o);return o.set=(g,y)=>{o.has(g)&&o.delete(g);const v=p(g,y);return c&&c===g&&f(),h(),v},h(),o}e.default=s,t.exports=s,t.exports.default=s})(b3,b3.exports);var zit=b3.exports;const Vit=Uit,Hit=zit,uk=new WeakMap,Hae=new WeakMap,Ex=(t,{cacheKey:e,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&Hit(n);const i=function(...s){const o=e?e(s):s[0],a=n.get(o);if(a)return a.data;const c=t.apply(this,s);return n.set(o,{data:c,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),c};return Vit(i,t,{ignoreNonConfigurable:!0}),Hae.set(i,n),i};Ex.decorator=(t={})=>(e,n,r)=>{const i=e[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!uk.has(this)){const s=Ex(i,t);return uk.set(this,s),s}return uk.get(this)}};Ex.clear=t=>{const e=Hae.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var Wit=Ex;const Wae=cs(Wit);function qit(t){return typeof t=="string"}function Kit(t,e,n){return n.indexOf(t)===e}function Git(t){return t.toLowerCase()===t}function Oq(t){return t.indexOf(",")===-1?t:t.split(",")}function _3(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return _3(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return _3(n)}if(t.indexOf("-")===-1||!Git(t))return t;var i=t.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function Yit(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],c=[],l=0,u=a;l<u.length;l++){var h=u[l];c=c.concat(Oq(h))}var f=navigator.language,p=f&&Oq(f);o=o.concat(c,p)}return r&&o.push(s),o.filter(qit).map(_3).filter(Kit)}var Qit=Wae(Yit,{cacheKey:JSON.stringify});function Zit(t){return Qit(t)[0]||null}var qae=Wae(Zit,{cacheKey:JSON.stringify});function Id(t,e,n){return function(i,s){s===void 0&&(s=n);var o=t(i)+s;return e(o)}}function iA(t){return function(n){return new Date(t(n).getTime()-1)}}function sA(t,e){return function(r){return[t(r),e(r)]}}function zr(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function Nf(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function tD(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Dw(t){var e=zr(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Jit=Id(zr,Dw,-100),Kae=Id(zr,Dw,100),T5=iA(Kae),Xit=Id(zr,T5,-100),Gae=sA(Dw,T5);function Rf(t){var e=zr(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Yae=Id(zr,Rf,-10),S5=Id(zr,Rf,10),nD=iA(S5),Qae=Id(zr,nD,-10),Zae=sA(Rf,nD);function Nw(t){var e=zr(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var Jae=Id(zr,Nw,-1),I5=Id(zr,Nw,1),rD=iA(I5),Xae=Id(zr,rD,-1),est=sA(Nw,rD);function x5(t,e){return function(r,i){i===void 0&&(i=e);var s=zr(r),o=Nf(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),t(a)}}function Xm(t){var e=zr(t),n=Nf(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}var ece=x5(Xm,-1),P5=x5(Xm,1),oA=iA(P5),tce=x5(oA,-1),tst=sA(Xm,oA);function nst(t,e){return function(r,i){i===void 0&&(i=e);var s=zr(r),o=Nf(r),a=tD(r)+i,c=new Date;return c.setFullYear(s,o,a),c.setHours(0,0,0,0),t(c)}}function aA(t){var e=zr(t),n=Nf(t),r=tD(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}var rst=nst(aA,1),O5=iA(rst),ist=sA(aA,O5);function nce(t){return tD(oA(t))}var Ss={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},sst={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},D5=[0,1,2,3,4,5,6],dk=new Map;function ost(t){return function(n,r){var i=n||qae();dk.has(i)||dk.set(i,new Map);var s=dk.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function ast(t){var e=new Date(t);return new Date(e.setHours(12))}function eg(t){return function(e,n){return ost(t)(e,ast(n))}}var cst={day:"numeric"},lst={day:"numeric",month:"long",year:"numeric"},ust={month:"long"},dst={month:"long",year:"numeric"},hst={weekday:"short"},fst={weekday:"long"},pst={year:"numeric"},mst=eg(cst),gst=eg(lst),yst=eg(ust),rce=eg(dst),vst=eg(hst),wst=eg(fst),iD=eg(pst),bst=D5[0],_st=D5[5],Dq=D5[6];function jE(t,e){e===void 0&&(e=Ss.ISO_8601);var n=t.getDay();switch(e){case Ss.ISO_8601:return(n+6)%7;case Ss.ISLAMIC:return(n+1)%7;case Ss.HEBREW:case Ss.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Est(t){var e=Dw(t);return zr(e)}function Ast(t){var e=Rf(t);return zr(e)}function E3(t,e){e===void 0&&(e=Ss.ISO_8601);var n=zr(t),r=Nf(t),i=t.getDate()-jE(t,e);return new Date(n,r,i)}function Cst(t,e){e===void 0&&(e=Ss.ISO_8601);var n=e===Ss.GREGORY?Ss.GREGORY:Ss.ISO_8601,r=E3(t,e),i=zr(t)+1,s,o;do s=new Date(i,0,n===Ss.ISO_8601?4:1),o=E3(s,e),i-=1;while(t<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function Hp(t,e){switch(t){case"century":return Dw(e);case"decade":return Rf(e);case"year":return Nw(e);case"month":return Xm(e);case"day":return aA(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Tst(t,e){switch(t){case"century":return Jit(e);case"decade":return Yae(e);case"year":return Jae(e);case"month":return ece(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ice(t,e){switch(t){case"century":return Kae(e);case"decade":return S5(e);case"year":return I5(e);case"month":return P5(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Sst(t,e){switch(t){case"decade":return Yae(e,-100);case"year":return Jae(e,-10);case"month":return ece(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Ist(t,e){switch(t){case"decade":return S5(e,100);case"year":return I5(e,10);case"month":return P5(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function sce(t,e){switch(t){case"century":return T5(e);case"decade":return nD(e);case"year":return rD(e);case"month":return oA(e);case"day":return O5(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function xst(t,e){switch(t){case"century":return Xit(e);case"decade":return Qae(e);case"year":return Xae(e);case"month":return tce(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Pst(t,e){switch(t){case"decade":return Qae(e,-100);case"year":return Xae(e,-10);case"month":return tce(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Nq(t,e){switch(t){case"century":return Gae(e);case"decade":return Zae(e);case"year":return est(e);case"month":return tst(e);case"day":return ist(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Ost(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[Hp(t,r[0]),sce(t,r[1])]}function oce(t,e,n){return n.map(function(r){return(e||iD)(t,r)}).join(" – ")}function Dst(t,e,n){return oce(t,e,Gae(n))}function ace(t,e,n){return oce(t,e,Zae(n))}function Nst(t){return t.getDay()===new Date().getDay()}function cce(t,e){e===void 0&&(e=Ss.ISO_8601);var n=t.getDay();switch(e){case Ss.ISLAMIC:case Ss.HEBREW:return n===_st||n===Dq;case Ss.ISO_8601:case Ss.GREGORY:return n===Dq||n===bst;default:throw new Error("Unsupported calendar type.")}}var sl="react-calendar__navigation";function Rst(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?rce:r,s=t.formatYear,o=s===void 0?iD:s,a=t.locale,c=t.maxDate,l=t.minDate,u=t.navigationAriaLabel,h=u===void 0?"":u,f=t.navigationAriaLive,p=t.navigationLabel,g=t.next2AriaLabel,y=g===void 0?"":g,v=t.next2Label,b=v===void 0?"»":v,_=t.nextAriaLabel,A=_===void 0?"":_,I=t.nextLabel,P=I===void 0?"›":I,D=t.prev2AriaLabel,T=D===void 0?"":D,S=t.prev2Label,x=S===void 0?"«":S,N=t.prevAriaLabel,R=N===void 0?"":N,$=t.prevLabel,j=$===void 0?"‹":$,K=t.setActiveStartDate,B=t.showDoubleView,z=t.view,Y=t.views,V=Y.indexOf(z)>0,Q=z!=="century",G=Tst(z,e),ee=Q?Sst(z,e):void 0,ne=ice(z,e),le=Q?Ist(z,e):void 0,ue=function(){if(G.getFullYear()<0)return!0;var mt=xst(z,e);return l&&l>=mt}(),re=Q&&function(){if(ee.getFullYear()<0)return!0;var mt=Pst(z,e);return l&&l>=mt}(),oe=c&&c<ne,ye=Q&&c&&c<le;function Te(){K(G,"prev")}function Be(){K(ee,"prev2")}function et(){K(ne,"next")}function tt(){K(le,"next2")}function Fe(mt){var an=function(){switch(z){case"century":return Dst(a,o,mt);case"decade":return ace(a,o,mt);case"year":return o(a,mt);case"month":return i(a,mt);default:throw new Error("Invalid view: ".concat(z,"."))}}();return p?p({date:mt,label:an,locale:a||qae()||void 0,view:z}):an}function pt(){var mt="".concat(sl,"__label");return C.jsxs("button",{"aria-label":h,"aria-live":f,className:mt,disabled:!V,onClick:n,style:{flexGrow:1},type:"button",children:[C.jsx("span",{className:"".concat(mt,"__labelText ").concat(mt,"__labelText--from"),children:Fe(e)}),B?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"".concat(mt,"__divider"),children:" – "}),C.jsx("span",{className:"".concat(mt,"__labelText ").concat(mt,"__labelText--to"),children:Fe(ne)})]}):null]})}return C.jsxs("div",{className:sl,children:[x!==null&&Q?C.jsx("button",{"aria-label":T,className:"".concat(sl,"__arrow ").concat(sl,"__prev2-button"),disabled:re,onClick:Be,type:"button",children:x}):null,j!==null&&C.jsx("button",{"aria-label":R,className:"".concat(sl,"__arrow ").concat(sl,"__prev-button"),disabled:ue,onClick:Te,type:"button",children:j}),pt(),P!==null&&C.jsx("button",{"aria-label":A,className:"".concat(sl,"__arrow ").concat(sl,"__next-button"),disabled:oe,onClick:et,type:"button",children:P}),b!==null&&Q?C.jsx("button",{"aria-label":y,className:"".concat(sl,"__arrow ").concat(sl,"__next2-button"),disabled:ye,onClick:tt,type:"button",children:b}):null]})}var Ty=globalThis&&globalThis.__assign||function(){return Ty=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ty.apply(this,arguments)},kst=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Rq(t){return"".concat(t,"%")}function N5(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,o=t.style,a=t.wrap,c=kst(t,["children","className","count","direction","offset","style","wrap"]);return C.jsx("div",Ty({className:n,style:Ty({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},c,{children:M.Children.map(e,function(l,u){var h=s&&u===0?Rq(100*s/r):null;return M.cloneElement(l,Ty(Ty({},l.props),{style:{flexBasis:Rq(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function Mst(t,e,n){return e&&e>t?e:n&&n<t?n:t}function UE(t,e){return e[0]<=t&&e[1]>=t}function Lst(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function lce(t,e){return UE(t[0],e)||UE(t[1],e)}function kq(t,e,n){var r=lce(e,t),i=[];if(r){i.push(n);var s=UE(t[0],e),o=UE(t[1],e);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function Fst(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function $st(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var p=t.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return Nq(p,n)}();if(UE(o,a)&&s.push("".concat(i,"--now")),!e||!Fst(e))return s;var c=function(){if(Array.isArray(e))return e;var p=t.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return Nq(p,e)}();Lst(c,a)?s.push("".concat(i,"--active")):lce(c,a)&&s.push("".concat(i,"--hasActive"));var l=kq(c,a,"".concat(i,"--range"));s.push.apply(s,l);var u=Array.isArray(e)?e:[e];if(r&&u.length===1){var h=r>c[0]?[c[0],r]:[r,c[0]],f=kq(h,a,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function sD(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,o=t.end,a=t.hover,c=t.offset,l=t.renderTile,u=t.start,h=t.step,f=h===void 0?1:h,p=t.value,g=t.valueType,y=[],v=u;v<=o;v+=f){var b=i(v);y.push(l({classes:$st({date:b,dateType:s,hover:a,value:p,valueType:g}),date:b}))}return C.jsx(N5,{className:e,count:r,offset:c,wrap:!0,children:y})}function oD(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,o=t.locale,a=t.maxDate,c=t.maxDateTransform,l=t.minDate,u=t.minDateTransform,h=t.onClick,f=t.onMouseOver,p=t.style,g=t.tileClassName,y=t.tileContent,v=t.tileDisabled,b=t.view,_=M.useMemo(function(){var I={activeStartDate:e,date:i,view:b};return typeof g=="function"?g(I):g},[e,i,g,b]),A=M.useMemo(function(){var I={activeStartDate:e,date:i,view:b};return typeof y=="function"?y(I):y},[e,i,y,b]);return C.jsxs("button",{className:eD(r,_),disabled:l&&u(l)>i||a&&c(a)<i||(v==null?void 0:v({activeStartDate:e,date:i,view:b})),onClick:h?function(I){return h(i,I)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:p,type:"button",children:[s?C.jsx("abbr",{"aria-label":s(o,i),children:n}):n,A]})}var A3=globalThis&&globalThis.__assign||function(){return A3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},A3.apply(this,arguments)},jst=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},hk="react-calendar__century-view__decades__decade";function Ust(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?iD:i,o=jst(t,["classes","currentCentury","formatYear"]),a=o.date,c=o.locale,l=[];return n&&l.push.apply(l,n),hk&&l.push(hk),Dw(a).getFullYear()!==r&&l.push("".concat(hk,"--neighboringCentury")),C.jsx(oD,A3({},o,{classes:l,maxDateTransform:nD,minDateTransform:Rf,view:"century",children:ace(c,s,a)}))}var C3=globalThis&&globalThis.__assign||function(){return C3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},C3.apply(this,arguments)},Mq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Bst(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,o=Mq(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=Est(e),c=a+(r?119:99);return C.jsx(sD,{className:"react-calendar__century-view__decades",dateTransform:Rf,dateType:"decade",end:c,hover:n,renderTile:function(l){var u=l.date,h=Mq(l,["date"]);return C.jsx(Ust,C3({},o,h,{activeStartDate:e,currentCentury:a,date:u}),u.getTime())},start:a,step:10,value:i,valueType:s})}var T3=globalThis&&globalThis.__assign||function(){return T3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},T3.apply(this,arguments)};function zst(t){function e(){return C.jsx(Bst,T3({},t))}return C.jsx("div",{className:"react-calendar__century-view",children:e()})}var S3=globalThis&&globalThis.__assign||function(){return S3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},S3.apply(this,arguments)},Vst=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},fk="react-calendar__decade-view__years__year";function Hst(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?iD:i,o=Vst(t,["classes","currentDecade","formatYear"]),a=o.date,c=o.locale,l=[];return n&&l.push.apply(l,n),fk&&l.push(fk),Rf(a).getFullYear()!==r&&l.push("".concat(fk,"--neighboringDecade")),C.jsx(oD,S3({},o,{classes:l,maxDateTransform:rD,minDateTransform:Nw,view:"decade",children:s(c,a)}))}var I3=globalThis&&globalThis.__assign||function(){return I3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},I3.apply(this,arguments)},Lq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Wst(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,o=Lq(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=Ast(e),c=a+(r?11:9);return C.jsx(sD,{className:"react-calendar__decade-view__years",dateTransform:Nw,dateType:"year",end:c,hover:n,renderTile:function(l){var u=l.date,h=Lq(l,["date"]);return C.jsx(Hst,I3({},o,h,{activeStartDate:e,currentDecade:a,date:u}),u.getTime())},start:a,value:i,valueType:s})}var x3=globalThis&&globalThis.__assign||function(){return x3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},x3.apply(this,arguments)};function qst(t){function e(){return C.jsx(Wst,x3({},t))}return C.jsx("div",{className:"react-calendar__decade-view",children:e()})}var P3=globalThis&&globalThis.__assign||function(){return P3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},P3.apply(this,arguments)},Kst=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Fq=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Gst="react-calendar__year-view__months__month";function Yst(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?yst:r,s=t.formatMonthYear,o=s===void 0?rce:s,a=Kst(t,["classes","formatMonth","formatMonthYear"]),c=a.date,l=a.locale;return C.jsx(oD,P3({},a,{classes:Fq(Fq([],n,!0),[Gst],!1),formatAbbr:o,maxDateTransform:oA,minDateTransform:Xm,view:"year",children:i(l,c)}))}var O3=globalThis&&globalThis.__assign||function(){return O3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},O3.apply(this,arguments)},$q=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Qst(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=$q(t,["activeStartDate","hover","value","valueType"]),o=0,a=11,c=zr(e);return C.jsx(sD,{className:"react-calendar__year-view__months",dateTransform:function(l){var u=new Date;return u.setFullYear(c,l,1),Xm(u)},dateType:"month",end:a,hover:n,renderTile:function(l){var u=l.date,h=$q(l,["date"]);return C.jsx(Yst,O3({},s,h,{activeStartDate:e,date:u}),u.getTime())},start:o,value:r,valueType:i})}var D3=globalThis&&globalThis.__assign||function(){return D3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},D3.apply(this,arguments)};function Zst(t){function e(){return C.jsx(Qst,D3({},t))}return C.jsx("div",{className:"react-calendar__year-view",children:e()})}var N3=globalThis&&globalThis.__assign||function(){return N3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},N3.apply(this,arguments)},Jst=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},HC="react-calendar__month-view__days__day";function Xst(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,o=s===void 0?mst:s,a=t.formatLongDate,c=a===void 0?gst:a,l=Jst(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=l.date,h=l.locale,f=[];return r&&f.push.apply(f,r),HC&&f.push(HC),cce(u,e)&&f.push("".concat(HC,"--weekend")),u.getMonth()!==i&&f.push("".concat(HC,"--neighboringMonth")),C.jsx(oD,N3({},l,{classes:f,formatAbbr:c,maxDateTransform:O5,minDateTransform:aA,view:"month",children:o(h,u)}))}var R3=globalThis&&globalThis.__assign||function(){return R3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},R3.apply(this,arguments)},jq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function eot(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,o=t.value,a=t.valueType,c=jq(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),l=zr(e),u=Nf(e),h=i||s,f=jE(e,n),p=h?0:f,g=(h?-f:0)+1,y=function(){if(i)return g+6*7-1;var v=nce(e);if(s){var b=new Date;b.setFullYear(l,u,v),b.setHours(0,0,0,0);var _=7-jE(b,n)-1;return v+_}return v}();return C.jsx(sD,{className:"react-calendar__month-view__days",count:7,dateTransform:function(v){var b=new Date;return b.setFullYear(l,u,v),aA(b)},dateType:"day",hover:r,end:y,renderTile:function(v){var b=v.date,_=jq(v,["date"]);return C.jsx(Xst,R3({},c,_,{activeStartDate:e,calendarType:n,currentMonthIndex:u,date:b}),b.getTime())},offset:p,start:g,value:o,valueType:a})}var uce="react-calendar__month-view__weekdays",pk="".concat(uce,"__weekday");function tot(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?vst:n,i=t.formatWeekday,s=i===void 0?wst:i,o=t.locale,a=t.onMouseLeave,c=new Date,l=Xm(c),u=zr(l),h=Nf(l),f=[],p=1;p<=7;p+=1){var g=new Date(u,h,p-jE(l,e)),y=s(o,g);f.push(C.jsx("div",{className:eD(pk,Nst(g)&&"".concat(pk,"--current"),cce(g,e)&&"".concat(pk,"--weekend")),children:C.jsx("abbr",{"aria-label":y,title:y,children:r(o,g).replace(".","")})},p))}return C.jsx(N5,{className:uce,count:7,onFocus:a,onMouseOver:a,children:f})}var Ax=globalThis&&globalThis.__assign||function(){return Ax=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ax.apply(this,arguments)},Uq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Bq="react-calendar__tile";function not(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=C.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,o=t.weekNumber,a=Uq(t,["date","onClickWeekNumber","weekNumber"]);return C.jsx("button",Ax({},a,{className:Bq,onClick:function(c){return s(o,i,c)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var a=Uq(t,["date","onClickWeekNumber","weekNumber"]);return C.jsx("div",Ax({},a,{className:Bq,children:r}))}}function rot(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=function(){if(s)return 6;var l=nce(e),u=jE(e,n),h=l-(7-u);return 1+Math.ceil(h/7)}(),a=function(){for(var l=zr(e),u=Nf(e),h=tD(e),f=[],p=0;p<o;p+=1)f.push(E3(new Date(l,u,h+p*7),n));return f}(),c=a.map(function(l){return Cst(l,n)});return C.jsx(N5,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(l,u){var h=a[u];if(!h)throw new Error("date is not defined");return C.jsx(not,{date:h,onClickWeekNumber:r,weekNumber:l},l)})})}var k3=globalThis&&globalThis.__assign||function(){return k3=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},k3.apply(this,arguments)},iot=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function sot(t){if(t)for(var e=0,n=Object.entries(sst);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return Ss.ISO_8601}function oot(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,o=s===void 0?sot(n):s,a=t.formatShortWeekday,c=t.formatWeekday,l=t.onClickWeekNumber,u=t.showWeekNumbers,h=iot(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return C.jsx(tot,{calendarType:o,formatShortWeekday:a,formatWeekday:c,locale:n,onMouseLeave:r})}function p(){return u?C.jsx(rot,{activeStartDate:e,calendarType:o,onClickWeekNumber:l,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function g(){return C.jsx(eot,k3({calendarType:o},h))}var y="react-calendar__month-view";return C.jsx("div",{className:eD(y,u?"".concat(y,"--weekNumbers"):""),children:C.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[p(),C.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),g()]})]})})}var Sy=globalThis&&globalThis.__assign||function(){return Sy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sy.apply(this,arguments)},WC="react-calendar",iS=["century","decade","year","month"],aot=["decade","year","month","day"],R5=new Date;R5.setFullYear(1,0,1);R5.setHours(0,0,0,0);var cot=new Date(864e13);function pb(t){return t instanceof Date?t:new Date(t)}function dce(t,e){return iS.slice(iS.indexOf(t),iS.indexOf(e)+1)}function lot(t,e,n){var r=dce(e,n);return r.indexOf(t)!==-1}function k5(t,e,n){return t&&lot(t,e,n)?t:n}function hce(t){var e=iS.indexOf(t);return aot[e]}function uot(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=pb(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function fce(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,o=uot(n,e);if(!o)return null;var a=hce(s),c=function(){switch(e){case 0:return Hp(a,o);case 1:return sce(a,o);default:throw new Error("Invalid index value: ".concat(e))}}();return Mst(c,r,i)}var M5=function(t){return fce(t,0)},pce=function(t){return fce(t,1)},dot=function(t){return[M5,pce].map(function(e){return e(t)})};function mce(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,o=t.view,a=k5(o,i,n),c=M5({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return Hp(a,c)}function hot(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,o=t.maxDetail,a=t.minDate,c=t.minDetail,l=t.value,u=t.view,h=k5(u,c,o),f=e||n;return f?Hp(h,f):mce({maxDate:s,maxDetail:o,minDate:a,minDetail:c,value:l||r,view:u||i})}function mk(t){return t&&(!Array.isArray(t)||t.length===1)}function qC(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var fot=M.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,a=e.defaultActiveStartDate,c=e.defaultValue,l=e.defaultView,u=e.formatDay,h=e.formatLongDate,f=e.formatMonth,p=e.formatMonthYear,g=e.formatShortWeekday,y=e.formatWeekday,v=e.formatYear,b=e.goToRangeStartOnSelect,_=b===void 0?!0:b,A=e.inputRef,I=e.locale,P=e.maxDate,D=P===void 0?cot:P,T=e.maxDetail,S=T===void 0?"month":T,x=e.minDate,N=x===void 0?R5:x,R=e.minDetail,$=R===void 0?"century":R,j=e.navigationAriaLabel,K=e.navigationAriaLive,B=e.navigationLabel,z=e.next2AriaLabel,Y=e.next2Label,V=e.nextAriaLabel,Q=e.nextLabel,G=e.onActiveStartDateChange,ee=e.onChange,ne=e.onClickDay,le=e.onClickDecade,ue=e.onClickMonth,re=e.onClickWeekNumber,oe=e.onClickYear,ye=e.onDrillDown,Te=e.onDrillUp,Be=e.onViewChange,et=e.prev2AriaLabel,tt=e.prev2Label,Fe=e.prevAriaLabel,pt=e.prevLabel,mt=e.returnValue,an=mt===void 0?"start":mt,Pt=e.selectRange,An=e.showDoubleView,Fn=e.showFixedNumberOfWeeks,fn=e.showNavigation,mr=fn===void 0?!0:fn,Jt=e.showNeighboringCentury,se=e.showNeighboringDecade,xe=e.showNeighboringMonth,Ce=xe===void 0?!0:xe,Me=e.showWeekNumbers,ot=e.tileClassName,Ye=e.tileContent,yt=e.tileDisabled,Mt=e.value,gr=e.view,lr=M.useState(a),Ko=lr[0],$n=lr[1],wi=M.useState(null),zi=wi[0],Oi=wi[1],Vi=M.useState(Array.isArray(c)?c.map(function(Pe){return Pe!==null?pb(Pe):null}):c!=null?pb(c):null),_e=Vi[0],Vt=Vi[1],cn=M.useState(l),ur=cn[0],Xt=cn[1],Cn=r||Ko||hot({activeStartDate:r,defaultActiveStartDate:a,defaultValue:c,defaultView:l,maxDate:D,maxDetail:S,minDate:N,minDetail:$,value:Mt,view:gr}),Un=function(){var Pe=function(){return Pt&&mk(_e)?_e:Mt!==void 0?Mt:_e}();return Pe?Array.isArray(Pe)?Pe.map(function(Ze){return Ze!==null?pb(Ze):null}):Pe!==null?pb(Pe):null:null}(),Jr=hce(S),wn=k5(gr||ur,$,S),dr=dce($,S),Di=Pt?zi:null,si=dr.indexOf(wn)<dr.length-1,go=dr.indexOf(wn)>0,Z=M.useCallback(function(Pe){var Ze=function(){switch(an){case"start":return M5;case"end":return pce;case"range":return dot;default:throw new Error("Invalid returnValue.")}}();return Ze({maxDate:D,maxDetail:S,minDate:N,value:Pe})},[D,S,N,an]),te=M.useCallback(function(Pe,Ze){$n(Pe);var Et={action:Ze,activeStartDate:Pe,value:Un,view:wn};G&&!qC(Cn,Pe)&&G(Et)},[Cn,G,Un,wn]),de=M.useCallback(function(Pe,Ze){var Et=function(){switch(wn){case"century":return le;case"decade":return oe;case"year":return ue;case"month":return ne;default:throw new Error("Invalid view: ".concat(wn,"."))}}();Et&&Et(Pe,Ze)},[ne,le,ue,oe,wn]),ge=M.useCallback(function(Pe,Ze){if(si){de(Pe,Ze);var Et=dr[dr.indexOf(wn)+1];if(!Et)throw new Error("Attempted to drill down from the lowest view.");$n(Pe),Xt(Et);var jt={action:"drillDown",activeStartDate:Pe,value:Un,view:Et};G&&!qC(Cn,Pe)&&G(jt),Be&&wn!==Et&&Be(jt),ye&&ye(jt)}},[Cn,si,G,de,ye,Be,Un,wn,dr]),he=M.useCallback(function(){if(go){var Pe=dr[dr.indexOf(wn)-1];if(!Pe)throw new Error("Attempted to drill up from the highest view.");var Ze=Hp(Pe,Cn);$n(Ze),Xt(Pe);var Et={action:"drillUp",activeStartDate:Ze,value:Un,view:Pe};G&&!qC(Cn,Ze)&&G(Et),Be&&wn!==Pe&&Be(Et),Te&&Te(Et)}},[Cn,go,G,Te,Be,Un,wn,dr]),Qe=M.useCallback(function(Pe,Ze){var Et=Un;de(Pe,Ze);var jt=Pt&&!mk(Et),It;if(Pt)if(jt)It=Hp(Jr,Pe);else{if(!Et)throw new Error("previousValue is required");if(Array.isArray(Et))throw new Error("previousValue must not be an array");It=Ost(Jr,Et,Pe)}else It=Z(Pe);var bn=!Pt||jt||_?mce({maxDate:D,maxDetail:S,minDate:N,minDetail:$,value:It,view:wn}):null;Ze.persist(),$n(bn),Vt(It);var Hi={action:"onChange",activeStartDate:bn,value:It,view:wn};if(G&&!qC(Cn,bn)&&G(Hi),ee)if(Pt){var yo=mk(It);if(!yo)ee(It||null,Ze);else if(i){if(Array.isArray(It))throw new Error("value must not be an array");ee([It||null,null],Ze)}}else ee(It||null,Ze)},[Cn,i,Z,_,D,S,N,$,G,ee,de,Pt,Un,Jr,wn]);function ht(Pe){Oi(Pe)}function je(){Oi(null)}M.useImperativeHandle(n,function(){return{activeStartDate:Cn,drillDown:ge,drillUp:he,onChange:Qe,setActiveStartDate:te,value:Un,view:wn}},[Cn,ge,he,Qe,te,Un,wn]);function ze(Pe){var Ze=Pe?ice(wn,Cn):Hp(wn,Cn),Et=si?ge:Qe,jt={activeStartDate:Ze,hover:Di,locale:I,maxDate:D,minDate:N,onClick:Et,onMouseOver:Pt?ht:void 0,tileClassName:ot,tileContent:Ye,tileDisabled:yt,value:Un,valueType:Jr};switch(wn){case"century":return C.jsx(zst,Sy({formatYear:v,showNeighboringCentury:Jt},jt));case"decade":return C.jsx(qst,Sy({formatYear:v,showNeighboringDecade:se},jt));case"year":return C.jsx(Zst,Sy({formatMonth:f,formatMonthYear:p},jt));case"month":return C.jsx(oot,Sy({calendarType:s,formatDay:u,formatLongDate:h,formatShortWeekday:g,formatWeekday:y,onClickWeekNumber:re,onMouseLeave:Pt?je:void 0,showFixedNumberOfWeeks:typeof Fn<"u"?Fn:An,showNeighboringMonth:Ce,showWeekNumbers:Me},jt));default:throw new Error("Invalid view: ".concat(wn,"."))}}function $e(){return mr?C.jsx(Rst,{activeStartDate:Cn,drillUp:he,formatMonthYear:p,formatYear:v,locale:I,maxDate:D,minDate:N,navigationAriaLabel:j,navigationAriaLive:K,navigationLabel:B,next2AriaLabel:z,next2Label:Y,nextAriaLabel:V,nextLabel:Q,prev2AriaLabel:et,prev2Label:tt,prevAriaLabel:Fe,prevLabel:pt,setActiveStartDate:te,showDoubleView:An,view:wn,views:dr}):null}var nt=Array.isArray(Un)?Un:[Un];return C.jsxs("div",{className:eD(WC,Pt&&nt.length===1&&"".concat(WC,"--selectRange"),An&&"".concat(WC,"--doubleView"),o),ref:A,children:[$e(),C.jsxs("div",{className:"".concat(WC,"__viewContainer"),onBlur:Pt?je:void 0,onMouseLeave:Pt?je:void 0,children:[ze(),An?ze(!0):null]})]})});const pot=fot;const mot=({tourPrice:t,handleCalendarSelectedDate:e})=>{const[n,r]=M.useState(new Date);M.useEffect(()=>{const s=n?cI(n,"yyyy-MM-dd"):"date error";e(s)},[n]);const i=()=>C.jsx("div",{className:"price-container",children:C.jsxs("span",{className:"price-tag",children:[t," ETH"]})});return C.jsx("div",{className:"calendar-container",children:C.jsx(pot,{onChange:s=>r(s),value:n,className:"full-size-calendar",tileContent:i,minDate:new Date})})};function got(t){var s,o,a,c,l,u,h,f;const e=(o=(s=t==null?void 0:t.itemsObj)==null?void 0:s.includedItemsObj)==null?void 0:o.includedItems,n=(c=(a=t==null?void 0:t.itemsObj)==null?void 0:a.includedItemsObj)==null?void 0:c.includedClassName,r=(u=(l=t==null?void 0:t.itemsObj)==null?void 0:l.excludedItemsObj)==null?void 0:u.excludedItems,i=(f=(h=t==null?void 0:t.itemsObj)==null?void 0:h.excludedItemsObj)==null?void 0:f.excludedClassName;return console.log(t),C.jsxs("div",{className:"include-exclude",children:[C.jsx("div",{className:"included-items-container",children:C.jsx("ul",{children:e==null?void 0:e.map(p=>C.jsxs("li",{children:[C.jsx("i",{className:n})," ",C.jsx("span",{children:p})]}))})}),C.jsx("div",{className:"excluded-items-container",children:C.jsx("ul",{children:r==null?void 0:r.map(p=>C.jsxs("li",{children:[C.jsx("i",{className:i})," ",C.jsx("span",{children:p})]}))})})]})}var gce={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(gce);var yot=gce.exports;const pd=cs(yot);var M3={exports:{}},L3={exports:{}},BE=1e3,zE=BE*60,VE=zE*60,HE=VE*24,vot=HE*365.25,wot=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return bot(t);if(n==="number"&&isNaN(t)===!1)return e.long?Eot(t):_ot(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function bot(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*vot;case"days":case"day":case"d":return n*HE;case"hours":case"hour":case"hrs":case"hr":case"h":return n*VE;case"minutes":case"minute":case"mins":case"min":case"m":return n*zE;case"seconds":case"second":case"secs":case"sec":case"s":return n*BE;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function _ot(t){return t>=HE?Math.round(t/HE)+"d":t>=VE?Math.round(t/VE)+"h":t>=zE?Math.round(t/zE)+"m":t>=BE?Math.round(t/BE)+"s":t+"ms"}function Eot(t){return KC(t,HE,"day")||KC(t,VE,"hour")||KC(t,zE,"minute")||KC(t,BE,"second")||t+" ms"}function KC(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=c,e.disable=o,e.enable=s,e.enabled=a,e.humanize=wot,e.names=[],e.skips=[],e.formatters={};var n;function r(l){var u=0,h;for(h in l)u=(u<<5)-u+l.charCodeAt(h),u|=0;return e.colors[Math.abs(u)%e.colors.length]}function i(l){function u(){if(u.enabled){var h=u,f=+new Date,p=f-(n||f);h.diff=p,h.prev=n,h.curr=f,n=f;for(var g=new Array(arguments.length),y=0;y<g.length;y++)g[y]=arguments[y];g[0]=e.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var v=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(_,A){if(_==="%%")return _;v++;var I=e.formatters[A];if(typeof I=="function"){var P=g[v];_=I.call(h,P),g.splice(v,1),v--}return _}),e.formatArgs.call(h,g);var b=u.log||e.log||console.log.bind(console);b.apply(h,g)}}return u.namespace=l,u.enabled=e.enabled(l),u.useColors=e.useColors(),u.color=r(l),typeof e.init=="function"&&e.init(u),u}function s(l){e.save(l),e.names=[],e.skips=[];for(var u=(typeof l=="string"?l:"").split(/[\s,]+/),h=u.length,f=0;f<h;f++)u[f]&&(l=u[f].replace(/\*/g,".*?"),l[0]==="-"?e.skips.push(new RegExp("^"+l.substr(1)+"$")):e.names.push(new RegExp("^"+l+"$")))}function o(){e.enable("")}function a(l){var u,h;for(u=0,h=e.skips.length;u<h;u++)if(e.skips[u].test(l))return!1;for(u=0,h=e.names.length;u<h;u++)if(e.names[u].test(l))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}})(L3,L3.exports);var Aot=L3.exports;(function(t,e){e=t.exports=Aot,e.log=i,e.formatArgs=r,e.save=s,e.load=o,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}};function r(c){var l=this.useColors;if(c[0]=(l?"%c":"")+this.namespace+(l?" %c":" ")+c[0]+(l?"%c ":" ")+"+"+e.humanize(this.diff),!!l){var u="color: "+this.color;c.splice(1,0,u,"color: inherit");var h=0,f=0;c[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(h++,p==="%c"&&(f=h))}),c.splice(f,0,u)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function o(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}e.enable(o());function a(){try{return window.localStorage}catch{}}})(M3,M3.exports);var Cot=M3.exports,zq=Cot("jsonp"),Tot=xot,Sot=0;function Iot(){}function xot(t,e,n){typeof e=="function"&&(n=e,e={}),e||(e={});var r=e.prefix||"__jp",i=e.name||r+Sot++,s=e.param||"callback",o=e.timeout!=null?e.timeout:6e4,a=encodeURIComponent,c=document.getElementsByTagName("script")[0]||document.head,l,u;o&&(u=setTimeout(function(){h(),n&&n(new Error("Timeout"))},o));function h(){l.parentNode&&l.parentNode.removeChild(l),window[i]=Iot,u&&clearTimeout(u)}function f(){window[i]&&h()}return window[i]=function(p){zq("jsonp got",p),h(),n&&n(null,p)},t+=(~t.indexOf("?")?"&":"?")+s+"="+a(i),t=t.replace("?&","?"),zq('jsonp req "%s"',t),l=document.createElement("script"),l.src=t,c.parentNode.insertBefore(l,c),f}const tg=cs(Tot);var Pot=Object.defineProperty,Oot=Object.defineProperties,Dot=Object.getOwnPropertyDescriptors,Cx=Object.getOwnPropertySymbols,yce=Object.prototype.hasOwnProperty,vce=Object.prototype.propertyIsEnumerable,Vq=(t,e,n)=>e in t?Pot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sa=(t,e)=>{for(var n in e||(e={}))yce.call(e,n)&&Vq(t,n,e[n]);if(Cx)for(var n of Cx(e))vce.call(e,n)&&Vq(t,n,e[n]);return t},aD=(t,e)=>Oot(t,Dot(e)),cD=(t,e)=>{var n={};for(var r in t)yce.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cx)for(var r of Cx(t))e.indexOf(r)<0&&vce.call(t,r)&&(n[r]=t[r]);return n};function lD(t){return n=>{var r=n,{bgStyle:i={},borderRadius:s=0,iconFillColor:o="white",round:a=!1,size:c=64}=r,l=cD(r,["bgStyle","borderRadius","iconFillColor","round","size"]);return C.jsxs("svg",aD(sa({viewBox:"0 0 64 64",width:c,height:c},l),{children:[a?C.jsx("circle",{cx:"32",cy:"32",r:"32",fill:t.color,style:i}):C.jsx("rect",{width:"64",height:"64",rx:s,ry:s,fill:t.color,style:i}),C.jsx("path",{d:t.path,fill:o})]}))}}class Not extends Error{constructor(e){super(e),this.name="AssertionError"}}function kr(t,e){if(!t)throw new Not(e)}function cr(t){const e=Object.entries(t).filter(([,n])=>n!=null).map(([n,r])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(r))}`);return e.length>0?`?${e.join("&")}`:""}const Rot=t=>!!t&&(typeof t=="object"||typeof t=="function")&&"then"in t&&typeof t.then=="function",kot=(t,e)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-e/2}),Mot=(t,e)=>({top:(window.screen.height-e)/2,left:(window.screen.width-t)/2});function Lot(t,e,n){var r=e,{height:i,width:s}=r,o=cD(r,["height","width"]);const a=sa({height:i,width:s,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),c=window.open(t,"",Object.keys(a).map(l=>`${l}=${a[l]}`).join(", "));if(n){const l=window.setInterval(()=>{try{(c===null||c.closed)&&(window.clearInterval(l),n(c))}catch(u){console.error(u)}},1e3)}return c}function Fot(t){var e=t,{beforeOnClick:n,children:r,className:i,disabled:s,disabledStyle:o={opacity:.6},forwardedRef:a,htmlTitle:c,networkLink:l,networkName:u,onClick:h,onShareWindowClose:f,openShareDialogOnClick:p=!0,opts:g,resetButtonStyle:y=!0,style:v,title:b,url:_,windowHeight:A=400,windowPosition:I="windowCenter",windowWidth:P=550}=e,D=cD(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const T=async N=>{const R=l(_,g);if(!s){if(N.preventDefault(),n){const $=n();Rot($)&&await $}if(p){const $=sa({height:A,width:P},I==="windowCenter"?kot(P,A):Mot(P,A));Lot(R,$,f)}h&&h(N,R)}},S=pd("react-share__ShareButton",{"react-share__ShareButton--disabled":!!s,disabled:!!s},i),x=sa(sa(y?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},v),s&&o);return C.jsx("button",aD(sa({},D),{className:S,onClick:T,ref:a,style:x,title:c,children:r}))}function Vr(t,e,n,r){const i=(s,o)=>{const a=n(s),c=sa({},s);return Object.keys(a).forEach(u=>{delete c[u]}),C.jsx(Fot,aD(sa(sa({},r),c),{forwardedRef:o,networkName:t,networkLink:e,opts:a}))};return i.displayName=`ShareButton-${t}`,M.forwardRef(i)}function $ot(t,{title:e,separator:n}){return kr(t,"bluesky.url"),"https://bsky.app/intent/compose"+cr({text:e?e+n+t:t})}Vr("bluesky",$ot,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function jot(t,{subject:e,body:n,separator:r}){return"mailto:"+cr({subject:e,body:n?n+r+t:t})}Vr("email",jot,t=>({subject:t.subject,body:t.body,separator:t.separator||" "}),{openShareDialogOnClick:!1,onClick:(t,e)=>{window.location.href=e}});const wce=lD({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"});function Uot(t,{appId:e,redirectUri:n,to:r}){return"https://www.facebook.com/dialog/send"+cr({link:t,redirect_uri:n||t,app_id:e,to:r})}Vr("facebookmessenger",Uot,t=>({appId:t.appId,redirectUri:t.redirectUri,to:t.to}),{windowWidth:1e3,windowHeight:820});function Bot(t,{hashtag:e}){return kr(t,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+cr({u:t,hashtag:e})}const bce=Vr("facebook",Bot,t=>({hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});function zot(){const t=M.useRef(!1);return M.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),M.useCallback(()=>t.current,[])}function Vot(t){var e=t,{children:n=f=>f,className:r,getCount:i,url:s}=e,o=cD(e,["children","className","getCount","url"]);const a=zot(),[c,l]=M.useState(void 0),[u,h]=M.useState(!1);return M.useEffect(()=>{h(!0),i(s,f=>{a()&&(l(f),h(!1))})},[s]),C.jsx("span",aD(sa({className:pd("react-share__ShareCount",r)},o),{children:!u&&c!==void 0&&n(c)}))}function ng(t){const e=n=>C.jsx(Vot,sa({getCount:t},n));return e.displayName=`ShareCount(${t.name})`,e}function Hot(t,e){const n=`https://graph.facebook.com/?id=${t}&fields=og_object{engagement}`;tg(n,(r,i)=>{e(!r&&i&&i.og_object&&i.og_object.engagement?i.og_object.engagement.count:void 0)})}ng(Hot);function Wot(t,{title:e}){return kr(t,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${t}&title=${e}`}Vr("hatena",Wot,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function qot(t,e){tg("https://bookmark.hatenaapis.com/count/entry"+cr({url:t}),(r,i)=>{e(i??void 0)})}ng(qot);function Kot(t,{title:e,description:n}){return kr(t,"instapaper.url"),"http://www.instapaper.com/hello2"+cr({url:t,title:e,description:n})}Vr("instapaper",Kot,t=>({title:t.title,description:t.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function Got(t,{title:e}){return kr(t,"line.url"),"https://social-plugins.line.me/lineit/share"+cr({url:t,text:e})}Vr("line",Got,t=>({title:t.title}),{windowWidth:500,windowHeight:500});const Yot=lD({color:"#0077B5",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"});function Qot(t,{title:e,summary:n,source:r}){return kr(t,"linkedin.url"),"https://linkedin.com/shareArticle"+cr({url:t,mini:"true",title:e,summary:n,source:r})}const Zot=Vr("linkedin",Qot,({title:t,summary:e,source:n})=>({title:t,summary:e,source:n}),{windowWidth:750,windowHeight:600});function Jot(t,{title:e,description:n}){return kr(t,"livejournal.url"),"https://www.livejournal.com/update.bml"+cr({subject:e,event:n})}Vr("livejournal",Jot,t=>({title:t.title,description:t.description}),{windowWidth:660,windowHeight:460});function Xot(t,{title:e,description:n,imageUrl:r}){return kr(t,"mailru.url"),"https://connect.mail.ru/share"+cr({url:t,title:e,description:n,image_url:r})}Vr("mailru",Xot,t=>({title:t.title,description:t.description,imageUrl:t.imageUrl}),{windowWidth:660,windowHeight:460});function eat(t,{title:e,description:n,image:r}){return kr(t,"ok.url"),"https://connect.ok.ru/offer"+cr({url:t,title:e,description:n,imageUrl:r})}Vr("ok",eat,t=>({title:t.title,description:t.description,image:t.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function tat(t,e){window.OK||(window.OK={Share:{count:function(s,o){var a,c;(c=(a=window.OK.callbacks)[s])==null||c.call(a,o)}},callbacks:[]});const n="https://connect.ok.ru/dk",r=window.OK.callbacks.length;return window.ODKL={updateCount(i,s){var o,a;const c=i===""?0:parseInt(i.replace("react-share-",""),10);(a=(o=window.OK.callbacks)[c])==null||a.call(o,s===""?void 0:parseInt(s,10))}},window.OK.callbacks.push(e),tg(n+cr({"st.cmd":"extLike",uid:`react-share-${r}`,ref:t}))}ng(tat);function nat(t,{media:e,description:n,pinId:r}){return r?`https://pinterest.com/pin/${r}/repin/x/`:(kr(t,"pinterest.url"),kr(e,"pinterest.media"),"https://pinterest.com/pin/create/button/"+cr({url:t,media:e,description:n}))}Vr("pinterest",nat,t=>({media:t.media,description:t.description,pinId:t.pinId}),{windowWidth:1e3,windowHeight:730});function rat(t,e){tg("https://api.pinterest.com/v1/urls/count.json"+cr({url:t}),(r,i)=>{e(i?i.count:void 0)})}ng(rat);function iat(t,{title:e}){return kr(t,"pocket.url"),"https://getpocket.com/save"+cr({url:t,title:e})}Vr("pocket",iat,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function sat(t,{title:e}){return kr(t,"reddit.url"),"https://www.reddit.com/web/submit"+cr({url:t,title:e})}Vr("reddit",sat,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function oat(t,{title:e}){return kr(t,"gab.url"),"https://gab.com/compose"+cr({url:t,text:e})}Vr("gab",oat,t=>({title:t.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function aat(t,e){const n=`https://www.reddit.com/api/info.json?limit=1&url=${t}`;tg(n,{param:"jsonp"},(r,i)=>{e(!r&&i&&i.data&&i.data.children.length>0&&i.data.children[0].data.score?i.data.children[0].data.score:void 0)})}ng(aat);function cat(t,{title:e}){return kr(t,"telegram.url"),"https://telegram.me/share/url"+cr({url:t,text:e})}Vr("telegram",cat,t=>({title:t.title}),{windowWidth:550,windowHeight:400});function lat(t,{title:e}){return kr(t,"threads.url"),"https://threads.net/intent/post"+cr({url:t,text:e})}Vr("threads",lat,t=>({title:t.title}),{windowWidth:550,windowHeight:600});function uat(t,{title:e,caption:n,tags:r,posttype:i}){return kr(t,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+cr({canonicalUrl:t,title:e,caption:n,tags:r,posttype:i})}Vr("tumblr",uat,t=>({title:t.title,tags:(t.tags||[]).join(","),caption:t.caption,posttype:t.posttype||"link"}),{windowWidth:660,windowHeight:460});function dat(t,e){return tg("https://api.tumblr.com/v2/share/stats"+cr({url:t}),(r,i)=>{e(!r&&i&&i.response?i.response.note_count:void 0)})}ng(dat);const _ce=lD({color:"#00aced",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function hat(t,{title:e,via:n,hashtags:r=[],related:i=[]}){return kr(t,"twitter.url"),kr(Array.isArray(r),"twitter.hashtags is not an array"),kr(Array.isArray(i),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+cr({url:t,text:e,via:n,hashtags:r.length>0?r.join(","):void 0,related:i.length>0?i.join(","):void 0})}const Ece=Vr("twitter",hat,t=>({hashtags:t.hashtags,title:t.title,via:t.via,related:t.related}),{windowWidth:550,windowHeight:400});function fat(t,{title:e,separator:n}){return kr(t,"viber.url"),"viber://forward"+cr({text:e?e+n+t:t})}Vr("viber",fat,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460});function pat(t,{title:e,image:n,noParse:r,noVkLinks:i}){return kr(t,"vk.url"),"https://vk.com/share.php"+cr({url:t,title:e,image:n,noparse:r?1:0,no_vk_links:i?1:0})}Vr("vk",pat,t=>({title:t.title,image:t.image,noParse:t.noParse,noVkLinks:t.noVkLinks}),{windowWidth:660,windowHeight:460});function mat(t,e){window.VK||(window.VK={}),window.VK.Share={count:(i,s)=>{var o,a;return(a=(o=window.VK.callbacks)==null?void 0:o[i])==null?void 0:a.call(o,s)}},window.VK.callbacks=[];const n="https://vk.com/share.php",r=window.VK.callbacks.length;return window.VK.callbacks.push(e),tg(n+cr({act:"count",index:r,url:t}))}ng(mat);function gat(t,{title:e,image:n}){return kr(t,"weibo.url"),"http://service.weibo.com/share/share.php"+cr({url:t,title:e,pic:n})}Vr("weibo",gat,t=>({title:t.title,image:t.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const Ace=lD({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function yat(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function vat(t,{title:e,separator:n}){return kr(t,"whatsapp.url"),"https://"+(yat()?"api":"web")+".whatsapp.com/send"+cr({text:e?e+n+t:t})}const Cce=Vr("whatsapp",vat,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:550,windowHeight:400});function wat(t,{quote:e,hashtag:n}){return kr(t,"workplace.url"),"https://work.facebook.com/sharer.php"+cr({u:t,quote:e,hashtag:n})}Vr("workplace",wat,t=>({quote:t.quote,hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});const bat=({url:t,onClose:e})=>{const n=M.useRef(null);return M.useEffect(()=>{const r=i=>{n.current&&!n.current.contains(i.target)&&e()};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),C.jsxs("div",{className:"share-popup",ref:n,children:[C.jsxs("div",{className:"icon-buttons",children:[C.jsx(bce,{url:t,children:C.jsx(wce,{size:40,round:!0})}),C.jsx(Ece,{url:t,children:C.jsx(_ce,{size:40,round:!0})}),C.jsx(Cce,{url:t,children:C.jsx(Ace,{size:40,round:!0})})]}),C.jsxs("button",{className:"copy-link-btn",onClick:()=>{navigator.clipboard.writeText(t),vt.success("Link copied")},children:[C.jsx("i",{className:"fa-solid fa-link"})," Copy Link"]})]})};function _at(){var j,K,B,z,Y,V,Q,G;const[e,n]=M.useState(!1),{slugId:r}=_P(),i=r||"",{data:s}=kIe(i),o=s==null?void 0:s.data,a=o==null?void 0:o.name,c=(j=o==null?void 0:o.ufiDetails)==null?void 0:j.bCityName,l=(B=(K=o==null?void 0:o.ufiDetails)==null?void 0:K.url)==null?void 0:B.country,u=(Y=(z=o==null?void 0:o.reviewsStats)==null?void 0:z.combinedNumericStats)==null?void 0:Y.average,h=(Q=(V=o==null?void 0:o.reviewsStats)==null?void 0:V.combinedNumericStats)==null?void 0:Q.total,p=((((G=o==null?void 0:o.representativePrice)==null?void 0:G.chargeAmount)||"N/A")/1765).toFixed(5),g=o==null?void 0:o.description,y=o==null?void 0:o.photos,v=y==null?void 0:y.find(ee=>ee==null?void 0:ee.isPrimary),b=(v==null?void 0:v.medium)||(v==null?void 0:v.small),_=o==null?void 0:o.id,A=o==null?void 0:o.whatsIncluded,I="fa-solid fa-check",P=o==null?void 0:o.notIncluded,x={includedItemsObj:{includedItems:A,includedClassName:I},excludedItemsObj:{excludedItems:P,excludedClassName:"fa-solid fa-xmark"}},[N,R]=M.useState("");function $(ee){R(ee)}return M.useEffect(()=>{window.scrollTo(0,0)},[]),C.jsx(C.Fragment,{children:C.jsxs("section",{className:"tour-detail-section",children:[C.jsxs("div",{className:"tour-detail-container",children:[C.jsx("div",{className:"tour-detail-image-container",children:b?C.jsx("img",{className:"tour-image",src:b}):C.jsx("p",{})}),C.jsxs("div",{className:"tour-detail-location-share",children:[C.jsx("div",{className:"tour-detail-location",children:C.jsxs("p",{className:"project-normal-font",children:[" ",C.jsx("i",{className:"fa-solid fa-location-dot"})," ",c,","," ",l==null?void 0:l.toUpperCase()," ","  ",C.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c)}`,target:"_blank",rel:"noopener noreferrer",className:"project-theme-color",children:"view on map"})]})}),C.jsx("div",{className:"tour-detail-share",children:C.jsxs("div",{className:"share-button-wrapper",children:[C.jsx("i",{className:"fa-solid fa-share-nodes share-icon",onClick:()=>n(!0)}),e&&C.jsx(bat,{url:window.location.href,onClose:()=>n(!1)})]})})]}),C.jsx("h3",{className:"tour-title-name project-heading-font",children:a}),C.jsxs("div",{className:"tour-features-container",children:[C.jsxs("div",{className:"tour-feature",children:[C.jsx("span",{className:"tour-feature-heading",children:"From"}),C.jsx("span",{className:"tour-feature-value project-theme-color project-normal-font",children:p!=="NaN"?`${p} ETH`:"Loading..."})]}),C.jsxs("div",{className:"tour-feature",children:[C.jsx("span",{className:"tour-feature-heading",children:"Duration"}),C.jsx("span",{className:"tour-feature-value project-normal-font",children:"1 day"})]}),C.jsxs("div",{className:"tour-feature",children:[C.jsx("span",{className:"tour-feature-heading",children:"Max People"}),C.jsx("span",{className:"tour-feature-value project-normal-font",children:"10"})]}),C.jsxs("div",{className:"tour-feature",children:[C.jsx("span",{className:"tour-feature-heading",children:"Min Age"}),C.jsx("span",{className:"tour-feature-value project-normal-font",children:"3"})]}),C.jsxs("div",{className:"tour-feature",children:[C.jsx("span",{className:"tour-feature-heading",children:"Tour Type"}),C.jsx("span",{className:"tour-feature-value project-normal-font",children:"Adventure"})]}),C.jsxs("div",{className:"tour-feature",children:[C.jsx("span",{className:"tour-feature-heading",children:"Reviews"}),u?C.jsx(C.Fragment,{children:C.jsxs("span",{className:"tour-feature-value project-normal-font",children:[C.jsx("i",{className:"fa-solid fa-star project-theme-color"})," ",u," ",C.jsxs("span",{className:"project-normal-font",children:["(",h," reviews)"," "]})]})}):C.jsx("b",{children:"N/A"})]})]}),C.jsxs("div",{className:"tour-detail-overview",children:[C.jsx("h5",{className:"detail-page-minor-title",children:"Overview"}),C.jsxs("p",{className:"project-normal-font",children:[" ",g," "]})]}),C.jsxs("div",{className:"include-exclude-container",children:[C.jsx("h5",{className:"detail-page-minor-title",children:"Included / Exclude"}),C.jsx(got,{itemsObj:x})]}),C.jsxs("div",{className:"calendar-section",children:[C.jsx("h5",{className:"detail-page-minor-title",children:"Calendar & Prices"}),C.jsx(mot,{tourPrice:p,handleCalendarSelectedDate:$})," "]}),C.jsx("div",{className:"tour-location-map",children:C.jsx(wU,{cityName:c,mapHeadingText:"Map",zoomLevel:7})}),C.jsxs("div",{className:"tour-detail-review",children:[u?C.jsx("h5",{className:"project-heading-font",children:"Average Reviews"}):"",C.jsx(Dit,{tourRating:u,tourId:_})]})]}),C.jsxs("div",{className:"tour-booking-detail",children:[" ",C.jsx(xit,{tourPrice:String(p),selectedCalendarDate:N,tourName:a,slugValue:i})]})]})})}const GC={FILTER_DISPLAY:"tours-filter-and-display",FILTER_CONTAINER:"tours-filter-container",TOURS_CONTAINER:"tours-display-container",TOURS_WRAPPER:"tours-display-wrapper"};function rg({normalText:t,coloredText:e,headingText:n,bannerImage:r,middleText:i}){return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"page-banner-container",children:[C.jsx("img",{src:r,alt:"page-banner"}),C.jsxs("div",{className:"pageBanner-text-content",children:[C.jsx("h1",{className:"project-heading-font",children:n}),C.jsxs("p",{children:[C.jsxs(ri,{to:Ue.HOMEPAGE.path,className:"page-banner-text",children:[C.jsx("span",{className:"page-banner-normal",children:t})," "]}),i?C.jsxs(C.Fragment,{children:[C.jsxs(ri,{to:`/${i.toLowerCase()}`,className:"page-banner-text",children:[C.jsx("span",{className:"page-banner-normal",children:i})," "]}),C.jsx("span",{className:"page-banner-text-color",children:C.jsx(ri,{to:`/${i.toLowerCase()}/${e}`,className:"link-class",children:C.jsx("span",{className:"page-banner-color",children:e})})})]}):C.jsx("span",{className:"page-banner-text-color",children:C.jsx(ri,{to:`/${e}`,className:"link-class",children:C.jsx("span",{className:"page-banner-color",children:e})})})]})]})]})})}function sS({type:t,id:e,labelText:n,value:r,checked:i,onChange:s}){return C.jsxs("li",{children:[C.jsx("input",{type:t,id:e,value:r,checked:i,onChange:()=>s(r)})," ",C.jsx("label",{htmlFor:e,children:n})]})}function Eat({handleDestinationData:t,currentDestination:e}){function n(o){t(e===o?null:o)}const r=["Tokyo","Nepal","Mumbai","China"],i=["Paris","Italy","Greece"],s=["Brazil","Canada","New York"];return C.jsxs("div",{className:"filter-by-destination-container",children:[C.jsx("h3",{children:"Destinations"}),C.jsxs("div",{className:"destination-continent-divs",children:[C.jsx("h4",{children:"Asia"}),C.jsx("ul",{children:r.map(o=>C.jsx(sS,{type:"checkbox",id:`dest-${o}`,value:o,labelText:o,checked:e===o,onChange:()=>n(o)},`dest-asia-${o}`))})]}),C.jsxs("div",{className:"destination-continent-divs",children:[C.jsx("h4",{children:"Europe"}),C.jsx("ul",{children:i.map(o=>C.jsx(sS,{type:"checkbox",id:`dest-${o}`,value:o,labelText:o,checked:e===o,onChange:()=>n(o)},`dest-europe-${o}`))})]}),C.jsxs("div",{className:"destination-continent-divs",children:[C.jsx("h4",{children:"America"}),C.jsx("ul",{children:s.map(o=>C.jsx(sS,{type:"checkbox",id:`dest-${o}`,value:o,labelText:o,checked:e===o,onChange:()=>n(o)},`dest-america-${o}`))})]})]})}function Aat({handleRatingData:t,currentRatings:e}){const n=[1,2,3,4,5];function r(i){const s=e.includes(i)?e.filter(o=>o!==i):[...e,i];t(s)}return C.jsxs("div",{className:"filter-by-review-container",children:[C.jsx("h3",{children:"Reviews"}),C.jsx("ul",{children:n.map(i=>C.jsx(sS,{type:"checkbox",id:`rating-${i}`,value:i,checked:e.includes(i),onChange:()=>r(i),labelText:` ${i} stars`},`rating-${i}`))})]})}function F3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Cat(t){if(Array.isArray(t))return F3(t)}function Tat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tce(t,e){if(t){if(typeof t=="string")return F3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F3(t,e):void 0}}function Sat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ou(t){return Cat(t)||Tat(t)||Tce(t)||Sat()}function Iat(t){if(Array.isArray(t))return t}function xat(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function Pat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Es(t,e){return Iat(t)||xat(t,e)||Tce(t,e)||Pat()}function Gy(t){var e=M.useRef();e.current=t;var n=M.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return n}function Oat(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Hq=Oat()?M.useLayoutEffect:M.useEffect,Sce=function(e,n){var r=M.useRef(!0);Hq(function(){return e(r.current)},n),Hq(function(){return r.current=!1,function(){r.current=!0}},[])},Wq=function(e,n){Sce(function(r){if(!r)return e()},n)};function qq(t){var e=M.useRef(!1),n=M.useState(t),r=Es(n,2),i=r[0],s=r[1];M.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,c){c&&e.current||s(a)}return[i,o]}function gk(t){return t!==void 0}function Dat(t,e){var n=e||{},r=n.defaultValue,i=n.value,s=n.onChange,o=n.postState,a=qq(function(){return gk(i)?i:gk(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),c=Es(a,2),l=c[0],u=c[1],h=i!==void 0?i:l,f=o?o(h):h,p=Gy(s),g=qq([h]),y=Es(g,2),v=y[0],b=y[1];Wq(function(){var A=v[0];l!==A&&p(l,A)},[v]),Wq(function(){gk(i)||u(i)},[i]);var _=Gy(function(A,I){u(A,I),b([h],I)});return[f,_]}var $3={},Nat=function(e){};function Rat(t,e){}function kat(t,e){}function Mat(){$3={}}function Ice(t,e,n){!e&&!$3[n]&&(t(!1,n),$3[n]=!0)}function Qv(t,e){Ice(Rat,t,e)}function Lat(t,e){Ice(kat,t,e)}Qv.preMessage=Nat;Qv.resetWarned=Mat;Qv.noteOnce=Lat;function Fat(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=r.has(s);if(Qv(!c,"Warning: There may be circular references"),c)return!1;if(s===o)return!0;if(n&&a>1)return!1;r.add(s);var l=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var u=0;u<s.length;u++)if(!i(s[u],o[u],l))return!1;return!0}if(s&&o&&sf(s)==="object"&&sf(o)==="object"){var h=Object.keys(s);return h.length!==Object.keys(o).length?!1:h.every(function(f){return i(s[f],o[f],l)})}return!1}return i(t,e)}function xce(t,e){if(t==null)return{};var n,r,i=Ohe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function j3(t,e,n){return(t-e)/(n-e)}function L5(t,e,n,r){var i=j3(e,n,r),s={};switch(t){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function op(t,e){return Array.isArray(t)?t[e]:t}var at={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=at.F1&&n<=at.F12)return!1;switch(n){case at.ALT:case at.CAPS_LOCK:case at.CONTEXT_MENU:case at.CTRL:case at.DOWN:case at.END:case at.ESC:case at.HOME:case at.INSERT:case at.LEFT:case at.MAC_FF_META:case at.META:case at.NUMLOCK:case at.NUM_CENTER:case at.PAGE_DOWN:case at.PAGE_UP:case at.PAUSE:case at.PRINT_SCREEN:case at.RIGHT:case at.SHIFT:case at.UP:case at.WIN_KEY:case at.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=at.ZERO&&e<=at.NINE||e>=at.NUM_ZERO&&e<=at.NUM_MULTIPLY||e>=at.A&&e<=at.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case at.SPACE:case at.QUESTION_MARK:case at.NUM_PLUS:case at.NUM_MINUS:case at.NUM_PERIOD:case at.NUM_DIVISION:case at.SEMICOLON:case at.DASH:case at.EQUALS:case at.COMMA:case at.PERIOD:case at.SLASH:case at.APOSTROPHE:case at.SINGLE_QUOTE:case at.OPEN_SQUARE_BRACKET:case at.BACKSLASH:case at.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ig=M.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),$at=M.createContext({}),jat=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Kq=M.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,i=t.valueIndex,s=t.onStartMove,o=t.onDelete,a=t.style,c=t.render,l=t.dragging,u=t.draggingDelete,h=t.onOffsetChange,f=t.onChangeComplete,p=t.onFocus,g=t.onMouseEnter,y=xce(t,jat),v=M.useContext(ig),b=v.min,_=v.max,A=v.direction,I=v.disabled,P=v.keyboard,D=v.range,T=v.tabIndex,S=v.ariaLabelForHandle,x=v.ariaLabelledByForHandle,N=v.ariaRequired,R=v.ariaValueTextFormatterForHandle,$=v.styles,j=v.classNames,K="".concat(n,"-handle"),B=function(re){I||s(re,i)},z=function(re){p==null||p(re,i)},Y=function(re){g(re,i)},V=function(re){if(!I&&P){var oe=null;switch(re.which||re.keyCode){case at.LEFT:oe=A==="ltr"||A==="btt"?-1:1;break;case at.RIGHT:oe=A==="ltr"||A==="btt"?1:-1;break;case at.UP:oe=A!=="ttb"?1:-1;break;case at.DOWN:oe=A!=="ttb"?-1:1;break;case at.HOME:oe="min";break;case at.END:oe="max";break;case at.PAGE_UP:oe=2;break;case at.PAGE_DOWN:oe=-2;break;case at.BACKSPACE:case at.DELETE:o(i);break}oe!==null&&(re.preventDefault(),h(oe,i))}},Q=function(re){switch(re.which||re.keyCode){case at.LEFT:case at.RIGHT:case at.UP:case at.DOWN:case at.HOME:case at.END:case at.PAGE_UP:case at.PAGE_DOWN:f==null||f();break}},G=L5(A,r,b,_),ee={};if(i!==null){var ne;ee={tabIndex:I?null:op(T,i),role:"slider","aria-valuemin":b,"aria-valuemax":_,"aria-valuenow":r,"aria-disabled":I,"aria-label":op(S,i),"aria-labelledby":op(x,i),"aria-required":op(N,i),"aria-valuetext":(ne=op(R,i))===null||ne===void 0?void 0:ne(r),"aria-orientation":A==="ltr"||A==="rtl"?"horizontal":"vertical",onMouseDown:B,onTouchStart:B,onFocus:z,onMouseEnter:Y,onKeyDown:V,onKeyUp:Q}}var le=M.createElement("div",f_({ref:e,className:pd(K,Va(Va(Va({},"".concat(K,"-").concat(i+1),i!==null&&D),"".concat(K,"-dragging"),l),"".concat(K,"-dragging-delete"),u),j.handle),style:ts(ts(ts({},G),a),$.handle)},ee,y));return c&&(le=c(le,{index:i,prefixCls:n,value:r,dragging:l,draggingDelete:u})),le}),Uat=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Bat=M.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,s=t.onOffsetChange,o=t.values,a=t.handleRender,c=t.activeHandleRender,l=t.draggingIndex,u=t.draggingDelete,h=t.onFocus,f=xce(t,Uat),p=M.useRef({}),g=M.useState(!1),y=Es(g,2),v=y[0],b=y[1],_=M.useState(-1),A=Es(_,2),I=A[0],P=A[1],D=function(R){P(R),b(!0)},T=function(R,$){D($),h==null||h(R)},S=function(R,$){D($)};M.useImperativeHandle(e,function(){return{focus:function(R){var $;($=p.current[R])===null||$===void 0||$.focus()},hideHelp:function(){xf.flushSync(function(){b(!1)})}}});var x=ts({prefixCls:n,onStartMove:i,onOffsetChange:s,render:a,onFocus:T,onMouseEnter:S},f);return M.createElement(M.Fragment,null,o.map(function(N,R){var $=l===R;return M.createElement(Kq,f_({ref:function(K){K?p.current[R]=K:delete p.current[R]},dragging:$,draggingDelete:$&&u,style:op(r,R),key:R,value:N,valueIndex:R},x))}),c&&v&&M.createElement(Kq,f_({key:"a11y"},x,{value:o[I],valueIndex:null,dragging:l!==-1,draggingDelete:u,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),zat=function(e){var n=e.prefixCls,r=e.style,i=e.children,s=e.value,o=e.onClick,a=M.useContext(ig),c=a.min,l=a.max,u=a.direction,h=a.includedStart,f=a.includedEnd,p=a.included,g="".concat(n,"-text"),y=L5(u,s,c,l);return M.createElement("span",{className:pd(g,Va({},"".concat(g,"-active"),p&&h<=s&&s<=f)),style:ts(ts({},y),r),onMouseDown:function(b){b.stopPropagation()},onClick:function(){o(s)}},i)},Vat=function(e){var n=e.prefixCls,r=e.marks,i=e.onClick,s="".concat(n,"-mark");return r.length?M.createElement("div",{className:s},r.map(function(o){var a=o.value,c=o.style,l=o.label;return M.createElement(zat,{key:a,prefixCls:s,style:c,value:a,onClick:i},l)})):null},Hat=function(e){var n=e.prefixCls,r=e.value,i=e.style,s=e.activeStyle,o=M.useContext(ig),a=o.min,c=o.max,l=o.direction,u=o.included,h=o.includedStart,f=o.includedEnd,p="".concat(n,"-dot"),g=u&&h<=r&&r<=f,y=ts(ts({},L5(l,r,a,c)),typeof i=="function"?i(r):i);return g&&(y=ts(ts({},y),typeof s=="function"?s(r):s)),M.createElement("span",{className:pd(p,Va({},"".concat(p,"-active"),g)),style:y})},Wat=function(e){var n=e.prefixCls,r=e.marks,i=e.dots,s=e.style,o=e.activeStyle,a=M.useContext(ig),c=a.min,l=a.max,u=a.step,h=M.useMemo(function(){var f=new Set;if(r.forEach(function(g){f.add(g.value)}),i&&u!==null)for(var p=c;p<=l;)f.add(p),p+=u;return Array.from(f)},[c,l,u,i,r]);return M.createElement("div",{className:"".concat(n,"-step")},h.map(function(f){return M.createElement(Hat,{prefixCls:n,key:f,value:f,style:s,activeStyle:o})}))},Gq=function(e){var n=e.prefixCls,r=e.style,i=e.start,s=e.end,o=e.index,a=e.onStartMove,c=e.replaceCls,l=M.useContext(ig),u=l.direction,h=l.min,f=l.max,p=l.disabled,g=l.range,y=l.classNames,v="".concat(n,"-track"),b=j3(i,h,f),_=j3(s,h,f),A=function(T){!p&&a&&a(T,-1)},I={};switch(u){case"rtl":I.right="".concat(b*100,"%"),I.width="".concat(_*100-b*100,"%");break;case"btt":I.bottom="".concat(b*100,"%"),I.height="".concat(_*100-b*100,"%");break;case"ttb":I.top="".concat(b*100,"%"),I.height="".concat(_*100-b*100,"%");break;default:I.left="".concat(b*100,"%"),I.width="".concat(_*100-b*100,"%")}var P=c||pd(v,Va(Va({},"".concat(v,"-").concat(o+1),o!==null&&g),"".concat(n,"-track-draggable"),a),y.track);return M.createElement("div",{className:P,style:ts(ts({},I),r),onMouseDown:A,onTouchStart:A})},qat=function(e){var n=e.prefixCls,r=e.style,i=e.values,s=e.startPoint,o=e.onStartMove,a=M.useContext(ig),c=a.included,l=a.range,u=a.min,h=a.styles,f=a.classNames,p=M.useMemo(function(){if(!l){if(i.length===0)return[];var y=s??u,v=i[0];return[{start:Math.min(y,v),end:Math.max(y,v)}]}for(var b=[],_=0;_<i.length-1;_+=1)b.push({start:i[_],end:i[_+1]});return b},[i,l,s,u]);if(!c)return null;var g=p!=null&&p.length&&(f.tracks||h.tracks)?M.createElement(Gq,{index:null,prefixCls:n,start:p[0].start,end:p[p.length-1].end,replaceCls:pd(f.tracks,"".concat(n,"-tracks")),style:h.tracks}):null;return M.createElement(M.Fragment,null,g,p.map(function(y,v){var b=y.start,_=y.end;return M.createElement(Gq,{index:v,prefixCls:n,style:ts(ts({},op(r,v)),h.track),start:b,end:_,key:v,onStartMove:o})}))},Kat=130;function Yq(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function Gat(t,e,n,r,i,s,o,a,c,l,u){var h=M.useState(null),f=Es(h,2),p=f[0],g=f[1],y=M.useState(-1),v=Es(y,2),b=v[0],_=v[1],A=M.useState(!1),I=Es(A,2),P=I[0],D=I[1],T=M.useState(n),S=Es(T,2),x=S[0],N=S[1],R=M.useState(n),$=Es(R,2),j=$[0],K=$[1],B=M.useRef(null),z=M.useRef(null),Y=M.useRef(null),V=M.useContext($at),Q=V.onDragStart,G=V.onDragChange;Sce(function(){b===-1&&N(n)},[n,b]),M.useEffect(function(){return function(){document.removeEventListener("mousemove",B.current),document.removeEventListener("mouseup",z.current),Y.current&&(Y.current.removeEventListener("touchmove",B.current),Y.current.removeEventListener("touchend",z.current))}},[]);var ee=function(oe,ye,Te){ye!==void 0&&g(ye),N(oe);var Be=oe;Te&&(Be=oe.filter(function(et,tt){return tt!==b})),o(Be),G&&G({rawValues:oe,deleteIndex:Te?b:-1,draggingIndex:b,draggingValue:ye})},ne=Gy(function(re,oe,ye){if(re===-1){var Te=j[0],Be=j[j.length-1],et=r-Te,tt=i-Be,Fe=oe*(i-r);Fe=Math.max(Fe,et),Fe=Math.min(Fe,tt);var pt=s(Te+Fe);Fe=pt-Te;var mt=j.map(function(Fn){return Fn+Fe});ee(mt)}else{var an=(i-r)*oe,Pt=Ou(x);Pt[re]=j[re];var An=c(Pt,an,re,"dist");ee(An.values,An.value,ye)}}),le=function(oe,ye,Te){oe.stopPropagation();var Be=Te||n,et=Be[ye];_(ye),g(et),K(Be),N(Be),D(!1);var tt=Yq(oe),Fe=tt.pageX,pt=tt.pageY,mt=!1;Q&&Q({rawValues:Be,draggingIndex:ye,draggingValue:et});var an=function(Fn){Fn.preventDefault();var fn=Yq(Fn),mr=fn.pageX,Jt=fn.pageY,se=mr-Fe,xe=Jt-pt,Ce=t.current.getBoundingClientRect(),Me=Ce.width,ot=Ce.height,Ye,yt;switch(e){case"btt":Ye=-xe/ot,yt=se;break;case"ttb":Ye=xe/ot,yt=se;break;case"rtl":Ye=-se/Me,yt=xe;break;default:Ye=se/Me,yt=xe}mt=l?Math.abs(yt)>Kat&&u<x.length:!1,D(mt),ne(ye,Ye,mt)},Pt=function An(Fn){Fn.preventDefault(),document.removeEventListener("mouseup",An),document.removeEventListener("mousemove",an),Y.current&&(Y.current.removeEventListener("touchmove",B.current),Y.current.removeEventListener("touchend",z.current)),B.current=null,z.current=null,Y.current=null,a(mt),_(-1),D(!1)};document.addEventListener("mouseup",Pt),document.addEventListener("mousemove",an),oe.currentTarget.addEventListener("touchend",Pt),oe.currentTarget.addEventListener("touchmove",an),B.current=an,z.current=Pt,Y.current=oe.currentTarget},ue=M.useMemo(function(){var re=Ou(n).sort(function(et,tt){return et-tt}),oe=Ou(x).sort(function(et,tt){return et-tt}),ye={};oe.forEach(function(et){ye[et]=(ye[et]||0)+1}),re.forEach(function(et){ye[et]=(ye[et]||0)-1});var Te=l?1:0,Be=Object.values(ye).reduce(function(et,tt){return et+Math.abs(tt)},0);return Be<=Te?x:n},[n,x,l]);return[b,p,P,ue,le]}function Yat(t,e,n,r,i,s){var o=M.useCallback(function(p){return Math.max(t,Math.min(e,p))},[t,e]),a=M.useCallback(function(p){if(n!==null){var g=t+Math.round((o(p)-t)/n)*n,y=function(A){return(String(A).split(".")[1]||"").length},v=Math.max(y(n),y(e),y(t)),b=Number(g.toFixed(v));return t<=b&&b<=e?b:null}return null},[n,t,e,o]),c=M.useCallback(function(p){var g=o(p),y=r.map(function(_){return _.value});n!==null&&y.push(a(p)),y.push(t,e);var v=y[0],b=e-t;return y.forEach(function(_){var A=Math.abs(g-_);A<=b&&(v=_,b=A)}),v},[t,e,r,n,o,a]),l=function p(g,y,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof y=="number"){var _,A=g[v],I=A+y,P=[];r.forEach(function(N){P.push(N.value)}),P.push(t,e),P.push(a(A));var D=y>0?1:-1;b==="unit"?P.push(a(A+D*n)):P.push(a(I)),P=P.filter(function(N){return N!==null}).filter(function(N){return y<0?N<=A:N>=A}),b==="unit"&&(P=P.filter(function(N){return N!==A}));var T=b==="unit"?A:I;_=P[0];var S=Math.abs(_-T);if(P.forEach(function(N){var R=Math.abs(N-T);R<S&&(_=N,S=R)}),_===void 0)return y<0?t:e;if(b==="dist")return _;if(Math.abs(y)>1){var x=Ou(g);return x[v]=_,p(x,y-D,v,b)}return _}else{if(y==="min")return t;if(y==="max")return e}},u=function(g,y,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",_=g[v],A=l(g,y,v,b);return{value:A,changed:A!==_}},h=function(g){return s===null&&g===0||typeof s=="number"&&g<s},f=function(g,y,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",_=g.map(c),A=_[v],I=l(_,y,v,b);if(_[v]=I,i===!1){var P=s||0;v>0&&_[v-1]!==A&&(_[v]=Math.max(_[v],_[v-1]+P)),v<_.length-1&&_[v+1]!==A&&(_[v]=Math.min(_[v],_[v+1]-P))}else if(typeof s=="number"||s===null){for(var D=v+1;D<_.length;D+=1)for(var T=!0;h(_[D]-_[D-1])&&T;){var S=u(_,1,D);_[D]=S.value,T=S.changed}for(var x=v;x>0;x-=1)for(var N=!0;h(_[x]-_[x-1])&&N;){var R=u(_,-1,x-1);_[x-1]=R.value,N=R.changed}for(var $=_.length-1;$>0;$-=1)for(var j=!0;h(_[$]-_[$-1])&&j;){var K=u(_,-1,$-1);_[$-1]=K.value,j=K.changed}for(var B=0;B<_.length-1;B+=1)for(var z=!0;h(_[B+1]-_[B])&&z;){var Y=u(_,1,B+1);_[B+1]=Y.value,z=Y.changed}}return{value:_[v],values:_}};return[c,f]}function Qat(t){return M.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,i=t.maxCount;return[!0,e,!e&&n,r||0,i]},[t])}var Zat=M.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,i=t.className,s=t.style,o=t.classNames,a=t.styles,c=t.id,l=t.disabled,u=l===void 0?!1:l,h=t.keyboard,f=h===void 0?!0:h,p=t.autoFocus,g=t.onFocus,y=t.onBlur,v=t.min,b=v===void 0?0:v,_=t.max,A=_===void 0?100:_,I=t.step,P=I===void 0?1:I,D=t.value,T=t.defaultValue,S=t.range,x=t.count,N=t.onChange,R=t.onBeforeChange,$=t.onAfterChange,j=t.onChangeComplete,K=t.allowCross,B=K===void 0?!0:K,z=t.pushable,Y=z===void 0?!1:z,V=t.reverse,Q=t.vertical,G=t.included,ee=G===void 0?!0:G,ne=t.startPoint,le=t.trackStyle,ue=t.handleStyle,re=t.railStyle,oe=t.dotStyle,ye=t.activeDotStyle,Te=t.marks,Be=t.dots,et=t.handleRender,tt=t.activeHandleRender,Fe=t.track,pt=t.tabIndex,mt=pt===void 0?0:pt,an=t.ariaLabelForHandle,Pt=t.ariaLabelledByForHandle,An=t.ariaRequired,Fn=t.ariaValueTextFormatterForHandle,fn=M.useRef(null),mr=M.useRef(null),Jt=M.useMemo(function(){return Q?V?"ttb":"btt":V?"rtl":"ltr"},[V,Q]),se=Qat(S),xe=Es(se,5),Ce=xe[0],Me=xe[1],ot=xe[2],Ye=xe[3],yt=xe[4],Mt=M.useMemo(function(){return isFinite(b)?b:0},[b]),gr=M.useMemo(function(){return isFinite(A)?A:100},[A]),lr=M.useMemo(function(){return P!==null&&P<=0?1:P},[P]),Ko=M.useMemo(function(){return typeof Y=="boolean"?Y?lr:!1:Y>=0?Y:!1},[Y,lr]),$n=M.useMemo(function(){return Object.keys(Te||{}).map(function(Lt){var ft=Te[Lt],ln={value:Number(Lt)};return ft&&sf(ft)==="object"&&!M.isValidElement(ft)&&("label"in ft||"style"in ft)?(ln.style=ft.style,ln.label=ft.label):ln.label=ft,ln}).filter(function(Lt){var ft=Lt.label;return ft||typeof ft=="number"}).sort(function(Lt,ft){return Lt.value-ft.value})},[Te]),wi=Yat(Mt,gr,lr,$n,B,Ko),zi=Es(wi,2),Oi=zi[0],Vi=zi[1],_e=Dat(T,{value:D}),Vt=Es(_e,2),cn=Vt[0],ur=Vt[1],Xt=M.useMemo(function(){var Lt=cn==null?[]:Array.isArray(cn)?cn:[cn],ft=Es(Lt,1),ln=ft[0],Tn=ln===void 0?Mt:ln,Nn=cn===null?[]:[Tn];if(Ce){if(Nn=Ou(Lt),x||cn===void 0){var oi=x>=0?x+1:2;for(Nn=Nn.slice(0,oi);Nn.length<oi;){var yr;Nn.push((yr=Nn[Nn.length-1])!==null&&yr!==void 0?yr:Mt)}}Nn.sort(function(St,pn){return St-pn})}return Nn.forEach(function(St,pn){Nn[pn]=Oi(St)}),Nn},[cn,Ce,Mt,x,Oi]),Cn=function(ft){return Ce?ft:ft[0]},Un=Gy(function(Lt){var ft=Ou(Lt).sort(function(ln,Tn){return ln-Tn});N&&!Fat(ft,Xt,!0)&&N(Cn(ft)),ur(ft)}),Jr=Gy(function(Lt){Lt&&fn.current.hideHelp();var ft=Cn(Xt);$==null||$(ft),Qv(!$,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),j==null||j(ft)}),wn=function(ft){if(!(u||!Me||Xt.length<=Ye)){var ln=Ou(Xt);ln.splice(ft,1),R==null||R(Cn(ln)),Un(ln);var Tn=Math.max(0,ft-1);fn.current.hideHelp(),fn.current.focus(Tn)}},dr=Gat(mr,Jt,Xt,Mt,gr,Oi,Un,Jr,Vi,Me,Ye),Di=Es(dr,5),si=Di[0],go=Di[1],Z=Di[2],te=Di[3],de=Di[4],ge=function(ft,ln){if(!u){var Tn=Ou(Xt),Nn=0,oi=0,yr=gr-Mt;Xt.forEach(function(ut,rn){var vo=Math.abs(ft-ut);vo<=yr&&(yr=vo,Nn=rn),ut<ft&&(oi=rn)});var St=Nn;Me&&yr!==0&&(!yt||Xt.length<yt)?(Tn.splice(oi+1,0,ft),St=oi+1):Tn[Nn]=ft,Ce&&!Xt.length&&x===void 0&&Tn.push(ft);var pn=Cn(Tn);if(R==null||R(pn),Un(Tn),ln){var bi,ai;(bi=document.activeElement)===null||bi===void 0||(ai=bi.blur)===null||ai===void 0||ai.call(bi),fn.current.focus(St),de(ln,St,Tn)}else $==null||$(pn),Qv(!$,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),j==null||j(pn)}},he=function(ft){ft.preventDefault();var ln=mr.current.getBoundingClientRect(),Tn=ln.width,Nn=ln.height,oi=ln.left,yr=ln.top,St=ln.bottom,pn=ln.right,bi=ft.clientX,ai=ft.clientY,ut;switch(Jt){case"btt":ut=(St-ai)/Nn;break;case"ttb":ut=(ai-yr)/Nn;break;case"rtl":ut=(pn-bi)/Tn;break;default:ut=(bi-oi)/Tn}var rn=Mt+ut*(gr-Mt);ge(Oi(rn),ft)},Qe=M.useState(null),ht=Es(Qe,2),je=ht[0],ze=ht[1],$e=function(ft,ln){if(!u){var Tn=Vi(Xt,ft,ln);R==null||R(Cn(Xt)),Un(Tn.values),ze(Tn.value)}};M.useEffect(function(){if(je!==null){var Lt=Xt.indexOf(je);Lt>=0&&fn.current.focus(Lt)}ze(null)},[je]);var nt=M.useMemo(function(){return ot&&lr===null?!1:ot},[ot,lr]),Pe=Gy(function(Lt,ft){de(Lt,ft),R==null||R(Cn(Xt))}),Ze=si!==-1;M.useEffect(function(){if(!Ze){var Lt=Xt.lastIndexOf(go);fn.current.focus(Lt)}},[Ze]);var Et=M.useMemo(function(){return Ou(te).sort(function(Lt,ft){return Lt-ft})},[te]),jt=M.useMemo(function(){return Ce?[Et[0],Et[Et.length-1]]:[Mt,Et[0]]},[Et,Ce,Mt]),It=Es(jt,2),bn=It[0],Hi=It[1];M.useImperativeHandle(e,function(){return{focus:function(){fn.current.focus(0)},blur:function(){var ft,ln=document,Tn=ln.activeElement;(ft=mr.current)!==null&&ft!==void 0&&ft.contains(Tn)&&(Tn==null||Tn.blur())}}}),M.useEffect(function(){p&&fn.current.focus(0)},[]);var yo=M.useMemo(function(){return{min:Mt,max:gr,direction:Jt,disabled:u,keyboard:f,step:lr,included:ee,includedStart:bn,includedEnd:Hi,range:Ce,tabIndex:mt,ariaLabelForHandle:an,ariaLabelledByForHandle:Pt,ariaRequired:An,ariaValueTextFormatterForHandle:Fn,styles:a||{},classNames:o||{}}},[Mt,gr,Jt,u,f,lr,ee,bn,Hi,Ce,mt,an,Pt,An,Fn,a,o]);return M.createElement(ig.Provider,{value:yo},M.createElement("div",{ref:mr,className:pd(r,i,Va(Va(Va(Va({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),Q),"".concat(r,"-horizontal"),!Q),"".concat(r,"-with-marks"),$n.length)),style:s,onMouseDown:he,id:c},M.createElement("div",{className:pd("".concat(r,"-rail"),o==null?void 0:o.rail),style:ts(ts({},re),a==null?void 0:a.rail)}),Fe!==!1&&M.createElement(qat,{prefixCls:r,style:le,values:Xt,startPoint:ne,onStartMove:nt?Pe:void 0}),M.createElement(Wat,{prefixCls:r,marks:$n,dots:Be,style:oe,activeStyle:ye}),M.createElement(Bat,{ref:fn,prefixCls:r,style:ue,values:te,draggingIndex:si,draggingDelete:Z,onStartMove:Pe,onOffsetChange:$e,onFocus:g,onBlur:y,handleRender:et,activeHandleRender:tt,onChangeComplete:Jr,onDelete:Me?wn:void 0}),M.createElement(Vat,{prefixCls:r,marks:$n,onClick:ge})))});function Jat({name:t,handleClick:e}){return C.jsxs("button",{className:"btn button-hovering-color",onClick:e,children:[" ",t]})}const YC=[0,1];function Xat({handleSelectedPrice:t,currentPriceRange:e}){const[n,r]=M.useState(YC);M.useEffect(()=>{if(e.length===0)(n[0]!==YC[0]||n[1]!==YC[1])&&r(YC);else if(Array.isArray(e)&&e.length===2){const o=e;(n[0]!==o[0]||n[1]!==o[1])&&r(o)}},[e]);const i=()=>{t(n)},s=o=>{Array.isArray(o)&&o.length===2&&r(o)};return C.jsxs("div",{className:"filter-by-price-container",children:[C.jsx("h3",{children:"Filter By Price"}),C.jsxs("div",{style:{width:250,margin:"2rem auto"},children:[C.jsx(Zat,{range:!0,min:0,max:1,step:1e-5,value:n,onChange:s,allowCross:!1}),C.jsxs("div",{className:"slider-selected-price",children:[C.jsxs("span",{children:[n[0].toFixed(3)," ETH"]}),C.jsxs("span",{children:[n[1].toFixed(3)," ETH"]})]})]}),C.jsx(Jat,{name:"Apply Price",handleClick:i})]})}const V0=21,ect=10,Qq=2,tct=(t,e)=>{if(e<=ect)return Array.from({length:e},(a,c)=>c+1);const n=[];n.push(1);const r=Math.max(t-Qq,2),i=Math.min(t+Qq,e-1),s=r>2,o=i<e-1;s&&n.push("...");for(let a=r;a<=i;a++)n.push(a);return o&&n.push("..."),n.push(e),n};function nct(){var $n,wi,zi,Oi,Vi;const[t,e]=M.useState(null),[n,r]=M.useState(""),[i,s]=M.useState([]),[o,a]=M.useState(1),[c,l]=M.useState([]),[u,h]=M.useState([]),[f,p]=M.useState([null,null]),[g,y]=M.useState(!1),[v,b]=M.useState("trending"),[_,A]=M.useState(0),[I,P]=M.useState(null),D=1765,S=qc().state||null,x=_>0?Math.ceil(_/V0):1,N=tct(o,x);M.useEffect(()=>{let _e=null,Vt="",cn=[null,null],ur=!1;typeof S=="string"?(_e=S,Vt=S,P("filterSearch"),y(!1)):S!=null&&S.formattedData?(_e=S.formattedData.destinationName||null,cn=S.formattedData.selectDate||[null,null],P("searchArea"),ur=!0,y(!0)):S!=null&&S.footerDestination&&(_e=S.footerDestination,Vt=S.footerDestination,P("filterSearch"),y(!1)),e(_e),r(Vt),p(cn),a(1),ur?(l([]),h([])):y(!1)},[S]);function R(_e){b(_e),a(1),console.log("youyo...............",_e)}function $(_e){r(_e.target.value)}function j(){P("filterSearch");const _e=n.trim()||null;e(_e),a(1),y(!1),p([null,null])}function K(_e){P("searchArea"),y(!0),p(_e.selectDate||[null,null]);const Vt=_e.destinationName.trim();e(Vt||null),r(""),l([]),h([]),a(1)}function B(_e){h(_e)}function z(_e){P("filterSearch"),e(_e),r(_e||""),a(1),y(!1),p([null,null])}function Y(_e){l(_e)}function V(_e){const Vt=o+_e;Vt>=1&&Vt<=x&&(a(Vt),window.scrollTo({top:0,behavior:"smooth"}))}function Q(_e){_e>=1&&_e<=x&&_e!==o&&(a(_e),window.scrollTo({top:0,behavior:"smooth"}))}const G=M.useCallback(()=>{(c.length>0||u.length>0)&&(l([]),h([]))},[c,u]),{data:ee,isLoading:ne,isFetching:le,isSuccess:ue,isError:re}=$Ie(t||"",{skip:!t}),oe=(zi=(wi=($n=ee==null?void 0:ee.data)==null?void 0:$n.products)==null?void 0:wi[0])==null?void 0:zi.id,ye=t!==null&&ue&&!oe,Te=f[0]!==null&&f[1]!==null,{data:Be,isLoading:et,isFetching:tt,isSuccess:Fe,isError:pt}=jIe({destinationId:oe,selectedDate:f,currentPage:o,sortBy:v,limit:V0},{skip:!oe||!ue||!Te}),{data:mt,isLoading:an,isFetching:Pt,isSuccess:An,isError:Fn}=RIe({destinationId:oe,currentPage:o,sortBy:v,limit:V0},{skip:!oe||!ue||Te}),{data:fn,isLoading:mr,isFetching:Jt,isSuccess:se,isError:xe}=FIe({currentPage:o,sortBy:v,limit:V0},{skip:!!t||Te});M.useEffect(()=>{var ur;let _e=null,Vt=!1,cn=!0;t&&oe&&Te?(_e=Be,Vt=Fe,cn=tt||le):t&&oe&&!Te?(_e=mt,Vt=An,cn=Pt||le):!t&&!Te?(_e=fn,Vt=se,cn=Jt):cn=le||tt||Pt||Jt,Vt&&((ur=_e==null?void 0:_e.data)!=null&&ur.products)?(s(_e.data.products),A(_e.data.filterStats.filteredProductCount)):cn||(s([]),A(0))},[t,f,oe,Te,Be,Fe,tt,mt,An,Pt,fn,se,Jt,ue,le]);let Ce=[...i];if(c.length>0&&(Ce=Ce.filter(_e=>{var cn,ur;const Vt=(ur=(cn=_e==null?void 0:_e.reviewsStats)==null?void 0:cn.combinedNumericStats)==null?void 0:ur.average;return typeof Vt!="number"?!1:c.some(Xt=>Xt===5?Vt==5:Vt>=Xt&&Vt<Xt+1)})),(u==null?void 0:u.length)===2&&D!=null&&D>0){const _e=u[0],Vt=u[1];_e<=Vt&&(Ce=Ce.filter(cn=>{var Cn;const ur=(Cn=cn==null?void 0:cn.representativePrice)==null?void 0:Cn.chargeAmount;if(typeof ur!="number")return!1;const Xt=ur/D;return Xt>=_e&&Xt<=Vt}))}const Me=t&&(ne||le)||t&&oe&&Te&&(et||tt)||t&&oe&&!Te&&(an||Pt)||!t&&!Te&&(mr||Jt),ot=t&&!oe&&re||t&&oe&&Te&&pt||t&&oe&&!Te&&Fn||!t&&!Te&&xe,Ye=Me,yt=!Me&&ot,Mt=!Me&&!ot&&(ye||Ce.length===0),gr=!Me&&!ot&&!Mt&&Ce.length>0,lr=!Me&&!ot&&x>1,Ko=I==="searchArea"&&S&&typeof S=="object"&&S.formattedData?{destinationName:S.formattedData.destinationName||"",selectDate:[(Oi=S.formattedData.selectDate)!=null&&Oi[0]?new Date(S.formattedData.selectDate[0]):null,(Vi=S.formattedData.selectDate)!=null&&Vi[1]?new Date(S.formattedData.selectDate[1]):null],activity:S.formattedData.activity||"","guest-numbers":S.formattedData["guest-numbers"]}:{destinationName:"",selectDate:[null,null],activity:"","guest-numbers":""};return C.jsxs(C.Fragment,{children:[C.jsx(rg,{headingText:"Tours",normalText:"Home /",coloredText:"Tours",bannerImage:_t.TOURPAGE_BANNER}),C.jsx(K$,{searchAreaData:K,initialSearchValues:Ko,isSearchArea:g,onFocusResetSidebarFilters:G}),C.jsxs("div",{className:GC.FILTER_DISPLAY,children:[C.jsxs("div",{className:GC.FILTER_CONTAINER,children:[C.jsx("div",{className:"tour-filter-types",children:C.jsxs("div",{className:"search-destination-wrapper",children:[C.jsx("h3",{children:"Search Destination"}),C.jsxs("div",{className:"search-input-with-icon",children:[C.jsx("input",{type:"text",value:n,onChange:$,onKeyDown:_e=>{_e.key==="Enter"&&j()},placeholder:"Search Destination..."}),C.jsx("i",{className:"fa fa-search search-icon search-icon-filter",onClick:j})]})]})}),C.jsx("div",{className:"tour-filter-types",children:C.jsx(Xat,{handleSelectedPrice:B,currentPriceRange:u})}),C.jsx("div",{className:"tour-filter-types",children:C.jsx(Eat,{handleDestinationData:z,currentDestination:t})}),C.jsx("div",{className:"tour-filter-types",children:C.jsx(Aat,{handleRatingData:Y,currentRatings:c})})]}),C.jsxs("div",{className:GC.TOURS_WRAPPER,children:[C.jsxs("div",{className:"sorting-container",children:[C.jsx("label",{htmlFor:"tour-sort",children:"Sort by: "}),C.jsxs("select",{id:"tour-sort",value:v,onChange:_e=>R(_e.target.value),className:"sort-select",children:[C.jsx("option",{value:"trending",children:"Trending"}),C.jsx("option",{value:"attr_book_score",children:"Most popular"}),C.jsx("option",{value:"lowest_price",children:"Lowest Price"})]})]}),C.jsx("div",{className:GC.TOURS_CONTAINER,children:Ye?Array.from({length:V0}).map((_e,Vt)=>C.jsx(Mne,{},`skeleton-${Vt}`)):yt?C.jsx("div",{className:"error-message",style:{textAlign:"center",padding:"40px",gridColumn:"1 / -1"},children:C.jsx("p",{children:"Sorry, an error occurred while fetching tours. Please try again later."})}):gr?Ce.map(_e=>{var si,go,Z,te,de,ge,he,Qe,ht,je,ze,$e;const Vt=((Z=(go=(si=_e==null?void 0:_e.ufiDetails)==null?void 0:si.url)==null?void 0:go.country)==null?void 0:Z.toUpperCase())||"N/A",cn=((te=_e==null?void 0:_e.ufiDetails)==null?void 0:te.bCityName)||"N/A",ur=(_e==null?void 0:_e.name)||"Unnamed Tour",Xt=(de=_e==null?void 0:_e.primaryPhoto)==null?void 0:de.small,Cn=(Qe=(he=(ge=_e==null?void 0:_e.reviewsStats)==null?void 0:ge.combinedNumericStats)==null?void 0:he.average)==null?void 0:Qe.toFixed(1),Un=((je=(ht=_e==null?void 0:_e.reviewsStats)==null?void 0:ht.combinedNumericStats)==null?void 0:je.total.toString())||"0",Jr=(ze=_e==null?void 0:_e.representativePrice)==null?void 0:ze.chargeAmount,wn=typeof Jr=="number"&&D>0?`${(Jr/D).toFixed(5)} ETH`:"N/A",dr=(_e==null?void 0:_e.slug)||(($e=_e.id)==null?void 0:$e.toString())||`tour-${Math.random()}`,Di=`${_e.destinationId||"dest"}-${_e.id||dr}-${o}`;return C.jsx(pU,{cityName:cn,countryName:Vt,tourName:ur,tourImage:Xt,tourRating:Cn,tourReview:Un,tourPrice:wn,tourDuration:"2 days",slugValue:dr},Di)}):C.jsxs("div",{className:"no-tours-found",style:{textAlign:"center",padding:"40px",gridColumn:"1 / -1"},children:[C.jsx("div",{className:"not-foung-image",children:C.jsx("img",{src:_t.NOT_FOUND,alt:"Not Found"})}),C.jsx("p",{children:"Sorry, No Tours Found Matching Your Criteria."}),ye&&C.jsx("p",{children:"We couldn't find tours for the specified destination."}),!ye&&i.length>0&&(c.length>0||u.length>0)&&C.jsx("p",{children:"Try adjusting your filters or checking other pages."}),!ye&&i.length===0&&_===0&&C.jsx("p",{children:"No tours available for this destination/date combination."})]})})]})]}),lr&&C.jsx("div",{className:"page-navigation-container",children:C.jsxs("div",{className:"pages-navigation",children:[C.jsx("span",{className:`page-number-container ${o===1?"disabled":""}`,onClick:()=>V(-1),style:{cursor:o===1?"not-allowed":"pointer"},"aria-disabled":o===1,role:"button",tabIndex:o===1?-1:0,"aria-label":"Previous Page",children:C.jsx("i",{className:"fa-solid fa-chevron-left"})}),N.map((_e,Vt)=>typeof _e=="string"?C.jsx("span",{className:"page-number-container ellipsis","aria-hidden":"true",children:_e},`ellipsis-${Vt}`):C.jsx("span",{className:`page-number-container ${o===_e?"colored-page-number":""}`,onClick:()=>Q(_e),style:{cursor:o===_e?"default":"pointer"},role:"button",tabIndex:0,"aria-current":o===_e?"page":void 0,"aria-label":`Go to page ${_e}`,children:_e},`page-${_e}`)),C.jsx("span",{className:`page-number-container ${o===x?"disabled":""}`,onClick:()=>V(1),style:{cursor:o===x?"not-allowed":"pointer"},"aria-disabled":o===x,role:"button",tabIndex:o===x?-1:0,"aria-label":"Next Page",children:C.jsx("i",{className:"fa-solid fa-chevron-right"})})]})})]})}function rct(){const t={section1:{firstGrouped:["United Kingdom","Canada","Switzerland"],secondGrouped:["Norway","Japan"],single:"France"},section2:{firstGrouped:["Italy","Thailand","Egypt"],secondGrouped:["Australia","India"],single:"New Zealand"}},e={"United Kingdom":_t.UNITED_KINGDOM,Canada:_t.CANADA,Switzerland:_t.SWITZERLAND,Thailand:_t.THAILAND,Australia:_t.AUSTRALIA,France:_t.FRANCE,Italy:_t.ITALY,Norway:_t.NORWAY,Egypt:_t.EGYPT,Japan:_t.JAPAN,India:_t.INDIA,"New Zealand":_t.NEWZEALAND};return C.jsxs(C.Fragment,{children:[C.jsx(rg,{headingText:"Destination",normalText:"Home /",coloredText:"Destination",bannerImage:_t.DESTINATION_BANNER}),C.jsx(K$,{searchAreaData:()=>{}}),C.jsx("div",{className:"destination-grid-wrapper",children:C.jsxs("div",{className:"destination-grid-container",children:[C.jsxs("div",{className:"grid-section",children:[C.jsxs("div",{className:"grouped-destinations-grid",children:[C.jsx("div",{className:"first-grouped-destinations",children:t.section1.firstGrouped.map(n=>C.jsx(Cu,{countryName:n,countryImage:e[n]},n))}),C.jsx("div",{className:"second-grouped-destinations",children:t.section1.secondGrouped.map(n=>C.jsx(Cu,{countryName:n,countryImage:e[n]},n))})]}),C.jsx("div",{className:"single-destinations-grid",children:C.jsx(Cu,{countryName:t.section1.single,countryImage:e[t.section1.single]})})]}),C.jsxs("div",{className:"grid-section reversed",children:[C.jsx("div",{className:"single-destinations-grid",children:C.jsx(Cu,{countryName:t.section2.single,countryImage:e[t.section2.single]})}),C.jsxs("div",{className:"grouped-destinations-grid",children:[C.jsx("div",{className:"first-grouped-destinations",children:t.section2.firstGrouped.map(n=>C.jsx(Cu,{countryName:n,countryImage:e[n]},n))}),C.jsx("div",{className:"second-grouped-destinations",children:t.section2.secondGrouped.map(n=>C.jsx(Cu,{countryName:n,countryImage:e[n]},n))})]})]})]})})]})}function ict(){var b,_,A,I,P,D;const{countryName:t}=_P(),e="Gev3EvtXpErr8iA59qj7W9YSuAqSlpUduaRBB2f5fWaULYSB2k9d09Yn",[n,r]=M.useState([]),[i,s]=M.useState(0),[o,a]=M.useState([]),[c,l]=M.useState(),[u,h]=M.useState([]),[f,p]=M.useState([]),[g,y]=M.useState(),v=["Jan - Feb","Mar - Apr","May - June","July - Aug","Sep - Oct","Nov - Dec"];return M.useEffect(()=>{window.scrollTo(0,0);const T=async()=>{try{const $=await(await fetch(`https://api.pexels.com/v1/search?query=${t}&per_page=5`,{headers:{Authorization:e}})).json();r($.photos||[])}catch(R){console.error("Failed to fetch images:",R)}},S=async()=>{try{const $=await(await fetch(`https://restcountries.com/v3.1/name/${t}`)).json();h($),a($[0].timezones||[]),p($[0].languages?Object.values($[0].languages):[]),y($[0].capital||[])}catch(R){console.error("Failed to fetch country information: ",R)}},x=async()=>{try{const $=await(await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${t}`)).json();l($.extract)}catch(R){console.error("Failed to fetch country description: ",R)}};(async()=>{try{const $=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${t}`)).json(),{lat:j,lon:K}=$[0],B=await fetch(`https://archive-api.open-meteo.com/v1/archive?latitude=${j}&longitude=${K}&start_date=2020-01-01&end_date=2020-12-31&monthly=temperature_2m_mean&timezone=auto`);console.log("Weather data:",await B.json())}catch(R){console.error("Failed to fetch coordinates/weather:",R)}})(),x(),S(),T()},[t]),C.jsxs(C.Fragment,{children:[C.jsx(rg,{headingText:"Destination Details",normalText:"Home / ",middleText:"Destination/",coloredText:t==null?void 0:t.toUpperCase(),bannerImage:_t.DESTINATION_BANNER}),C.jsxs("div",{className:"destination-detail-wrapper",children:[C.jsxs("div",{className:"destination-detail-container",children:[C.jsx("div",{className:"destinaton-main-image",children:C.jsx("img",{src:(_=(b=n[i])==null?void 0:b.src)==null?void 0:_.large2x})}),C.jsx("div",{className:"destination-other-images",children:[...Array(5)].map((T,S)=>{var x,N;return C.jsx("span",{onClick:()=>s(S),className:"minor-images-container",children:C.jsx("img",{src:(N=(x=n[S])==null?void 0:x.src)==null?void 0:N.large2x,className:"minor-image"})},S)})}),C.jsxs("div",{className:"destination-description-container",children:[C.jsxs("h4",{children:["About ",t==null?void 0:t.toUpperCase()]}),C.jsx("p",{className:"project-normal-font",children:c})]}),C.jsxs("div",{className:"destination-basic-info-wrapper",children:[C.jsx("h4",{children:"Basic Information"}),C.jsx("div",{className:"destination-baisc-info-container",children:C.jsxs("ul",{children:[C.jsxs("li",{children:[C.jsx("p",{children:"Country"}),C.jsx("span",{children:t==null?void 0:t.toUpperCase()})]}),C.jsxs("li",{children:[C.jsx("p",{children:"Capital"}),g==null?void 0:g.map((T,S)=>C.jsxs("span",{children:[T,S===g.length-1?"":", "]},S))]}),C.jsxs("li",{children:[C.jsx("p",{children:"Language"}),f==null?void 0:f.map((T,S)=>C.jsxs("span",{children:[T,S===f.length-1?"":", "]},S))]}),C.jsxs("li",{children:[C.jsx("p",{children:"Currency"}),C.jsx("span",{children:((A=u[0])==null?void 0:A.currencies)&&((I=Object.values(u[0].currencies)[0])==null?void 0:I.name)})]}),C.jsxs("li",{children:[C.jsx("p",{children:"Area"}),C.jsxs("span",{children:[(P=u[0])==null?void 0:P.area," km²"]})]}),C.jsxs("li",{children:[C.jsx("p",{children:"Population"}),C.jsx("span",{children:(D=u[0])==null?void 0:D.population})]}),C.jsxs("li",{children:[C.jsx("p",{children:"Timezone"}),o==null?void 0:o.slice(0,4).map((T,S)=>C.jsxs("span",{children:[T,S===o.length-1?"":", "]},S))]})]})})]})]}),C.jsxs("div",{className:"weather-map-container",children:[C.jsx(wU,{cityName:t,mapHeadingText:"City Map",zoomLevel:4}),C.jsx("div",{className:"weather-wrapper",children:C.jsxs("div",{className:"weather-container",children:[C.jsx("h6",{children:"Weather"}),C.jsx("div",{className:"destination-baisc-info-container weather-report",children:C.jsx("ul",{children:v.map((T,S)=>C.jsxs("li",{children:[C.jsx("p",{children:T}),C.jsx("span",{children:"22°C - 32°C"}),C.jsx("div",{className:"create-line"})]},S))})})]})})]})]}),C.jsx("div",{className:"destination-tour-slider-wrapper",children:C.jsxs("div",{className:"destination-tour-slider",children:[C.jsx("h2",{children:"Popular Tours"}),C.jsx(Lne,{})]})})]})}function yk({contactIcon:t,contactType:e,contactInfo:n}){return C.jsx("div",{className:"contact-element-wrapper",children:C.jsxs("div",{className:"contact-element-container",children:[C.jsx("i",{className:t}),C.jsx("p",{children:e}),C.jsx("span",{children:n})]})})}function Pce(){return M.useEffect(()=>{window.scrollTo(0,0)}),C.jsxs(C.Fragment,{children:[C.jsx(rg,{normalText:"Home / ",coloredText:"Contact",headingText:"Contact Us",bannerImage:_t.DESTINATION_BANNER}),C.jsx("div",{className:"contact-page-wrapper",children:C.jsxs("div",{className:"contact-page-container",children:[C.jsxs("div",{className:"contact-info-tabs",children:[C.jsx(yk,{contactIcon:"fa-solid fa-location-dot",contactType:"Location",contactInfo:"Chandigarh, India"}),C.jsx(yk,{contactIcon:"fa fa-phone",contactType:"Phone",contactInfo:"987654321"}),C.jsx(yk,{contactIcon:"fa-regular fa-envelope",contactType:"Email",contactInfo:"support@trisog.com"})]}),C.jsxs("div",{className:"question-map-section",children:[C.jsxs("div",{className:"question-wrapper",children:[C.jsx("h4",{className:"cursive-text",children:"Have any question?"}),C.jsx("h2",{children:"Get in Touch"}),C.jsx("div",{className:"asking-question-wrapper",children:C.jsx(C5,{collectionType:"queries"})})]}),C.jsx("div",{className:"map__wrapper",children:C.jsx(wU,{cityName:"Chandigarh",mapHeadingText:"",zoomLevel:6})})]})]})})]})}function sct({blog:t}){return C.jsxs("div",{className:"blog-card-wrapper",children:[C.jsx("div",{className:"blog-image-container",children:C.jsx("img",{src:t.image,className:"blog-card-image",alt:t.title})}),C.jsx("div",{className:"blog-date-part",children:C.jsxs("p",{children:[t.date," • Admin"]})}),C.jsx(ri,{to:`/blog/${t.id}`,className:"link-class",children:C.jsx("h4",{children:t.title})}),C.jsx("p",{className:"project-normal-font",children:t.shortDescription}),C.jsxs(ri,{to:`/blog/${t.id}`,className:"read-more",children:["Read More ",C.jsx("span",{children:C.jsx("i",{className:"fa-solid fa-long-arrow-right"})})]})]})}function oct(){const[t,e]=M.useState(null),[n,r]=M.useState(null),i=[...new Set(tp.map(u=>u.category))].map(u=>({name:u,count:tp.filter(h=>h.category===u).length})),s=[...new Set(tp.map(u=>u.tag))],o=tp.slice(0,3),a=tp.filter(u=>{const h=t?u.category===t:!0,f=n?u.tag===n:!0;return h&&f}),c=u=>{t===u?e(null):(e(u),r(null))},l=u=>{n===u?r(null):(r(u),e(null))};return C.jsxs(C.Fragment,{children:[C.jsx(rg,{normalText:"Home / ",coloredText:"Blog",headingText:"Our Blog",bannerImage:_t.TOURPAGE_BANNER}),C.jsx("div",{className:"blog-page-wrapper",children:C.jsxs("div",{className:"blog-page-container",children:[C.jsx("div",{className:"blog-main-content",children:a.length>0?a.map(u=>C.jsx(sct,{blog:u},u.id)):C.jsx("p",{className:"project-normal-font",children:"No blogs found for the selected category or tag."})}),C.jsxs("div",{className:"blog-side-bar",children:[C.jsxs("div",{className:"sidebar-section",children:[C.jsx("h4",{children:"Categories"}),C.jsx("ul",{className:"category-list",children:i.map(u=>C.jsx("li",{className:`category-item ${t===u.name?"active":""}`,onClick:()=>c(u.name),children:C.jsxs("span",{className:"project-normal-font",children:[u.name," (",u.count,")"]})},u.name))})]}),C.jsxs("div",{className:"sidebar-section",children:[C.jsx("h4",{children:"Recent Posts"}),C.jsx("ul",{className:"recent-posts-list",children:o.map(u=>C.jsx("li",{children:C.jsxs("div",{className:"recent-post-item",children:[C.jsx(ri,{to:`/blog/${u.id}`,className:"link-class",children:C.jsx("h5",{children:u.title})}),C.jsxs("p",{children:[u.date," • Admin"]})]})},u.id))})]}),C.jsxs("div",{className:"sidebar-section",children:[C.jsx("h4",{children:"Tags"}),C.jsx("div",{className:"tags-list",children:s.map(u=>C.jsx("span",{className:`tag-item ${n===u?"active":""}`,onClick:()=>l(u),children:u},u))})]})]})]})})]})}function act(){const{id:t}=_P(),e=tp.find(i=>i.id===parseInt(t||"")),n=`${Ue.BLOG.path}/${t}`,r=`${Ue.BLOG.path}/${t}`;return e?(M.useEffect(()=>{window.scrollTo(0,0)},[]),C.jsx("div",{className:"blog-detail-page-wrapper",children:C.jsxs("div",{className:"blog-detail-page-container",children:[C.jsx("div",{className:"blog-detail-image-container",children:C.jsx("img",{src:e.image,className:"blog-detail-image",alt:e.title})}),C.jsxs("div",{className:"blog-detail-content-wrapper",children:[C.jsx("div",{className:"blog-detail-date",children:C.jsxs("p",{children:[e.date," • Admin"]})}),C.jsx("h3",{className:"blog-detail-title",children:e.title}),C.jsx("p",{className:"blog__description project-normal-font",children:e.content.map((i,s)=>C.jsxs("span",{children:[i,C.jsx("br",{}),C.jsx("br",{})]},s))})]}),C.jsxs("div",{className:"blog-details-tag-share-wrapper",children:[C.jsxs("div",{className:"blog-share-tag-container",children:[C.jsxs("div",{className:"blog-share-container",children:[C.jsx("span",{children:"Share: "}),C.jsxs("span",{className:"social-share-icons",children:[C.jsx(bce,{url:n,title:r,children:C.jsx(wce,{size:20,round:!1})}),C.jsx(Ece,{url:n,title:r,children:C.jsx(_ce,{size:20,round:!1})}),C.jsx(Cce,{url:n,title:r,children:C.jsx(Ace,{size:20,round:!1})}),C.jsx(Zot,{url:n,title:r,children:C.jsx(Yot,{size:20,round:!1})})]})]}),C.jsx("div",{className:"blog-detail-page-tags",children:C.jsx("span",{children:e.tag})})]}),C.jsx("div",{className:"blog-tags"})]}),C.jsxs("div",{className:"author-section",children:[C.jsx("div",{className:"author-image-wrapper",children:C.jsx("div",{className:"author-image-container",children:C.jsx("img",{src:_t.BLANK_PROFILE,alt:"Author"})})}),C.jsxs("div",{className:"author-information-container",children:[C.jsx("h6",{children:"Simmons"}),C.jsx("span",{children:"Author"}),C.jsx("p",{className:"project-normal-font",children:"Objectively productivate just in time information with dynamic channels. Energistically exploit seamless growth strategies after 24/7 experiences."})]})]}),C.jsx("div",{className:"blog-reply-container",children:C.jsx(C5,{collectionType:"blog-comments"})})]})})):C.jsx("div",{className:"blog-detail-page-wrapper",children:"Blog not found"})}function cct(){const[t,e]=M.useState([]),[n,r]=M.useState(!0);return M.useEffect(()=>{const i=Jj(Lo,async s=>{if(s)try{const o=Nj(pw(zl,"bookings"),Rj("userId","==",s.uid)),c=(await Mj(o)).docs.map(l=>({id:l.id,...l.data()}));console.log("...yooyoy...",c),e(c)}catch(o){console.error("Error fetching bookings:",o)}finally{r(!1)}else e([]),r(!1)});return()=>i()},[]),n?C.jsx("p",{className:"loading-text",children:"Loading bookings..."}):C.jsxs("div",{className:"booked-tours-container",children:[C.jsx("h2",{className:"page-title",children:"My Booked Tours"}),t.length===0?C.jsx("p",{className:"no-bookings-msg",children:"You haven’t booked any tours yet."}):C.jsxs("div",{className:"bookings-table",children:[C.jsxs("div",{className:"table-header",children:[C.jsx("div",{className:"table-cell tour-name-cell",children:"Tour Name"}),C.jsx("div",{className:"table-cell",children:"Tickets"}),C.jsx("div",{className:"table-cell",children:"Date"}),C.jsx("div",{className:"table-cell",children:"Time"}),C.jsx("div",{className:"table-cell",children:"Price"})]}),t.map(i=>C.jsxs("div",{className:"table-row",children:[C.jsx("div",{className:"table-cell tour-name-cell",children:C.jsx(ri,{to:Ue.TOURS_DETAIL.path.replace(":slugId",i.slugValue),className:"link-class",children:i.tourName})}),C.jsx("div",{className:"table-cell",children:i.tickets}),C.jsx("div",{className:"table-cell",children:i.date}),C.jsx("div",{className:"table-cell",children:i.time}),C.jsxs("div",{className:"table-cell",children:[Number(i.totalPrice)," ETH"]})]},i.id))]})]})}function lct(){const[t,e]=M.useState([]),[n,r]=M.useState(!0),[i,s]=M.useState(null),[o,a]=M.useState(!0);M.useEffect(()=>{const l=Jj(Lo,u=>{s(u),a(!1)});return()=>l()},[]),M.useEffect(()=>{o||(async()=>{if(!i){e([]),r(!1);return}try{const u=Nj(pw(zl,"favorites"),Rj("userId","==",i.uid)),f=(await Mj(u)).docs.map(p=>({id:p.id,...p.data()}));e(f)}catch(u){console.error("Error fetching favorites:",u)}finally{r(!1)}})()},[i,o]);const c=l=>{e(u=>u.filter(h=>h.id!==l))};return o?C.jsx("div",{children:"Loading..."}):i?n?C.jsx("div",{children:"Loading..."}):C.jsxs("div",{className:"favorites-page-container",children:[C.jsx("h2",{children:"Your Favorite Tours"}),t.length===0?C.jsx("p",{children:"No favorite tours yet."}):C.jsx("div",{className:"favorites-grid",children:t.map(l=>C.jsx(pU,{cityName:l.cityName,countryName:l.countryName,tourName:l.tourName,tourImage:l.tourImage||"",tourRating:l.tourRating||"0",tourReview:l.tourReview||"0",tourPrice:`${l.tourPrice}`||"0",tourDuration:l.tourDuration||"N/A",slugValue:l.tourSlug,onRemoveFavorite:()=>c(l.id)},l.id))})]}):C.jsx("div",{children:"Please log in to view your favorite tours."})}function H0({profileImage:t,name:e,role:n}){return C.jsxs("div",{className:"team-card-wrapper",children:[C.jsx("div",{className:"member-image-container",children:C.jsx("img",{src:t,alt:e})}),C.jsxs("div",{className:"name-and-role",children:[C.jsx("h6",{children:e}),C.jsx("p",{children:n})]})]})}function Yg({image:t,title:e,textContent:n}){return C.jsxs("div",{className:"feature-box",children:[C.jsx("img",{src:t}),C.jsx("h6",{children:e}),C.jsx("p",{children:n})]})}function Oce(){const t=[{quantity:120,quantityElement:"Total Destination"},{quantity:500,quantityElement:"Travel Packages"},{quantity:"10K",quantityElement:"Total Travelers"},{quantity:"7K",quantityElement:"Positive Reviews"}];return M.useEffect(()=>{window.scrollTo(0,0)}),C.jsxs(C.Fragment,{children:[C.jsx(VQ,{}),C.jsx("div",{className:"our-numbers-wrapper",children:C.jsx("div",{className:"our-numbers-container",children:t.map(e=>C.jsxs("div",{className:"number-data",children:[C.jsxs("h1",{children:[e.quantity,"+"]}),C.jsx("p",{children:e.quantityElement})]}))})}),C.jsxs("div",{className:"about-feature-wrapper",children:[C.jsx("h4",{className:"cursive-text",children:"Features"}),C.jsx("h2",{children:"Why Choose Us"}),C.jsxs("div",{className:"about-feature-container",children:[C.jsx(Yg,{image:_t.QUALITY_PACKAGES,title:"High Quality Travel Packages",textContent:"Credibly target visionary portals rather than prospective human capital."}),C.jsx(Yg,{image:_t.BEST_TRAVEL_PLAN,title:"Best Travel Plan",textContent:"Credibly target visionary portals rather than prospective human capital."}),C.jsx(Yg,{image:_t.QUICK_BOOKING,title:"Easy & Quick Booking",textContent:"Credibly target visionary portals rather than prospective human capital."}),C.jsx(Yg,{image:_t.HAND_PICKED_TOUR,title:"Hand-picked Tour",textContent:"Credibly target visionary portals rather than prospective human capital."}),C.jsx(Yg,{image:_t.PRIVATE_GUIDE,title:"Private Guide",textContent:"Credibly target visionary portals rather than prospective human capital."}),C.jsx(Yg,{image:_t.CUSTOMER_CARE,title:"Customer Care 24/7",textContent:"Credibly target visionary portals rather than prospective human capital."})]})]}),C.jsxs("div",{className:"team-member-wrapper",children:[C.jsx("h4",{className:"cursive-text",children:"Team"}),C.jsx("h2",{children:"Our Amazing Team"}),C.jsxs("div",{className:"team-member-container",children:[C.jsx(H0,{profileImage:_t.TEAM_MEMBER,name:"Antoni Shkraba",role:"Founder & Director"}),C.jsx(H0,{profileImage:_t.TEAM_MEMBER,name:"Andrew Davie",role:"Chief Operating Officer"}),C.jsx(H0,{profileImage:_t.TEAM_MEMBER,name:"Orlando Diggs",role:"Director - Hotels"}),C.jsx(H0,{profileImage:_t.TEAM_MEMBER,name:"Philip Martin",role:"Chief Executive"}),C.jsx(H0,{profileImage:_t.TEAM_MEMBER,name:"Tamara Bellis",role:"Customer Support"})]})]}),C.jsx(EJ,{})]})}const Dce=[{path:Ue.HOMEPAGE.path,element:C.jsx(Fne,{}),title:Ue.HOMEPAGE.title},{path:Ue.ABOUT.path,element:C.jsx(Oce,{}),title:Ue.ABOUT.title},{path:"/wishlist",element:"Your wishlist here",title:"Dashboard"},{path:Ue.TOURS_DETAIL.path,title:Ue.TOURS_DETAIL.title,element:C.jsx(_at,{})},{path:Ue.DESTINATION_DETAIL.path,title:Ue.DESTINATION_DETAIL.title,element:C.jsx(ict,{})},{path:Ue.CONTACT.path,title:Ue.CONTACT.title,element:C.jsx(Pce,{})},{path:Ue.DESTINATION.path,title:Ue.DESTINATION.title,element:C.jsx(rct,{})},{path:Ue.TOURS.path,title:Ue.TOURS.title,element:C.jsx(nct,{})},{path:Ue.BLOG.path,title:Ue.BLOG.title,element:C.jsx(oct,{})},{path:Ue.BLOG_DETAIL.path,title:Ue.BLOG_DETAIL.title,element:C.jsx(act,{})},{path:Ue.BOOKED_TOURS.path,title:Ue.BOOKED_TOURS.title,element:C.jsx(cct,{})},{path:Ue.FAVORITES_TOURS.path,title:Ue.FAVORITES_TOURS.title,element:C.jsx(lct,{})},{path:"*",element:C.jsx(uQ,{to:zQ.PRIVATE}),title:"Rendering wildcard"}];function Tx({name:t,handleClick:e}){const n=qc();function r(){return n.pathname==Ue.LOGIN.path&&t=="Log In"||n.pathname==Ue.REGISTER.path&&t=="Sign Up"?"toggle-btn toggle-btn-color":"toggle-btn"}return C.jsx("button",{className:r(),onClick:e,children:t})}function Gb({name:t,handleClick:e}){return C.jsx("button",{className:"social-btn",onClick:e,children:t})}function uct(){const t=pP(),e=rw(),n=async i=>{try{const s=await a2e(Lo,i.email,i.password),{user:o}=s;if(!o.emailVerified){await Lo.signOut(),vt.error("Please verify your email first.");return}const a=await o.getIdToken();t(JS({token:a})),vt.success("Login successful!"),e(Ue.HOMEPAGE.path)}catch(s){let o="An error occurred. Please try again.";switch(s.message){case"auth/user-not-found":case"auth/invalid-credential":o="Invalid email or password.";break;default:o=s.message||o}vt.error(o)}},r=async()=>{try{const i=await Yte(Lo,Jte),{user:s}=i;if(!s.emailVerified){await Lo.signOut(),vt.error("Please verify your email first.");return}const o=await s.getIdToken();t(JS({token:o})),vt.success("Login successful!"),e(Ue.HOMEPAGE.path)}catch(i){vt.error(i.message||"Google login failed.")}};return C.jsxs(C.Fragment,{children:[C.jsx(rg,{headingText:"Authentication",normalText:"Home /",coloredText:"login-in",bannerImage:_t.AUTH_BANNER}),C.jsx("div",{className:"signIn-wrapper",children:C.jsxs("div",{className:"signIn-div",children:[C.jsxs("div",{className:"auth-buttons",children:[C.jsx(Tx,{name:"Sign Up",handleClick:()=>e(`${Ue.REGISTER.path}`)}),C.jsx(Tx,{name:"Log In",handleClick:()=>e(`${Ue.LOGIN.path}`)})]}),C.jsx("div",{className:"signIn-form signIn-form-shadow",children:C.jsx(d1,{initialValues:{email:"",password:""},validationSchema:aw({email:Mo().email("Invalid email").required("Required"),password:Mo().required("Required")}),onSubmit:n,children:C.jsxs(ow,{className:"form-values",children:[C.jsxs("div",{className:"input-group",children:[C.jsx("label",{htmlFor:"email",children:"Email Address"}),C.jsx(Tc,{name:"email",type:"email",placeholder:"Enter your email",className:"txt-box"}),C.jsx(Ch,{name:"email",component:"div",className:"error"})]}),C.jsxs("div",{className:"input-group",children:[C.jsx("label",{htmlFor:"password",children:"Password"}),C.jsx(Tc,{name:"password",type:"password",placeholder:"Enter your password",className:"txt-box"}),C.jsx(Ch,{name:"password",component:"div",className:"error"})]}),C.jsx("button",{type:"submit",className:"submit-btn button-hovering-color",children:"Sign In"})]})})}),C.jsx("div",{className:"forgot-text",children:C.jsx(ri,{to:"/reset-password",children:"Forgot Your Password?"})}),C.jsxs("div",{className:"social-auth",children:[C.jsx(Gb,{name:"Google",handleClick:r}),C.jsx(Gb,{name:"Facebook",handleClick:()=>console.log("Facebook")}),C.jsx(Gb,{name:"Twitter",handleClick:()=>console.log("Twitter")})]})]})})]})}function dct(){const[t,e]=M.useState(!1),n=rw(),r=pP(),i=async o=>{e(!0);try{const a=await o2e(Lo,o.email,o.password),{user:c}=a;await kz(c),await AM(j_(zl,"users",c.uid),{email:o.email,phoneNumber:o.phoneNumber}),await PM(Lo),vt.success("Signed up successfully! Please verify your email."),n(Ue.LOGIN.path)}catch(a){const c=a.code==="auth/email-already-in-use"?"Email already in use.":a.message||"Signup failed. Please try again.";vt.error(c)}e(!1)},s=async()=>{e(!0);try{const o=await Yte(Lo,Jte),{user:a}=o,c=j_(zl,"users",a.uid);if((await wee(c)).exists()||await AM(c,{email:a.email,name:a.displayName,createdAt:new Date}),!a.emailVerified)await kz(a),await PM(Lo),vt.success("Google signup successful! Please verify your email."),n(Ue.LOGIN.path);else{const u=await a.getIdToken();r(JS({token:u})),vt.success("Google signup successful!"),n(Ue.HOMEPAGE.path)}}catch(o){vt.error(o.message||"Google signup failed.")}e(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(rg,{headingText:"Authentication",normalText:"Home /",coloredText:"sign-up",bannerImage:_t.AUTH_BANNER}),C.jsx("div",{className:"signup-div",children:C.jsxs("div",{className:"form-container",children:[C.jsxs("div",{className:"auth-buttons",children:[C.jsx(Tx,{name:"Sign Up",handleClick:()=>n(`${Ue.REGISTER.path}`)}),C.jsx(Tx,{name:"Sign In",handleClick:()=>n(`${Ue.LOGIN.path}`)})]}),C.jsx("div",{className:"signup-form",children:C.jsx(d1,{initialValues:{email:"",phoneNumber:"",password:"","confirm-password":""},validationSchema:aw({email:Mo().required("Required"),phoneNumber:Mo().required("Required").matches(/^[0-9]{10}$/,"Phone number must be exactly 10 digits"),password:Mo().required("Required").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Must contain at least one uppercase").matches(/[a-z]/,"Must contain at least one lowercase").matches(/[!@#$%^&*()<>?:"{}]/,"Must contain at least one special character").matches(/[0-9]/,"Must contain at least one number"),"confirm-password":Mo().required("Required").oneOf([U1e("password")],"Passwords must match")}),onSubmit:i,children:C.jsxs(ow,{className:"form-values",children:[C.jsxs("div",{className:"input-group",children:[C.jsx("label",{htmlFor:"email",children:"Email Address"}),C.jsx(Tc,{name:"email",type:"email",placeholder:"Enter your email",className:"txt-box"}),C.jsx(Ch,{name:"email",component:"div",className:"error"})]}),C.jsxs("div",{className:"input-group",children:[C.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),C.jsx(Tc,{name:"phoneNumber",type:"text",placeholder:"Enter your phone number",className:"txt-box"}),C.jsx(Ch,{name:"phoneNumber",component:"div",className:"error"})]}),C.jsxs("div",{className:"input-group",children:[C.jsx("label",{htmlFor:"password",children:"Password"}),C.jsx(Tc,{name:"password",type:"password",placeholder:"Enter your password",className:"txt-box"}),C.jsx(Ch,{name:"password",component:"div",className:"error"})]}),C.jsxs("div",{className:"input-group",children:[C.jsx("label",{htmlFor:"confirm-password",children:"Confirm Password"}),C.jsx(Tc,{name:"confirm-password",type:"password",placeholder:"Confirm your password",className:"txt-box"}),C.jsx(Ch,{name:"confirm-password",component:"div",className:"error"})]}),C.jsx("button",{type:"submit",className:t?"submit-btn signUp-btn-disable button-hovering-color":"submit-btn button-hovering-color",disabled:t,children:"Sign Up"})]})})}),C.jsxs("div",{className:"social-auth",children:[C.jsx("button",{className:"sign-up-btn social-btn",onClick:s,disabled:t,children:"Google"}),C.jsx(Gb,{name:"Facebook",handleClick:()=>console.log("Facebook")}),C.jsx(Gb,{name:"Twitter",handleClick:()=>console.log("Twitter")})]})]})})]})}function hct(){const[t,e]=M.useState(!1);async function n(r){e(!0);try{const i=pw(zl,"users"),s=Nj(i,Rj("email","==",r.email));if((await Mj(s)).empty){vt.error("No account found with this email address");return}await s2e(Lo,r.email),vt.success("Password reset email sent successfully")}catch(i){console.error("Error:",i),vt.error("User does not exist")}finally{e(!1)}}return C.jsx("div",{className:"forgot-password-container",children:C.jsxs("div",{className:"forgot-password-box",children:[C.jsx("h3",{children:"Reset Your Password"}),C.jsx("p",{children:"Enter your email to receive a password reset link"}),C.jsx(d1,{initialValues:{email:""},validationSchema:aw({email:Mo().email("Invalid email address").required("Required")}),onSubmit:n,children:C.jsxs(ow,{className:"forgot-password-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx(Tc,{type:"email",name:"email",placeholder:"Email address",className:"form-input"}),C.jsx(Ch,{name:"email",component:"div",className:"error-message"})]}),C.jsx("button",{type:"submit",disabled:t,className:"submit-button button-hovering-color",children:"Send Reset Link"})]})})]})})}const Nce=[{path:Ue.HOMEPAGE.path,element:C.jsx(Fne,{}),title:Ue.HOMEPAGE.title},{path:`${Ue.LOGIN.path}`,title:Ue.LOGIN.title,element:C.jsx(uct,{})},{path:Ue.REGISTER.path,title:Ue.REGISTER.title,element:C.jsx(dct,{})},{path:Ue.RESET_PASSWORD.path,title:Ue.RESET_PASSWORD.title,element:C.jsx(hct,{})},{path:Ue.ABOUT.path,title:Ue.ABOUT.title,element:C.jsx(Oce,{})},{path:Ue.CONTACT.path,title:Ue.CONTACT.title,element:C.jsx(Pce,{})},{path:"*",element:C.jsx(uQ,{to:zQ.PUBLIC}),title:"Rendering wildcard"}];function fct({isAuthenticated:t=!1}){const e=qc(),r=Nce.concat(t?Dce:Tve).find(s=>s.path!=="*"&&BQ(s.path).test(e.pathname)),i=r?r.title:"";return C.jsxs(dT,{children:[C.jsx("title",{children:i}),C.jsx("meta",{})]})}const pct=[...Nce],mct=[...Dce];function Rce(){const t=pP(),e=rw(),[n,r]=M.useState(null),[i,s]=M.useState(!1),[o,a]=M.useState(!1),c=M.useRef(null);M.useEffect(()=>{const g=Jj(Lo,y=>{r(y)});return()=>g()},[]),M.useEffect(()=>{const g=y=>{c.current&&!c.current.contains(y.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),M.useEffect(()=>(o?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),()=>{document.body.classList.remove("no-scroll")}),[o]);const l=async()=>{try{await PM(Lo),e(Ue.HOMEPAGE.path),t(JS({token:null})),vt.success("Logged out successfully!")}catch{vt.error("Logout failed. Please try again.")}},u=()=>n!=null&&n.displayName?n.displayName.charAt(0).toUpperCase():n!=null&&n.email?n.email.charAt(0).toUpperCase():"?",h=()=>{a(!0)},f=()=>{a(!1)},p=()=>{s(!1)};return C.jsxs("div",{className:"header-section",children:[C.jsxs("div",{className:"left-header",children:[C.jsx("div",{className:"header-logo",children:C.jsx(ri,{to:Ue.HOMEPAGE.path,children:C.jsx("img",{src:_t.TRISOG_HEADER_LOGO,alt:"project-logo"})})}),C.jsxs("div",{className:"header-items",children:[C.jsx(Md,{to:Ue.HOMEPAGE.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:C.jsx("li",{children:Ue.HOMEPAGE.title})}),C.jsx(Md,{to:Ue.ABOUT.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:C.jsx("li",{children:Ue.ABOUT.title})}),C.jsx(Md,{to:Ue.TOURS.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:C.jsx("li",{children:"Tours"})}),C.jsx(Md,{to:Ue.DESTINATION.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:C.jsx("li",{children:"Destination"})}),C.jsx(Md,{to:Ue.BLOG.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:C.jsx("li",{children:"Blog"})}),C.jsx(Md,{to:Ue.CONTACT.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:C.jsx("li",{children:Ue.CONTACT.title})})]})]}),C.jsx("div",{className:"right-header",children:n?C.jsxs("div",{className:"user-info",ref:c,children:[C.jsx("div",{className:"user-initial",onClick:()=>s(g=>!g),children:u()}),i&&C.jsxs("div",{className:"user-dropdown",children:[C.jsx(ri,{to:Ue.BOOKED_TOURS.path,className:"dropdown-item",onClick:p,children:"Booked Tours"}),C.jsx(ri,{to:Ue.FAVORITES_TOURS.path,className:"dropdown-item",onClick:p,children:"Favourite Tours"})]}),C.jsxs("button",{className:"logout-btn",onClick:h,children:[C.jsx("i",{className:"fa-solid fa-sign-out-alt"})," Logout"]})]}):C.jsxs("div",{className:"auth-links",children:[C.jsxs(Md,{to:Ue.LOGIN.path,className:({isActive:g})=>`auth-link ${g?"active-link":""}`,children:[C.jsx("i",{className:"fa-regular fa-user"})," ",Ue.LOGIN.title]}),C.jsx("span",{className:"divider",children:"/"}),C.jsx(Md,{to:Ue.REGISTER.path,className:({isActive:g})=>`auth-link ${g?"active-link":""}`,children:Ue.REGISTER.title})]})}),o&&C.jsx("div",{className:"logout-popup-wrapper",onClick:f,children:C.jsxs("div",{className:"logout-popup",onClick:g=>g.stopPropagation(),children:[C.jsx("h3",{children:"Are you sure you want to log out ?"}),C.jsxs("div",{className:"popup-actions",children:[C.jsx("button",{className:"confirm-btn",onClick:l,children:"Logout"}),C.jsx("button",{className:"cancel-btn",onClick:f,children:"Cancel"})]})]})})]})}function kce(){const[t,e]=M.useState(""),n=["Las Vegas","New York","Hawaii","Paris"],r=["Barcelona","Milan","Tokyo","Milan"];async function i(s){if(s.preventDefault(),!t){vt.error("Please enter a valid email address");return}try{await Lj(pw(zl,"newsletter"),{email:t}),vt.success("Signed up successfully for newsletter"),e("")}catch(o){vt.error(`Error: ${o}`)}}return C.jsx("div",{className:"footer-container",children:C.jsxs("div",{className:"footer-section",children:[C.jsxs("div",{className:"left-footer",children:[C.jsx(ri,{to:Ue.HOMEPAGE.path,children:C.jsx("img",{src:_t.TRISOG_LOGO,alt:"trisog-logo"})}),C.jsx("li",{className:"footer-cursive",children:"Need any help?"}),C.jsx("h6",{children:"Call Us: (888)12345678"}),C.jsxs("p",{children:["Chandigarh, India ",C.jsx("br",{}),"example@trisog.com"]})]}),C.jsxs("div",{className:"mid-footer",children:[C.jsx("div",{className:"company",children:C.jsxs("ul",{children:[C.jsx("li",{className:"footer-cursive",children:"Company"}),C.jsx(ri,{to:Ue.ABOUT.path,className:"link-class",children:C.jsx("li",{children:"About us"})}),C.jsx(ri,{to:Ue.CONTACT.path,className:"link-class",children:C.jsx("li",{children:"Contact us"})})]})}),C.jsx("div",{className:"top-destination",children:C.jsxs("ul",{children:[C.jsx("li",{className:"footer-cursive",children:"Top Destination"}),n.map(s=>C.jsx(ri,{to:Ue.TOURS.path,state:{footerDestination:s},className:"link-class",children:C.jsx("li",{children:s})},`col1-${s}`))]})}),C.jsx("div",{className:"top-destination",children:C.jsxs("ul",{children:[C.jsx("li",{className:"footer-cursive",children:"Trending Destination"}),r.map(s=>C.jsx(ri,{to:Ue.TOURS.path,state:{footerDestination:s},className:"link-class",children:C.jsx("li",{children:s})},`col2-${s}`))]})})]}),C.jsxs("div",{className:"right-footer",children:[C.jsx("li",{className:"footer-cursive",children:"Sign up Newsletter"}),C.jsxs("form",{onSubmit:i,children:[C.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:s=>e(s.target.value),required:!0}),C.jsx("br",{}),C.jsx("button",{type:"submit",className:"button-hovering-color",children:"Submit"})]}),C.jsx("br",{}),C.jsx("p",{children:"© 2025 Trisog All Rights Reserved"})]})]})})}function gct({children:t}){return C.jsxs(C.Fragment,{children:[C.jsx(Rce,{}),t,C.jsx(kce,{})]})}function yct({children:t}){return C.jsxs(C.Fragment,{children:[C.jsx(Rce,{}),t,C.jsx(kce,{})]})}function vct({isAuthenticated:t,children:e}){const n=qc();return M.useEffect(()=>{vt.dismiss()},[n.pathname]),t?C.jsx(gct,{children:e}):C.jsx(yct,{children:e})}function wct(){const t=zB(pct),e=zB(mct),n=MY(i=>{var s;return(s=i==null?void 0:i.common)==null?void 0:s.token}),r=!!n;return C.jsxs(C.Fragment,{children:[C.jsx(fct,{isAuthenticated:r}),C.jsx(vct,{isAuthenticated:r,children:n?e:t})]})}var bct="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Zq=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Jq=4;function _ct(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let P=1;P<r;P++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const h=31,f=2**h,p=f>>>1,g=p>>1,y=f-1;let v=0;for(let P=0;P<h;P++)v=v<<1|u();let b=[],_=0,A=f;for(;;){let P=Math.floor(((v-_+1)*i-1)/A),D=0,T=r;for(;T-D>1;){let N=D+T>>>1;P<s[N]?T=N:D=N}if(D==0)break;b.push(D);let S=_+Math.floor(A*s[D]/i),x=_+Math.floor(A*s[D+1]/i)-1;for(;!((S^x)&p);)v=v<<1&y|u(),S=S<<1&y,x=x<<1&y|1;for(;S&~x&g;)v=v&p|v<<1&y>>>1|u(),S=S<<1^p,x=(x^p)<<1|p|1;_=S,A=1+x-S}let I=r-4;return b.map(P=>{switch(P-I){case 3:return I+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return I+256+(t[a++]<<8|t[a++]);case 1:return I+t[a++];default:return P-1}})}function Ect(t){let e=0;return()=>t[e++]}function Mce(t){return Ect(_ct(Act(t)))}function Act(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function Cct(t){return t&1?~t>>1:t>>1}function Tct(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=Cct(e());return n}function WE(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function Lce(t){return qE(()=>{let e=WE(t);if(e.length)return e})}function Fce(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Sct(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(Ict(n,t))}return e.flat()}function qE(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function $ce(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Tct(t,n).forEach((s,o)=>r[o].push(s));return r}function Sct(t,e){let n=1+e(),r=e(),i=qE(e);return $ce(i.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(i[a]).fill().map((u,h)=>{let f=h*r;return[c+h*n,l.map(p=>p+f)]})})}function Ict(t,e){let n=1+e();return $ce(n,1+t,e).map(i=>[i[0],i.slice(1)])}function xct(t){let e=[],n=WE(t);return i(r([]),[]),e;function r(s){let o=t(),a=qE(()=>{let c=WE(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let u of l.Q)i(l,[...a,u],c)}}}function Pct(t){return t.toString(16).toUpperCase().padStart(2,"0")}function jce(t){return`{${Pct(t)}}`}function Oct(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Zv(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function Dct(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var Nct="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const KE=44032,Sx=4352,Ix=4449,xx=4519,Uce=19,Bce=21,Jv=28,Px=Bce*Jv,Rct=Uce*Px,kct=KE+Rct,Mct=Sx+Uce,Lct=Ix+Bce,Fct=xx+Jv;function mb(t){return t>>24&255}function zce(t){return t&16777215}let U3,Xq,B3,oS;function $ct(){let t=Mce(Nct);U3=new Map(Lce(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),Xq=new Set(WE(t)),B3=new Map,oS=new Map;for(let[e,n]of Fce(t)){if(!Xq.has(e)&&n.length==2){let[r,i]=n,s=oS.get(r);s||(s=new Map,oS.set(r,s)),s.set(i,e)}B3.set(e,n.reverse())}}function Vce(t){return t>=KE&&t<kct}function jct(t,e){if(t>=Sx&&t<Mct&&e>=Ix&&e<Lct)return KE+(t-Sx)*Px+(e-Ix)*Jv;if(Vce(t)&&e>xx&&e<Fct&&(t-KE)%Jv==0)return t+(e-xx);{let n=oS.get(t);return n&&(n=n.get(e),n)?n:-1}}function Hce(t){U3||$ct();let e=[],n=[],r=!1;function i(s){let o=U3.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(Vce(s)){let o=s-KE,a=o/Px|0,c=o%Px/Jv|0,l=o%Jv;i(Sx+a),i(Ix+c),l>0&&i(xx+l)}else{let o=B3.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=mb(e[0]);for(let o=1;o<e.length;o++){let a=mb(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(s=mb(e[--c]),s<=a))break}s=mb(e[o])}}return e}function Uct(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=mb(s),a=zce(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=jct(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function Wce(t){return Hce(t).map(zce)}function Bct(t){return Uct(Hce(t))}const eK=45,qce=".",Kce=65039,Gce=1,Ox=t=>Array.from(t);function GE(t,e){return t.P.has(e)||t.Q.has(e)}class zct extends Array{get is_emoji(){return!0}}let z3,Yce,Tp,V3,Qce,Yy,vk,sy,Jf,tK,H3;function F5(){if(z3)return;let t=Mce(bct);const e=()=>WE(t),n=()=>new Set(e()),r=(u,h)=>h.forEach(f=>u.add(f));z3=new Map(Fce(t)),Yce=n(),Tp=e(),V3=new Set(e().map(u=>Tp[u])),Tp=new Set(Tp),Qce=n(),n();let i=Lce(t),s=t();const o=()=>{let u=new Set;return e().forEach(h=>r(u,i[h])),r(u,e()),u};Yy=qE(u=>{let h=qE(t).map(f=>f+96);if(h.length){let f=u>=s;h[0]-=32,h=Zv(h),f&&(h=`Restricted[${h}]`);let p=o(),g=o(),y=!t();return{N:h,P:p,Q:g,M:y,R:f}}}),vk=n(),sy=new Map;let a=e().concat(Ox(vk)).sort((u,h)=>u-h);a.forEach((u,h)=>{let f=t(),p=a[h]=f?a[h-f]:{V:[],M:new Map};p.V.push(u),vk.has(u)||sy.set(u,p)});for(let{V:u,M:h}of new Set(sy.values())){let f=[];for(let g of u){let y=Yy.filter(b=>GE(b,g)),v=f.find(({G:b})=>y.some(_=>b.has(_)));v||(v={G:new Set,V:[]},f.push(v)),v.V.push(g),r(v.G,y)}let p=f.flatMap(g=>Ox(g.G));for(let{G:g,V:y}of f){let v=new Set(p.filter(b=>!g.has(b)));for(let b of y)h.set(b,v)}}Jf=new Set;let c=new Set;const l=u=>Jf.has(u)?c.add(u):Jf.add(u);for(let u of Yy){for(let h of u.P)l(h);for(let h of u.Q)l(h)}for(let u of Jf)!sy.has(u)&&!c.has(u)&&sy.set(u,Gce);r(Jf,Wce(Jf)),tK=xct(t).map(u=>zct.from(u)).sort(Dct),H3=new Map;for(let u of tK){let h=[H3];for(let f of u){let p=h.map(g=>{let y=g.get(f);return y||(y=new Map,g.set(f,y)),y});f===Kce?h.push(...p):h=p}for(let f of h)f.V=u}}function $5(t){return(Zce(t)?"":`${j5(uD([t]))} `)+jce(t)}function j5(t){return`"${t}"‎`}function Vct(t){if(t.length>=4&&t[2]==eK&&t[3]==eK)throw new Error(`invalid label extension: "${Zv(t.slice(0,4))}"`)}function Hct(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Wct(t){let e=t[0],n=Zq.get(e);if(n)throw Yb(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=Zq.get(e);if(o){if(i==s)throw Yb(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw Yb(`trailing ${n}`)}function uD(t,e=1/0,n=jce){let r=[];qct(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];Zce(a)&&(r.push(Zv(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(Zv(t.slice(i,s))),r.join("")}function qct(t){return F5(),Tp.has(t)}function Zce(t){return F5(),Qce.has(t)}function Kct(t){return Zct(Gct(t,Bct,elt))}function Gct(t,e,n){if(!t)return[];F5();let r=0;return t.split(qce).map(i=>{let s=Oct(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=Xct(s,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(Hct(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(f=>f<128))Vct(u),l="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)l="Emoji";else{if(Tp.has(u[0]))throw Yb("leading combining mark");for(let y=1;y<c;y++){let v=a[y];if(!v.is_emoji&&Tp.has(v[0]))throw Yb(`emoji + combining mark: "${Zv(a[y-1])} + ${uD([v[0]])}"`)}Wct(u);let p=Ox(new Set(f)),[g]=Qct(p);Jct(g,f),Yct(g,p),l=g.N}}o.type=l}catch(a){o.error=a}return o})}function Yct(t,e){let n,r=[];for(let i of e){let s=sy.get(i);if(s===Gce)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):Ox(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>GE(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Qct(t){let e=Yy;for(let n of t){let r=e.filter(i=>GE(i,n));if(!r.length)throw Yy.some(i=>GE(i,n))?Xce(e[0],n):Jce(n);if(e=r,r.length==1)break}return e}function Zct(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${j5(uD(e,63))}: ${i}`)}return Zv(r)}).join(qce)}function Jce(t){return new Error(`disallowed character: ${$5(t)}`)}function Xce(t,e){let n=$5(e),r=Yy.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Yb(t){return new Error(`illegal placement: ${t}`)}function Jct(t,e){for(let n of e)if(!GE(t,n))throw Xce(t,n);if(t.M){let n=Wce(e);for(let r=1,i=n.length;r<i;r++)if(V3.has(n[r])){let s=r+1;for(let o;s<i&&V3.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${$5(o)}`);if(s-r>Jq)throw new Error(`excessive non-spacing marks: ${j5(uD(n.slice(r-1,s)))} (${s-r}/${Jq})`);r=s}}}function Xct(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=tlt(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Jf.has(o))i.push(o);else{let a=z3.get(o);if(a)i.push(...a);else if(!Yce.has(o))throw Jce(o)}}}return i.length&&r.push(e(i)),r}function elt(t){return t.filter(e=>e!=Kce)}function tlt(t,e){let n=H3,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}function nlt(t){return Kct(t)}function rlt(t){return nlt(t)}function ilt(t){let e=[],n,r;function i(a){return hE.parseEvmChainId(a)||1}function s(){return n||(n=zp.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{jp.open(Ap.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),n}async function o(a={}){var y,v;const c=s();let l=a.chainId;if(a.isReconnecting){const b=hE.parseEvmChainId(c.getLastUsedChainId()||""),_=(y=t.chains)==null?void 0:y[0].id;if(l=b||_,!l)throw new Error("ChainId not found in provider")}const u=(v=lt.state.preferredAccountTypes)==null?void 0:v.eip155,{address:h,chainId:f,accounts:p}=await c.connect({chainId:l,preferredAccountType:u});e=(p==null?void 0:p.map(b=>b.address))||[h];const g=i(f);return{accounts:e,account:h,chainId:g,chain:{id:g,unsuported:!1}}}return a=>({id:Oe.CONNECTOR_ID.AUTH,name:Oe.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Oe.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=zp.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{jp.open(Ap.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return i(l)},async isAuthorized(){const c=await this.getProvider();return Promise.resolve(c.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const h=a.chains.find(y=>y.id===c);if(!h)throw new ql(new Error("chain not found on connector."));const f=await this.getProvider(),p=(l=lt.state.preferredAccountTypes)==null?void 0:l.eip155,g=await f.connect({chainId:c,preferredAccountType:p});return e=((u=g==null?void 0:g.accounts)==null?void 0:u.map(y=>y.address))||[g.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),h}catch(h){throw h instanceof Error?new ql(h):h}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(vp)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}U5.type="walletConnect";function U5(t,e){const n=t.isNewChainsStale??!0;let r,i,s,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:U5.type,async setup(){const h=await this.getProvider().catch(()=>null);h&&(o||(o=this.onConnect.bind(this),h.on("connect",o)),c||(c=this.onSessionDelete.bind(this),h.on("session_delete",c)))},async connect({...h}={}){var f,p,g;try{const y=X.getCaipNetworks(),v=await this.getProvider();if(!v)throw new eh;a||(a=this.onDisplayUri,v.on("display_uri",a));const b=await this.isChainsStale();v.session&&b&&await v.disconnect();const _=De.state.universalProviderConfigOverride;if(!v.session||b){const x=XO.createNamespaces(y,_);await v.connect({optionalNamespaces:x,..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(y.map(N=>Number(N.id)))}const A=await this.getAccounts(),I=await this.getChainId(),P=(g=(p=(f=v.session)==null?void 0:f.namespaces)==null?void 0:p.eip155)==null?void 0:g.chains,D=P==null?void 0:P.some(x=>Number(x.split(":")[1])===I);let T=1;D?T=I:P!=null&&P[0]&&(T=Number(P[0].split(":")[1])),a&&(v.removeListener("display_uri",a),a=void 0),o&&(v.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),v.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),v.on("chainChanged",s)),l||(l=this.onDisconnect.bind(this),v.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),v.on("session_delete",c));const S=_==null?void 0:_.defaultChain;return v.setDefaultChain(S??`eip155:${T}`),{accounts:A,chainId:T}}catch(y){throw/(user rejected|connection request reset)/i.test(y==null?void 0:y.message)?new Li(y):y}},async disconnect(){const h=await this.getProvider();try{await(h==null?void 0:h.disconnect())}catch(f){if(!/No matching key/i.test(f.message))throw f}finally{s&&(h==null||h.removeListener("chainChanged",s),s=void 0),l&&(h==null||h.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),h==null||h.on("connect",o)),i&&(h==null||h.removeListener("accountsChanged",i),i=void 0),c&&(h==null||h.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var g,y,v;const h=await this.getProvider();if(!((g=h==null?void 0:h.session)!=null&&g.namespaces))return[];const f=(v=(y=h==null?void 0:h.session)==null?void 0:y.namespaces[Oe.CHAIN.EVM])==null?void 0:v.accounts;return(f==null?void 0:f.map(b=>b.split(":")[2]))??[]},async getProvider({chainId:h}={}){var g,y;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const f=Ke.getActiveNamespace(),p=(g=e.getCaipNetwork())==null?void 0:g.id;if(h&&p!==h&&f){const v=Ke.getStoredActiveCaipNetworkId(),b=e.getCaipNetworks(f),_=b==null?void 0:b.find(A=>A.id===v);_&&_.chainNamespace===Oe.CHAIN.EVM&&await((y=this.switchChain)==null?void 0:y.call(this,{chainId:Number(_.id)}))}return r},async getChainId(){var y,v,b,_;const h=(y=e.getCaipNetwork(Oe.CHAIN.EVM))==null?void 0:y.id;if(h)return h;const p=(_=(b=(v=(await this.getProvider()).session)==null?void 0:v.namespaces[Oe.CHAIN.EVM])==null?void 0:b.chains)==null?void 0:_[0],g=X.getCaipNetworks().find(A=>A.id===p);return g==null?void 0:g.id},async isAuthorized(){try{const[h,f]=await Promise.all([this.getAccounts(),this.getProvider()]);return h.length?await this.isChainsStale()&&f.session?(await f.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:f}){var y,v,b,_;const p=await this.getProvider();if(!p)throw new eh;const g=X.getCaipNetworks().find(A=>A.id===f);if(!g)throw new ql(new uE);try{await p.request({method:"wallet_switchEthereumChain",params:[{chainId:hn(f)}]}),g!=null&&g.caipNetworkId&&p.setDefaultChain(g==null?void 0:g.caipNetworkId),u.emitter.emit("change",{chainId:Number(f)});const A=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...A,f]),{...g,id:g.id}}catch(A){const I=A;if(/(?:user rejected)/iu.test(I.message))throw new Li(I);try{let P;h!=null&&h.blockExplorerUrls?P=h.blockExplorerUrls:P=(y=g.blockExplorers)!=null&&y.default.url?[(v=g.blockExplorers)==null?void 0:v.default.url]:[];const D=((_=(b=g.rpcUrls)==null?void 0:b.chainDefault)==null?void 0:_.http)||[],T={blockExplorerUrls:P,chainId:hn(f),chainName:g.name,iconUrls:h==null?void 0:h.iconUrls,nativeCurrency:g.nativeCurrency,rpcUrls:D};await p.request({method:"wallet_addEthereumChain",params:[T]});const S=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...S,f]),{...g,id:g.id}}catch(P){throw new Li(P)}}},onAccountsChanged(h){h.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:h.map(f=>vp(f))})},onChainChanged(h){const f=Number(h);u.emitter.emit("change",{chainId:f})},onConnect(h){this.setRequestedChainsIds(X.getCaipNetworks().map(f=>Number(f.id)))},async onDisconnect(h){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const f=await this.getProvider();i&&(f.removeListener("accountsChanged",i),i=void 0),s&&(f.removeListener("chainChanged",s),s=void 0),l&&(f.removeListener("disconnect",l),l=void 0),c&&(f.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))},onDisplayUri(h){u.emitter.emit("message",{type:"display_uri",data:h})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var p,g,y;if(!((p=r==null?void 0:r.session)!=null&&p.namespaces))return[];const h=(y=(g=r==null?void 0:r.session)==null?void 0:g.namespaces[Oe.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(v=>Number.parseInt(v.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var f;const h=await((f=u.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[];return[...new Set(h)]},async isChainsStale(){if(!n)return!1;const h=u.chains.map(g=>g.id),f=this.getNamespaceChainsIds();if(f.length&&!f.some(g=>h.includes(g)))return!1;const p=await this.getRequestedChainsIds();return!h.every(g=>p.includes(Number(g)))},async setRequestedChainsIds(h){var f;await((f=u.storage)==null?void 0:f.setItem(this.requestedChainsStorageKey,h))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const W0=Br({pendingTransactions:0}),nK={state:W0,subscribeKey(t,e){return mo(W0,t,e)},increase(t){W0[t]+=1},decrease(t){W0[t]-=1},reset(t){W0[t]=0}};function slt(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const olt={enable:!1,pollingInterval:3e4};class alt extends zae{constructor(e){const n=El.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,adapterType:Oe.ADAPTER_TYPES.WAGMI,namespace:Oe.CHAIN.EVM}),this.balancePromises={},this.pendingTransactionsFilter={...olt,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.setupWatchers()}async getAccounts(e){var s;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===Oe.CONNECTOR_ID.AUTH){const o=n.provider;if(!o.user)return{accounts:[]};const{address:a,accounts:c}=o.user;return Promise.resolve({accounts:(c||[{address:a,type:"eoa"}]).map(l=>$t.createAccount("eip155",l.address,l.type))})}const{addresses:r,address:i}=JI(this.wagmiConfig);return Promise.resolve({accounts:(s=r||[i])==null?void 0:s.map(o=>$t.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(i=>i.chainNamespace===Oe.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(i=>{var a,c;const s=(a=e.transports)==null?void 0:a[i.id],o=El.getCaipNetworkId(i);s?n[i.id]=El.extendWagmiTransports(i,e.projectId,s):n[i.id]=El.getViemTransport(i,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=v4e({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=J5e(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),nK.increase("pendingTransactions")}});const e=nK.subscribeKey("pendingTransactions",n=>{var r;n>=Oe.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){Q5e(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var r,i;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:s}=await Po(()=>import("./index-6d195ded.js"),[]);s&&n.push(s({version:"4",appName:((r=e.metadata)==null?void 0:r.name)??"Unknown",appLogoUrl:((i=e.metadata)==null?void 0:i.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(s){console.error("Failed to import Coinbase Wallet SDK:",s)}n.forEach(s=>{const o=this.wagmiConfig._internal.connectors.setup(s);this.wagmiConfig._internal.connectors.setState(a=>[...a,o])})}addWagmiConnectors(e,n){var o,a,c,l,u;const r=[];e.enableWalletConnect!==!1&&r.push(U5(e,n)),e.enableInjected!==!1&&r.push(xO({shimDisconnect:!0}));const i=((o=e.features)==null?void 0:o.email)===void 0?rs.DEFAULT_FEATURES.email:(a=e.features)==null?void 0:a.email,s=(c=e.features)!=null&&c.socials?((u=(l=e.features)==null?void 0:l.socials)==null?void 0:u.length)>0:rs.DEFAULT_FEATURES.socials;(i||s)&&r.push(ilt({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(h=>{const f=this.wagmiConfig._internal.connectors.setup(h);this.wagmiConfig._internal.connectors.setState(p=>[...p,f])})}async signMessage(e){try{return{signature:await G5e(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n}=JI(this.wagmiConfig),r={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await q5e(this.wagmiConfig,r);const i=await K5e(this.wagmiConfig,r);return await X5e(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,i=Number(hE.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await _ie(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[i],chainId:i,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:n,caipNetwork:r}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let i=!1,s=!1;return IBe(n)&&(s=await XO.resolveReownName(n)||!1),r.id===1&&(i=await V5e(this.wagmiConfig,{name:rlt(n),chainId:r.id})),{address:i||s||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await $5e(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return fie(e.value,e.decimals)}formatUnits(e){return ww(e.value,e.decimals)}async addWagmiConnector(e,n){var i;if(e.id===Oe.CONNECTOR_ID.AUTH||e.id===Oe.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Ph.ConnectorExplorerIds[e.id],imageUrl:((i=n==null?void 0:n.connectorImages)==null?void 0:i[e.id])??e.icon,name:Ph.ConnectorNamesMap[e.id]??e.name,imageId:Ph.ConnectorImageIds[e.id],type:Ph.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Oe.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){Z5e(this.wagmiConfig,{onChange:r=>r.forEach(i=>this.addWagmiConnector(i,e))}),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:n}=e,i=Tg(this.wagmiConfig).find(a=>a.connector.id===n),s=this.getWagmiConnector(n),o=await(s==null?void 0:s.getProvider());return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:o,type:i==null?void 0:i.connector.type,id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const i=await QV(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return i.chainId!==Number(e)&&await XV(this.wagmiConfig,{chainId:i.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var l,u,h,f,p;const{id:n,provider:r,type:i,info:s,chainId:o}=e,a=this.getWagmiConnector(n);if(!a)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&s&&a.id===Oe.CONNECTOR_ID.EIP6963&&((l=a.setEip6963Wallet)==null||l.call(a,{provider:r,info:s})),a.uid===((h=(u=this.wagmiConfig)==null?void 0:u.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(a.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:i,id:n}}const c=await QV(this.wagmiConfig,{connector:a,chainId:o?Number(o):void 0});return{address:c.accounts[0],chainId:c.chainId,provider:r,type:i,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await bie(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(i=>i.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const i=`${r.caipNetworkId}:${e.address}`,s=this.balancePromises[i];if(s)return s;const o=Ke.getNativeBalanceCacheForCaipAddress(i);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[i]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),h=await z5e(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});Ke.updateNativeBalanceCache({caipAddress:i,balance:h.formatted,symbol:h.symbol,timestamp:Date.now()}),a({balance:h.formatted,symbol:h.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const n=e.chainId,r=await W5e(this.wagmiConfig,{address:e.address,chainId:n});if(r){const i=await H5e(this.wagmiConfig,{name:r,chainId:n});return{profileName:r,profileImage:i??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Tg(this.wagmiConfig);await Promise.all(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await F5e(this.wagmiConfig,{connector:r})}))}async switchNetwork(e){await XV(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Tg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=s.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=slt(o)[e];if(u)return u}return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Tg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Tg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Tg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new A5({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const clt=new Y4e,ele="8dee16f61a63afc2345a8cabc6ebc2ed",llt={name:"travel-booking",description:"AppKit Example",url:"http://localhost:5173/",icons:["https://avatars.githubusercontent.com/u/179229932"]},tle=[wit,bit],nle=new alt({networks:tle,projectId:ele,ssr:!0});Iit({adapters:[nle],networks:tle,projectId:ele,metadata:llt,features:{analytics:!0}});function ult({children:t}){return C.jsx(_4e,{config:nle.wagmiConfig,children:C.jsx(X4e,{client:clt,children:t})})}const dlt={}.VITE_BASE_NAME,hlt=Jpe(w2(C.jsx(dQ,{path:"*",element:C.jsx(wct,{})})),{basename:dlt});function flt(){return C.jsx(ult,{children:C.jsx(Jhe,{store:y$,children:C.jsx(wQ,{persistor:vve,children:C.jsxs(vy,{children:[C.jsx(ome,{router:hlt}),C.jsx(kfe,{position:"top-right",autoClose:3e3})]})})})})}wk.createRoot(document.getElementById("root")).render(C.jsx(ce.StrictMode,{children:C.jsx(flt,{})}));export{jp as $,lt as A,_s as B,P5e as C,Fut as D,Aae as E,ia as F,Ar as G,Or as H,eit as I,Ke as J,cq as K,Uie as L,gi as M,CC as N,De as O,eh as P,Rt as Q,PU as R,ql as S,Vs as T,Li as U,Br as V,Ii as W,Qs as X,mo as Y,aq as Z,Po as _,vp as a,Put as a$,Mlt as a0,Bt as a1,klt as a2,ftt as a3,Ac as a4,$ut as a5,Rut as a6,v3 as a7,tS as a8,Hb as a9,eje as aA,MHe as aB,put as aC,c7 as aD,Bse as aE,THe as aF,LHe as aG,mut as aH,fut as aI,$O as aJ,gut as aK,yut as aL,pK as aM,l4e as aN,tc as aO,vlt as aP,Vl as aQ,e$e as aR,Wl as aS,fm as aT,Plt as aU,ns as aV,Alt as aW,Ds as aX,_w as aY,vut as aZ,ir as a_,es as aa,io as ab,cs as ac,Mut as ad,w3 as ae,Mae as af,Gv as ag,Ae as ah,xU as ai,Ka as aj,mUe as ak,i5e as al,nie as am,Olt as an,oie as ao,hm as ap,CO as aq,$b as ar,dd as as,rre as at,Tlt as au,_U as av,HI as aw,EO as ax,Slt as ay,xlt as az,uE as b,Yh as b0,Dlt as c,R5e as d,Kh as e,Elt as f,y5e as g,hie as h,bf as i,xO as j,_f as k,qy as l,rS as m,hn as n,Zn as o,Qt as p,Mu as q,rs as r,vO as s,Lut as t,Oe as u,$t as v,YI as w,Nut as x,X as y,pr as z};
