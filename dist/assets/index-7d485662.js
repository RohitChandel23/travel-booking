var jce=Object.defineProperty;var Bce=(t,e,n)=>e in t?jce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ye=(t,e,n)=>(Bce(t,typeof e!="symbol"?e+"":e,n),n),QO=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var me=(t,e,n)=>(QO(t,e,"read from private field"),n?n.call(t):e.get(t)),on=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Mt=(t,e,n,r)=>(QO(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var pA=(t,e,n,r)=>({set _(i){Mt(t,e,i,n)},get _(){return me(t,e,r)}}),Xr=(t,e,n)=>(QO(t,e,"access private method"),n);function Rq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Mq={exports:{}},hx={},Lq={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=Symbol.for("react.element"),zce=Symbol.for("react.portal"),Vce=Symbol.for("react.fragment"),Hce=Symbol.for("react.strict_mode"),Wce=Symbol.for("react.profiler"),qce=Symbol.for("react.provider"),Gce=Symbol.for("react.context"),Kce=Symbol.for("react.forward_ref"),Yce=Symbol.for("react.suspense"),Qce=Symbol.for("react.memo"),Zce=Symbol.for("react.lazy"),R5=Symbol.iterator;function Jce(t){return t===null||typeof t!="object"?null:(t=R5&&t[R5]||t["@@iterator"],typeof t=="function"?t:null)}var Fq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$q=Object.assign,Uq={};function qv(t,e,n){this.props=t,this.context=e,this.refs=Uq,this.updater=n||Fq}qv.prototype.isReactComponent={};qv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jq(){}jq.prototype=qv.prototype;function _F(t,e,n){this.props=t,this.context=e,this.refs=Uq,this.updater=n||Fq}var bF=_F.prototype=new jq;bF.constructor=_F;$q(bF,qv.prototype);bF.isPureReactComponent=!0;var k5=Array.isArray,Bq=Object.prototype.hasOwnProperty,EF={current:null},zq={key:!0,ref:!0,__self:!0,__source:!0};function Vq(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Bq.call(e,r)&&!zq.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:FE,type:t,key:s,ref:o,props:i,_owner:EF.current}}function Xce(t,e){return{$$typeof:FE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function AF(t){return typeof t=="object"&&t!==null&&t.$$typeof===FE}function ele(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var M5=/\/+/g;function ZO(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ele(""+t.key):e.toString(36)}function RC(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case FE:case zce:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ZO(o,0):r,k5(i)?(n="",t!=null&&(n=t.replace(M5,"$&/")+"/"),RC(i,e,n,"",function(l){return l})):i!=null&&(AF(i)&&(i=Xce(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(M5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",k5(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+ZO(s,a);o+=RC(s,e,n,c,i)}else if(c=Jce(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+ZO(s,a++),o+=RC(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mA(t,e,n){if(t==null)return t;var r=[],i=0;return RC(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tle(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ao={current:null},kC={transition:null},nle={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:kC,ReactCurrentOwner:EF};function Hq(){throw Error("act(...) is not supported in production builds of React.")}un.Children={map:mA,forEach:function(t,e,n){mA(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mA(t,function(){e++}),e},toArray:function(t){return mA(t,function(e){return e})||[]},only:function(t){if(!AF(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};un.Component=qv;un.Fragment=Vce;un.Profiler=Wce;un.PureComponent=_F;un.StrictMode=Hce;un.Suspense=Yce;un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nle;un.act=Hq;un.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$q({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=EF.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Bq.call(e,c)&&!zq.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:FE,type:t.type,key:i,ref:s,props:r,_owner:o}};un.createContext=function(t){return t={$$typeof:Gce,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qce,_context:t},t.Consumer=t};un.createElement=Vq;un.createFactory=function(t){var e=Vq.bind(null,t);return e.type=t,e};un.createRef=function(){return{current:null}};un.forwardRef=function(t){return{$$typeof:Kce,render:t}};un.isValidElement=AF;un.lazy=function(t){return{$$typeof:Zce,_payload:{_status:-1,_result:t},_init:tle}};un.memo=function(t,e){return{$$typeof:Qce,type:t,compare:e===void 0?null:e}};un.startTransition=function(t){var e=kC.transition;kC.transition={};try{t()}finally{kC.transition=e}};un.unstable_act=Hq;un.useCallback=function(t,e){return ao.current.useCallback(t,e)};un.useContext=function(t){return ao.current.useContext(t)};un.useDebugValue=function(){};un.useDeferredValue=function(t){return ao.current.useDeferredValue(t)};un.useEffect=function(t,e){return ao.current.useEffect(t,e)};un.useId=function(){return ao.current.useId()};un.useImperativeHandle=function(t,e,n){return ao.current.useImperativeHandle(t,e,n)};un.useInsertionEffect=function(t,e){return ao.current.useInsertionEffect(t,e)};un.useLayoutEffect=function(t,e){return ao.current.useLayoutEffect(t,e)};un.useMemo=function(t,e){return ao.current.useMemo(t,e)};un.useReducer=function(t,e,n){return ao.current.useReducer(t,e,n)};un.useRef=function(t){return ao.current.useRef(t)};un.useState=function(t){return ao.current.useState(t)};un.useSyncExternalStore=function(t,e,n){return ao.current.useSyncExternalStore(t,e,n)};un.useTransition=function(){return ao.current.useTransition()};un.version="18.3.1";Lq.exports=un;var F=Lq.exports;const ae=oo(F),CF=Rq({__proto__:null,default:ae},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rle=F,ile=Symbol.for("react.element"),sle=Symbol.for("react.fragment"),ole=Object.prototype.hasOwnProperty,ale=rle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cle={key:!0,ref:!0,__self:!0,__source:!0};function Wq(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ole.call(e,r)&&!cle.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ile,type:t,key:s,ref:o,props:i,_owner:ale.current}}hx.Fragment=sle;hx.jsx=Wq;hx.jsxs=Wq;Mq.exports=hx;var T=Mq.exports,ZR={},qq={exports:{}},ca={},Gq={exports:{}},Kq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Q){var K=V.length;V.push(Q);e:for(;0<K;){var ee=K-1>>>1,ne=V[ee];if(0<i(ne,Q))V[ee]=Q,V[K]=ne,K=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],K=V.pop();if(K!==Q){V[0]=K;e:for(var ee=0,ne=V.length,le=ne>>>1;ee<le;){var ce=2*(ee+1)-1,re=V[ce],de=ce+1,ve=V[de];if(0>i(re,K))de<ne&&0>i(ve,re)?(V[ee]=ve,V[de]=K,ee=de):(V[ee]=re,V[ce]=K,ee=ce);else if(de<ne&&0>i(ve,K))V[ee]=ve,V[de]=K,ee=de;else break e}}return Q}function i(V,Q){var K=V.sortIndex-Q.sortIndex;return K!==0?K:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,h=null,f=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(V){for(var Q=n(l);Q!==null;){if(Q.callback===null)r(l);else if(Q.startTime<=V)r(l),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(l)}}function S(V){if(y=!1,A(V),!g)if(n(c)!==null)g=!0,j(P);else{var Q=n(l);Q!==null&&q(S,Q.startTime-V)}}function P(V,Q){g=!1,y&&(y=!1,b(I),I=-1),p=!0;var K=f;try{for(A(Q),h=n(c);h!==null&&(!(h.expirationTime>Q)||V&&!R());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var ne=ee(h.expirationTime<=Q);Q=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(c)&&r(c),A(Q)}else r(c);h=n(c)}if(h!==null)var le=!0;else{var ce=n(l);ce!==null&&q(S,ce.startTime-Q),le=!1}return le}finally{h=null,f=K,p=!1}}var D=!1,C=null,I=-1,x=5,N=-1;function R(){return!(t.unstable_now()-N<x)}function $(){if(C!==null){var V=t.unstable_now();N=V;var Q=!0;try{Q=C(!0,V)}finally{Q?U():(D=!1,C=null)}}else D=!1}var U;if(typeof w=="function")U=function(){w($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,z=Y.port2;Y.port1.onmessage=$,U=function(){z.postMessage(null)}}else U=function(){v($,0)};function j(V){C=V,D||(D=!0,U())}function q(V,Q){I=v(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,j(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var K=f;f=Q;try{return V()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=f;f=V;try{return Q()}finally{f=K}},t.unstable_scheduleCallback=function(V,Q,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,V={id:u++,callback:Q,priorityLevel:V,startTime:K,expirationTime:ne,sortIndex:-1},K>ee?(V.sortIndex=K,e(l,V),n(c)===null&&V===n(l)&&(y?(b(I),I=-1):y=!0,q(S,K-ee))):(V.sortIndex=ne,e(c,V),g||p||(g=!0,j(P))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var Q=f;return function(){var K=f;f=Q;try{return V.apply(this,arguments)}finally{f=K}}}})(Kq);Gq.exports=Kq;var lle=Gq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ule=F,sa=lle;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yq=new Set,$_={};function Cm(t,e){ev(t,e),ev(t+"Capture",e)}function ev(t,e){for($_[t]=e,t=0;t<e.length;t++)Yq.add(e[t])}var Wu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JR=Object.prototype.hasOwnProperty,dle=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L5={},F5={};function hle(t){return JR.call(F5,t)?!0:JR.call(L5,t)?!1:dle.test(t)?F5[t]=!0:(L5[t]=!0,!1)}function fle(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ple(t,e,n,r){if(e===null||typeof e>"u"||fle(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function co(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ws[t]=new co(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ws[e]=new co(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ws[t]=new co(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ws[t]=new co(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ws[t]=new co(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ws[t]=new co(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ws[t]=new co(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ws[t]=new co(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ws[t]=new co(t,5,!1,t.toLowerCase(),null,!1,!1)});var TF=/[\-:]([a-z])/g;function SF(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(TF,SF);ws[e]=new co(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(TF,SF);ws[e]=new co(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(TF,SF);ws[e]=new co(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ws[t]=new co(t,1,!1,t.toLowerCase(),null,!1,!1)});ws.xlinkHref=new co("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ws[t]=new co(t,1,!1,t.toLowerCase(),null,!0,!0)});function IF(t,e,n,r){var i=ws.hasOwnProperty(e)?ws[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ple(e,n,i,r)&&(n=null),r||i===null?hle(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ld=ule.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gA=Symbol.for("react.element"),Jg=Symbol.for("react.portal"),Xg=Symbol.for("react.fragment"),xF=Symbol.for("react.strict_mode"),XR=Symbol.for("react.profiler"),Qq=Symbol.for("react.provider"),Zq=Symbol.for("react.context"),PF=Symbol.for("react.forward_ref"),ek=Symbol.for("react.suspense"),tk=Symbol.for("react.suspense_list"),OF=Symbol.for("react.memo"),Hd=Symbol.for("react.lazy"),Jq=Symbol.for("react.offscreen"),$5=Symbol.iterator;function Gw(t){return t===null||typeof t!="object"?null:(t=$5&&t[$5]||t["@@iterator"],typeof t=="function"?t:null)}var Vr=Object.assign,JO;function M0(t){if(JO===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);JO=e&&e[1]||""}return`
`+JO+t}var XO=!1;function eD(t,e){if(!t||XO)return"";XO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{XO=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?M0(t):""}function mle(t){switch(t.tag){case 5:return M0(t.type);case 16:return M0("Lazy");case 13:return M0("Suspense");case 19:return M0("SuspenseList");case 0:case 2:case 15:return t=eD(t.type,!1),t;case 11:return t=eD(t.type.render,!1),t;case 1:return t=eD(t.type,!0),t;default:return""}}function nk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xg:return"Fragment";case Jg:return"Portal";case XR:return"Profiler";case xF:return"StrictMode";case ek:return"Suspense";case tk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zq:return(t.displayName||"Context")+".Consumer";case Qq:return(t._context.displayName||"Context")+".Provider";case PF:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OF:return e=t.displayName||null,e!==null?e:nk(t.type)||"Memo";case Hd:e=t._payload,t=t._init;try{return nk(t(e))}catch{}}return null}function gle(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nk(e);case 8:return e===xF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xq(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yle(t){var e=Xq(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yA(t){t._valueTracker||(t._valueTracker=yle(t))}function eG(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Xq(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function VT(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rk(t,e){var n=e.checked;return Vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tG(t,e){e=e.checked,e!=null&&IF(t,"checked",e,!1)}function ik(t,e){tG(t,e);var n=Kh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sk(t,e.type,n):e.hasOwnProperty("defaultValue")&&sk(t,e.type,Kh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sk(t,e,n){(e!=="number"||VT(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var L0=Array.isArray;function wy(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ok(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return Vr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ce(92));if(L0(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kh(n)}}function nG(t,e){var n=Kh(e.value),r=Kh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function z5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rG(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ak(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rG(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vA,iG=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vA=vA||document.createElement("div"),vA.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vA.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function U_(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var s_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vle=["Webkit","ms","Moz","O"];Object.keys(s_).forEach(function(t){vle.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),s_[e]=s_[t]})});function sG(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||s_.hasOwnProperty(t)&&s_[t]?(""+e).trim():e+"px"}function oG(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sG(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wle=Vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ck(t,e){if(e){if(wle[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function lk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uk=null;function DF(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dk=null,_y=null,by=null;function V5(t){if(t=jE(t)){if(typeof dk!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=yx(e),dk(t.stateNode,t.type,e))}}function aG(t){_y?by?by.push(t):by=[t]:_y=t}function cG(){if(_y){var t=_y,e=by;if(by=_y=null,V5(t),e)for(t=0;t<e.length;t++)V5(e[t])}}function lG(t,e){return t(e)}function uG(){}var tD=!1;function dG(t,e,n){if(tD)return t(e,n);tD=!0;try{return lG(t,e,n)}finally{tD=!1,(_y!==null||by!==null)&&(uG(),cG())}}function j_(t,e){var n=t.stateNode;if(n===null)return null;var r=yx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ce(231,e,typeof n));return n}var hk=!1;if(Wu)try{var Kw={};Object.defineProperty(Kw,"passive",{get:function(){hk=!0}}),window.addEventListener("test",Kw,Kw),window.removeEventListener("test",Kw,Kw)}catch{hk=!1}function _le(t,e,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var o_=!1,HT=null,WT=!1,fk=null,ble={onError:function(t){o_=!0,HT=t}};function Ele(t,e,n,r,i,s,o,a,c){o_=!1,HT=null,_le.apply(ble,arguments)}function Ale(t,e,n,r,i,s,o,a,c){if(Ele.apply(this,arguments),o_){if(o_){var l=HT;o_=!1,HT=null}else throw Error(Ce(198));WT||(WT=!0,fk=l)}}function Tm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function H5(t){if(Tm(t)!==t)throw Error(Ce(188))}function Cle(t){var e=t.alternate;if(!e){if(e=Tm(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return H5(i),t;if(s===r)return H5(i),e;s=s.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?t:e}function fG(t){return t=Cle(t),t!==null?pG(t):null}function pG(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pG(t);if(e!==null)return e;t=t.sibling}return null}var mG=sa.unstable_scheduleCallback,W5=sa.unstable_cancelCallback,Tle=sa.unstable_shouldYield,Sle=sa.unstable_requestPaint,ri=sa.unstable_now,Ile=sa.unstable_getCurrentPriorityLevel,NF=sa.unstable_ImmediatePriority,gG=sa.unstable_UserBlockingPriority,qT=sa.unstable_NormalPriority,xle=sa.unstable_LowPriority,yG=sa.unstable_IdlePriority,fx=null,bl=null;function Ple(t){if(bl&&typeof bl.onCommitFiberRoot=="function")try{bl.onCommitFiberRoot(fx,t,void 0,(t.current.flags&128)===128)}catch{}}var Tc=Math.clz32?Math.clz32:Nle,Ole=Math.log,Dle=Math.LN2;function Nle(t){return t>>>=0,t===0?32:31-(Ole(t)/Dle|0)|0}var wA=64,_A=4194304;function F0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function GT(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=F0(a):(s&=o,s!==0&&(r=F0(s)))}else o=n&~i,o!==0?r=F0(o):s!==0&&(r=F0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tc(e),i=1<<n,r|=t[n],e&=~i;return r}function Rle(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kle(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tc(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=Rle(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function pk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vG(){var t=wA;return wA<<=1,!(wA&4194240)&&(wA=64),t}function nD(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $E(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tc(e),t[e]=n}function Mle(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tc(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function RF(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gn=0;function wG(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _G,kF,bG,EG,AG,mk=!1,bA=[],Th=null,Sh=null,Ih=null,B_=new Map,z_=new Map,Zd=[],Lle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q5(t,e){switch(t){case"focusin":case"focusout":Th=null;break;case"dragenter":case"dragleave":Sh=null;break;case"mouseover":case"mouseout":Ih=null;break;case"pointerover":case"pointerout":B_.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":z_.delete(e.pointerId)}}function Yw(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jE(e),e!==null&&kF(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Fle(t,e,n,r,i){switch(e){case"focusin":return Th=Yw(Th,t,e,n,r,i),!0;case"dragenter":return Sh=Yw(Sh,t,e,n,r,i),!0;case"mouseover":return Ih=Yw(Ih,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return B_.set(s,Yw(B_.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,z_.set(s,Yw(z_.get(s)||null,t,e,n,r,i)),!0}return!1}function CG(t){var e=tp(t.target);if(e!==null){var n=Tm(e);if(n!==null){if(e=n.tag,e===13){if(e=hG(n),e!==null){t.blockedOn=e,AG(t.priority,function(){bG(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function MC(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uk=r,n.target.dispatchEvent(r),uk=null}else return e=jE(n),e!==null&&kF(e),t.blockedOn=n,!1;e.shift()}return!0}function G5(t,e,n){MC(t)&&n.delete(e)}function $le(){mk=!1,Th!==null&&MC(Th)&&(Th=null),Sh!==null&&MC(Sh)&&(Sh=null),Ih!==null&&MC(Ih)&&(Ih=null),B_.forEach(G5),z_.forEach(G5)}function Qw(t,e){t.blockedOn===e&&(t.blockedOn=null,mk||(mk=!0,sa.unstable_scheduleCallback(sa.unstable_NormalPriority,$le)))}function V_(t){function e(i){return Qw(i,t)}if(0<bA.length){Qw(bA[0],t);for(var n=1;n<bA.length;n++){var r=bA[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Th!==null&&Qw(Th,t),Sh!==null&&Qw(Sh,t),Ih!==null&&Qw(Ih,t),B_.forEach(e),z_.forEach(e),n=0;n<Zd.length;n++)r=Zd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zd.length&&(n=Zd[0],n.blockedOn===null);)CG(n),n.blockedOn===null&&Zd.shift()}var Ey=ld.ReactCurrentBatchConfig,KT=!0;function Ule(t,e,n,r){var i=Gn,s=Ey.transition;Ey.transition=null;try{Gn=1,MF(t,e,n,r)}finally{Gn=i,Ey.transition=s}}function jle(t,e,n,r){var i=Gn,s=Ey.transition;Ey.transition=null;try{Gn=4,MF(t,e,n,r)}finally{Gn=i,Ey.transition=s}}function MF(t,e,n,r){if(KT){var i=gk(t,e,n,r);if(i===null)hD(t,e,r,YT,n),q5(t,r);else if(Fle(i,t,e,n,r))r.stopPropagation();else if(q5(t,r),e&4&&-1<Lle.indexOf(t)){for(;i!==null;){var s=jE(i);if(s!==null&&_G(s),s=gk(t,e,n,r),s===null&&hD(t,e,r,YT,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hD(t,e,r,null,n)}}var YT=null;function gk(t,e,n,r){if(YT=null,t=DF(r),t=tp(t),t!==null)if(e=Tm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hG(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return YT=t,null}function TG(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ile()){case NF:return 1;case gG:return 4;case qT:case xle:return 16;case yG:return 536870912;default:return 16}default:return 16}}var ph=null,LF=null,LC=null;function SG(){if(LC)return LC;var t,e=LF,n=e.length,r,i="value"in ph?ph.value:ph.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return LC=i.slice(t,1<r?1-r:void 0)}function FC(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function EA(){return!0}function K5(){return!1}function la(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?EA:K5,this.isPropagationStopped=K5,this}return Vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=EA)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=EA)},persist:function(){},isPersistent:EA}),e}var Gv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FF=la(Gv),UE=Vr({},Gv,{view:0,detail:0}),Ble=la(UE),rD,iD,Zw,px=Vr({},UE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$F,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zw&&(Zw&&t.type==="mousemove"?(rD=t.screenX-Zw.screenX,iD=t.screenY-Zw.screenY):iD=rD=0,Zw=t),rD)},movementY:function(t){return"movementY"in t?t.movementY:iD}}),Y5=la(px),zle=Vr({},px,{dataTransfer:0}),Vle=la(zle),Hle=Vr({},UE,{relatedTarget:0}),sD=la(Hle),Wle=Vr({},Gv,{animationName:0,elapsedTime:0,pseudoElement:0}),qle=la(Wle),Gle=Vr({},Gv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kle=la(Gle),Yle=Vr({},Gv,{data:0}),Q5=la(Yle),Qle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xle(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jle[t])?!!e[t]:!1}function $F(){return Xle}var eue=Vr({},UE,{key:function(t){if(t.key){var e=Qle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=FC(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zle[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$F,charCode:function(t){return t.type==="keypress"?FC(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?FC(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tue=la(eue),nue=Vr({},px,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z5=la(nue),rue=Vr({},UE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$F}),iue=la(rue),sue=Vr({},Gv,{propertyName:0,elapsedTime:0,pseudoElement:0}),oue=la(sue),aue=Vr({},px,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cue=la(aue),lue=[9,13,27,32],UF=Wu&&"CompositionEvent"in window,a_=null;Wu&&"documentMode"in document&&(a_=document.documentMode);var uue=Wu&&"TextEvent"in window&&!a_,IG=Wu&&(!UF||a_&&8<a_&&11>=a_),J5=String.fromCharCode(32),X5=!1;function xG(t,e){switch(t){case"keyup":return lue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ey=!1;function due(t,e){switch(t){case"compositionend":return PG(e);case"keypress":return e.which!==32?null:(X5=!0,J5);case"textInput":return t=e.data,t===J5&&X5?null:t;default:return null}}function hue(t,e){if(ey)return t==="compositionend"||!UF&&xG(t,e)?(t=SG(),LC=LF=ph=null,ey=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IG&&e.locale!=="ko"?null:e.data;default:return null}}var fue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fue[t.type]:e==="textarea"}function OG(t,e,n,r){aG(r),e=QT(e,"onChange"),0<e.length&&(n=new FF("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var c_=null,H_=null;function pue(t){BG(t,0)}function mx(t){var e=ry(t);if(eG(e))return t}function mue(t,e){if(t==="change")return e}var DG=!1;if(Wu){var oD;if(Wu){var aD="oninput"in document;if(!aD){var t4=document.createElement("div");t4.setAttribute("oninput","return;"),aD=typeof t4.oninput=="function"}oD=aD}else oD=!1;DG=oD&&(!document.documentMode||9<document.documentMode)}function n4(){c_&&(c_.detachEvent("onpropertychange",NG),H_=c_=null)}function NG(t){if(t.propertyName==="value"&&mx(H_)){var e=[];OG(e,H_,t,DF(t)),dG(pue,e)}}function gue(t,e,n){t==="focusin"?(n4(),c_=e,H_=n,c_.attachEvent("onpropertychange",NG)):t==="focusout"&&n4()}function yue(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mx(H_)}function vue(t,e){if(t==="click")return mx(e)}function wue(t,e){if(t==="input"||t==="change")return mx(e)}function _ue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nc=typeof Object.is=="function"?Object.is:_ue;function W_(t,e){if(Nc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!JR.call(e,i)||!Nc(t[i],e[i]))return!1}return!0}function r4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i4(t,e){var n=r4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r4(n)}}function RG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kG(){for(var t=window,e=VT();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=VT(t.document)}return e}function jF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bue(t){var e=kG(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RG(n.ownerDocument.documentElement,n)){if(r!==null&&jF(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=i4(n,s);var o=i4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Eue=Wu&&"documentMode"in document&&11>=document.documentMode,ty=null,yk=null,l_=null,vk=!1;function s4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vk||ty==null||ty!==VT(r)||(r=ty,"selectionStart"in r&&jF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),l_&&W_(l_,r)||(l_=r,r=QT(yk,"onSelect"),0<r.length&&(e=new FF("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ty)))}function AA(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ny={animationend:AA("Animation","AnimationEnd"),animationiteration:AA("Animation","AnimationIteration"),animationstart:AA("Animation","AnimationStart"),transitionend:AA("Transition","TransitionEnd")},cD={},MG={};Wu&&(MG=document.createElement("div").style,"AnimationEvent"in window||(delete ny.animationend.animation,delete ny.animationiteration.animation,delete ny.animationstart.animation),"TransitionEvent"in window||delete ny.transitionend.transition);function gx(t){if(cD[t])return cD[t];if(!ny[t])return t;var e=ny[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MG)return cD[t]=e[n];return t}var LG=gx("animationend"),FG=gx("animationiteration"),$G=gx("animationstart"),UG=gx("transitionend"),jG=new Map,o4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _f(t,e){jG.set(t,e),Cm(e,[t])}for(var lD=0;lD<o4.length;lD++){var uD=o4[lD],Aue=uD.toLowerCase(),Cue=uD[0].toUpperCase()+uD.slice(1);_f(Aue,"on"+Cue)}_f(LG,"onAnimationEnd");_f(FG,"onAnimationIteration");_f($G,"onAnimationStart");_f("dblclick","onDoubleClick");_f("focusin","onFocus");_f("focusout","onBlur");_f(UG,"onTransitionEnd");ev("onMouseEnter",["mouseout","mouseover"]);ev("onMouseLeave",["mouseout","mouseover"]);ev("onPointerEnter",["pointerout","pointerover"]);ev("onPointerLeave",["pointerout","pointerover"]);Cm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tue=new Set("cancel close invalid load scroll toggle".split(" ").concat($0));function a4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ale(r,e,void 0,t),t.currentTarget=null}function BG(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;a4(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;a4(i,a,l),s=c}}}if(WT)throw t=fk,WT=!1,fk=null,t}function vr(t,e){var n=e[Ak];n===void 0&&(n=e[Ak]=new Set);var r=t+"__bubble";n.has(r)||(zG(e,t,2,!1),n.add(r))}function dD(t,e,n){var r=0;e&&(r|=4),zG(n,t,r,e)}var CA="_reactListening"+Math.random().toString(36).slice(2);function q_(t){if(!t[CA]){t[CA]=!0,Yq.forEach(function(n){n!=="selectionchange"&&(Tue.has(n)||dD(n,!1,t),dD(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[CA]||(e[CA]=!0,dD("selectionchange",!1,e))}}function zG(t,e,n,r){switch(TG(e)){case 1:var i=Ule;break;case 4:i=jle;break;default:i=MF}n=i.bind(null,e,n,t),i=void 0,!hk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hD(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=tp(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dG(function(){var l=s,u=DF(n),h=[];e:{var f=jG.get(t);if(f!==void 0){var p=FF,g=t;switch(t){case"keypress":if(FC(n)===0)break e;case"keydown":case"keyup":p=tue;break;case"focusin":g="focus",p=sD;break;case"focusout":g="blur",p=sD;break;case"beforeblur":case"afterblur":p=sD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Y5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vle;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iue;break;case LG:case FG:case $G:p=qle;break;case UG:p=oue;break;case"scroll":p=Ble;break;case"wheel":p=cue;break;case"copy":case"cut":case"paste":p=Kle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Z5}var y=(e&4)!==0,v=!y&&t==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var w=l,A;w!==null;){A=w;var S=A.stateNode;if(A.tag===5&&S!==null&&(A=S,b!==null&&(S=j_(w,b),S!=null&&y.push(G_(w,S,A)))),v)break;w=w.return}0<y.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==uk&&(g=n.relatedTarget||n.fromElement)&&(tp(g)||g[qu]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=l,g=g?tp(g):null,g!==null&&(v=Tm(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(y=Y5,S="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=Z5,S="onPointerLeave",b="onPointerEnter",w="pointer"),v=p==null?f:ry(p),A=g==null?f:ry(g),f=new y(S,w+"leave",p,n,u),f.target=v,f.relatedTarget=A,S=null,tp(u)===l&&(y=new y(b,w+"enter",g,n,u),y.target=A,y.relatedTarget=v,S=y),v=S,p&&g)t:{for(y=p,b=g,w=0,A=y;A;A=ug(A))w++;for(A=0,S=b;S;S=ug(S))A++;for(;0<w-A;)y=ug(y),w--;for(;0<A-w;)b=ug(b),A--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=ug(y),b=ug(b)}y=null}else y=null;p!==null&&c4(h,f,p,y,!1),g!==null&&v!==null&&c4(h,v,g,y,!0)}}e:{if(f=l?ry(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var P=mue;else if(e4(f))if(DG)P=wue;else{P=yue;var D=gue}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=vue);if(P&&(P=P(t,l))){OG(h,P,n,u);break e}D&&D(t,f,l),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&sk(f,"number",f.value)}switch(D=l?ry(l):window,t){case"focusin":(e4(D)||D.contentEditable==="true")&&(ty=D,yk=l,l_=null);break;case"focusout":l_=yk=ty=null;break;case"mousedown":vk=!0;break;case"contextmenu":case"mouseup":case"dragend":vk=!1,s4(h,n,u);break;case"selectionchange":if(Eue)break;case"keydown":case"keyup":s4(h,n,u)}var C;if(UF)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ey?xG(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(IG&&n.locale!=="ko"&&(ey||I!=="onCompositionStart"?I==="onCompositionEnd"&&ey&&(C=SG()):(ph=u,LF="value"in ph?ph.value:ph.textContent,ey=!0)),D=QT(l,I),0<D.length&&(I=new Q5(I,t,null,n,u),h.push({event:I,listeners:D}),C?I.data=C:(C=PG(n),C!==null&&(I.data=C)))),(C=uue?due(t,n):hue(t,n))&&(l=QT(l,"onBeforeInput"),0<l.length&&(u=new Q5("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:l}),u.data=C))}BG(h,e)})}function G_(t,e,n){return{instance:t,listener:e,currentTarget:n}}function QT(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=j_(t,n),s!=null&&r.unshift(G_(t,s,i)),s=j_(t,e),s!=null&&r.push(G_(t,s,i))),t=t.return}return r}function ug(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c4(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=j_(n,s),c!=null&&o.unshift(G_(n,c,a))):i||(c=j_(n,s),c!=null&&o.push(G_(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Sue=/\r\n?/g,Iue=/\u0000|\uFFFD/g;function l4(t){return(typeof t=="string"?t:""+t).replace(Sue,`
`).replace(Iue,"")}function TA(t,e,n){if(e=l4(e),l4(t)!==e&&n)throw Error(Ce(425))}function ZT(){}var wk=null,_k=null;function bk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ek=typeof setTimeout=="function"?setTimeout:void 0,xue=typeof clearTimeout=="function"?clearTimeout:void 0,u4=typeof Promise=="function"?Promise:void 0,Pue=typeof queueMicrotask=="function"?queueMicrotask:typeof u4<"u"?function(t){return u4.resolve(null).then(t).catch(Oue)}:Ek;function Oue(t){setTimeout(function(){throw t})}function fD(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),V_(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);V_(e)}function xh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kv=Math.random().toString(36).slice(2),fl="__reactFiber$"+Kv,K_="__reactProps$"+Kv,qu="__reactContainer$"+Kv,Ak="__reactEvents$"+Kv,Due="__reactListeners$"+Kv,Nue="__reactHandles$"+Kv;function tp(t){var e=t[fl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qu]||n[fl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d4(t);t!==null;){if(n=t[fl])return n;t=d4(t)}return e}t=n,n=t.parentNode}return null}function jE(t){return t=t[fl]||t[qu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ry(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function yx(t){return t[K_]||null}var Ck=[],iy=-1;function bf(t){return{current:t}}function Cr(t){0>iy||(t.current=Ck[iy],Ck[iy]=null,iy--)}function mr(t,e){iy++,Ck[iy]=t.current,t.current=e}var Yh={},$s=bf(Yh),Do=bf(!1),Up=Yh;function tv(t,e){var n=t.type.contextTypes;if(!n)return Yh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function No(t){return t=t.childContextTypes,t!=null}function JT(){Cr(Do),Cr($s)}function h4(t,e,n){if($s.current!==Yh)throw Error(Ce(168));mr($s,e),mr(Do,n)}function VG(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,gle(t)||"Unknown",i));return Vr({},n,r)}function XT(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yh,Up=$s.current,mr($s,t),mr(Do,Do.current),!0}function f4(t,e,n){var r=t.stateNode;if(!r)throw Error(Ce(169));n?(t=VG(t,e,Up),r.__reactInternalMemoizedMergedChildContext=t,Cr(Do),Cr($s),mr($s,t)):Cr(Do),mr(Do,n)}var yu=null,vx=!1,pD=!1;function HG(t){yu===null?yu=[t]:yu.push(t)}function Rue(t){vx=!0,HG(t)}function Ef(){if(!pD&&yu!==null){pD=!0;var t=0,e=Gn;try{var n=yu;for(Gn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yu=null,vx=!1}catch(i){throw yu!==null&&(yu=yu.slice(t+1)),mG(NF,Ef),i}finally{Gn=e,pD=!1}}return null}var sy=[],oy=0,eS=null,tS=0,Na=[],Ra=0,jp=null,Tu=1,Su="";function Uf(t,e){sy[oy++]=tS,sy[oy++]=eS,eS=t,tS=e}function WG(t,e,n){Na[Ra++]=Tu,Na[Ra++]=Su,Na[Ra++]=jp,jp=t;var r=Tu;t=Su;var i=32-Tc(r)-1;r&=~(1<<i),n+=1;var s=32-Tc(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tu=1<<32-Tc(e)+i|n<<i|r,Su=s+t}else Tu=1<<s|n<<i|r,Su=t}function BF(t){t.return!==null&&(Uf(t,1),WG(t,1,0))}function zF(t){for(;t===eS;)eS=sy[--oy],sy[oy]=null,tS=sy[--oy],sy[oy]=null;for(;t===jp;)jp=Na[--Ra],Na[Ra]=null,Su=Na[--Ra],Na[Ra]=null,Tu=Na[--Ra],Na[Ra]=null}var na=null,ea=null,Rr=!1,vc=null;function qG(t,e){var n=La(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,na=t,ea=xh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,na=t,ea=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jp!==null?{id:Tu,overflow:Su}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=La(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,na=t,ea=null,!0):!1;default:return!1}}function Tk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sk(t){if(Rr){var e=ea;if(e){var n=e;if(!p4(t,e)){if(Tk(t))throw Error(Ce(418));e=xh(n.nextSibling);var r=na;e&&p4(t,e)?qG(r,n):(t.flags=t.flags&-4097|2,Rr=!1,na=t)}}else{if(Tk(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,Rr=!1,na=t}}}function m4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;na=t}function SA(t){if(t!==na)return!1;if(!Rr)return m4(t),Rr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bk(t.type,t.memoizedProps)),e&&(e=ea)){if(Tk(t))throw GG(),Error(Ce(418));for(;e;)qG(t,e),e=xh(e.nextSibling)}if(m4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ea=xh(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ea=null}}else ea=na?xh(t.stateNode.nextSibling):null;return!0}function GG(){for(var t=ea;t;)t=xh(t.nextSibling)}function nv(){ea=na=null,Rr=!1}function VF(t){vc===null?vc=[t]:vc.push(t)}var kue=ld.ReactCurrentBatchConfig;function Jw(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,t))}return t}function IA(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g4(t){var e=t._init;return e(t._payload)}function KG(t){function e(b,w){if(t){var A=b.deletions;A===null?(b.deletions=[w],b.flags|=16):A.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Nh(b,w),b.index=0,b.sibling=null,b}function s(b,w,A){return b.index=A,t?(A=b.alternate,A!==null?(A=A.index,A<w?(b.flags|=2,w):A):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,A,S){return w===null||w.tag!==6?(w=bD(A,b.mode,S),w.return=b,w):(w=i(w,A),w.return=b,w)}function c(b,w,A,S){var P=A.type;return P===Xg?u(b,w,A.props.children,S,A.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Hd&&g4(P)===w.type)?(S=i(w,A.props),S.ref=Jw(b,w,A),S.return=b,S):(S=HC(A.type,A.key,A.props,null,b.mode,S),S.ref=Jw(b,w,A),S.return=b,S)}function l(b,w,A,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=ED(A,b.mode,S),w.return=b,w):(w=i(w,A.children||[]),w.return=b,w)}function u(b,w,A,S,P){return w===null||w.tag!==7?(w=Sp(A,b.mode,S,P),w.return=b,w):(w=i(w,A),w.return=b,w)}function h(b,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=bD(""+w,b.mode,A),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gA:return A=HC(w.type,w.key,w.props,null,b.mode,A),A.ref=Jw(b,null,w),A.return=b,A;case Jg:return w=ED(w,b.mode,A),w.return=b,w;case Hd:var S=w._init;return h(b,S(w._payload),A)}if(L0(w)||Gw(w))return w=Sp(w,b.mode,A,null),w.return=b,w;IA(b,w)}return null}function f(b,w,A,S){var P=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return P!==null?null:a(b,w,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case gA:return A.key===P?c(b,w,A,S):null;case Jg:return A.key===P?l(b,w,A,S):null;case Hd:return P=A._init,f(b,w,P(A._payload),S)}if(L0(A)||Gw(A))return P!==null?null:u(b,w,A,S,null);IA(b,A)}return null}function p(b,w,A,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(A)||null,a(w,b,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gA:return b=b.get(S.key===null?A:S.key)||null,c(w,b,S,P);case Jg:return b=b.get(S.key===null?A:S.key)||null,l(w,b,S,P);case Hd:var D=S._init;return p(b,w,A,D(S._payload),P)}if(L0(S)||Gw(S))return b=b.get(A)||null,u(w,b,S,P,null);IA(w,S)}return null}function g(b,w,A,S){for(var P=null,D=null,C=w,I=w=0,x=null;C!==null&&I<A.length;I++){C.index>I?(x=C,C=null):x=C.sibling;var N=f(b,C,A[I],S);if(N===null){C===null&&(C=x);break}t&&C&&N.alternate===null&&e(b,C),w=s(N,w,I),D===null?P=N:D.sibling=N,D=N,C=x}if(I===A.length)return n(b,C),Rr&&Uf(b,I),P;if(C===null){for(;I<A.length;I++)C=h(b,A[I],S),C!==null&&(w=s(C,w,I),D===null?P=C:D.sibling=C,D=C);return Rr&&Uf(b,I),P}for(C=r(b,C);I<A.length;I++)x=p(C,b,I,A[I],S),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?I:x.key),w=s(x,w,I),D===null?P=x:D.sibling=x,D=x);return t&&C.forEach(function(R){return e(b,R)}),Rr&&Uf(b,I),P}function y(b,w,A,S){var P=Gw(A);if(typeof P!="function")throw Error(Ce(150));if(A=P.call(A),A==null)throw Error(Ce(151));for(var D=P=null,C=w,I=w=0,x=null,N=A.next();C!==null&&!N.done;I++,N=A.next()){C.index>I?(x=C,C=null):x=C.sibling;var R=f(b,C,N.value,S);if(R===null){C===null&&(C=x);break}t&&C&&R.alternate===null&&e(b,C),w=s(R,w,I),D===null?P=R:D.sibling=R,D=R,C=x}if(N.done)return n(b,C),Rr&&Uf(b,I),P;if(C===null){for(;!N.done;I++,N=A.next())N=h(b,N.value,S),N!==null&&(w=s(N,w,I),D===null?P=N:D.sibling=N,D=N);return Rr&&Uf(b,I),P}for(C=r(b,C);!N.done;I++,N=A.next())N=p(C,b,I,N.value,S),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?I:N.key),w=s(N,w,I),D===null?P=N:D.sibling=N,D=N);return t&&C.forEach(function($){return e(b,$)}),Rr&&Uf(b,I),P}function v(b,w,A,S){if(typeof A=="object"&&A!==null&&A.type===Xg&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case gA:e:{for(var P=A.key,D=w;D!==null;){if(D.key===P){if(P=A.type,P===Xg){if(D.tag===7){n(b,D.sibling),w=i(D,A.props.children),w.return=b,b=w;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Hd&&g4(P)===D.type){n(b,D.sibling),w=i(D,A.props),w.ref=Jw(b,D,A),w.return=b,b=w;break e}n(b,D);break}else e(b,D);D=D.sibling}A.type===Xg?(w=Sp(A.props.children,b.mode,S,A.key),w.return=b,b=w):(S=HC(A.type,A.key,A.props,null,b.mode,S),S.ref=Jw(b,w,A),S.return=b,b=S)}return o(b);case Jg:e:{for(D=A.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(b,w.sibling),w=i(w,A.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=ED(A,b.mode,S),w.return=b,b=w}return o(b);case Hd:return D=A._init,v(b,w,D(A._payload),S)}if(L0(A))return g(b,w,A,S);if(Gw(A))return y(b,w,A,S);IA(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,A),w.return=b,b=w):(n(b,w),w=bD(A,b.mode,S),w.return=b,b=w),o(b)):n(b,w)}return v}var rv=KG(!0),YG=KG(!1),nS=bf(null),rS=null,ay=null,HF=null;function WF(){HF=ay=rS=null}function qF(t){var e=nS.current;Cr(nS),t._currentValue=e}function Ik(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ay(t,e){rS=t,HF=ay=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xo=!0),t.firstContext=null)}function za(t){var e=t._currentValue;if(HF!==t)if(t={context:t,memoizedValue:e,next:null},ay===null){if(rS===null)throw Error(Ce(308));ay=t,rS.dependencies={lanes:0,firstContext:t}}else ay=ay.next=t;return e}var np=null;function GF(t){np===null?np=[t]:np.push(t)}function QG(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,GF(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gu(t,r)}function Gu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wd=!1;function KF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZG(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ou(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ph(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gu(t,n)}return i=r.interleaved,i===null?(e.next=e,GF(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gu(t,n)}function $C(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RF(t,n)}}function y4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function iS(t,e,n,r){var i=t.updateQueue;Wd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,u=l=c=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Vr({},h,f);break e;case 2:Wd=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=p,c=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zp|=o,t.lanes=o,t.memoizedState=h}}function v4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var BE={},El=bf(BE),Y_=bf(BE),Q_=bf(BE);function rp(t){if(t===BE)throw Error(Ce(174));return t}function YF(t,e){switch(mr(Q_,e),mr(Y_,t),mr(El,BE),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ak(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ak(e,t)}Cr(El),mr(El,e)}function iv(){Cr(El),Cr(Y_),Cr(Q_)}function JG(t){rp(Q_.current);var e=rp(El.current),n=ak(e,t.type);e!==n&&(mr(Y_,t),mr(El,n))}function QF(t){Y_.current===t&&(Cr(El),Cr(Y_))}var jr=bf(0);function sS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mD=[];function ZF(){for(var t=0;t<mD.length;t++)mD[t]._workInProgressVersionPrimary=null;mD.length=0}var UC=ld.ReactCurrentDispatcher,gD=ld.ReactCurrentBatchConfig,Bp=0,zr=null,Si=null,ji=null,oS=!1,u_=!1,Z_=0,Mue=0;function xs(){throw Error(Ce(321))}function JF(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nc(t[n],e[n]))return!1;return!0}function XF(t,e,n,r,i,s){if(Bp=s,zr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,UC.current=t===null||t.memoizedState===null?Uue:jue,t=n(r,i),u_){s=0;do{if(u_=!1,Z_=0,25<=s)throw Error(Ce(301));s+=1,ji=Si=null,e.updateQueue=null,UC.current=Bue,t=n(r,i)}while(u_)}if(UC.current=aS,e=Si!==null&&Si.next!==null,Bp=0,ji=Si=zr=null,oS=!1,e)throw Error(Ce(300));return t}function e3(){var t=Z_!==0;return Z_=0,t}function tl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?zr.memoizedState=ji=t:ji=ji.next=t,ji}function Va(){if(Si===null){var t=zr.alternate;t=t!==null?t.memoizedState:null}else t=Si.next;var e=ji===null?zr.memoizedState:ji.next;if(e!==null)ji=e,Si=t;else{if(t===null)throw Error(Ce(310));Si=t,t={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},ji===null?zr.memoizedState=ji=t:ji=ji.next=t}return ji}function J_(t,e){return typeof e=="function"?e(t):e}function yD(t){var e=Va(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=Si,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((Bp&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,zr.lanes|=u,zp|=u}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,Nc(r,e.memoizedState)||(xo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,zr.lanes|=s,zp|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vD(t){var e=Va(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nc(s,e.memoizedState)||(xo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XG(){}function eK(t,e){var n=zr,r=Va(),i=e(),s=!Nc(r.memoizedState,i);if(s&&(r.memoizedState=i,xo=!0),r=r.queue,t3(rK.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ji!==null&&ji.memoizedState.tag&1){if(n.flags|=2048,X_(9,nK.bind(null,n,r,i,e),void 0,null),Ki===null)throw Error(Ce(349));Bp&30||tK(n,e,i)}return i}function tK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zr.updateQueue,e===null?(e={lastEffect:null,stores:null},zr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nK(t,e,n,r){e.value=n,e.getSnapshot=r,iK(e)&&sK(t)}function rK(t,e,n){return n(function(){iK(e)&&sK(t)})}function iK(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nc(t,n)}catch{return!0}}function sK(t){var e=Gu(t,1);e!==null&&Sc(e,t,1,-1)}function w4(t){var e=tl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:J_,lastRenderedState:t},e.queue=t,t=t.dispatch=$ue.bind(null,zr,t),[e.memoizedState,t]}function X_(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zr.updateQueue,e===null?(e={lastEffect:null,stores:null},zr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oK(){return Va().memoizedState}function jC(t,e,n,r){var i=tl();zr.flags|=t,i.memoizedState=X_(1|e,n,void 0,r===void 0?null:r)}function wx(t,e,n,r){var i=Va();r=r===void 0?null:r;var s=void 0;if(Si!==null){var o=Si.memoizedState;if(s=o.destroy,r!==null&&JF(r,o.deps)){i.memoizedState=X_(e,n,s,r);return}}zr.flags|=t,i.memoizedState=X_(1|e,n,s,r)}function _4(t,e){return jC(8390656,8,t,e)}function t3(t,e){return wx(2048,8,t,e)}function aK(t,e){return wx(4,2,t,e)}function cK(t,e){return wx(4,4,t,e)}function lK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uK(t,e,n){return n=n!=null?n.concat([t]):null,wx(4,4,lK.bind(null,e,t),n)}function n3(){}function dK(t,e){var n=Va();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&JF(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hK(t,e){var n=Va();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&JF(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fK(t,e,n){return Bp&21?(Nc(n,e)||(n=vG(),zr.lanes|=n,zp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xo=!0),t.memoizedState=n)}function Lue(t,e){var n=Gn;Gn=n!==0&&4>n?n:4,t(!0);var r=gD.transition;gD.transition={};try{t(!1),e()}finally{Gn=n,gD.transition=r}}function pK(){return Va().memoizedState}function Fue(t,e,n){var r=Dh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mK(t))gK(e,n);else if(n=QG(t,e,n,r),n!==null){var i=to();Sc(n,t,r,i),yK(n,e,r)}}function $ue(t,e,n){var r=Dh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mK(t))gK(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nc(a,o)){var c=e.interleaved;c===null?(i.next=i,GF(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=QG(t,e,i,r),n!==null&&(i=to(),Sc(n,t,r,i),yK(n,e,r))}}function mK(t){var e=t.alternate;return t===zr||e!==null&&e===zr}function gK(t,e){u_=oS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yK(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RF(t,n)}}var aS={readContext:za,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},Uue={readContext:za,useCallback:function(t,e){return tl().memoizedState=[t,e===void 0?null:e],t},useContext:za,useEffect:_4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jC(4194308,4,lK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jC(4194308,4,t,e)},useInsertionEffect:function(t,e){return jC(4,2,t,e)},useMemo:function(t,e){var n=tl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fue.bind(null,zr,t),[r.memoizedState,t]},useRef:function(t){var e=tl();return t={current:t},e.memoizedState=t},useState:w4,useDebugValue:n3,useDeferredValue:function(t){return tl().memoizedState=t},useTransition:function(){var t=w4(!1),e=t[0];return t=Lue.bind(null,t[1]),tl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zr,i=tl();if(Rr){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=e(),Ki===null)throw Error(Ce(349));Bp&30||tK(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,_4(rK.bind(null,r,s,t),[t]),r.flags|=2048,X_(9,nK.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tl(),e=Ki.identifierPrefix;if(Rr){var n=Su,r=Tu;n=(r&~(1<<32-Tc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Z_++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mue++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jue={readContext:za,useCallback:dK,useContext:za,useEffect:t3,useImperativeHandle:uK,useInsertionEffect:aK,useLayoutEffect:cK,useMemo:hK,useReducer:yD,useRef:oK,useState:function(){return yD(J_)},useDebugValue:n3,useDeferredValue:function(t){var e=Va();return fK(e,Si.memoizedState,t)},useTransition:function(){var t=yD(J_)[0],e=Va().memoizedState;return[t,e]},useMutableSource:XG,useSyncExternalStore:eK,useId:pK,unstable_isNewReconciler:!1},Bue={readContext:za,useCallback:dK,useContext:za,useEffect:t3,useImperativeHandle:uK,useInsertionEffect:aK,useLayoutEffect:cK,useMemo:hK,useReducer:vD,useRef:oK,useState:function(){return vD(J_)},useDebugValue:n3,useDeferredValue:function(t){var e=Va();return Si===null?e.memoizedState=t:fK(e,Si.memoizedState,t)},useTransition:function(){var t=vD(J_)[0],e=Va().memoizedState;return[t,e]},useMutableSource:XG,useSyncExternalStore:eK,useId:pK,unstable_isNewReconciler:!1};function hc(t,e){if(t&&t.defaultProps){e=Vr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _x={isMounted:function(t){return(t=t._reactInternals)?Tm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=to(),i=Dh(t),s=Ou(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ph(t,s,i),e!==null&&(Sc(e,t,i,r),$C(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=to(),i=Dh(t),s=Ou(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ph(t,s,i),e!==null&&(Sc(e,t,i,r),$C(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=to(),r=Dh(t),i=Ou(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ph(t,i,r),e!==null&&(Sc(e,t,r,n),$C(e,t,r))}};function b4(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!W_(n,r)||!W_(i,s):!0}function vK(t,e,n){var r=!1,i=Yh,s=e.contextType;return typeof s=="object"&&s!==null?s=za(s):(i=No(e)?Up:$s.current,r=e.contextTypes,s=(r=r!=null)?tv(t,i):Yh),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_x,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function E4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_x.enqueueReplaceState(e,e.state,null)}function Pk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},KF(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=za(s):(s=No(e)?Up:$s.current,i.context=tv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xk(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_x.enqueueReplaceState(i,i.state,null),iS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sv(t,e){try{var n="",r=e;do n+=mle(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wD(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ok(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zue=typeof WeakMap=="function"?WeakMap:Map;function wK(t,e,n){n=Ou(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lS||(lS=!0,jk=r),Ok(t,e)},n}function _K(t,e,n){n=Ou(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ok(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ok(t,e),typeof r!="function"&&(Oh===null?Oh=new Set([this]):Oh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function A4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zue;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nde.bind(null,t,e,n),e.then(t,t))}function C4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ou(-1,1),e.tag=2,Ph(n,e,1))),n.lanes|=1),t)}var Vue=ld.ReactCurrentOwner,xo=!1;function Ys(t,e,n,r){e.child=t===null?YG(e,null,n,r):rv(e,t.child,n,r)}function S4(t,e,n,r,i){n=n.render;var s=e.ref;return Ay(e,i),r=XF(t,e,n,r,s,i),n=e3(),t!==null&&!xo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ku(t,e,i)):(Rr&&n&&BF(e),e.flags|=1,Ys(t,e,r,i),e.child)}function I4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!u3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bK(t,e,s,r,i)):(t=HC(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:W_,n(o,r)&&t.ref===e.ref)return Ku(t,e,i)}return e.flags|=1,t=Nh(s,r),t.ref=e.ref,t.return=e,e.child=t}function bK(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(W_(s,r)&&t.ref===e.ref)if(xo=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(xo=!0);else return e.lanes=t.lanes,Ku(t,e,i)}return Dk(t,e,n,r,i)}function EK(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(ly,Ko),Ko|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mr(ly,Ko),Ko|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,mr(ly,Ko),Ko|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,mr(ly,Ko),Ko|=r;return Ys(t,e,i,n),e.child}function AK(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dk(t,e,n,r,i){var s=No(n)?Up:$s.current;return s=tv(e,s),Ay(e,i),n=XF(t,e,n,r,s,i),r=e3(),t!==null&&!xo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ku(t,e,i)):(Rr&&r&&BF(e),e.flags|=1,Ys(t,e,n,i),e.child)}function x4(t,e,n,r,i){if(No(n)){var s=!0;XT(e)}else s=!1;if(Ay(e,i),e.stateNode===null)BC(t,e),vK(e,n,r),Pk(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=za(l):(l=No(n)?Up:$s.current,l=tv(e,l));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&E4(e,o,r,l),Wd=!1;var f=e.memoizedState;o.state=f,iS(e,r,o,i),c=e.memoizedState,a!==r||f!==c||Do.current||Wd?(typeof u=="function"&&(xk(e,n,u,r),c=e.memoizedState),(a=Wd||b4(e,n,a,r,f,c,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZG(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:hc(e.type,a),o.props=l,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=za(c):(c=No(n)?Up:$s.current,c=tv(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&E4(e,o,r,c),Wd=!1,f=e.memoizedState,o.state=f,iS(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||Do.current||Wd?(typeof p=="function"&&(xk(e,n,p,r),g=e.memoizedState),(l=Wd||b4(e,n,l,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Nk(t,e,n,r,s,i)}function Nk(t,e,n,r,i,s){AK(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&f4(e,n,!1),Ku(t,e,s);r=e.stateNode,Vue.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=rv(e,t.child,null,s),e.child=rv(e,null,a,s)):Ys(t,e,a,s),e.memoizedState=r.state,i&&f4(e,n,!0),e.child}function CK(t){var e=t.stateNode;e.pendingContext?h4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h4(t,e.context,!1),YF(t,e.containerInfo)}function P4(t,e,n,r,i){return nv(),VF(i),e.flags|=256,Ys(t,e,n,r),e.child}var Rk={dehydrated:null,treeContext:null,retryLane:0};function kk(t){return{baseLanes:t,cachePool:null,transitions:null}}function TK(t,e,n){var r=e.pendingProps,i=jr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mr(jr,i&1),t===null)return Sk(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ax(o,r,0,null),t=Sp(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kk(n),e.memoizedState=Rk,t):r3(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Hue(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Nh(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nh(a,s):(s=Sp(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?kk(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rk,r}return s=t.child,t=s.sibling,r=Nh(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function r3(t,e){return e=Ax({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xA(t,e,n,r){return r!==null&&VF(r),rv(e,t.child,null,n),t=r3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hue(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wD(Error(Ce(422))),xA(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ax({mode:"visible",children:r.children},i,0,null),s=Sp(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&rv(e,t.child,null,o),e.child.memoizedState=kk(o),e.memoizedState=Rk,s);if(!(e.mode&1))return xA(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ce(419)),r=wD(s,r,void 0),xA(t,e,o,r)}if(a=(o&t.childLanes)!==0,xo||a){if(r=Ki,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gu(t,i),Sc(r,t,i,-1))}return l3(),r=wD(Error(Ce(421))),xA(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rde.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ea=xh(i.nextSibling),na=e,Rr=!0,vc=null,t!==null&&(Na[Ra++]=Tu,Na[Ra++]=Su,Na[Ra++]=jp,Tu=t.id,Su=t.overflow,jp=e),e=r3(e,r.children),e.flags|=4096,e)}function O4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ik(t.return,e,n)}function _D(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function SK(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ys(t,e,r.children,n),r=jr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O4(t,n,e);else if(t.tag===19)O4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mr(jr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_D(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_D(e,!0,n,null,s);break;case"together":_D(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function BC(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ku(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,n=Nh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wue(t,e,n){switch(e.tag){case 3:CK(e),nv();break;case 5:JG(e);break;case 1:No(e.type)&&XT(e);break;case 4:YF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;mr(nS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mr(jr,jr.current&1),e.flags|=128,null):n&e.child.childLanes?TK(t,e,n):(mr(jr,jr.current&1),t=Ku(t,e,n),t!==null?t.sibling:null);mr(jr,jr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SK(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mr(jr,jr.current),r)break;return null;case 22:case 23:return e.lanes=0,EK(t,e,n)}return Ku(t,e,n)}var IK,Mk,xK,PK;IK=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mk=function(){};xK=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rp(El.current);var s=null;switch(n){case"input":i=rk(t,i),r=rk(t,r),s=[];break;case"select":i=Vr({},i,{value:void 0}),r=Vr({},r,{value:void 0}),s=[];break;case"textarea":i=ok(t,i),r=ok(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ZT)}ck(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&($_.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&($_.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&vr("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};PK=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xw(t,e){if(!Rr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ps(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function que(t,e,n){var r=e.pendingProps;switch(zF(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(e),null;case 1:return No(e.type)&&JT(),Ps(e),null;case 3:return r=e.stateNode,iv(),Cr(Do),Cr($s),ZF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(SA(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vc!==null&&(Vk(vc),vc=null))),Mk(t,e),Ps(e),null;case 5:QF(e);var i=rp(Q_.current);if(n=e.type,t!==null&&e.stateNode!=null)xK(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return Ps(e),null}if(t=rp(El.current),SA(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fl]=e,r[K_]=s,t=(e.mode&1)!==0,n){case"dialog":vr("cancel",r),vr("close",r);break;case"iframe":case"object":case"embed":vr("load",r);break;case"video":case"audio":for(i=0;i<$0.length;i++)vr($0[i],r);break;case"source":vr("error",r);break;case"img":case"image":case"link":vr("error",r),vr("load",r);break;case"details":vr("toggle",r);break;case"input":U5(r,s),vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},vr("invalid",r);break;case"textarea":B5(r,s),vr("invalid",r)}ck(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&TA(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&TA(r.textContent,a,t),i=["children",""+a]):$_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vr("scroll",r)}switch(n){case"input":yA(r),j5(r,s,!0);break;case"textarea":yA(r),z5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ZT)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rG(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fl]=e,t[K_]=r,IK(t,e,!1,!1),e.stateNode=t;e:{switch(o=lk(n,r),n){case"dialog":vr("cancel",t),vr("close",t),i=r;break;case"iframe":case"object":case"embed":vr("load",t),i=r;break;case"video":case"audio":for(i=0;i<$0.length;i++)vr($0[i],t);i=r;break;case"source":vr("error",t),i=r;break;case"img":case"image":case"link":vr("error",t),vr("load",t),i=r;break;case"details":vr("toggle",t),i=r;break;case"input":U5(t,r),i=rk(t,r),vr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vr({},r,{value:void 0}),vr("invalid",t);break;case"textarea":B5(t,r),i=ok(t,r),vr("invalid",t);break;default:i=r}ck(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?oG(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iG(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&U_(t,c):typeof c=="number"&&U_(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($_.hasOwnProperty(s)?c!=null&&s==="onScroll"&&vr("scroll",t):c!=null&&IF(t,s,c,o))}switch(n){case"input":yA(t),j5(t,r,!1);break;case"textarea":yA(t),z5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kh(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?wy(t,!!r.multiple,s,!1):r.defaultValue!=null&&wy(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ZT)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ps(e),null;case 6:if(t&&e.stateNode!=null)PK(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(n=rp(Q_.current),rp(El.current),SA(e)){if(r=e.stateNode,n=e.memoizedProps,r[fl]=e,(s=r.nodeValue!==n)&&(t=na,t!==null))switch(t.tag){case 3:TA(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&TA(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fl]=e,e.stateNode=r}return Ps(e),null;case 13:if(Cr(jr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rr&&ea!==null&&e.mode&1&&!(e.flags&128))GG(),nv(),e.flags|=98560,s=!1;else if(s=SA(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[fl]=e}else nv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ps(e),s=!1}else vc!==null&&(Vk(vc),vc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jr.current&1?xi===0&&(xi=3):l3())),e.updateQueue!==null&&(e.flags|=4),Ps(e),null);case 4:return iv(),Mk(t,e),t===null&&q_(e.stateNode.containerInfo),Ps(e),null;case 10:return qF(e.type._context),Ps(e),null;case 17:return No(e.type)&&JT(),Ps(e),null;case 19:if(Cr(jr),s=e.memoizedState,s===null)return Ps(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Xw(s,!1);else{if(xi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sS(t),o!==null){for(e.flags|=128,Xw(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mr(jr,jr.current&1|2),e.child}t=t.sibling}s.tail!==null&&ri()>ov&&(e.flags|=128,r=!0,Xw(s,!1),e.lanes=4194304)}else{if(!r)if(t=sS(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xw(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rr)return Ps(e),null}else 2*ri()-s.renderingStartTime>ov&&n!==1073741824&&(e.flags|=128,r=!0,Xw(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ri(),e.sibling=null,n=jr.current,mr(jr,r?n&1|2:n&1),e):(Ps(e),null);case 22:case 23:return c3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ko&1073741824&&(Ps(e),e.subtreeFlags&6&&(e.flags|=8192)):Ps(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function Gue(t,e){switch(zF(e),e.tag){case 1:return No(e.type)&&JT(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return iv(),Cr(Do),Cr($s),ZF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return QF(e),null;case 13:if(Cr(jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));nv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cr(jr),null;case 4:return iv(),null;case 10:return qF(e.type._context),null;case 22:case 23:return c3(),null;case 24:return null;default:return null}}var PA=!1,Ls=!1,Kue=typeof WeakSet=="function"?WeakSet:Set,it=null;function cy(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gr(t,e,r)}else n.current=null}function Lk(t,e,n){try{n()}catch(r){Gr(t,e,r)}}var D4=!1;function Yue(t,e){if(wk=KT,t=kG(),jF(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++u===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_k={focusedElem:t,selectionRange:n},KT=!1,it=e;it!==null;)if(e=it,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,it=t;else for(;it!==null;){e=it;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:hc(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(S){Gr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,it=t;break}it=e.return}return g=D4,D4=!1,g}function d_(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lk(e,n,s)}i=i.next}while(i!==r)}}function bx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OK(t){var e=t.alternate;e!==null&&(t.alternate=null,OK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fl],delete e[K_],delete e[Ak],delete e[Due],delete e[Nue])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DK(t){return t.tag===5||t.tag===3||t.tag===4}function N4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $k(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ZT));else if(r!==4&&(t=t.child,t!==null))for($k(t,e,n),t=t.sibling;t!==null;)$k(t,e,n),t=t.sibling}function Uk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uk(t,e,n),t=t.sibling;t!==null;)Uk(t,e,n),t=t.sibling}var os=null,gc=!1;function xd(t,e,n){for(n=n.child;n!==null;)NK(t,e,n),n=n.sibling}function NK(t,e,n){if(bl&&typeof bl.onCommitFiberUnmount=="function")try{bl.onCommitFiberUnmount(fx,n)}catch{}switch(n.tag){case 5:Ls||cy(n,e);case 6:var r=os,i=gc;os=null,xd(t,e,n),os=r,gc=i,os!==null&&(gc?(t=os,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):os.removeChild(n.stateNode));break;case 18:os!==null&&(gc?(t=os,n=n.stateNode,t.nodeType===8?fD(t.parentNode,n):t.nodeType===1&&fD(t,n),V_(t)):fD(os,n.stateNode));break;case 4:r=os,i=gc,os=n.stateNode.containerInfo,gc=!0,xd(t,e,n),os=r,gc=i;break;case 0:case 11:case 14:case 15:if(!Ls&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lk(n,e,o),i=i.next}while(i!==r)}xd(t,e,n);break;case 1:if(!Ls&&(cy(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gr(n,e,a)}xd(t,e,n);break;case 21:xd(t,e,n);break;case 22:n.mode&1?(Ls=(r=Ls)||n.memoizedState!==null,xd(t,e,n),Ls=r):xd(t,e,n);break;default:xd(t,e,n)}}function R4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kue),e.forEach(function(r){var i=ide.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function oc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:os=a.stateNode,gc=!1;break e;case 3:os=a.stateNode.containerInfo,gc=!0;break e;case 4:os=a.stateNode.containerInfo,gc=!0;break e}a=a.return}if(os===null)throw Error(Ce(160));NK(s,o,i),os=null,gc=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Gr(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RK(e,t),e=e.sibling}function RK(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oc(e,t),Gc(t),r&4){try{d_(3,t,t.return),bx(3,t)}catch(y){Gr(t,t.return,y)}try{d_(5,t,t.return)}catch(y){Gr(t,t.return,y)}}break;case 1:oc(e,t),Gc(t),r&512&&n!==null&&cy(n,n.return);break;case 5:if(oc(e,t),Gc(t),r&512&&n!==null&&cy(n,n.return),t.flags&32){var i=t.stateNode;try{U_(i,"")}catch(y){Gr(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tG(i,s),lk(a,o);var l=lk(a,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?oG(i,h):u==="dangerouslySetInnerHTML"?iG(i,h):u==="children"?U_(i,h):IF(i,u,h,l)}switch(a){case"input":ik(i,s);break;case"textarea":nG(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?wy(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?wy(i,!!s.multiple,s.defaultValue,!0):wy(i,!!s.multiple,s.multiple?[]:"",!1))}i[K_]=s}catch(y){Gr(t,t.return,y)}}break;case 6:if(oc(e,t),Gc(t),r&4){if(t.stateNode===null)throw Error(Ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Gr(t,t.return,y)}}break;case 3:if(oc(e,t),Gc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{V_(e.containerInfo)}catch(y){Gr(t,t.return,y)}break;case 4:oc(e,t),Gc(t);break;case 13:oc(e,t),Gc(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(o3=ri())),r&4&&R4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ls=(l=Ls)||u,oc(e,t),Ls=l):oc(e,t),Gc(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(it=t,u=t.child;u!==null;){for(h=it=u;it!==null;){switch(f=it,p=f.child,f.tag){case 0:case 11:case 14:case 15:d_(4,f,f.return);break;case 1:cy(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Gr(r,n,y)}}break;case 5:cy(f,f.return);break;case 22:if(f.memoizedState!==null){M4(h);continue}}p!==null?(p.return=f,it=p):M4(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=sG("display",o))}catch(y){Gr(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Gr(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:oc(e,t),Gc(t),r&4&&R4(t);break;case 21:break;default:oc(e,t),Gc(t)}}function Gc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DK(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(U_(i,""),r.flags&=-33);var s=N4(t);Uk(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=N4(t);$k(t,a,o);break;default:throw Error(Ce(161))}}catch(c){Gr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Que(t,e,n){it=t,kK(t)}function kK(t,e,n){for(var r=(t.mode&1)!==0;it!==null;){var i=it,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||PA;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ls;a=PA;var l=Ls;if(PA=o,(Ls=c)&&!l)for(it=i;it!==null;)o=it,c=o.child,o.tag===22&&o.memoizedState!==null?L4(i):c!==null?(c.return=o,it=c):L4(i);for(;s!==null;)it=s,kK(s),s=s.sibling;it=i,PA=a,Ls=l}k4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,it=s):k4(t)}}function k4(t){for(;it!==null;){var e=it;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ls||bx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ls)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&v4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v4(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&V_(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Ls||e.flags&512&&Fk(e)}catch(f){Gr(e,e.return,f)}}if(e===t){it=null;break}if(n=e.sibling,n!==null){n.return=e.return,it=n;break}it=e.return}}function M4(t){for(;it!==null;){var e=it;if(e===t){it=null;break}var n=e.sibling;if(n!==null){n.return=e.return,it=n;break}it=e.return}}function L4(t){for(;it!==null;){var e=it;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bx(4,e)}catch(c){Gr(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Gr(e,i,c)}}var s=e.return;try{Fk(e)}catch(c){Gr(e,s,c)}break;case 5:var o=e.return;try{Fk(e)}catch(c){Gr(e,o,c)}}}catch(c){Gr(e,e.return,c)}if(e===t){it=null;break}var a=e.sibling;if(a!==null){a.return=e.return,it=a;break}it=e.return}}var Zue=Math.ceil,cS=ld.ReactCurrentDispatcher,i3=ld.ReactCurrentOwner,Ua=ld.ReactCurrentBatchConfig,Tn=0,Ki=null,vi=null,vs=0,Ko=0,ly=bf(0),xi=0,eb=null,zp=0,Ex=0,s3=0,h_=null,So=null,o3=0,ov=1/0,gu=null,lS=!1,jk=null,Oh=null,OA=!1,mh=null,uS=0,f_=0,Bk=null,zC=-1,VC=0;function to(){return Tn&6?ri():zC!==-1?zC:zC=ri()}function Dh(t){return t.mode&1?Tn&2&&vs!==0?vs&-vs:kue.transition!==null?(VC===0&&(VC=vG()),VC):(t=Gn,t!==0||(t=window.event,t=t===void 0?16:TG(t.type)),t):1}function Sc(t,e,n,r){if(50<f_)throw f_=0,Bk=null,Error(Ce(185));$E(t,n,r),(!(Tn&2)||t!==Ki)&&(t===Ki&&(!(Tn&2)&&(Ex|=n),xi===4&&Jd(t,vs)),Ro(t,r),n===1&&Tn===0&&!(e.mode&1)&&(ov=ri()+500,vx&&Ef()))}function Ro(t,e){var n=t.callbackNode;kle(t,e);var r=GT(t,t===Ki?vs:0);if(r===0)n!==null&&W5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&W5(n),e===1)t.tag===0?Rue(F4.bind(null,t)):HG(F4.bind(null,t)),Pue(function(){!(Tn&6)&&Ef()}),n=null;else{switch(wG(r)){case 1:n=NF;break;case 4:n=gG;break;case 16:n=qT;break;case 536870912:n=yG;break;default:n=qT}n=zK(n,MK.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MK(t,e){if(zC=-1,VC=0,Tn&6)throw Error(Ce(327));var n=t.callbackNode;if(Cy()&&t.callbackNode!==n)return null;var r=GT(t,t===Ki?vs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dS(t,r);else{e=r;var i=Tn;Tn|=2;var s=FK();(Ki!==t||vs!==e)&&(gu=null,ov=ri()+500,Tp(t,e));do try{ede();break}catch(a){LK(t,a)}while(1);WF(),cS.current=s,Tn=i,vi!==null?e=0:(Ki=null,vs=0,e=xi)}if(e!==0){if(e===2&&(i=pk(t),i!==0&&(r=i,e=zk(t,i))),e===1)throw n=eb,Tp(t,0),Jd(t,r),Ro(t,ri()),n;if(e===6)Jd(t,r);else{if(i=t.current.alternate,!(r&30)&&!Jue(i)&&(e=dS(t,r),e===2&&(s=pk(t),s!==0&&(r=s,e=zk(t,s))),e===1))throw n=eb,Tp(t,0),Jd(t,r),Ro(t,ri()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:jf(t,So,gu);break;case 3:if(Jd(t,r),(r&130023424)===r&&(e=o3+500-ri(),10<e)){if(GT(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){to(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ek(jf.bind(null,t,So,gu),e);break}jf(t,So,gu);break;case 4:if(Jd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tc(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ri()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zue(r/1960))-r,10<r){t.timeoutHandle=Ek(jf.bind(null,t,So,gu),r);break}jf(t,So,gu);break;case 5:jf(t,So,gu);break;default:throw Error(Ce(329))}}}return Ro(t,ri()),t.callbackNode===n?MK.bind(null,t):null}function zk(t,e){var n=h_;return t.current.memoizedState.isDehydrated&&(Tp(t,e).flags|=256),t=dS(t,e),t!==2&&(e=So,So=n,e!==null&&Vk(e)),t}function Vk(t){So===null?So=t:So.push.apply(So,t)}function Jue(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nc(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jd(t,e){for(e&=~s3,e&=~Ex,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tc(e),r=1<<n;t[n]=-1,e&=~r}}function F4(t){if(Tn&6)throw Error(Ce(327));Cy();var e=GT(t,0);if(!(e&1))return Ro(t,ri()),null;var n=dS(t,e);if(t.tag!==0&&n===2){var r=pk(t);r!==0&&(e=r,n=zk(t,r))}if(n===1)throw n=eb,Tp(t,0),Jd(t,e),Ro(t,ri()),n;if(n===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jf(t,So,gu),Ro(t,ri()),null}function a3(t,e){var n=Tn;Tn|=1;try{return t(e)}finally{Tn=n,Tn===0&&(ov=ri()+500,vx&&Ef())}}function Vp(t){mh!==null&&mh.tag===0&&!(Tn&6)&&Cy();var e=Tn;Tn|=1;var n=Ua.transition,r=Gn;try{if(Ua.transition=null,Gn=1,t)return t()}finally{Gn=r,Ua.transition=n,Tn=e,!(Tn&6)&&Ef()}}function c3(){Ko=ly.current,Cr(ly)}function Tp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xue(n)),vi!==null)for(n=vi.return;n!==null;){var r=n;switch(zF(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&JT();break;case 3:iv(),Cr(Do),Cr($s),ZF();break;case 5:QF(r);break;case 4:iv();break;case 13:Cr(jr);break;case 19:Cr(jr);break;case 10:qF(r.type._context);break;case 22:case 23:c3()}n=n.return}if(Ki=t,vi=t=Nh(t.current,null),vs=Ko=e,xi=0,eb=null,s3=Ex=zp=0,So=h_=null,np!==null){for(e=0;e<np.length;e++)if(n=np[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}np=null}return t}function LK(t,e){do{var n=vi;try{if(WF(),UC.current=aS,oS){for(var r=zr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oS=!1}if(Bp=0,ji=Si=zr=null,u_=!1,Z_=0,i3.current=null,n===null||n.return===null){xi=1,eb=e,vi=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=vs,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=C4(o);if(p!==null){p.flags&=-257,T4(p,o,a,s,e),p.mode&1&&A4(s,l,e),e=p,c=l;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){A4(s,l,e),l3();break e}c=Error(Ce(426))}}else if(Rr&&a.mode&1){var v=C4(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),T4(v,o,a,s,e),VF(sv(c,a));break e}}s=c=sv(c,a),xi!==4&&(xi=2),h_===null?h_=[s]:h_.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=wK(s,c,e);y4(s,b);break e;case 1:a=c;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Oh===null||!Oh.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=_K(s,a,e);y4(s,S);break e}}s=s.return}while(s!==null)}UK(n)}catch(P){e=P,vi===n&&n!==null&&(vi=n=n.return);continue}break}while(1)}function FK(){var t=cS.current;return cS.current=aS,t===null?aS:t}function l3(){(xi===0||xi===3||xi===2)&&(xi=4),Ki===null||!(zp&268435455)&&!(Ex&268435455)||Jd(Ki,vs)}function dS(t,e){var n=Tn;Tn|=2;var r=FK();(Ki!==t||vs!==e)&&(gu=null,Tp(t,e));do try{Xue();break}catch(i){LK(t,i)}while(1);if(WF(),Tn=n,cS.current=r,vi!==null)throw Error(Ce(261));return Ki=null,vs=0,xi}function Xue(){for(;vi!==null;)$K(vi)}function ede(){for(;vi!==null&&!Tle();)$K(vi)}function $K(t){var e=BK(t.alternate,t,Ko);t.memoizedProps=t.pendingProps,e===null?UK(t):vi=e,i3.current=null}function UK(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gue(n,e),n!==null){n.flags&=32767,vi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xi=6,vi=null;return}}else if(n=que(n,e,Ko),n!==null){vi=n;return}if(e=e.sibling,e!==null){vi=e;return}vi=e=t}while(e!==null);xi===0&&(xi=5)}function jf(t,e,n){var r=Gn,i=Ua.transition;try{Ua.transition=null,Gn=1,tde(t,e,n,r)}finally{Ua.transition=i,Gn=r}return null}function tde(t,e,n,r){do Cy();while(mh!==null);if(Tn&6)throw Error(Ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mle(t,s),t===Ki&&(vi=Ki=null,vs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||OA||(OA=!0,zK(qT,function(){return Cy(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ua.transition,Ua.transition=null;var o=Gn;Gn=1;var a=Tn;Tn|=4,i3.current=null,Yue(t,n),RK(n,t),bue(_k),KT=!!wk,_k=wk=null,t.current=n,Que(n),Sle(),Tn=a,Gn=o,Ua.transition=s}else t.current=n;if(OA&&(OA=!1,mh=t,uS=i),s=t.pendingLanes,s===0&&(Oh=null),Ple(n.stateNode),Ro(t,ri()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lS)throw lS=!1,t=jk,jk=null,t;return uS&1&&t.tag!==0&&Cy(),s=t.pendingLanes,s&1?t===Bk?f_++:(f_=0,Bk=t):f_=0,Ef(),null}function Cy(){if(mh!==null){var t=wG(uS),e=Ua.transition,n=Gn;try{if(Ua.transition=null,Gn=16>t?16:t,mh===null)var r=!1;else{if(t=mh,mh=null,uS=0,Tn&6)throw Error(Ce(331));var i=Tn;for(Tn|=4,it=t.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(it=l;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:d_(8,u,s)}var h=u.child;if(h!==null)h.return=u,it=h;else for(;it!==null;){u=it;var f=u.sibling,p=u.return;if(OK(u),u===l){it=null;break}if(f!==null){f.return=p,it=f;break}it=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:d_(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,it=b;break e}it=s.return}}var w=t.current;for(it=w;it!==null;){o=it;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,it=A;else e:for(o=w;it!==null;){if(a=it,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bx(9,a)}}catch(P){Gr(a,a.return,P)}if(a===o){it=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,it=S;break e}it=a.return}}if(Tn=i,Ef(),bl&&typeof bl.onPostCommitFiberRoot=="function")try{bl.onPostCommitFiberRoot(fx,t)}catch{}r=!0}return r}finally{Gn=n,Ua.transition=e}}return!1}function $4(t,e,n){e=sv(n,e),e=wK(t,e,1),t=Ph(t,e,1),e=to(),t!==null&&($E(t,1,e),Ro(t,e))}function Gr(t,e,n){if(t.tag===3)$4(t,t,n);else for(;e!==null;){if(e.tag===3){$4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oh===null||!Oh.has(r))){t=sv(n,t),t=_K(e,t,1),e=Ph(e,t,1),t=to(),e!==null&&($E(e,1,t),Ro(e,t));break}}e=e.return}}function nde(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=to(),t.pingedLanes|=t.suspendedLanes&n,Ki===t&&(vs&n)===n&&(xi===4||xi===3&&(vs&130023424)===vs&&500>ri()-o3?Tp(t,0):s3|=n),Ro(t,e)}function jK(t,e){e===0&&(t.mode&1?(e=_A,_A<<=1,!(_A&130023424)&&(_A=4194304)):e=1);var n=to();t=Gu(t,e),t!==null&&($E(t,e,n),Ro(t,n))}function rde(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jK(t,n)}function ide(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),jK(t,n)}var BK;BK=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Do.current)xo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xo=!1,Wue(t,e,n);xo=!!(t.flags&131072)}else xo=!1,Rr&&e.flags&1048576&&WG(e,tS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;BC(t,e),t=e.pendingProps;var i=tv(e,$s.current);Ay(e,n),i=XF(null,e,r,t,i,n);var s=e3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,No(r)?(s=!0,XT(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,KF(e),i.updater=_x,e.stateNode=i,i._reactInternals=e,Pk(e,r,t,n),e=Nk(null,e,r,!0,s,n)):(e.tag=0,Rr&&s&&BF(e),Ys(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(BC(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ode(r),t=hc(r,t),i){case 0:e=Dk(null,e,r,t,n);break e;case 1:e=x4(null,e,r,t,n);break e;case 11:e=S4(null,e,r,t,n);break e;case 14:e=I4(null,e,r,hc(r.type,t),n);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),Dk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),x4(t,e,r,i,n);case 3:e:{if(CK(e),t===null)throw Error(Ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZG(t,e),iS(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sv(Error(Ce(423)),e),e=P4(t,e,r,n,i);break e}else if(r!==i){i=sv(Error(Ce(424)),e),e=P4(t,e,r,n,i);break e}else for(ea=xh(e.stateNode.containerInfo.firstChild),na=e,Rr=!0,vc=null,n=YG(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nv(),r===i){e=Ku(t,e,n);break e}Ys(t,e,r,n)}e=e.child}return e;case 5:return JG(e),t===null&&Sk(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bk(r,i)?o=null:s!==null&&bk(r,s)&&(e.flags|=32),AK(t,e),Ys(t,e,o,n),e.child;case 6:return t===null&&Sk(e),null;case 13:return TK(t,e,n);case 4:return YF(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rv(e,null,r,n):Ys(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),S4(t,e,r,i,n);case 7:return Ys(t,e,e.pendingProps,n),e.child;case 8:return Ys(t,e,e.pendingProps.children,n),e.child;case 12:return Ys(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,mr(nS,r._currentValue),r._currentValue=o,s!==null)if(Nc(s.value,o)){if(s.children===i.children&&!Do.current){e=Ku(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ou(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Ik(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ik(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ys(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ay(e,n),i=za(i),r=r(i),e.flags|=1,Ys(t,e,r,n),e.child;case 14:return r=e.type,i=hc(r,e.pendingProps),i=hc(r.type,i),I4(t,e,r,i,n);case 15:return bK(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hc(r,i),BC(t,e),e.tag=1,No(r)?(t=!0,XT(e)):t=!1,Ay(e,n),vK(e,r,i),Pk(e,r,i,n),Nk(null,e,r,!0,t,n);case 19:return SK(t,e,n);case 22:return EK(t,e,n)}throw Error(Ce(156,e.tag))};function zK(t,e){return mG(t,e)}function sde(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(t,e,n,r){return new sde(t,e,n,r)}function u3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ode(t){if(typeof t=="function")return u3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===PF)return 11;if(t===OF)return 14}return 2}function Nh(t,e){var n=t.alternate;return n===null?(n=La(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function HC(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")u3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xg:return Sp(n.children,i,s,e);case xF:o=8,i|=8;break;case XR:return t=La(12,n,e,i|2),t.elementType=XR,t.lanes=s,t;case ek:return t=La(13,n,e,i),t.elementType=ek,t.lanes=s,t;case tk:return t=La(19,n,e,i),t.elementType=tk,t.lanes=s,t;case Jq:return Ax(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qq:o=10;break e;case Zq:o=9;break e;case PF:o=11;break e;case OF:o=14;break e;case Hd:o=16,r=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=La(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Sp(t,e,n,r){return t=La(7,t,r,e),t.lanes=n,t}function Ax(t,e,n,r){return t=La(22,t,r,e),t.elementType=Jq,t.lanes=n,t.stateNode={isHidden:!1},t}function bD(t,e,n){return t=La(6,t,null,e),t.lanes=n,t}function ED(t,e,n){return e=La(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ade(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nD(0),this.expirationTimes=nD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nD(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function d3(t,e,n,r,i,s,o,a,c){return t=new ade(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=La(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},KF(s),t}function cde(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VK(t){if(!t)return Yh;t=t._reactInternals;e:{if(Tm(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(No(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var n=t.type;if(No(n))return VG(t,n,e)}return e}function HK(t,e,n,r,i,s,o,a,c){return t=d3(n,r,!0,t,i,s,o,a,c),t.context=VK(null),n=t.current,r=to(),i=Dh(n),s=Ou(r,i),s.callback=e??null,Ph(n,s,i),t.current.lanes=i,$E(t,i,r),Ro(t,r),t}function Cx(t,e,n,r){var i=e.current,s=to(),o=Dh(i);return n=VK(n),e.context===null?e.context=n:e.pendingContext=n,e=Ou(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ph(i,e,o),t!==null&&(Sc(t,i,o,s),$C(t,i,o)),o}function hS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h3(t,e){U4(t,e),(t=t.alternate)&&U4(t,e)}function lde(){return null}var WK=typeof reportError=="function"?reportError:function(t){console.error(t)};function f3(t){this._internalRoot=t}Tx.prototype.render=f3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));Cx(t,e,null,null)};Tx.prototype.unmount=f3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vp(function(){Cx(null,t,null,null)}),e[qu]=null}};function Tx(t){this._internalRoot=t}Tx.prototype.unstable_scheduleHydration=function(t){if(t){var e=EG();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zd.length&&e!==0&&e<Zd[n].priority;n++);Zd.splice(n,0,t),n===0&&CG(t)}};function p3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j4(){}function ude(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=hS(o);s.call(l)}}var o=HK(e,r,t,0,null,!1,!1,"",j4);return t._reactRootContainer=o,t[qu]=o.current,q_(t.nodeType===8?t.parentNode:t),Vp(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=hS(c);a.call(l)}}var c=d3(t,0,!1,null,null,!1,!1,"",j4);return t._reactRootContainer=c,t[qu]=c.current,q_(t.nodeType===8?t.parentNode:t),Vp(function(){Cx(e,c,n,r)}),c}function Ix(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=hS(o);a.call(c)}}Cx(e,o,t,i)}else o=ude(n,e,t,i,r);return hS(o)}_G=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=F0(e.pendingLanes);n!==0&&(RF(e,n|1),Ro(e,ri()),!(Tn&6)&&(ov=ri()+500,Ef()))}break;case 13:Vp(function(){var r=Gu(t,1);if(r!==null){var i=to();Sc(r,t,1,i)}}),h3(t,1)}};kF=function(t){if(t.tag===13){var e=Gu(t,134217728);if(e!==null){var n=to();Sc(e,t,134217728,n)}h3(t,134217728)}};bG=function(t){if(t.tag===13){var e=Dh(t),n=Gu(t,e);if(n!==null){var r=to();Sc(n,t,e,r)}h3(t,e)}};EG=function(){return Gn};AG=function(t,e){var n=Gn;try{return Gn=t,e()}finally{Gn=n}};dk=function(t,e,n){switch(e){case"input":if(ik(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yx(r);if(!i)throw Error(Ce(90));eG(r),ik(r,i)}}}break;case"textarea":nG(t,n);break;case"select":e=n.value,e!=null&&wy(t,!!n.multiple,e,!1)}};lG=a3;uG=Vp;var dde={usingClientEntryPoint:!1,Events:[jE,ry,yx,aG,cG,a3]},e0={findFiberByHostInstance:tp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hde={bundleType:e0.bundleType,version:e0.version,rendererPackageName:e0.rendererPackageName,rendererConfig:e0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ld.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fG(t),t===null?null:t.stateNode},findFiberByHostInstance:e0.findFiberByHostInstance||lde,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var DA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!DA.isDisabled&&DA.supportsFiber)try{fx=DA.inject(hde),bl=DA}catch{}}ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dde;ca.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p3(e))throw Error(Ce(200));return cde(t,e,null,n)};ca.createRoot=function(t,e){if(!p3(t))throw Error(Ce(299));var n=!1,r="",i=WK;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=d3(t,1,!1,null,null,n,!1,r,i),t[qu]=e.current,q_(t.nodeType===8?t.parentNode:t),new f3(e)};ca.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=fG(e),t=t===null?null:t.stateNode,t};ca.flushSync=function(t){return Vp(t)};ca.hydrate=function(t,e,n){if(!Sx(e))throw Error(Ce(200));return Ix(null,t,e,!0,n)};ca.hydrateRoot=function(t,e,n){if(!p3(t))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=WK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HK(e,null,t,1,n??null,i,!1,s,o),t[qu]=e.current,q_(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tx(e)};ca.render=function(t,e,n){if(!Sx(e))throw Error(Ce(200));return Ix(null,t,e,!1,n)};ca.unmountComponentAtNode=function(t){if(!Sx(t))throw Error(Ce(40));return t._reactRootContainer?(Vp(function(){Ix(null,null,t,!1,function(){t._reactRootContainer=null,t[qu]=null})}),!0):!1};ca.unstable_batchedUpdates=a3;ca.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sx(n))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return Ix(t,e,n,!1,r)};ca.version="18.3.1-next-f1338f8080-20240426";function qK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qK)}catch(t){console.error(t)}}qK(),qq.exports=ca;var Af=qq.exports;const GK=oo(Af),fde=Rq({__proto__:null,default:GK},[Af]);var B4=Af;ZR.createRoot=B4.createRoot,ZR.hydrateRoot=B4.hydrateRoot;var KK={exports:{}},YK={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=F;function pde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mde=typeof Object.is=="function"?Object.is:pde,gde=av.useState,yde=av.useEffect,vde=av.useLayoutEffect,wde=av.useDebugValue;function _de(t,e){var n=e(),r=gde({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return vde(function(){i.value=n,i.getSnapshot=e,AD(i)&&s({inst:i})},[t,n,e]),yde(function(){return AD(i)&&s({inst:i}),t(function(){AD(i)&&s({inst:i})})},[t]),wde(n),n}function AD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mde(t,n)}catch{return!0}}function bde(t,e){return e()}var Ede=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bde:_de;YK.useSyncExternalStore=av.useSyncExternalStore!==void 0?av.useSyncExternalStore:Ede;KK.exports=YK;var Ade=KK.exports,QK={exports:{}},ZK={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=F,Cde=Ade;function Tde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sde=typeof Object.is=="function"?Object.is:Tde,Ide=Cde.useSyncExternalStore,xde=xx.useRef,Pde=xx.useEffect,Ode=xx.useMemo,Dde=xx.useDebugValue;ZK.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=xde(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Ode(function(){function c(p){if(!l){if(l=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,Sde(u,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(u=p,g):(u=p,h=y)}var l=!1,u,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var a=Ide(t,s[0],s[1]);return Pde(function(){o.hasValue=!0,o.value=a},[a]),Dde(a),a};QK.exports=ZK;var Nde=QK.exports;function Rde(t){t()}let JK=Rde;const kde=t=>JK=t,Mde=()=>JK,z4=Symbol.for("react-redux-context"),V4=typeof globalThis<"u"?globalThis:{};function Lde(){var t;if(!F.createContext)return{};const e=(t=V4[z4])!=null?t:V4[z4]=new Map;let n=e.get(F.createContext);return n||(n=F.createContext(null),e.set(F.createContext,n)),n}const Qh=Lde();function m3(t=Qh){return function(){return F.useContext(t)}}const XK=m3(),Fde=()=>{throw new Error("uSES not initialized!")};let eY=Fde;const $de=t=>{eY=t},Ude=(t,e)=>t===e;function jde(t=Qh){const e=t===Qh?XK:m3(t);return function(r,i={}){const{equalityFn:s=Ude,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:h,noopCheck:f}=e();F.useRef(!0);const p=F.useCallback({[r.name](y){return r(y)}}[r.name],[r,h,o]),g=eY(l.addNestedSub,c.getState,u||c.getState,p,s);return F.useDebugValue(g),g}}const tY=jde();function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(null,arguments)}function Bde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nY={exports:{}},Qn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=typeof Symbol=="function"&&Symbol.for,g3=Qi?Symbol.for("react.element"):60103,y3=Qi?Symbol.for("react.portal"):60106,Px=Qi?Symbol.for("react.fragment"):60107,Ox=Qi?Symbol.for("react.strict_mode"):60108,Dx=Qi?Symbol.for("react.profiler"):60114,Nx=Qi?Symbol.for("react.provider"):60109,Rx=Qi?Symbol.for("react.context"):60110,v3=Qi?Symbol.for("react.async_mode"):60111,kx=Qi?Symbol.for("react.concurrent_mode"):60111,Mx=Qi?Symbol.for("react.forward_ref"):60112,Lx=Qi?Symbol.for("react.suspense"):60113,zde=Qi?Symbol.for("react.suspense_list"):60120,Fx=Qi?Symbol.for("react.memo"):60115,$x=Qi?Symbol.for("react.lazy"):60116,Vde=Qi?Symbol.for("react.block"):60121,Hde=Qi?Symbol.for("react.fundamental"):60117,Wde=Qi?Symbol.for("react.responder"):60118,qde=Qi?Symbol.for("react.scope"):60119;function ua(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case g3:switch(t=t.type,t){case v3:case kx:case Px:case Dx:case Ox:case Lx:return t;default:switch(t=t&&t.$$typeof,t){case Rx:case Mx:case $x:case Fx:case Nx:return t;default:return e}}case y3:return e}}}function rY(t){return ua(t)===kx}Qn.AsyncMode=v3;Qn.ConcurrentMode=kx;Qn.ContextConsumer=Rx;Qn.ContextProvider=Nx;Qn.Element=g3;Qn.ForwardRef=Mx;Qn.Fragment=Px;Qn.Lazy=$x;Qn.Memo=Fx;Qn.Portal=y3;Qn.Profiler=Dx;Qn.StrictMode=Ox;Qn.Suspense=Lx;Qn.isAsyncMode=function(t){return rY(t)||ua(t)===v3};Qn.isConcurrentMode=rY;Qn.isContextConsumer=function(t){return ua(t)===Rx};Qn.isContextProvider=function(t){return ua(t)===Nx};Qn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===g3};Qn.isForwardRef=function(t){return ua(t)===Mx};Qn.isFragment=function(t){return ua(t)===Px};Qn.isLazy=function(t){return ua(t)===$x};Qn.isMemo=function(t){return ua(t)===Fx};Qn.isPortal=function(t){return ua(t)===y3};Qn.isProfiler=function(t){return ua(t)===Dx};Qn.isStrictMode=function(t){return ua(t)===Ox};Qn.isSuspense=function(t){return ua(t)===Lx};Qn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Px||t===kx||t===Dx||t===Ox||t===Lx||t===zde||typeof t=="object"&&t!==null&&(t.$$typeof===$x||t.$$typeof===Fx||t.$$typeof===Nx||t.$$typeof===Rx||t.$$typeof===Mx||t.$$typeof===Hde||t.$$typeof===Wde||t.$$typeof===qde||t.$$typeof===Vde)};Qn.typeOf=ua;nY.exports=Qn;var Gde=nY.exports,w3=Gde,Kde={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Yde={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_3={};_3[w3.ForwardRef]=Qde;_3[w3.Memo]=iY;function H4(t){return w3.isMemo(t)?iY:_3[t.$$typeof]||Kde}var Zde=Object.defineProperty,Jde=Object.getOwnPropertyNames,W4=Object.getOwnPropertySymbols,Xde=Object.getOwnPropertyDescriptor,ehe=Object.getPrototypeOf,q4=Object.prototype;function sY(t,e,n){if(typeof e!="string"){if(q4){var r=ehe(e);r&&r!==q4&&sY(t,r,n)}var i=Jde(e);W4&&(i=i.concat(W4(e)));for(var s=H4(t),o=H4(e),a=0;a<i.length;++a){var c=i[a];if(!Yde[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var l=Xde(e,c);try{Zde(t,c,l)}catch{}}}}return t}var the=sY;const nhe=oo(the);var ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b3=Symbol.for("react.element"),E3=Symbol.for("react.portal"),Ux=Symbol.for("react.fragment"),jx=Symbol.for("react.strict_mode"),Bx=Symbol.for("react.profiler"),zx=Symbol.for("react.provider"),Vx=Symbol.for("react.context"),rhe=Symbol.for("react.server_context"),Hx=Symbol.for("react.forward_ref"),Wx=Symbol.for("react.suspense"),qx=Symbol.for("react.suspense_list"),Gx=Symbol.for("react.memo"),Kx=Symbol.for("react.lazy"),ihe=Symbol.for("react.offscreen"),oY;oY=Symbol.for("react.module.reference");function qa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case b3:switch(t=t.type,t){case Ux:case Bx:case jx:case Wx:case qx:return t;default:switch(t=t&&t.$$typeof,t){case rhe:case Vx:case Hx:case Kx:case Gx:case zx:return t;default:return e}}case E3:return e}}}ir.ContextConsumer=Vx;ir.ContextProvider=zx;ir.Element=b3;ir.ForwardRef=Hx;ir.Fragment=Ux;ir.Lazy=Kx;ir.Memo=Gx;ir.Portal=E3;ir.Profiler=Bx;ir.StrictMode=jx;ir.Suspense=Wx;ir.SuspenseList=qx;ir.isAsyncMode=function(){return!1};ir.isConcurrentMode=function(){return!1};ir.isContextConsumer=function(t){return qa(t)===Vx};ir.isContextProvider=function(t){return qa(t)===zx};ir.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===b3};ir.isForwardRef=function(t){return qa(t)===Hx};ir.isFragment=function(t){return qa(t)===Ux};ir.isLazy=function(t){return qa(t)===Kx};ir.isMemo=function(t){return qa(t)===Gx};ir.isPortal=function(t){return qa(t)===E3};ir.isProfiler=function(t){return qa(t)===Bx};ir.isStrictMode=function(t){return qa(t)===jx};ir.isSuspense=function(t){return qa(t)===Wx};ir.isSuspenseList=function(t){return qa(t)===qx};ir.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ux||t===Bx||t===jx||t===Wx||t===qx||t===ihe||typeof t=="object"&&t!==null&&(t.$$typeof===Kx||t.$$typeof===Gx||t.$$typeof===zx||t.$$typeof===Vx||t.$$typeof===Hx||t.$$typeof===oY||t.getModuleId!==void 0)};ir.typeOf=qa;function she(){const t=Mde();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const G4={notify(){},get:()=>[]};function ohe(t,e){let n,r=G4,i=0,s=!1;function o(y){u();const v=r.subscribe(y);let b=!1;return()=>{b||(b=!0,v(),h())}}function a(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function l(){return s}function u(){i++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=she())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=G4)}function f(){s||(s=!0,u())}function p(){s&&(s=!1,h())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}const ahe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",che=ahe?F.useLayoutEffect:F.useEffect;function K4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function fS(t,e){if(K4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!K4(t[n[i]],e[n[i]]))return!1;return!0}function lhe({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=F.useMemo(()=>{const l=ohe(t);return{store:t,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=F.useMemo(()=>t.getState(),[t]);che(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const c=e||Qh;return F.createElement(c.Provider,{value:o},n)}function aY(t=Qh){const e=t===Qh?XK:m3(t);return function(){const{store:r}=e();return r}}const cY=aY();function uhe(t=Qh){const e=t===Qh?cY:aY(t);return function(){return e().dispatch}}const Yx=uhe();$de(Nde.useSyncExternalStoreWithSelector);kde(Af.unstable_batchedUpdates);function lY(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lY(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ip(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lY(t))&&(r&&(r+=" "),r+=e);return r}function dhe(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}dhe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zE=t=>typeof t=="number"&&!isNaN(t),Hp=t=>typeof t=="string",Yu=t=>typeof t=="function",hhe=t=>Hp(t)||zE(t),Hk=t=>Hp(t)||Yu(t)?t:null,fhe=(t,e)=>t===!1||zE(t)&&t>0?t:e,Wk=t=>F.isValidElement(t)||Hp(t)||Yu(t)||zE(t);function phe(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function mhe({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:c,nodeRef:l,isIn:u,playToast:h}){let f=n?`${t}--${o}`:t,p=n?`${e}--${o}`:e,g=F.useRef(0);return F.useLayoutEffect(()=>{let y=l.current,v=f.split(" "),b=w=>{w.target===l.current&&(h(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),g.current===0&&w.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),F.useEffect(()=>{let y=l.current,v=()=>{y.removeEventListener("animationend",v),r?phe(y,c,i):c()};u||(a?v():(g.current=1,y.className+=` ${p}`,y.addEventListener("animationend",v)))},[u]),ae.createElement(ae.Fragment,null,s)}}function Y4(t,e){return{content:uY(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function uY(t,e,n=!1){return F.isValidElement(t)&&!Hp(t.type)?F.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Yu(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function ghe({closeToast:t,theme:e,ariaLabel:n="close"}){return ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function yhe({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:c,isIn:l,theme:u}){let h=i||o&&a===0,f={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(f.transform=`scaleX(${a})`);let p=Ip("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),g=Yu(s)?s({rtl:c,type:r,defaultClassName:p}):Ip(p,s),y={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{l&&n()}};return ae.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},ae.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),ae.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:g,style:f,...y}))}var vhe=1,dY=()=>`${vhe++}`;function whe(t,e,n){let r=1,i=0,s=[],o=[],a=e,c=new Map,l=new Set,u=w=>(l.add(w),()=>l.delete(w)),h=()=>{o=Array.from(c.values()),l.forEach(w=>w())},f=({containerId:w,toastId:A,updateId:S})=>{let P=w?w!==t:t!==1,D=c.has(A)&&S==null;return P||D},p=(w,A)=>{c.forEach(S=>{var P;(A==null||A===S.props.toastId)&&((P=S.toggle)==null||P.call(S,w))})},g=w=>{var A,S;(S=(A=w.props)==null?void 0:A.onClose)==null||S.call(A,w.removalReason),w.isActive=!1},y=w=>{if(w==null)c.forEach(g);else{let A=c.get(w);A&&g(A)}h()},v=()=>{i-=s.length,s=[]},b=w=>{var A,S;let{toastId:P,updateId:D}=w.props,C=D==null;w.staleId&&c.delete(w.staleId),w.isActive=!0,c.set(P,w),h(),n(Y4(w,C?"added":"updated")),C&&((S=(A=w.props).onOpen)==null||S.call(A))};return{id:t,props:a,observe:u,toggle:p,removeToast:y,toasts:c,clearQueue:v,buildToast:(w,A)=>{if(f(A))return;let{toastId:S,updateId:P,data:D,staleId:C,delay:I}=A,x=P==null;x&&i++;let N={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(A).filter(([$,U])=>U!=null)),toastId:S,updateId:P,data:D,isIn:!1,className:Hk(A.className||a.toastClassName),progressClassName:Hk(A.progressClassName||a.progressClassName),autoClose:A.isLoading?!1:fhe(A.autoClose,a.autoClose),closeToast($){c.get(S).removalReason=$,y(S)},deleteToast(){let $=c.get(S);if($!=null){if(n(Y4($,"removed")),c.delete(S),i--,i<0&&(i=0),s.length>0){b(s.shift());return}h()}}};N.closeButton=a.closeButton,A.closeButton===!1||Wk(A.closeButton)?N.closeButton=A.closeButton:A.closeButton===!0&&(N.closeButton=Wk(a.closeButton)?a.closeButton:!0);let R={content:w,props:N,staleId:C};a.limit&&a.limit>0&&i>a.limit&&x?s.push(R):zE(I)?setTimeout(()=>{b(R)},I):b(R)},setProps(w){a=w},setToggle:(w,A)=>{let S=c.get(w);S&&(S.toggle=A)},isToastActive:w=>{var A;return(A=c.get(w))==null?void 0:A.isActive},getSnapshot:()=>o}}var Js=new Map,nb=[],qk=new Set,_he=t=>qk.forEach(e=>e(t)),hY=()=>Js.size>0;function bhe(){nb.forEach(t=>pY(t.content,t.options)),nb=[]}var Ehe=(t,{containerId:e})=>{var n;return(n=Js.get(e||1))==null?void 0:n.toasts.get(t)};function fY(t,e){var n;if(e)return!!((n=Js.get(e))!=null&&n.isToastActive(t));let r=!1;return Js.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function Ahe(t){if(!hY()){nb=nb.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||hhe(t))Js.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Js.get(t.containerId);e?e.removeToast(t.id):Js.forEach(n=>{n.removeToast(t.id)})}}var Che=(t={})=>{Js.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function pY(t,e){Wk(t)&&(hY()||nb.push({content:t,options:e}),Js.forEach(n=>{n.buildToast(t,e)}))}function The(t){var e;(e=Js.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function mY(t,e){Js.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function She(t){let e=t.containerId||1;return{subscribe(n){let r=whe(e,t,_he);Js.set(e,r);let i=r.observe(n);return bhe(),()=>{i(),Js.delete(e)}},setProps(n){var r;(r=Js.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Js.get(e))==null?void 0:n.getSnapshot()}}}function Ihe(t){return qk.add(t),()=>{qk.delete(t)}}function xhe(t){return t&&(Hp(t.toastId)||zE(t.toastId))?t.toastId:dY()}function VE(t,e){return pY(t,e),e.toastId}function Qx(t,e){return{...e,type:e&&e.type||t,toastId:xhe(e)}}function Zx(t){return(e,n)=>VE(e,Qx(t,n))}function wt(t,e){return VE(t,Qx("default",e))}wt.loading=(t,e)=>VE(t,Qx("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Phe(t,{pending:e,error:n,success:r},i){let s;e&&(s=Hp(e)?wt.loading(e,i):wt.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(l,u,h)=>{if(u==null){wt.dismiss(s);return}let f={type:l,...o,...i,data:h},p=Hp(u)?{render:u}:u;return s?wt.update(s,{...f,...p}):wt(p.render,{...f,...p}),h},c=Yu(t)?t():t;return c.then(l=>a("success",r,l)).catch(l=>a("error",n,l)),c}wt.promise=Phe;wt.success=Zx("success");wt.info=Zx("info");wt.error=Zx("error");wt.warning=Zx("warning");wt.warn=wt.warning;wt.dark=(t,e)=>VE(t,Qx("default",{theme:"dark",...e}));function Ohe(t){Ahe(t)}wt.dismiss=Ohe;wt.clearWaitingQueue=Che;wt.isActive=fY;wt.update=(t,e={})=>{let n=Ehe(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:dY()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,VE(o,s)}};wt.done=t=>{wt.update(t,{progress:1})};wt.onChange=Ihe;wt.play=t=>mY(!0,t);wt.pause=t=>mY(!1,t);function Dhe(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=F.useRef(She(t)).current;i(t);let s=(e=F.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let c=new Map;return t.newestOnTop&&s.reverse(),s.forEach(l=>{let{position:u}=l.props;c.has(u)||c.set(u,[]),c.get(u).push(l)}),Array.from(c,l=>a(l[0],l[1]))}return{getToastToRender:o,isToastActive:fY,count:s==null?void 0:s.length}}function Nhe(t){let[e,n]=F.useState(!1),[r,i]=F.useState(!1),s=F.useRef(null),o=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:l,onClick:u,closeOnClick:h}=t;The({id:t.toastId,containerId:t.containerId,fn:n}),F.useEffect(()=>{if(t.pauseOnFocusLoss)return f(),()=>{p()}},[t.pauseOnFocusLoss]);function f(){document.hasFocus()||b(),window.addEventListener("focus",v),window.addEventListener("blur",b)}function p(){window.removeEventListener("focus",v),window.removeEventListener("blur",b)}function g(C){if(t.draggable===!0||t.draggable===C.pointerType){w();let I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(C){let{top:I,bottom:x,left:N,right:R}=s.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=N&&C.clientX<=R&&C.clientY>=I&&C.clientY<=x?b():v()}function v(){n(!0)}function b(){n(!1)}function w(){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",P)}function A(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",P)}function S(C){let I=s.current;if(o.canDrag&&I){o.didMove=!0,e&&b(),t.draggableDirection==="x"?o.delta=C.clientX-o.start:o.delta=C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1);let x=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;I.style.transform=`translate3d(${x},0)`,I.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function P(){A();let C=s.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let D={onPointerDown:g,onPointerUp:y};return a&&c&&(D.onMouseEnter=b,t.stacked||(D.onMouseLeave=v)),h&&(D.onClick=C=>{u&&u(C),o.canCloseOnClick&&l(!0)}),{playToast:v,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:D}}var Rhe=typeof window<"u"?F.useLayoutEffect:F.useEffect,Jx=({theme:t,type:e,isLoading:n,...r})=>ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function khe(t){return ae.createElement(Jx,{...t},ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Mhe(t){return ae.createElement(Jx,{...t},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Lhe(t){return ae.createElement(Jx,{...t},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Fhe(t){return ae.createElement(Jx,{...t},ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function $he(){return ae.createElement("div",{className:"Toastify__spinner"})}var Gk={info:Mhe,warning:khe,success:Lhe,error:Fhe,spinner:$he},Uhe=t=>t in Gk;function jhe({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Yu(r)?i=r({...s,isLoading:n}):F.isValidElement(r)?i=F.cloneElement(r,s):n?i=Gk.spinner():Uhe(e)&&(i=Gk[e](s))),i}var Bhe=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=Nhe(t),{closeButton:o,children:a,autoClose:c,onClick:l,type:u,hideProgressBar:h,closeToast:f,transition:p,position:g,className:y,style:v,progressClassName:b,updateId:w,role:A,progress:S,rtl:P,toastId:D,deleteToast:C,isIn:I,isLoading:x,closeOnClick:N,theme:R,ariaLabel:$}=t,U=Ip("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":N}),Y=Yu(y)?y({rtl:P,position:g,type:u,defaultClassName:U}):Ip(U,y),z=jhe(t),j=!!S||!c,q={closeToast:f,type:u,theme:R},V=null;return o===!1||(Yu(o)?V=o(q):F.isValidElement(o)?V=F.cloneElement(o,q):V=ghe(q)),ae.createElement(p,{isIn:I,done:C,position:g,preventExitTransition:n,nodeRef:r,playToast:s},ae.createElement("div",{id:D,tabIndex:0,onClick:l,"data-in":I,className:Y,...i,style:v,ref:r,...I&&{role:A,"aria-label":$}},z!=null&&ae.createElement("div",{className:Ip("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},z),uY(a,t,!e),V,!t.customProgressBar&&ae.createElement(yhe,{...w&&!j?{key:`p-${w}`}:{},rtl:P,theme:R,delay:c,isRunning:e,isIn:I,closeToast:f,hide:h,type:u,className:b,controlledProgress:j,progress:S||0})))},zhe=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Vhe=mhe(zhe("bounce",!0)),Hhe={position:"top-right",transition:Vhe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Whe(t){let e={...Hhe,...t},n=t.stacked,[r,i]=F.useState(!0),s=F.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=Dhe(e),{className:l,style:u,rtl:h,containerId:f,hotKeys:p}=e;function g(v){let b=Ip("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":h});return Yu(l)?l({position:v,rtl:h,defaultClassName:b}):Ip(b,Hk(l))}function y(){n&&(i(!0),wt.play())}return Rhe(()=>{var v;if(n){let b=s.current.querySelectorAll('[data-in="true"]'),w=12,A=(v=e.position)==null?void 0:v.includes("top"),S=0,P=0;Array.from(b).reverse().forEach((D,C)=>{let I=D;I.classList.add("Toastify__toast--stacked"),C>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=A?"top":"bot");let x=S*(r?.2:1)+(r?0:w*C);I.style.setProperty("--y",`${A?x:x*-1}px`),I.style.setProperty("--g",`${w}`),I.style.setProperty("--s",`${1-(r?P:0)}`),S+=I.offsetHeight,P+=.025})}},[r,c,n]),F.useEffect(()=>{function v(b){var w;let A=s.current;p(b)&&((w=A.querySelector('[tabIndex="0"]'))==null||w.focus(),i(!1),wt.pause()),b.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(i(!0),wt.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[p]),ae.createElement("section",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),wt.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((v,b)=>{let w=b.length?{...u}:{...u,pointerEvents:"none"};return ae.createElement("div",{tabIndex:-1,className:g(v),"data-stacked":n,style:w,key:`c-${v}`},b.map(({content:A,props:S})=>ae.createElement(Bhe,{...S,stacked:n,collapseAll:y,isIn:a(S.toastId,S.containerId),key:`t-${S.key}`},A)))}))}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nr(){return Nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nr.apply(this,arguments)}var ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ti||(ti={}));const Q4="popstate";function qhe(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return rb("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wp(i)}return Khe(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ghe(){return Math.random().toString(36).substr(2,8)}function Z4(t,e){return{usr:t.state,key:t.key,idx:e}}function rb(t,e,n,r){return n===void 0&&(n=null),Nr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ud(e):e,{state:n,key:e&&e.key||r||Ghe()})}function Wp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ud(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Khe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ti.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(Nr({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=ti.Pop;let v=u(),b=v==null?null:v-l;l=v,c&&c({action:a,location:y.location,delta:b})}function f(v,b){a=ti.Push;let w=rb(y.location,v,b);n&&n(w,v),l=u()+1;let A=Z4(w,l),S=y.createHref(w);try{o.pushState(A,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(S)}s&&c&&c({action:a,location:y.location,delta:1})}function p(v,b){a=ti.Replace;let w=rb(y.location,v,b);n&&n(w,v),l=u();let A=Z4(w,l),S=y.createHref(w);o.replaceState(A,"",S),s&&c&&c({action:a,location:y.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Wp(v);return w=w.replace(/ $/,"%20"),qt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return a},get location(){return t(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Q4,h),c=v,()=>{i.removeEventListener(Q4,h),c=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(v){return o.go(v)}};return y}var Wn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wn||(Wn={}));const Yhe=new Set(["lazy","caseSensitive","path","id","index","children"]);function Qhe(t){return t.index===!0}function pS(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),qt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Qhe(i)){let c=Nr({},i,e(i),{id:a});return r[a]=c,c}else{let c=Nr({},i,e(i),{id:a,children:void 0});return r[a]=c,i.children&&(c.children=pS(i.children,e,o,r)),c}})}function Kf(t,e,n){return n===void 0&&(n="/"),WC(t,e,n,!1)}function WC(t,e,n,r){let i=typeof e=="string"?ud(e):e,s=Qu(i.pathname||"/",n);if(s==null)return null;let o=gY(t);Jhe(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=lfe(s);a=afe(o[c],l,r)}return a}function Zhe(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function gY(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(qt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Du([r,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(qt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),gY(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:sfe(l,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of yY(s.path))i(s,o,c)}),e}function yY(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yY(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Jhe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ofe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xhe=/^:[\w-]+$/,efe=3,tfe=2,nfe=1,rfe=10,ife=-2,J4=t=>t==="*";function sfe(t,e){let n=t.split("/"),r=n.length;return n.some(J4)&&(r+=ife),e&&(r+=tfe),n.filter(i=>!J4(i)).reduce((i,s)=>i+(Xhe.test(s)?efe:s===""?nfe:rfe),r)}function ofe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function afe(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=mS({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=mS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Du([s,h.pathname]),pathnameBase:hfe(Du([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Du([s,h.pathnameBase]))}return o}function mS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cfe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function cfe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ufe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ud(t):t;return{pathname:n?n.startsWith("/")?n:dfe(n,e):e,search:ffe(r),hash:pfe(i)}}function dfe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function CD(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xx(t,e){let n=vY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ud(t):(i=Nr({},t),qt(!i.pathname||!i.pathname.includes("?"),CD("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),CD("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),CD("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let c=ufe(i,a),l=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Du=t=>t.join("/").replace(/\/\/+/g,"/"),hfe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ffe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pfe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class gS{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ib(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wY=["post","put","patch","delete"],mfe=new Set(wY),gfe=["get",...wY],yfe=new Set(gfe),vfe=new Set([301,302,303,307,308]),wfe=new Set([307,308]),TD={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_fe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},t0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},A3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bfe=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_Y="remix-router-transitions";function Efe(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;qt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let Z=t.detectErrorBoundary;i=te=>({hasErrorBoundary:Z(te)})}else i=bfe;let s={},o=pS(t.routes,i,void 0,s),a,c=t.basename||"/",l=t.dataStrategy||Sfe,u=t.patchRoutesOnNavigation,h=Nr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,g=null,y=null,v=null,b=t.hydrationData!=null,w=Kf(o,t.history.location,c),A=!1,S=null;if(w==null&&!u){let Z=Eo(404,{pathname:t.history.location.pathname}),{matches:te,route:ue}=lB(o);w=te,S={[ue.id]:Z}}w&&!t.hydrationData&&xr(w,o,t.history.location.pathname).active&&(w=null);let P;if(w)if(w.some(Z=>Z.route.lazy))P=!1;else if(!w.some(Z=>Z.route.loader))P=!0;else if(h.v7_partialHydration){let Z=t.hydrationData?t.hydrationData.loaderData:null,te=t.hydrationData?t.hydrationData.errors:null;if(te){let ue=w.findIndex(ge=>te[ge.route.id]!==void 0);P=w.slice(0,ue+1).every(ge=>!Yk(ge.route,Z,te))}else P=w.every(ue=>!Yk(ue.route,Z,te))}else P=t.hydrationData!=null;else if(P=!1,w=[],h.v7_partialHydration){let Z=xr(null,o,t.history.location.pathname);Z.active&&Z.matches&&(A=!0,w=Z.matches)}let D,C={historyAction:t.history.action,location:t.history.location,matches:w,initialized:P,navigation:TD,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},I=ti.Pop,x=!1,N,R=!1,$=new Map,U=null,Y=!1,z=!1,j=[],q=new Set,V=new Map,Q=0,K=-1,ee=new Map,ne=new Set,le=new Map,ce=new Map,re=new Set,de=new Map,ve=new Map,Ne;function Fe(){if(f=t.history.listen(Z=>{let{action:te,location:ue,delta:ge}=Z;if(Ne){Ne(),Ne=void 0;return}cv(ve.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=li({currentLocation:C.location,nextLocation:ue,historyAction:te});if(pe&&ge!=null){let at=new Promise(mt=>{Ne=mt});t.history.go(ge*-1),Ws(pe,{state:"blocked",location:ue,proceed(){Ws(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),at.then(()=>t.history.go(ge))},reset(){let mt=new Map(C.blockers);mt.set(pe,t0),Me({blockers:mt})}});return}return Rt(te,ue)}),n){jfe(e,$);let Z=()=>Bfe(e,$);e.addEventListener("pagehide",Z),U=()=>e.removeEventListener("pagehide",Z)}return C.initialized||Rt(ti.Pop,C.location,{initialHydration:!0}),D}function Ge(){f&&f(),U&&U(),p.clear(),N&&N.abort(),C.fetchers.forEach((Z,te)=>gr(te)),C.blockers.forEach((Z,te)=>fa(te))}function ot(Z){return p.add(Z),()=>p.delete(Z)}function Me(Z,te){te===void 0&&(te={}),C=Nr({},C,Z);let ue=[],ge=[];h.v7_fetcherPersist&&C.fetchers.forEach((pe,at)=>{pe.state==="idle"&&(re.has(at)?ge.push(at):ue.push(at))}),re.forEach(pe=>{!C.fetchers.has(pe)&&!V.has(pe)&&ge.push(pe)}),[...p].forEach(pe=>pe(C,{deletedFetchers:ge,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),h.v7_fetcherPersist?(ue.forEach(pe=>C.fetchers.delete(pe)),ge.forEach(pe=>gr(pe))):ge.forEach(pe=>re.delete(pe))}function ut(Z,te,ue){var ge,pe;let{flushSync:at}=ue===void 0?{}:ue,mt=C.actionData!=null&&C.navigation.formMethod!=null&&yc(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ge=Z.state)==null?void 0:ge._isRedirect)!==!0,je;te.actionData?Object.keys(te.actionData).length>0?je=te.actionData:je=null:mt?je=C.actionData:je=null;let He=te.loaderData?aB(C.loaderData,te.loaderData,te.matches||[],te.errors):C.loaderData,Le=C.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((Ke,_t)=>Le.set(_t,t0)));let Je=x===!0||C.navigation.formMethod!=null&&yc(C.navigation.formMethod)&&((pe=Z.state)==null?void 0:pe._isRedirect)!==!0;a&&(o=a,a=void 0),Y||I===ti.Pop||(I===ti.Push?t.history.push(Z,Z.state):I===ti.Replace&&t.history.replace(Z,Z.state));let Te;if(I===ti.Pop){let Ke=$.get(C.location.pathname);Ke&&Ke.has(Z.pathname)?Te={currentLocation:C.location,nextLocation:Z}:$.has(Z.pathname)&&(Te={currentLocation:Z,nextLocation:C.location})}else if(R){let Ke=$.get(C.location.pathname);Ke?Ke.add(Z.pathname):(Ke=new Set([Z.pathname]),$.set(C.location.pathname,Ke)),Te={currentLocation:C.location,nextLocation:Z}}Me(Nr({},te,{actionData:je,loaderData:He,historyAction:I,location:Z,initialized:!0,navigation:TD,revalidation:"idle",restoreScrollPosition:bn(Z,te.matches||C.matches),preventScrollReset:Je,blockers:Le}),{viewTransitionOpts:Te,flushSync:at===!0}),I=ti.Pop,x=!1,R=!1,Y=!1,z=!1,j=[]}async function ht(Z,te){if(typeof Z=="number"){t.history.go(Z);return}let ue=Kk(C.location,C.matches,c,h.v7_prependBasename,Z,h.v7_relativeSplatPath,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:ge,submission:pe,error:at}=X4(h.v7_normalizeFormMethod,!1,ue,te),mt=C.location,je=rb(C.location,ge,te&&te.state);je=Nr({},je,t.history.encodeLocation(je));let He=te&&te.replace!=null?te.replace:void 0,Le=ti.Push;He===!0?Le=ti.Replace:He===!1||pe!=null&&yc(pe.formMethod)&&pe.formAction===C.location.pathname+C.location.search&&(Le=ti.Replace);let Je=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Te=(te&&te.flushSync)===!0,Ke=li({currentLocation:mt,nextLocation:je,historyAction:Le});if(Ke){Ws(Ke,{state:"blocked",location:je,proceed(){Ws(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),ht(Z,te)},reset(){let _t=new Map(C.blockers);_t.set(Ke,t0),Me({blockers:_t})}});return}return await Rt(Le,je,{submission:pe,pendingError:at,preventScrollReset:Je,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:Te})}function Xt(){if(nt(),Me({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Rt(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Rt(I||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:R===!0})}}async function Rt(Z,te,ue){N&&N.abort(),N=null,I=Z,Y=(ue&&ue.startUninterruptedRevalidation)===!0,_i(C.location,C.matches),x=(ue&&ue.preventScrollReset)===!0,R=(ue&&ue.enableViewTransition)===!0;let ge=a||o,pe=ue&&ue.overrideNavigation,at=ue!=null&&ue.initialHydration&&C.matches&&C.matches.length>0&&!A?C.matches:Kf(ge,te,c),mt=(ue&&ue.flushSync)===!0;if(at&&C.initialized&&!z&&Nfe(C.location,te)&&!(ue&&ue.submission&&yc(ue.submission.formMethod))){ut(te,{matches:at},{flushSync:mt});return}let je=xr(at,ge,te.pathname);if(je.active&&je.matches&&(at=je.matches),!at){let{error:$t,notFoundMatches:St,route:pn}=Bo(te.pathname);ut(te,{matches:St,loaderData:{},errors:{[pn.id]:$t}},{flushSync:mt});return}N=new AbortController;let He=dg(t.history,te,N.signal,ue&&ue.submission),Le;if(ue&&ue.pendingError)Le=[Yf(at).route.id,{type:Wn.error,error:ue.pendingError}];else if(ue&&ue.submission&&yc(ue.submission.formMethod)){let $t=await Dn(He,te,ue.submission,at,je.active,{replace:ue.replace,flushSync:mt});if($t.shortCircuited)return;if($t.pendingActionResult){let[St,pn]=$t.pendingActionResult;if(Qo(pn)&&ib(pn.error)&&pn.error.status===404){N=null,ut(te,{matches:$t.matches,loaderData:{},errors:{[St]:pn.error}});return}}at=$t.matches||at,Le=$t.pendingActionResult,pe=SD(te,ue.submission),mt=!1,je.active=!1,He=dg(t.history,He.url,He.signal)}let{shortCircuited:Je,matches:Te,loaderData:Ke,errors:_t}=await Un(He,te,at,je.active,pe,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,mt,Le);Je||(N=null,ut(te,Nr({matches:Te||at},cB(Le),{loaderData:Ke,errors:_t})))}async function Dn(Z,te,ue,ge,pe,at){at===void 0&&(at={}),nt();let mt=$fe(te,ue);if(Me({navigation:mt},{flushSync:at.flushSync===!0}),pe){let Le=await Xi(ge,te.pathname,Z.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let Je=Yf(Le.partialMatches).route.id;return{matches:Le.partialMatches,pendingActionResult:[Je,{type:Wn.error,error:Le.error}]}}else if(Le.matches)ge=Le.matches;else{let{notFoundMatches:Je,error:Te,route:Ke}=Bo(te.pathname);return{matches:Je,pendingActionResult:[Ke.id,{type:Wn.error,error:Te}]}}}let je,He=U0(ge,te);if(!He.route.action&&!He.route.lazy)je={type:Wn.error,error:Eo(405,{method:Z.method,pathname:te.pathname,routeId:He.route.id})};else if(je=(await $e("action",C,Z,[He],ge,null))[He.route.id],Z.signal.aborted)return{shortCircuited:!0};if(ip(je)){let Le;return at&&at.replace!=null?Le=at.replace:Le=iB(je.response.headers.get("Location"),new URL(Z.url),c)===C.location.pathname+C.location.search,await xe(Z,je,!0,{submission:ue,replace:Le}),{shortCircuited:!0}}if(gh(je))throw Eo(400,{type:"defer-action"});if(Qo(je)){let Le=Yf(ge,He.route.id);return(at&&at.replace)!==!0&&(I=ti.Push),{matches:ge,pendingActionResult:[Le.route.id,je]}}return{matches:ge,pendingActionResult:[He.route.id,je]}}async function Un(Z,te,ue,ge,pe,at,mt,je,He,Le,Je){let Te=pe||SD(te,at),Ke=at||mt||dB(Te),_t=!Y&&(!h.v7_partialHydration||!He);if(ge){if(_t){let cn=yn(Je);Me(Nr({navigation:Te},cn!==void 0?{actionData:cn}:{}),{flushSync:Le})}let Tt=await Xi(ue,te.pathname,Z.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){let cn=Yf(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,loaderData:{},errors:{[cn]:Tt.error}}}else if(Tt.matches)ue=Tt.matches;else{let{error:cn,notFoundMatches:ui,route:Zr}=Bo(te.pathname);return{matches:ui,loaderData:{},errors:{[Zr.id]:cn}}}}let $t=a||o,[St,pn]=tB(t.history,C,ue,Ke,te,h.v7_partialHydration&&He===!0,h.v7_skipActionErrorRevalidation,z,j,q,re,le,ne,$t,c,Je);if(Nn(Tt=>!(ue&&ue.some(cn=>cn.route.id===Tt))||St&&St.some(cn=>cn.route.id===Tt)),K=++Q,St.length===0&&pn.length===0){let Tt=Vs();return ut(te,Nr({matches:ue,loaderData:{},errors:Je&&Qo(Je[1])?{[Je[0]]:Je[1].error}:null},cB(Je),Tt?{fetchers:new Map(C.fetchers)}:{}),{flushSync:Le}),{shortCircuited:!0}}if(_t){let Tt={};if(!ge){Tt.navigation=Te;let cn=yn(Je);cn!==void 0&&(Tt.actionData=cn)}pn.length>0&&(Tt.fetchers=Sr(pn)),Me(Tt,{flushSync:Le})}pn.forEach(Tt=>{Zn(Tt.key),Tt.controller&&V.set(Tt.key,Tt.controller)});let Ni=()=>pn.forEach(Tt=>Zn(Tt.key));N&&N.signal.addEventListener("abort",Ni);let{loaderResults:uo,fetcherResults:kt}=await pt(C,ue,St,pn,Z);if(Z.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Ni),pn.forEach(Tt=>V.delete(Tt.key));let dt=NA(uo);if(dt)return await xe(Z,dt.result,!0,{replace:je}),{shortCircuited:!0};if(dt=NA(kt),dt)return ne.add(dt.key),await xe(Z,dt.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:rn,errors:vn}=oB(C,ue,uo,Je,pn,kt,de);de.forEach((Tt,cn)=>{Tt.subscribe(ui=>{(ui||Tt.done)&&de.delete(cn)})}),h.v7_partialHydration&&He&&C.errors&&(vn=Nr({},C.errors,vn));let Sn=Vs(),Qr=Ts(K),cr=Sn||Qr||pn.length>0;return Nr({matches:ue,loaderData:rn,errors:vn},cr?{fetchers:new Map(C.fetchers)}:{})}function yn(Z){if(Z&&!Qo(Z[1]))return{[Z[0]]:Z[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Sr(Z){return Z.forEach(te=>{let ue=C.fetchers.get(te.key),ge=n0(void 0,ue?ue.data:void 0);C.fetchers.set(te.key,ge)}),new Map(C.fetchers)}function fn(Z,te,ue,ge){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Zn(Z);let pe=(ge&&ge.flushSync)===!0,at=a||o,mt=Kk(C.location,C.matches,c,h.v7_prependBasename,ue,h.v7_relativeSplatPath,te,ge==null?void 0:ge.relative),je=Kf(at,mt,c),He=xr(je,at,mt);if(He.active&&He.matches&&(je=He.matches),!je){Ft(Z,te,Eo(404,{pathname:mt}),{flushSync:pe});return}let{path:Le,submission:Je,error:Te}=X4(h.v7_normalizeFormMethod,!0,mt,ge);if(Te){Ft(Z,te,Te,{flushSync:pe});return}let Ke=U0(je,Le),_t=(ge&&ge.preventScrollReset)===!0;if(Je&&yc(Je.formMethod)){se(Z,te,Le,Ke,je,He.active,pe,_t,Je);return}le.set(Z,{routeId:te,path:Le}),Ie(Z,te,Le,Ke,je,He.active,pe,_t,Je)}async function se(Z,te,ue,ge,pe,at,mt,je,He){nt(),le.delete(Z);function Le(ct){if(!ct.route.action&&!ct.route.lazy){let en=Eo(405,{method:He.formMethod,pathname:ue,routeId:te});return Ft(Z,te,en,{flushSync:mt}),!0}return!1}if(!at&&Le(ge))return;let Je=C.fetchers.get(Z);yt(Z,Ufe(He,Je),{flushSync:mt});let Te=new AbortController,Ke=dg(t.history,ue,Te.signal,He);if(at){let ct=await Xi(pe,new URL(Ke.url).pathname,Ke.signal,Z);if(ct.type==="aborted")return;if(ct.type==="error"){Ft(Z,te,ct.error,{flushSync:mt});return}else if(ct.matches){if(pe=ct.matches,ge=U0(pe,ue),Le(ge))return}else{Ft(Z,te,Eo(404,{pathname:ue}),{flushSync:mt});return}}V.set(Z,Te);let _t=Q,St=(await $e("action",C,Ke,[ge],pe,Z))[ge.route.id];if(Ke.signal.aborted){V.get(Z)===Te&&V.delete(Z);return}if(h.v7_fetcherPersist&&re.has(Z)){if(ip(St)||Qo(St)){yt(Z,zd(void 0));return}}else{if(ip(St))if(V.delete(Z),K>_t){yt(Z,zd(void 0));return}else return ne.add(Z),yt(Z,n0(He)),xe(Ke,St,!1,{fetcherSubmission:He,preventScrollReset:je});if(Qo(St)){Ft(Z,te,St.error);return}}if(gh(St))throw Eo(400,{type:"defer-action"});let pn=C.navigation.location||C.location,Ni=dg(t.history,pn,Te.signal),uo=a||o,kt=C.navigation.state!=="idle"?Kf(uo,C.navigation.location,c):C.matches;qt(kt,"Didn't find any matches after fetcher action");let dt=++Q;ee.set(Z,dt);let rn=n0(He,St.data);C.fetchers.set(Z,rn);let[vn,Sn]=tB(t.history,C,kt,He,pn,!1,h.v7_skipActionErrorRevalidation,z,j,q,re,le,ne,uo,c,[ge.route.id,St]);Sn.filter(ct=>ct.key!==Z).forEach(ct=>{let en=ct.key,ho=C.fetchers.get(en),ec=n0(void 0,ho?ho.data:void 0);C.fetchers.set(en,ec),Zn(en),ct.controller&&V.set(en,ct.controller)}),Me({fetchers:new Map(C.fetchers)});let Qr=()=>Sn.forEach(ct=>Zn(ct.key));Te.signal.addEventListener("abort",Qr);let{loaderResults:cr,fetcherResults:Tt}=await pt(C,kt,vn,Sn,Ni);if(Te.signal.aborted)return;Te.signal.removeEventListener("abort",Qr),ee.delete(Z),V.delete(Z),Sn.forEach(ct=>V.delete(ct.key));let cn=NA(cr);if(cn)return xe(Ni,cn.result,!1,{preventScrollReset:je});if(cn=NA(Tt),cn)return ne.add(cn.key),xe(Ni,cn.result,!1,{preventScrollReset:je});let{loaderData:ui,errors:Zr}=oB(C,kt,cr,void 0,Sn,Tt,de);if(C.fetchers.has(Z)){let ct=zd(St.data);C.fetchers.set(Z,ct)}Ts(dt),C.navigation.state==="loading"&&dt>K?(qt(I,"Expected pending action"),N&&N.abort(),ut(C.navigation.location,{matches:kt,loaderData:ui,errors:Zr,fetchers:new Map(C.fetchers)})):(Me({errors:Zr,loaderData:aB(C.loaderData,ui,kt,Zr),fetchers:new Map(C.fetchers)}),z=!1)}async function Ie(Z,te,ue,ge,pe,at,mt,je,He){let Le=C.fetchers.get(Z);yt(Z,n0(He,Le?Le.data:void 0),{flushSync:mt});let Je=new AbortController,Te=dg(t.history,ue,Je.signal);if(at){let St=await Xi(pe,new URL(Te.url).pathname,Te.signal,Z);if(St.type==="aborted")return;if(St.type==="error"){Ft(Z,te,St.error,{flushSync:mt});return}else if(St.matches)pe=St.matches,ge=U0(pe,ue);else{Ft(Z,te,Eo(404,{pathname:ue}),{flushSync:mt});return}}V.set(Z,Je);let Ke=Q,$t=(await $e("loader",C,Te,[ge],pe,Z))[ge.route.id];if(gh($t)&&($t=await C3($t,Te.signal,!0)||$t),V.get(Z)===Je&&V.delete(Z),!Te.signal.aborted){if(re.has(Z)){yt(Z,zd(void 0));return}if(ip($t))if(K>Ke){yt(Z,zd(void 0));return}else{ne.add(Z),await xe(Te,$t,!1,{preventScrollReset:je});return}if(Qo($t)){Ft(Z,te,$t.error);return}qt(!gh($t),"Unhandled fetcher deferred data"),yt(Z,zd($t.data))}}async function xe(Z,te,ue,ge){let{submission:pe,fetcherSubmission:at,preventScrollReset:mt,replace:je}=ge===void 0?{}:ge;te.response.headers.has("X-Remix-Revalidate")&&(z=!0);let He=te.response.headers.get("Location");qt(He,"Expected a Location header on the redirect Response"),He=iB(He,new URL(Z.url),c);let Le=rb(C.location,He,{_isRedirect:!0});if(n){let St=!1;if(te.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(A3.test(He)){const pn=t.history.createURL(He);St=pn.origin!==e.location.origin||Qu(pn.pathname,c)==null}if(St){je?e.location.replace(He):e.location.assign(He);return}}N=null;let Je=je===!0||te.response.headers.has("X-Remix-Replace")?ti.Replace:ti.Push,{formMethod:Te,formAction:Ke,formEncType:_t}=C.navigation;!pe&&!at&&Te&&Ke&&_t&&(pe=dB(C.navigation));let $t=pe||at;if(wfe.has(te.response.status)&&$t&&yc($t.formMethod))await Rt(Je,Le,{submission:Nr({},$t,{formAction:He}),preventScrollReset:mt||x,enableViewTransition:ue?R:void 0});else{let St=SD(Le,pe);await Rt(Je,Le,{overrideNavigation:St,fetcherSubmission:at,preventScrollReset:mt||x,enableViewTransition:ue?R:void 0})}}async function $e(Z,te,ue,ge,pe,at){let mt,je={};try{mt=await Ife(l,Z,te,ue,ge,pe,at,s,i)}catch(He){return ge.forEach(Le=>{je[Le.route.id]={type:Wn.error,error:He}}),je}for(let[He,Le]of Object.entries(mt))if(Rfe(Le)){let Je=Le.result;je[He]={type:Wn.redirect,response:Ofe(Je,ue,He,pe,c,h.v7_relativeSplatPath)}}else je[He]=await Pfe(Le);return je}async function pt(Z,te,ue,ge,pe){let at=Z.matches,mt=$e("loader",Z,pe,ue,te,null),je=Promise.all(ge.map(async Je=>{if(Je.matches&&Je.match&&Je.controller){let Ke=(await $e("loader",Z,dg(t.history,Je.path,Je.controller.signal),[Je.match],Je.matches,Je.key))[Je.match.route.id];return{[Je.key]:Ke}}else return Promise.resolve({[Je.key]:{type:Wn.error,error:Eo(404,{pathname:Je.path})}})})),He=await mt,Le=(await je).reduce((Je,Te)=>Object.assign(Je,Te),{});return await Promise.all([Lfe(te,He,pe.signal,at,Z.loaderData),Ffe(te,Le,ge)]),{loaderResults:He,fetcherResults:Le}}function nt(){z=!0,j.push(...Nn()),le.forEach((Z,te)=>{V.has(te)&&q.add(te),Zn(te)})}function yt(Z,te,ue){ue===void 0&&(ue={}),C.fetchers.set(Z,te),Me({fetchers:new Map(C.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Ft(Z,te,ue,ge){ge===void 0&&(ge={});let pe=Yf(C.matches,te);gr(Z),Me({errors:{[pe.route.id]:ue},fetchers:new Map(C.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function Ir(Z){return ce.set(Z,(ce.get(Z)||0)+1),re.has(Z)&&re.delete(Z),C.fetchers.get(Z)||_fe}function gr(Z){let te=C.fetchers.get(Z);V.has(Z)&&!(te&&te.state==="loading"&&ee.has(Z))&&Zn(Z),le.delete(Z),ee.delete(Z),ne.delete(Z),h.v7_fetcherPersist&&re.delete(Z),q.delete(Z),C.fetchers.delete(Z)}function Ja(Z){let te=(ce.get(Z)||0)-1;te<=0?(ce.delete(Z),re.add(Z),h.v7_fetcherPersist||gr(Z)):ce.set(Z,te),Me({fetchers:new Map(C.fetchers)})}function Zn(Z){let te=V.get(Z);te&&(te.abort(),V.delete(Z))}function Ji(Z){for(let te of Z){let ue=Ir(te),ge=zd(ue.data);C.fetchers.set(te,ge)}}function Vs(){let Z=[],te=!1;for(let ue of ne){let ge=C.fetchers.get(ue);qt(ge,"Expected fetcher: "+ue),ge.state==="loading"&&(ne.delete(ue),Z.push(ue),te=!0)}return Ji(Z),te}function Ts(Z){let te=[];for(let[ue,ge]of ee)if(ge<Z){let pe=C.fetchers.get(ue);qt(pe,"Expected fetcher: "+ue),pe.state==="loading"&&(Zn(ue),ee.delete(ue),te.push(ue))}return Ji(te),te.length>0}function Hs(Z,te){let ue=C.blockers.get(Z)||t0;return ve.get(Z)!==te&&ve.set(Z,te),ue}function fa(Z){C.blockers.delete(Z),ve.delete(Z)}function Ws(Z,te){let ue=C.blockers.get(Z)||t0;qt(ue.state==="unblocked"&&te.state==="blocked"||ue.state==="blocked"&&te.state==="blocked"||ue.state==="blocked"&&te.state==="proceeding"||ue.state==="blocked"&&te.state==="unblocked"||ue.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+ue.state+" -> "+te.state);let ge=new Map(C.blockers);ge.set(Z,te),Me({blockers:ge})}function li(Z){let{currentLocation:te,nextLocation:ue,historyAction:ge}=Z;if(ve.size===0)return;ve.size>1&&cv(!1,"A router only supports one blocker at a time");let pe=Array.from(ve.entries()),[at,mt]=pe[pe.length-1],je=C.blockers.get(at);if(!(je&&je.state==="proceeding")&&mt({currentLocation:te,nextLocation:ue,historyAction:ge}))return at}function Bo(Z){let te=Eo(404,{pathname:Z}),ue=a||o,{matches:ge,route:pe}=lB(ue);return Nn(),{notFoundMatches:ge,route:pe,error:te}}function Nn(Z){let te=[];return de.forEach((ue,ge)=>{(!Z||Z(ge))&&(ue.cancel(),te.push(ge),de.delete(ge))}),te}function jn(Z,te,ue){if(g=Z,v=te,y=ue||null,!b&&C.navigation===TD){b=!0;let ge=bn(C.location,C.matches);ge!=null&&Me({restoreScrollPosition:ge})}return()=>{g=null,v=null,y=null}}function Jn(Z,te){return y&&y(Z,te.map(ge=>Zhe(ge,C.loaderData)))||Z.key}function _i(Z,te){if(g&&v){let ue=Jn(Z,te);g[ue]=v()}}function bn(Z,te){if(g){let ue=Jn(Z,te),ge=g[ue];if(typeof ge=="number")return ge}return null}function xr(Z,te,ue){if(u)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:WC(te,ue,c,!0)}}else return{active:!0,matches:WC(te,ue,c,!0)||[]};return{active:!1,matches:null}}async function Xi(Z,te,ue,ge){if(!u)return{type:"success",matches:Z};let pe=Z;for(;;){let at=a==null,mt=a||o,je=s;try{await u({signal:ue,path:te,matches:pe,fetcherKey:ge,patch:(Je,Te)=>{ue.aborted||rB(Je,Te,mt,je,i)}})}catch(Je){return{type:"error",error:Je,partialMatches:pe}}finally{at&&!ue.aborted&&(o=[...o])}if(ue.aborted)return{type:"aborted"};let He=Kf(mt,te,c);if(He)return{type:"success",matches:He};let Le=WC(mt,te,c,!0);if(!Le||pe.length===Le.length&&pe.every((Je,Te)=>Je.route.id===Le[Te].route.id))return{type:"success",matches:null};pe=Le}}function Di(Z){s={},a=pS(Z,i,void 0,s)}function Xa(Z,te){let ue=a==null;rB(Z,te,a||o,s,i),ue&&(o=[...o],Me({}))}return D={get basename(){return c},get future(){return h},get state(){return C},get routes(){return o},get window(){return e},initialize:Fe,subscribe:ot,enableScrollRestoration:jn,navigate:ht,fetch:fn,revalidate:Xt,createHref:Z=>t.history.createHref(Z),encodeLocation:Z=>t.history.encodeLocation(Z),getFetcher:Ir,deleteFetcher:Ja,dispose:Ge,getBlocker:Hs,deleteBlocker:fa,patchRoutes:Xa,_internalFetchControllers:V,_internalActiveDeferreds:de,_internalSetRoutes:Di},D}function Afe(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Kk(t,e,n,r,i,s,o,a){let c,l;if(o){c=[];for(let h of e)if(c.push(h),h.route.id===o){l=h;break}}else c=e,l=e[e.length-1];let u=eP(i||".",Xx(c,s),Qu(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l){let h=T3(u.search);if(l.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&h){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Du([n,u.pathname])),Wp(u)}function X4(t,e,n,r){if(!r||!Afe(r))return{path:n};if(r.formMethod&&!Mfe(r.formMethod))return{path:n,error:Eo(405,{method:r.formMethod})};let i=()=>({path:n,error:Eo(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=AY(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!yc(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[y,v]=g;return""+p+y+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!yc(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}qt(typeof FormData=="function","FormData is not available in this environment");let c,l;if(r.formData)c=Qk(r.formData),l=r.formData;else if(r.body instanceof FormData)c=Qk(r.body),l=r.body;else if(r.body instanceof URLSearchParams)c=r.body,l=sB(c);else if(r.body==null)c=new URLSearchParams,l=new FormData;else try{c=new URLSearchParams(r.body),l=sB(c)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(yc(u.formMethod))return{path:n,submission:u};let h=ud(n);return e&&h.search&&T3(h.search)&&c.append("index",""),h.search="?"+c,{path:Wp(h),submission:u}}function eB(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function tB(t,e,n,r,i,s,o,a,c,l,u,h,f,p,g,y){let v=y?Qo(y[1])?y[1].error:y[1].data:void 0,b=t.createURL(e.location),w=t.createURL(i),A=n;s&&e.errors?A=eB(n,Object.keys(e.errors)[0],!0):y&&Qo(y[1])&&(A=eB(n,y[0]));let S=y?y[1].statusCode:void 0,P=o&&S&&S>=400,D=A.filter((I,x)=>{let{route:N}=I;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return Yk(N,e.loaderData,e.errors);if(Cfe(e.loaderData,e.matches[x],I)||c.some(U=>U===I.route.id))return!0;let R=e.matches[x],$=I;return nB(I,Nr({currentUrl:b,currentParams:R.params,nextUrl:w,nextParams:$.params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:P?!1:a||b.pathname+b.search===w.pathname+w.search||b.search!==w.search||bY(R,$)}))}),C=[];return h.forEach((I,x)=>{if(s||!n.some(Y=>Y.route.id===I.routeId)||u.has(x))return;let N=Kf(p,I.path,g);if(!N){C.push({key:x,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(x),$=U0(N,I.path),U=!1;f.has(x)?U=!1:l.has(x)?(l.delete(x),U=!0):R&&R.state!=="idle"&&R.data===void 0?U=a:U=nB($,Nr({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:P?!1:a})),U&&C.push({key:x,routeId:I.routeId,path:I.path,matches:N,match:$,controller:new AbortController})}),[D,C]}function Yk(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Cfe(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function bY(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function nB(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function rB(t,e,n,r,i){var s;let o;if(t){let l=r[t];qt(l,"No route found to patch children into: routeId = "+t),l.children||(l.children=[]),o=l.children}else o=n;let a=e.filter(l=>!o.some(u=>EY(l,u))),c=pS(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function EY(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>EY(n,s))}):!1}async function Tfe(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];qt(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";cv(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Yhe.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Nr({},e(i),{lazy:void 0}))}async function Sfe(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function Ife(t,e,n,r,i,s,o,a,c,l){let u=s.map(p=>p.route.lazy?Tfe(p.route,c,a):void 0),h=s.map((p,g)=>{let y=u[g],v=i.some(w=>w.route.id===p.route.id);return Nr({},p,{shouldLoad:v,resolve:async w=>(w&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(v=!0),v?xfe(e,r,p,y,w,l):Promise.resolve({type:Wn.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:l});try{await Promise.all(u)}catch{}return f}async function xfe(t,e,n,r,i,s){let o,a,c=l=>{let u,h=new Promise((g,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let f=g=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):l({request:e,params:n.params,context:s},...g!==void 0?[g]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(y=>f(y)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([p,h])};try{let l=n.route[t];if(r)if(l){let u,[h]=await Promise.all([c(l).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=h}else if(await r,l=n.route[t],l)o=await c(l);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw Eo(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Wn.data,result:void 0};else if(l)o=await c(l);else{let u=new URL(e.url),h=u.pathname+u.search;throw Eo(404,{pathname:h})}qt(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:Wn.error,result:l}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Pfe(t){let{result:e,type:n}=t;if(CY(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:Wn.error,error:f}}return n===Wn.error?{type:Wn.error,error:new gS(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Wn.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Wn.error){if(uB(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:Wn.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Wn.error,error:new gS(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:ib(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Wn.error,error:e,statusCode:ib(e)?e.status:void 0}}if(kfe(e)){var a,c;return{type:Wn.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}if(uB(e)){var l,u;return{type:Wn.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Wn.data,data:e}}function Ofe(t,e,n,r,i,s){let o=t.headers.get("Location");if(qt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!A3.test(o)){let a=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Kk(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function iB(t,e,n){if(A3.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Qu(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function dg(t,e,n,r){let i=t.createURL(AY(e)).toString(),s={signal:n};if(r&&yc(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Qk(r.formData):s.body=r.formData}return new Request(i,s)}function Qk(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function sB(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Dfe(t,e,n,r,i){let s={},o=null,a,c=!1,l={},u=n&&Qo(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,p=e[f];if(qt(!ip(p),"Cannot handle redirect results in processLoaderData"),Qo(p)){let g=p.error;if(u!==void 0&&(g=u,u=void 0),o=o||{},i)o[f]=g;else{let y=Yf(t,f);o[y.route.id]==null&&(o[y.route.id]=g)}s[f]=void 0,c||(c=!0,a=ib(p.error)?p.error.status:500),p.headers&&(l[f]=p.headers)}else gh(p)?(r.set(f,p.deferredData),s[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(a=p.statusCode),p.headers&&(l[f]=p.headers)):(s[f]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(a=p.statusCode),p.headers&&(l[f]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:l}}function oB(t,e,n,r,i,s,o){let{loaderData:a,errors:c}=Dfe(e,n,r,o,!1);return i.forEach(l=>{let{key:u,match:h,controller:f}=l,p=s[u];if(qt(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Qo(p)){let g=Yf(t.matches,h==null?void 0:h.route.id);c&&c[g.route.id]||(c=Nr({},c,{[g.route.id]:p.error})),t.fetchers.delete(u)}else if(ip(p))qt(!1,"Unhandled fetcher revalidation redirect");else if(gh(p))qt(!1,"Unhandled fetcher deferred data");else{let g=zd(p.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:c}}function aB(t,e,n,r){let i=Nr({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function cB(t){return t?Qo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Yf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function lB(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Eo(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(a="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",c='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new gS(t||500,a,new Error(c),!0)}function NA(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ip(i))return{key:r,result:i}}}function AY(t){let e=typeof t=="string"?ud(t):t;return Wp(Nr({},e,{hash:""}))}function Nfe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Rfe(t){return CY(t.result)&&vfe.has(t.result.status)}function gh(t){return t.type===Wn.deferred}function Qo(t){return t.type===Wn.error}function ip(t){return(t&&t.type)===Wn.redirect}function uB(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function kfe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function CY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Mfe(t){return yfe.has(t.toLowerCase())}function yc(t){return mfe.has(t.toLowerCase())}async function Lfe(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,c]=s[o],l=t.find(f=>(f==null?void 0:f.route.id)===a);if(!l)continue;let u=r.find(f=>f.route.id===l.route.id),h=u!=null&&!bY(u,l)&&(i&&i[l.route.id])!==void 0;gh(c)&&h&&await C3(c,n,!1).then(f=>{f&&(e[a]=f)})}}async function Ffe(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(l=>(l==null?void 0:l.route.id)===s)&&gh(a)&&(qt(o,"Expected an AbortController for revalidating fetcher deferred result"),await C3(a,o.signal,!0).then(l=>{l&&(e[i]=l)}))}}async function C3(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Wn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Wn.error,error:i}}return{type:Wn.data,data:t.deferredData.data}}}function T3(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function U0(t,e){let n=typeof e=="string"?ud(e).search:e.search;if(t[t.length-1].route.index&&T3(n||""))return t[t.length-1];let r=vY(t);return r[r.length-1]}function dB(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function SD(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $fe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function n0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ufe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function zd(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function jfe(t,e){try{let n=t.sessionStorage.getItem(_Y);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Bfe(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(_Y,JSON.stringify(n))}catch(r){cv(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}const HE=F.createContext(null),S3=F.createContext(null),dd=F.createContext(null),tP=F.createContext(null),hd=F.createContext({outlet:null,matches:[],isDataRoute:!1}),TY=F.createContext(null);function zfe(t,e){let{relative:n}=e===void 0?{}:e;Yv()||qt(!1);let{basename:r,navigator:i}=F.useContext(dd),{hash:s,pathname:o,search:a}=rP(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Du([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Yv(){return F.useContext(tP)!=null}function Vl(){return Yv()||qt(!1),F.useContext(tP).location}function SY(t){F.useContext(dd).static||F.useLayoutEffect(t)}function Qv(){let{isDataRoute:t}=F.useContext(hd);return t?Xfe():Vfe()}function Vfe(){Yv()||qt(!1);let t=F.useContext(HE),{basename:e,future:n,navigator:r}=F.useContext(dd),{matches:i}=F.useContext(hd),{pathname:s}=Vl(),o=JSON.stringify(Xx(i,n.v7_relativeSplatPath)),a=F.useRef(!1);return SY(()=>{a.current=!0}),F.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=eP(l,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Du([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function nP(){let{matches:t}=F.useContext(hd),e=t[t.length-1];return e?e.params:{}}function rP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(dd),{matches:i}=F.useContext(hd),{pathname:s}=Vl(),o=JSON.stringify(Xx(i,r.v7_relativeSplatPath));return F.useMemo(()=>eP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function hB(t,e){return IY(t,e)}function IY(t,e,n,r){Yv()||qt(!1);let{navigator:i,static:s}=F.useContext(dd),{matches:o}=F.useContext(hd),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Vl(),h;if(e){var f;let b=typeof e=="string"?ud(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||qt(!1),h=b}else h=u;let p=h.pathname||"/",g=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=!s&&n&&n.matches&&n.matches.length>0?n.matches:Kf(t,{pathname:g}),v=Kfe(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Du([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Du([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&v?F.createElement(tP.Provider,{value:{location:sb({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ti.Pop}},v):v}function Hfe(){let t=Jfe(),e=ib(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,s)}const Wfe=F.createElement(Hfe,null);class qfe extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(hd.Provider,{value:this.props.routeContext},F.createElement(TY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gfe(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(HE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(hd.Provider,{value:e},r)}function Kfe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||qt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,y=null,v=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Wfe,c&&(l<0&&f===0?(epe("route-fallback",!1),g=!0,v=null):l===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),w=()=>{let A;return p?A=y:g?A=v:h.route.Component?A=F.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=u,F.createElement(Gfe,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?F.createElement(qfe,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var xY=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xY||{}),yS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yS||{});function Yfe(t){let e=F.useContext(HE);return e||qt(!1),e}function Qfe(t){let e=F.useContext(S3);return e||qt(!1),e}function Zfe(t){let e=F.useContext(hd);return e||qt(!1),e}function PY(t){let e=Zfe(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function Jfe(){var t;let e=F.useContext(TY),n=Qfe(yS.UseRouteError),r=PY(yS.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Xfe(){let{router:t}=Yfe(xY.UseNavigateStable),e=PY(yS.UseNavigateStable),n=F.useRef(!1);return SY(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sb({fromRouteId:e},s)))},[t,e])}const fB={};function epe(t,e,n){!e&&!fB[t]&&(fB[t]=!0)}function tpe(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function OY(t){let{to:e,replace:n,state:r,relative:i}=t;Yv()||qt(!1);let{future:s,static:o}=F.useContext(dd),{matches:a}=F.useContext(hd),{pathname:c}=Vl(),l=Qv(),u=eP(e,Xx(a,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return F.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function DY(t){qt(!1)}function npe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ti.Pop,navigator:s,static:o=!1,future:a}=t;Yv()&&qt(!1);let c=e.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:c,navigator:s,static:o,future:sb({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=ud(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=F.useMemo(()=>{let v=Qu(u,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:g},navigationType:i}},[c,u,h,f,p,g,i]);return y==null?null:F.createElement(dd.Provider,{value:l},F.createElement(tP.Provider,{children:n,value:y}))}new Promise(()=>{});function Zk(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){n.push.apply(n,Zk(r.props.children,s));return}r.type!==DY&&qt(!1),!r.props.index||!r.props.children||qt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zk(r.props.children,s)),n.push(o)}),n}function rpe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:F.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}function NY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ipe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function spe(t,e){return t.button===0&&(!e||e==="_self")&&!ipe(t)}const ope=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ape=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],cpe="6";try{window.__reactRouterVersion=cpe}catch{}function lpe(t,e){return Efe({basename:e==null?void 0:e.basename,future:lv({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:qhe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||upe(),routes:t,mapRouteProperties:rpe,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function upe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=lv({},e,{errors:dpe(e.errors)})),e}function dpe(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new gS(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const RY=F.createContext({isTransitioning:!1}),hpe=F.createContext(new Map),fpe="startTransition",pB=CF[fpe],ppe="flushSync",mB=fde[ppe];function mpe(t){pB?pB(t):t()}function r0(t){mB?mB(t):t()}let gpe=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function ype(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=F.useState(n.state),[o,a]=F.useState(),[c,l]=F.useState({isTransitioning:!1}),[u,h]=F.useState(),[f,p]=F.useState(),[g,y]=F.useState(),v=F.useRef(new Map),{v7_startTransition:b}=r||{},w=F.useCallback(I=>{b?mpe(I):I()},[b]),A=F.useCallback((I,x)=>{let{deletedFetchers:N,flushSync:R,viewTransitionOpts:$}=x;I.fetchers.forEach((Y,z)=>{Y.data!==void 0&&v.current.set(z,Y.data)}),N.forEach(Y=>v.current.delete(Y));let U=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!$||U){R?r0(()=>s(I)):w(()=>s(I));return}if(R){r0(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let Y=n.window.document.startViewTransition(()=>{r0(()=>s(I))});Y.finished.finally(()=>{r0(()=>{h(void 0),p(void 0),a(void 0),l({isTransitioning:!1})})}),r0(()=>p(Y));return}f?(u&&u.resolve(),f.skipTransition(),y({state:I,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(a(I),l({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,f,u,v,w]);F.useLayoutEffect(()=>n.subscribe(A),[n,A]),F.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new gpe)},[c]),F.useEffect(()=>{if(u&&o&&n.window){let I=o,x=u.promise,N=n.window.document.startViewTransition(async()=>{w(()=>s(I)),await x});N.finished.finally(()=>{h(void 0),p(void 0),a(void 0),l({isTransitioning:!1})}),p(N)}},[w,o,u,n.window]),F.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),F.useEffect(()=>{!c.isTransitioning&&g&&(a(g.state),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[c.isTransitioning,g]),F.useEffect(()=>{},[]);let S=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,x,N)=>n.navigate(I,{state:x,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(I,x,N)=>n.navigate(I,{replace:!0,state:x,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),P=n.basename||"/",D=F.useMemo(()=>({router:n,navigator:S,static:!1,basename:P}),[n,S,P]),C=F.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return F.useEffect(()=>tpe(r,n.future),[r,n.future]),F.createElement(F.Fragment,null,F.createElement(HE.Provider,{value:D},F.createElement(S3.Provider,{value:i},F.createElement(hpe.Provider,{value:v.current},F.createElement(RY.Provider,{value:c},F.createElement(npe,{basename:P,location:i.location,navigationType:i.historyAction,navigator:S,future:C},i.initialized||n.future.v7_partialHydration?F.createElement(vpe,{routes:n.routes,future:n.future,state:i}):e))))),null)}const vpe=F.memo(wpe);function wpe(t){let{routes:e,future:n,state:r}=t;return IY(e,void 0,r,n)}const _pe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fs=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:h}=e,f=NY(e,ope),{basename:p}=F.useContext(dd),g,y=!1;if(typeof l=="string"&&bpe.test(l)&&(g=l,_pe))try{let A=new URL(window.location.href),S=l.startsWith("//")?new URL(A.protocol+l):new URL(l),P=Qu(S.pathname,p);S.origin===A.origin&&P!=null?l=P+S.search+S.hash:y=!0}catch{}let v=zfe(l,{relative:i}),b=Ape(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:i,viewTransition:h});function w(A){r&&r(A),A.defaultPrevented||b(A)}return F.createElement("a",lv({},f,{href:g||v,onClick:y||s?r:w,ref:n,target:c}))}),Pd=F.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:l,children:u}=e,h=NY(e,ape),f=rP(c,{relative:h.relative}),p=Vl(),g=F.useContext(S3),{navigator:y,basename:v}=F.useContext(dd),b=g!=null&&Cpe(f)&&l===!0,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,A=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(A=A.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&v&&(S=Qu(S,v)||S);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=A===w||!o&&A.startsWith(w)&&A.charAt(P)==="/",C=S!=null&&(S===w||!o&&S.startsWith(w)&&S.charAt(w.length)==="/"),I={isActive:D,isPending:C,isTransitioning:b},x=D?r:void 0,N;typeof s=="function"?N=s(I):N=[s,D?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(I):a;return F.createElement(fs,lv({},h,{"aria-current":x,className:N,ref:n,style:R,to:c,viewTransition:l}),typeof u=="function"?u(I):u)});var Jk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jk||(Jk={}));var gB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gB||(gB={}));function Epe(t){let e=F.useContext(HE);return e||qt(!1),e}function Ape(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Qv(),l=Vl(),u=rP(t,{relative:o});return F.useCallback(h=>{if(spe(h,n)){h.preventDefault();let f=r!==void 0?r:Wp(l)===Wp(u);c(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[l,c,u,r,i,n,t,s,o,a])}function Cpe(t,e){e===void 0&&(e={});let n=F.useContext(RY);n==null&&qt(!1);let{basename:r}=Epe(Jk.useViewTransitionState),i=rP(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Qu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Qu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mS(i.pathname,o)!=null||mS(i.pathname,s)!=null}var kY={exports:{}},Tpe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Spe=Tpe,Ipe=Spe;function MY(){}function LY(){}LY.resetWarningCache=MY;var xpe=function(){function t(r,i,s,o,a,c){if(c!==Ipe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LY,resetWarningCache:MY};return n.PropTypes=n,n};kY.exports=xpe();var Ppe=kY.exports;const Ve=oo(Ppe);var Ope=typeof Element<"u",Dpe=typeof Map=="function",Npe=typeof Set=="function",Rpe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function qC(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!qC(t[r],e[r]))return!1;return!0}var s;if(Dpe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!qC(r.value[1],e.get(r.value[0])))return!1;return!0}if(Npe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(Rpe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Ope&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!qC(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var kpe=function(e,n){try{return qC(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Mpe=oo(kpe);var Lpe=function(t,e,n,r,i,s,o,a){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,s,o,a],u=0;c=new Error(e.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Fpe=Lpe;const yB=oo(Fpe);var $pe=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),l=0;l<o.length;l++){var u=o[l];if(!c(u))return!1;var h=e[u],f=n[u];if(s=r?r.call(i,h,f,u):void 0,s===!1||s===void 0&&h!==f)return!1}return!0};const Upe=oo($pe);function ei(){return ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ei.apply(this,arguments)}function I3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xk(t,e)}function Xk(t,e){return Xk=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xk(t,e)}function vB(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}var It={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},jpe={rel:["amphtml","canonical","alternate"]},Bpe={type:["application/ld+json"]},zpe={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},wB=Object.keys(It).map(function(t){return It[t]}),vS={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Vpe=Object.keys(vS).reduce(function(t,e){return t[vS[e]]=e,t},{}),Ty=function(t,e){for(var n=t.length-1;n>=0;n-=1){var r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},Hpe=function(t){var e=Ty(t,It.TITLE),n=Ty(t,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,function(){return e});var r=Ty(t,"defaultTitle");return e||r||void 0},Wpe=function(t){return Ty(t,"onChangeClientState")||function(){}},ID=function(t,e){return e.filter(function(n){return n[t]!==void 0}).map(function(n){return n[t]}).reduce(function(n,r){return ei({},n,r)},{})},qpe=function(t,e){return e.filter(function(n){return n[It.BASE]!==void 0}).map(function(n){return n[It.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),s=0;s<i.length;s+=1){var o=i[s].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}return n},[])},i0=function(t,e,n){var r={};return n.filter(function(i){return!!Array.isArray(i[t])||(i[t]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+typeof i[t]+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,s){var o={};s.filter(function(h){for(var f,p=Object.keys(h),g=0;g<p.length;g+=1){var y=p[g],v=y.toLowerCase();e.indexOf(v)===-1||f==="rel"&&h[f].toLowerCase()==="canonical"||v==="rel"&&h[v].toLowerCase()==="stylesheet"||(f=v),e.indexOf(y)===-1||y!=="innerHTML"&&y!=="cssText"&&y!=="itemprop"||(f=y)}if(!f||!h[f])return!1;var b=h[f].toLowerCase();return r[f]||(r[f]={}),o[f]||(o[f]={}),!r[f][b]&&(o[f][b]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var a=Object.keys(o),c=0;c<a.length;c+=1){var l=a[c],u=ei({},r[l],o[l]);r[l]=u}return i},[]).reverse()},Gpe=function(t,e){if(Array.isArray(t)&&t.length){for(var n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},FY=function(t){return Array.isArray(t)?t.join(""):t},xD=function(t,e){return Array.isArray(t)?t.reduce(function(n,r){return function(i,s){for(var o=Object.keys(i),a=0;a<o.length;a+=1)if(s[o[a]]&&s[o[a]].includes(i[o[a]]))return!0;return!1}(r,e)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:t}},_B=function(t,e){var n;return ei({},t,((n={})[e]=void 0,n))},Kpe=[It.NOSCRIPT,It.SCRIPT,It.STYLE],PD=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},bB=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n]!==void 0?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r},"")},EB=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(n,r){return n[vS[r]||r]=t[r],n},e)},GC=function(t,e){return e.map(function(n,r){var i,s=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(o){var a=vS[o]||o;a==="innerHTML"||a==="cssText"?s.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:s[a]=n[o]}),ae.createElement(t,s)})},wa=function(t,e,n){switch(t){case It.TITLE:return{toComponent:function(){return i=e.titleAttributes,(s={key:r=e.title})["data-rh"]=!0,o=EB(i,s),[ae.createElement(It.TITLE,o,r)];var r,i,s,o},toString:function(){return function(r,i,s,o){var a=bB(s),c=FY(i);return a?"<"+r+' data-rh="true" '+a+">"+PD(c,o)+"</"+r+">":"<"+r+' data-rh="true">'+PD(c,o)+"</"+r+">"}(t,e.title,e.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return EB(e)},toString:function(){return bB(e)}};default:return{toComponent:function(){return GC(t,e)},toString:function(){return function(r,i,s){return i.reduce(function(o,a){var c=Object.keys(a).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,f){var p=a[f]===void 0?f:f+'="'+PD(a[f],s)+'"';return h?h+" "+p:p},""),l=a.innerHTML||a.cssText||"",u=Kpe.indexOf(r)===-1;return o+"<"+r+' data-rh="true" '+c+(u?"/>":">"+l+"</"+r+">")},"")}(t,e,n)}}}},e2=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,s=t.noscriptTags,o=t.styleTags,a=t.title,c=a===void 0?"":a,l=t.titleAttributes,u=t.linkTags,h=t.metaTags,f=t.scriptTags,p={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var g=function(y){var v=y.linkTags,b=y.scriptTags,w=y.encode,A=xD(y.metaTags,zpe),S=xD(v,jpe),P=xD(b,Bpe);return{priorityMethods:{toComponent:function(){return[].concat(GC(It.META,A.priority),GC(It.LINK,S.priority),GC(It.SCRIPT,P.priority))},toString:function(){return wa(It.META,A.priority,w)+" "+wa(It.LINK,S.priority,w)+" "+wa(It.SCRIPT,P.priority,w)}},metaTags:A.default,linkTags:S.default,scriptTags:P.default}}(t);p=g.priorityMethods,u=g.linkTags,h=g.metaTags,f=g.scriptTags}return{priority:p,base:wa(It.BASE,e,r),bodyAttributes:wa("bodyAttributes",n,r),htmlAttributes:wa("htmlAttributes",i,r),link:wa(It.LINK,u,r),meta:wa(It.META,h,r),noscript:wa(It.NOSCRIPT,s,r),script:wa(It.SCRIPT,f,r),style:wa(It.STYLE,o,r),title:wa(It.TITLE,{title:c,titleAttributes:l},r)}},RA=[],t2=function(t,e){var n=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?RA:n.instances},add:function(r){(n.canUseDOM?RA:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?RA:n.instances).indexOf(r);(n.canUseDOM?RA:n.instances).splice(i,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=e2({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},$Y=ae.createContext({}),Ype=Ve.shape({setHelmet:Ve.func,helmetInstances:Ve.shape({get:Ve.func,add:Ve.func,remove:Ve.func})}),Qpe=typeof document<"u",uy=function(t){function e(n){var r;return(r=t.call(this,n)||this).helmetData=new t2(r.props.context,e.canUseDOM),r}return I3(e,t),e.prototype.render=function(){return ae.createElement($Y.Provider,{value:this.helmetData.value},this.props.children)},e}(F.Component);uy.canUseDOM=Qpe,uy.propTypes={context:Ve.shape({helmet:Ve.shape()}),children:Ve.node.isRequired},uy.defaultProps={context:{}},uy.displayName="HelmetProvider";var hg=function(t,e){var n,r=document.head||document.querySelector(It.HEAD),i=r.querySelectorAll(t+"[data-rh]"),s=[].slice.call(i),o=[];return e&&e.length&&e.forEach(function(a){var c=document.createElement(t);for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(l==="innerHTML"?c.innerHTML=a.innerHTML:l==="cssText"?c.styleSheet?c.styleSheet.cssText=a.cssText:c.appendChild(document.createTextNode(a.cssText)):c.setAttribute(l,a[l]===void 0?"":a[l]));c.setAttribute("data-rh","true"),s.some(function(u,h){return n=h,c.isEqualNode(u)})?s.splice(n,1):o.push(c)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),o.forEach(function(a){return r.appendChild(a)}),{oldTags:s,newTags:o}},OD=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(e),a=0;a<o.length;a+=1){var c=o[a],l=e[c]||"";n.getAttribute(c)!==l&&n.setAttribute(c,l),i.indexOf(c)===-1&&i.push(c);var u=s.indexOf(c);u!==-1&&s.splice(u,1)}for(var h=s.length-1;h>=0;h-=1)n.removeAttribute(s[h]);i.length===s.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==o.join(",")&&n.setAttribute("data-rh",o.join(","))}},AB=function(t,e){var n=t.baseTag,r=t.htmlAttributes,i=t.linkTags,s=t.metaTags,o=t.noscriptTags,a=t.onChangeClientState,c=t.scriptTags,l=t.styleTags,u=t.title,h=t.titleAttributes;OD(It.BODY,t.bodyAttributes),OD(It.HTML,r),function(y,v){y!==void 0&&document.title!==y&&(document.title=FY(y)),OD(It.TITLE,v)}(u,h);var f={baseTag:hg(It.BASE,n),linkTags:hg(It.LINK,i),metaTags:hg(It.META,s),noscriptTags:hg(It.NOSCRIPT,o),scriptTags:hg(It.SCRIPT,c),styleTags:hg(It.STYLE,l)},p={},g={};Object.keys(f).forEach(function(y){var v=f[y],b=v.newTags,w=v.oldTags;b.length&&(p[y]=b),w.length&&(g[y]=f[y].oldTags)}),e&&e(),a(t,p,g)},s0=null,wS=function(t){function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=t.call.apply(t,[this].concat(s))||this).rendered=!1,r}I3(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!Upe(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,s=this.props.context,o=s.setHelmet,a=null,c=(r=s.helmetInstances.get().map(function(l){var u=ei({},l.props);return delete u.context,u}),{baseTag:qpe(["href"],r),bodyAttributes:ID("bodyAttributes",r),defer:Ty(r,"defer"),encode:Ty(r,"encodeSpecialCharacters"),htmlAttributes:ID("htmlAttributes",r),linkTags:i0(It.LINK,["rel","href"],r),metaTags:i0(It.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:i0(It.NOSCRIPT,["innerHTML"],r),onChangeClientState:Wpe(r),scriptTags:i0(It.SCRIPT,["src","innerHTML"],r),styleTags:i0(It.STYLE,["cssText"],r),title:Hpe(r),titleAttributes:ID("titleAttributes",r),prioritizeSeoTags:Gpe(r,"prioritizeSeoTags")});uy.canUseDOM?(i=c,s0&&cancelAnimationFrame(s0),i.defer?s0=requestAnimationFrame(function(){AB(i,function(){s0=null})}):(AB(i),s0=null)):e2&&(a=e2(c)),o(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},e}(F.Component);wS.propTypes={context:Ype.isRequired},wS.displayName="HelmetDispatcher";var Zpe=["children"],Jpe=["children"],KC=function(t){function e(){return t.apply(this,arguments)||this}I3(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!Mpe(_B(this.props,"helmetData"),_B(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case It.SCRIPT:case It.NOSCRIPT:return{innerHTML:i};case It.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,s=r.child,o=r.arrayTypeChildren;return ei({},o,((i={})[s.type]=[].concat(o[s.type]||[],[ei({},r.newChildProps,this.mapNestedChildrenToProps(s,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,s,o=r.child,a=r.newProps,c=r.newChildProps,l=r.nestedChildren;switch(o.type){case It.TITLE:return ei({},a,((i={})[o.type]=l,i.titleAttributes=ei({},c),i));case It.BODY:return ei({},a,{bodyAttributes:ei({},c)});case It.HTML:return ei({},a,{htmlAttributes:ei({},c)});default:return ei({},a,((s={})[o.type]=ei({},c),s))}},n.mapArrayTypeChildrenToProps=function(r,i){var s=ei({},i);return Object.keys(r).forEach(function(o){var a;s=ei({},s,((a={})[o]=r[o],a))}),s},n.warnOnInvalidChildren=function(r,i){return yB(wB.some(function(s){return r.type===s}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+wB.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),yB(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(s){return typeof s!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var s=this,o={};return ae.Children.forEach(r,function(a){if(a&&a.props){var c=a.props,l=c.children,u=vB(c,Zpe),h=Object.keys(u).reduce(function(p,g){return p[Vpe[g]||g]=u[g],p},{}),f=a.type;switch(typeof f=="symbol"?f=f.toString():s.warnOnInvalidChildren(a,l),f){case It.FRAGMENT:i=s.mapChildrenToProps(l,i);break;case It.LINK:case It.META:case It.NOSCRIPT:case It.SCRIPT:case It.STYLE:o=s.flattenArrayTypeChildren({child:a,arrayTypeChildren:o,newChildProps:h,nestedChildren:l});break;default:i=s.mapObjectTypeChildren({child:a,newProps:i,newChildProps:h,nestedChildren:l})}}}),this.mapArrayTypeChildrenToProps(o,i)},n.render=function(){var r=this.props,i=r.children,s=vB(r,Jpe),o=ei({},s),a=s.helmetData;return i&&(o=this.mapChildrenToProps(i,o)),!a||a instanceof t2||(a=new t2(a.context,a.instances)),a?ae.createElement(wS,ei({},o,{context:a.value,helmetData:void 0})):ae.createElement($Y.Consumer,null,function(c){return ae.createElement(wS,ei({},o,{context:c}))})},e}(F.Component);KC.propTypes={base:Ve.object,bodyAttributes:Ve.object,children:Ve.oneOfType([Ve.arrayOf(Ve.node),Ve.node]),defaultTitle:Ve.string,defer:Ve.bool,encodeSpecialCharacters:Ve.bool,htmlAttributes:Ve.object,link:Ve.arrayOf(Ve.object),meta:Ve.arrayOf(Ve.object),noscript:Ve.arrayOf(Ve.object),onChangeClientState:Ve.func,script:Ve.arrayOf(Ve.object),style:Ve.arrayOf(Ve.object),title:Ve.string,titleAttributes:Ve.object,titleTemplate:Ve.string,prioritizeSeoTags:Ve.bool,helmetData:Ve.object},KC.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},KC.displayName="Helmet";function YC(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?YC=function(n){return typeof n}:YC=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},YC(t)}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eme(t,e,n){return e&&CB(t.prototype,e),n&&CB(t,n),t}function tme(t,e){return e&&(YC(e)==="object"||typeof e=="function")?e:QC(t)}function n2(t){return n2=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},n2(t)}function QC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},r2(t,e)}function ZC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var UY=function(t){nme(e,t);function e(){var n,r;Xpe(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=tme(this,(n=n2(e)).call.apply(n,[this].concat(s))),ZC(QC(r),"state",{bootstrapped:!1}),ZC(QC(r),"_unsubscribe",void 0),ZC(QC(r),"handlePersistorState",function(){var a=r.props.persistor,c=a.getState(),l=c.bootstrapped;l&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return eme(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(F.PureComponent);ZC(UY,"defaultProps",{children:null,loading:null});function ps(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Rc(t){return!!t&&!!t[br]}function kc(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===dme}(t)||Array.isArray(t)||!!t[p_]||!!(!((e=t.constructor)===null||e===void 0)&&e[p_])||iP(t)||sP(t))}function rme(t){return Rc(t)||ps(23,t),t[br].t}function Zh(t,e,n){n===void 0&&(n=!1),Jh(t)===0?(n?Object.keys:Sy)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Jh(t){var e=t[br];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:iP(t)?2:sP(t)?3:0}function Rh(t,e){return Jh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JC(t,e){return Jh(t)===2?t.get(e):t[e]}function jY(t,e,n){var r=Jh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BY(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function iP(t){return lme&&t instanceof Map}function sP(t){return ume&&t instanceof Set}function Bf(t){return t.o||t.t}function x3(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=VY(t);delete e[br];for(var n=Sy(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function P3(t,e){return e===void 0&&(e=!1),O3(t)||Rc(t)||!kc(t)||(Jh(t)>1&&(t.set=t.add=t.clear=t.delete=ime),Object.freeze(t),e&&Zh(t,function(n,r){return P3(r,!0)},!0)),t}function ime(){ps(2)}function O3(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Al(t){var e=a2[t];return e||ps(18,t),e}function zY(t,e){a2[t]||(a2[t]=e)}function i2(){return ob}function DD(t,e){e&&(Al("Patches"),t.u=[],t.s=[],t.v=e)}function _S(t){s2(t),t.p.forEach(sme),t.p=null}function s2(t){t===ob&&(ob=t.l)}function TB(t){return ob={p:[],l:ob,h:t,m:!0,_:0}}function sme(t){var e=t[br];e.i===0||e.i===1?e.j():e.g=!0}function ND(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Al("ES5").S(e,t,r),r?(n[br].P&&(_S(e),ps(4)),kc(t)&&(t=bS(e,t),e.l||ES(e,t)),e.u&&Al("Patches").M(n[br].t,t,e.u,e.s)):t=bS(e,n,[]),_S(e),e.u&&e.v(e.u,e.s),t!==N3?t:void 0}function bS(t,e,n){if(O3(e))return e;var r=e[br];if(!r)return Zh(e,function(a,c){return SB(t,r,e,a,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return ES(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=x3(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Zh(s,function(a,c){return SB(t,r,i,a,c,n,o)}),ES(t,i,!1),n&&t.u&&Al("Patches").N(r,n,t.u,t.s)}return r.o}function SB(t,e,n,r,i,s,o){if(Rc(i)){var a=bS(t,i,s&&e&&e.i!==3&&!Rh(e.R,r)?s.concat(r):void 0);if(jY(n,r,a),!Rc(a))return;t.m=!1}else o&&n.add(i);if(kc(i)&&!O3(i)){if(!t.h.D&&t._<1)return;bS(t,i),e&&e.A.l||ES(t,i)}}function ES(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&P3(e,n)}function RD(t,e){var n=t[br];return(n?Bf(n):t)[e]}function IB(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Xd(t){t.P||(t.P=!0,t.l&&Xd(t.l))}function kD(t){t.o||(t.o=x3(t.t))}function o2(t,e,n){var r=iP(e)?Al("MapSet").F(e,n):sP(e)?Al("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:i2(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=a,l=ab;o&&(c=[a],l=j0);var u=Proxy.revocable(c,l),h=u.revoke,f=u.proxy;return a.k=f,a.j=h,f}(e,n):Al("ES5").J(e,n);return(n?n.A:i2()).p.push(r),r}function ome(t){return Rc(t)||ps(22,t),function e(n){if(!kc(n))return n;var r,i=n[br],s=Jh(n);if(i){if(!i.P&&(i.i<4||!Al("ES5").K(i)))return i.t;i.I=!0,r=xB(n,s),i.I=!1}else r=xB(n,s);return Zh(r,function(o,a){i&&JC(i.t,o)===a||jY(r,o,e(a))}),s===3?new Set(r):r}(t)}function xB(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return x3(t)}function ame(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var c=this[br];return ab.get(c,s)},set:function(c){var l=this[br];ab.set(l,s,c)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][br];if(!a.P)switch(a.i){case 5:r(a)&&Xd(a);break;case 4:n(a)&&Xd(a)}}}function n(s){for(var o=s.t,a=s.k,c=Sy(a),l=c.length-1;l>=0;l--){var u=c[l];if(u!==br){var h=o[u];if(h===void 0&&!Rh(o,u))return!0;var f=a[u],p=f&&f[br];if(p?p.t!==h:!BY(f,h))return!0}}var g=!!o[br];return c.length!==Sy(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};zY("ES5",{J:function(s,o){var a=Array.isArray(s),c=function(u,h){if(u){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=VY(h);delete g[br];for(var y=Sy(g),v=0;v<y.length;v++){var b=y[v];g[b]=t(b,u||!!g[b].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(a,s),l={i:a?5:4,A:o?o.A:i2(),P:!1,I:!1,R:{},l:o,t:s,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,br,{value:l,writable:!0}),c},S:function(s,o,a){a?Rc(o)&&o[br].A===s&&e(s.p):(s.u&&function c(l){if(l&&typeof l=="object"){var u=l[br];if(u){var h=u.t,f=u.k,p=u.R,g=u.i;if(g===4)Zh(f,function(A){A!==br&&(h[A]!==void 0||Rh(h,A)?p[A]||c(f[A]):(p[A]=!0,Xd(u)))}),Zh(h,function(A){f[A]!==void 0||Rh(f,A)||(p[A]=!1,Xd(u))});else if(g===5){if(r(u)&&(Xd(u),p.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)p[y]=!1;else for(var v=h.length;v<f.length;v++)p[v]=!0;for(var b=Math.min(f.length,h.length),w=0;w<b;w++)f.hasOwnProperty(w)||(p[w]=!0),p[w]===void 0&&c(f[w])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}function cme(){function t(r){if(!kc(r))return r;if(Array.isArray(r))return r.map(t);if(iP(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],t(o[1])]}));if(sP(r))return new Set(Array.from(r).map(t));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=t(r[s]);return Rh(r,p_)&&(i[p_]=r[p_]),i}function e(r){return Rc(r)?t(r):r}var n="add";zY("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,c=r,l=0;l<o.length-1;l++){var u=Jh(c),h=o[l];typeof h!="string"&&typeof h!="number"&&(h=""+h),u!==0&&u!==1||h!=="__proto__"&&h!=="constructor"||ps(24),typeof c=="function"&&h==="prototype"&&ps(24),typeof(c=JC(c,h))!="object"&&ps(15,o.join("/"))}var f=Jh(c),p=t(s.value),g=o[o.length-1];switch(a){case"replace":switch(f){case 2:return c.set(g,p);case 3:ps(16);default:return c[g]=p}case n:switch(f){case 1:return g==="-"?c.push(p):c.splice(g,0,p);case 2:return c.set(g,p);case 3:return c.add(p);default:return c[g]=p}case"remove":switch(f){case 1:return c.splice(g,1);case 2:return c.delete(g);case 3:return c.delete(s.value);default:return delete c[g]}default:ps(17,a)}}),r},N:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,c,l,u){var h=a.t,f=a.o;Zh(a.R,function(p,g){var y=JC(h,p),v=JC(f,p),b=g?Rh(h,p)?"replace":n:"remove";if(y!==v||b!=="replace"){var w=c.concat(p);l.push(b==="remove"?{op:b,path:w}:{op:b,path:w,value:v}),u.push(b===n?{op:"remove",path:w}:b==="remove"?{op:n,path:w,value:e(y)}:{op:"replace",path:w,value:e(y)})}})}(r,i,s,o);case 5:case 1:return function(a,c,l,u){var h=a.t,f=a.R,p=a.o;if(p.length<h.length){var g=[p,h];h=g[0],p=g[1];var y=[u,l];l=y[0],u=y[1]}for(var v=0;v<h.length;v++)if(f[v]&&p[v]!==h[v]){var b=c.concat([v]);l.push({op:"replace",path:b,value:e(p[v])}),u.push({op:"replace",path:b,value:e(h[v])})}for(var w=h.length;w<p.length;w++){var A=c.concat([w]);l.push({op:n,path:A,value:e(p[w])})}h.length<p.length&&u.push({op:"replace",path:c.concat(["length"]),value:h.length})}(r,i,s,o);case 3:return function(a,c,l,u){var h=a.t,f=a.o,p=0;h.forEach(function(g){if(!f.has(g)){var y=c.concat([p]);l.push({op:"remove",path:y,value:g}),u.unshift({op:n,path:y,value:g})}p++}),p=0,f.forEach(function(g){if(!h.has(g)){var y=c.concat([p]);l.push({op:n,path:y,value:g}),u.unshift({op:"remove",path:y,value:g})}p++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===N3?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var PB,ob,D3=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",lme=typeof Map<"u",ume=typeof Set<"u",OB=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",N3=D3?Symbol.for("immer-nothing"):((PB={})["immer-nothing"]=!0,PB),p_=D3?Symbol.for("immer-draftable"):"__$immer_draftable",br=D3?Symbol.for("immer-state"):"__$immer_state",dme=""+Object.prototype.constructor,Sy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,VY=Object.getOwnPropertyDescriptors||function(t){var e={};return Sy(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},a2={},ab={get:function(t,e){if(e===br)return t;var n=Bf(t);if(!Rh(n,e))return function(i,s,o){var a,c=IB(s,o);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!kc(r)?r:r===RD(t.t,e)?(kD(t),t.o[e]=o2(t.A.h,r,t)):r},has:function(t,e){return e in Bf(t)},ownKeys:function(t){return Reflect.ownKeys(Bf(t))},set:function(t,e,n){var r=IB(Bf(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=RD(Bf(t),e),s=i==null?void 0:i[br];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(BY(n,i)&&(n!==void 0||Rh(t.t,e)))return!0;kD(t),Xd(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return RD(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,kD(t),Xd(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Bf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){ps(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ps(12)}},j0={};Zh(ab,function(t,e){j0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),j0.deleteProperty=function(t,e){return j0.set.call(this,t,e,void 0)},j0.set=function(t,e,n){return ab.set.call(this,t[0],e,n,t[0])};var hme=function(){function t(n){var r=this;this.O=OB,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var c=r;return function(y){var v=this;y===void 0&&(y=a);for(var b=arguments.length,w=Array(b>1?b-1:0),A=1;A<b;A++)w[A-1]=arguments[A];return c.produce(y,function(S){var P;return(P=s).call.apply(P,[v,S].concat(w))})}}var l;if(typeof s!="function"&&ps(6),o!==void 0&&typeof o!="function"&&ps(7),kc(i)){var u=TB(r),h=o2(r,i,void 0),f=!0;try{l=s(h),f=!1}finally{f?_S(u):s2(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(y){return DD(u,o),ND(y,u)},function(y){throw _S(u),y}):(DD(u,o),ND(l,u))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===N3&&(l=void 0),r.D&&P3(l,!0),o){var p=[],g=[];Al("Patches").M(i,l,p,g),o(p,g)}return l}ps(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return r.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(h))})};var o,a,c=r.produce(i,s,function(l,u){o=l,a=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,a]}):[c,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){kc(n)||ps(8),Rc(n)&&(n=ome(n));var r=TB(this),i=o2(this,n,void 0);return i[br].C=!0,s2(r),i},e.finishDraft=function(n,r){var i=n&&n[br],s=i.A;return DD(s,r),ND(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!OB&&ps(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Al("Patches").$;return Rc(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),oa=new hme,WE=oa.produce,HY=oa.produceWithPatches.bind(oa);oa.setAutoFreeze.bind(oa);oa.setUseProxies.bind(oa);var DB=oa.applyPatches.bind(oa);oa.createDraft.bind(oa);oa.finishDraft.bind(oa);function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function fme(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pme(t){var e=fme(t,"string");return Xh(e)=="symbol"?e:e+""}function Fa(t,e,n){return(e=pme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){Fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rs(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var RB=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),MD=function(){return Math.random().toString(36).substring(7).split("").join(".")},AS={INIT:"@@redux/INIT"+MD(),REPLACE:"@@redux/REPLACE"+MD(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+MD()}};function mme(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function R3(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rs(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rs(1));return n(R3)(t,e)}if(typeof t!="function")throw new Error(Rs(2));var i=t,s=e,o=[],a=o,c=!1;function l(){a===o&&(a=o.slice())}function u(){if(c)throw new Error(Rs(3));return s}function h(y){if(typeof y!="function")throw new Error(Rs(4));if(c)throw new Error(Rs(5));var v=!0;return l(),a.push(y),function(){if(v){if(c)throw new Error(Rs(6));v=!1,l();var w=a.indexOf(y);a.splice(w,1),o=null}}}function f(y){if(!mme(y))throw new Error(Rs(7));if(typeof y.type>"u")throw new Error(Rs(8));if(c)throw new Error(Rs(9));try{c=!0,s=i(s,y)}finally{c=!1}for(var v=o=a,b=0;b<v.length;b++){var w=v[b];w()}return y}function p(y){if(typeof y!="function")throw new Error(Rs(10));i=y,f({type:AS.REPLACE})}function g(){var y,v=h;return y={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(Rs(11));function A(){w.next&&w.next(u())}A();var S=v(A);return{unsubscribe:S}}},y[RB]=function(){return this},y}return f({type:AS.INIT}),r={dispatch:f,subscribe:h,getState:u,replaceReducer:p},r[RB]=g,r}function gme(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:AS.INIT});if(typeof r>"u")throw new Error(Rs(12));if(typeof n(void 0,{type:AS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rs(13))})}function k3(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{gme(n)}catch(a){o=a}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,h={},f=0;f<s.length;f++){var p=s[f],g=n[p],y=c[p],v=g(y,l);if(typeof v>"u")throw l&&l.type,new Error(Rs(14));h[p]=v,u=u||v!==y}return u=u||s.length!==Object.keys(c).length,u?h:c}}function CS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function yme(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Rs(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(c){return c(o)});return s=CS.apply(void 0,a)(i.dispatch),Vi(Vi({},i),{},{dispatch:s})}}}var TS="NOT_FOUND";function vme(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:TS},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function wme(t,e){var n=[];function r(a){var c=n.findIndex(function(u){return e(a,u.key)});if(c>-1){var l=n[c];return c>0&&(n.splice(c,1),n.unshift(l)),l.value}return TS}function i(a,c){r(a)===TS&&(n.unshift({key:a,value:c}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var _me=function(e,n){return e===n};function bme(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function c2(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?_me:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,c=bme(i),l=o===1?vme(c):wme(o,c);function u(){var h=l.get(arguments);if(h===TS){if(h=t.apply(null,arguments),a){var f=l.getEntries(),p=f.find(function(g){return a(g.value,h)});p&&(h=p.value)}l.put(arguments,h)}return h}return u.clearCache=function(){return l.clear()},u}function Eme(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function Ame(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];var l=0,u,h={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(h=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var p=h,g=p.memoizeOptions,y=g===void 0?n:g,v=Array.isArray(y)?y:[y],b=Eme(a),w=t.apply(void 0,[function(){return l++,f.apply(null,arguments)}].concat(v)),A=t(function(){for(var P=[],D=b.length,C=0;C<D;C++)P.push(b[C].apply(null,arguments));return u=w.apply(null,P),u});return Object.assign(A,{resultFunc:f,memoizedResultFunc:w,dependencies:b,lastResult:function(){return u},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),A};return i}var m_=Ame(c2);function WY(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var qY=WY();qY.withExtraArgument=WY;const kB=qY;var GY=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cme=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},uv=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Tme=Object.defineProperty,Sme=Object.defineProperties,Ime=Object.getOwnPropertyDescriptors,MB=Object.getOwnPropertySymbols,xme=Object.prototype.hasOwnProperty,Pme=Object.prototype.propertyIsEnumerable,LB=function(t,e,n){return e in t?Tme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},kh=function(t,e){for(var n in e||(e={}))xme.call(e,n)&&LB(t,n,e[n]);if(MB)for(var r=0,i=MB(e);r<i.length;r++){var n=i[r];Pme.call(e,n)&&LB(t,n,e[n])}return t},LD=function(t,e){return Sme(t,Ime(e))},Ome=function(t,e,n){return new Promise(function(r,i){var s=function(c){try{a(n.next(c))}catch(l){i(l)}},o=function(c){try{a(n.throw(c))}catch(l){i(l)}},a=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(s,o)};a((n=n.apply(t,e)).next())})},Dme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?CS:CS.apply(null,arguments)};function ef(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Nme=function(t){return t&&typeof t.match=="function"};function ko(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return kh(kh({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var Rme=function(t){GY(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,uv([void 0],n[0].concat(this)))):new(e.bind.apply(e,uv([void 0],n.concat(this))))},e}(Array),kme=function(t){GY(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,uv([void 0],n[0].concat(this)))):new(e.bind.apply(e,uv([void 0],n.concat(this))))},e}(Array);function l2(t){return kc(t)?WE(t,function(){}):t}function Mme(t){return typeof t=="boolean"}function Lme(){return function(e){return Fme(e)}}function Fme(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new Rme;return n&&(Mme(n)?r.push(kB):r.push(kB.withExtraArgument(n.extraArgument))),r}var $me=!0;function Ume(t){var e=Lme(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,c=a===void 0?!0:a,l=n.preloadedState,u=l===void 0?void 0:l,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof i=="function")p=i;else if(ef(i))p=k3(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var y=yme.apply(void 0,g),v=CS;c&&(v=Dme(kh({trace:!$me},typeof c=="object"&&c)));var b=new kme(y),w=b;Array.isArray(f)?w=uv([y],f):typeof f=="function"&&(w=f(b));var A=v.apply(void 0,w);return R3(p,u,A)}function KY(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function jme(t){return typeof t=="function"}function Bme(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?KY(e):[e,n,r],s=i[0],o=i[1],a=i[2],c;if(jme(t))c=function(){return l2(t())};else{var l=l2(t);c=function(){return l}}function u(h,f){h===void 0&&(h=c());var p=uv([s[f.type]],o.filter(function(g){var y=g.matcher;return y(f)}).map(function(g){var y=g.reducer;return y}));return p.filter(function(g){return!!g}).length===0&&(p=[a]),p.reduce(function(g,y){if(y)if(Rc(g)){var v=g,b=y(v,f);return b===void 0?g:b}else{if(kc(g))return WE(g,function(w){return y(w,f)});var b=y(g,f);if(b===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return g},h)}return u.getInitialState=c,u}function zme(t,e){return t+"/"+e}function qd(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:l2(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(u){var h=r[u],f=zme(e,u),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,s[u]=p,o[f]=p,a[u]=g?ko(f,g):ko(f)});function c(){var u=typeof t.extraReducers=="function"?KY(t.extraReducers):[t.extraReducers],h=u[0],f=h===void 0?{}:h,p=u[1],g=p===void 0?[]:p,y=u[2],v=y===void 0?void 0:y,b=kh(kh({},f),o);return Bme(n,function(w){for(var A in b)w.addCase(A,b[A]);for(var S=0,P=g;S<P.length;S++){var D=P[S];w.addMatcher(D.matcher,D.reducer)}v&&w.addDefaultCase(v)})}var l;return{name:e,reducer:function(u,h){return l||(l=c()),l(u,h)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var Vme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",YY=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Vme[Math.random()*64|0];return e},Hme=["name","message","stack","code"],FD=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),FB=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Wme=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Hme;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},$B=function(){function t(e,n,r){var i=ko(e+"/fulfilled",function(l,u,h,f){return{payload:l,meta:LD(kh({},f||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),s=ko(e+"/pending",function(l,u,h){return{payload:void 0,meta:LD(kh({},h||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=ko(e+"/rejected",function(l,u,h,f,p){return{payload:f,error:(r&&r.serializeError||Wme)(l||"Rejected"),meta:LD(kh({},p||{}),{arg:h,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(l):YY(),g=new a,y;function v(w){y=w,g.abort()}var b=function(){return Ome(this,null,function(){var w,A,S,P,D,C,I;return Cme(this,function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),P=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,l,{getState:h,extra:f}),Gme(P)?[4,P]:[3,2];case 1:P=x.sent(),x.label=2;case 2:if(P===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return D=new Promise(function(N,R){return g.signal.addEventListener("abort",function(){return R({name:"AbortError",message:y||"Aborted"})})}),u(s(p,l,(A=r==null?void 0:r.getPendingMeta)==null?void 0:A.call(r,{requestId:p,arg:l},{getState:h,extra:f}))),[4,Promise.race([D,Promise.resolve(n(l,{dispatch:u,getState:h,extra:f,requestId:p,signal:g.signal,abort:v,rejectWithValue:function(N,R){return new FD(N,R)},fulfillWithValue:function(N,R){return new FB(N,R)}})).then(function(N){if(N instanceof FD)throw N;return N instanceof FB?i(N.payload,p,l,N.meta):i(N,p,l)})])];case 3:return S=x.sent(),[3,5];case 4:return C=x.sent(),S=C instanceof FD?o(null,p,l,C.payload,C.meta):o(C,p,l),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition,I||u(S),[2,S]}})})}();return Object.assign(b,{abort:v,requestId:p,arg:l,unwrap:function(){return b.then(qme)}})}}return Object.assign(c,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function qme(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Gme(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var QY=function(t,e){return Nme(t)?t.match(e):t(e)};function Zv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.some(function(r){return QY(r,n)})}}function g_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.every(function(r){return QY(r,n)})}}function oP(t,e){if(!t||!t.meta)return!1;var n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function qE(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function M3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return oP(n,["pending"])}:qE(t)?function(n){var r=t.map(function(s){return s.pending}),i=Zv.apply(void 0,r);return i(n)}:M3()(t[0])}function cb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return oP(n,["rejected"])}:qE(t)?function(n){var r=t.map(function(s){return s.rejected}),i=Zv.apply(void 0,r);return i(n)}:cb()(t[0])}function aP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return t.length===0?function(r){var i=g_(cb.apply(void 0,t),n);return i(r)}:qE(t)?function(r){var i=g_(cb.apply(void 0,t),n);return i(r)}:aP()(t[0])}function Sm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return oP(n,["fulfilled"])}:qE(t)?function(n){var r=t.map(function(s){return s.fulfilled}),i=Zv.apply(void 0,r);return i(n)}:Sm()(t[0])}function u2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return oP(n,["pending","fulfilled","rejected"])}:qE(t)?function(n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];r.push(o.pending,o.rejected,o.fulfilled)}var a=Zv.apply(void 0,r);return a(n)}:u2()(t[0])}var L3="listenerMiddleware";ko(L3+"/add");ko(L3+"/removeAll");ko(L3+"/remove");var B0="RTK_autoBatch",o0=function(){return function(t){var e;return{payload:t,meta:(e={},e[B0]=!0,e)}}},UB;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ame();var F3="persist:",$3="persist/FLUSH",cP="persist/REHYDRATE",U3="persist/PAUSE",j3="persist/PERSIST",B3="persist/PURGE",z3="persist/REGISTER",Kme=-1;function XC(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?XC=function(n){return typeof n}:XC=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},XC(t)}function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jB(n,!0).forEach(function(r){Qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zme(t,e,n,r){r.debug;var i=Yme({},n);return t&&XC(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Jme(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:F3).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(P){return P}:typeof t.serialize=="function"?a=t.serialize:a=Xme;var c=t.writeFailHandler||null,l={},u={},h=[],f=null,p=null,g=function(P){Object.keys(P).forEach(function(D){b(D)&&l[D]!==P[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(l).forEach(function(D){P[D]===void 0&&b(D)&&h.indexOf(D)===-1&&l[D]!==void 0&&h.push(D)}),f===null&&(f=setInterval(y,i)),l=P};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var S=h.shift(),P=r.reduce(function(D,C){return C.in(D,S,l)},l[S]);if(P!==void 0)try{u[S]=a(P)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete u[S];h.length===0&&v()}function v(){Object.keys(u).forEach(function(S){l[S]===void 0&&delete u[S]}),p=o.setItem(s,a(u)).catch(w)}function b(S){return!(n&&n.indexOf(S)===-1&&S!=="_persist"||e&&e.indexOf(S)!==-1)}function w(S){c&&c(S)}var A=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:g,flush:A}}function Xme(t){return JSON.stringify(t)}function ege(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:F3).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=tge,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(c){o[c]=e.reduceRight(function(l,u){return u.out(l,c,a)},i(a[c]))}),o}catch(c){throw c}else return})}function tge(t){return JSON.parse(t)}function nge(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:F3).concat(t.key);return e.removeItem(n,rge)}function rge(t){}function BB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BB(n,!0).forEach(function(r){ige(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BB(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ige(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sge(t,e){if(t==null)return{};var n=oge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var age=5e3;function cge(t,e){var n=t.version!==void 0?t.version:Kme;t.debug;var r=t.stateReconciler===void 0?Zme:t.stateReconciler,i=t.getStoredState||ege,s=t.timeout!==void 0?t.timeout:age,o=null,a=!1,c=!0,l=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(u,h){var f=u||{},p=f._persist,g=sge(f,["_persist"]),y=g;if(h.type===j3){var v=!1,b=function(I,x){v||(h.rehydrate(t.key,I,x),v=!0)};if(s&&setTimeout(function(){!v&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),c=!1,o||(o=Jme(t)),p)return nu({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(C){var I=t.migrate||function(x,N){return Promise.resolve(x)};I(C,n).then(function(x){b(x)},function(x){b(void 0,x)})},function(C){b(void 0,C)}),nu({},e(y,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===B3)return a=!0,h.result(nge(t)),nu({},e(y,h),{_persist:p});if(h.type===$3)return h.result(o&&o.flush()),nu({},e(y,h),{_persist:p});if(h.type===U3)c=!0;else if(h.type===cP){if(a)return nu({},y,{_persist:nu({},p,{rehydrated:!0})});if(h.key===t.key){var w=e(y,h),A=h.payload,S=r!==!1&&A!==void 0?r(A,u,w,t):w,P=nu({},S,{_persist:nu({},p,{rehydrated:!0})});return l(P)}}}if(!p)return e(u,h);var D=e(y,h);return D===y?u:l(nu({},D,{_persist:p}))}}function zB(t){return dge(t)||uge(t)||lge()}function lge(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function uge(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function dge(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function VB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VB(n,!0).forEach(function(r){hge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VB(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZY={registry:[],bootstrapped:!1},fge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ZY,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case z3:return d2({},e,{registry:[].concat(zB(e.registry),[n.key])});case cP:var r=e.registry.indexOf(n.key),i=zB(e.registry);return i.splice(r,1),d2({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function pge(t,e,n){var r=n||!1,i=R3(fge,ZY,e&&e.enhancer?e.enhancer:void 0),s=function(l){i.dispatch({type:z3,key:l})},o=function(l,u,h){var f={type:cP,payload:u,err:h,key:l};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=d2({},i,{purge:function(){var l=[];return t.dispatch({type:B3,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:$3,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:U3})},persist:function(){t.dispatch({type:j3,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var V3={},H3={};H3.__esModule=!0;H3.default=yge;function eT(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eT=function(n){return typeof n}:eT=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eT(t)}function $D(){}var mge={getItem:$D,setItem:$D,removeItem:$D};function gge(t){if((typeof self>"u"?"undefined":eT(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function yge(t){var e="".concat(t,"Storage");return gge(e)?self[e]:mge}V3.__esModule=!0;V3.default=_ge;var vge=wge(H3);function wge(t){return t&&t.__esModule?t:{default:t}}function _ge(t){var e=(0,vge.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var JY=void 0,bge=Ege(V3);function Ege(t){return t&&t.__esModule?t:{default:t}}var Age=(0,bge.default)("local");JY=Age;var SS=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},IS=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Cge=Object.defineProperty,Tge=Object.defineProperties,Sge=Object.getOwnPropertyDescriptors,xS=Object.getOwnPropertySymbols,XY=Object.prototype.hasOwnProperty,eQ=Object.prototype.propertyIsEnumerable,HB=function(t,e,n){return e in t?Cge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Kr=function(t,e){for(var n in e||(e={}))XY.call(e,n)&&HB(t,n,e[n]);if(xS)for(var r=0,i=xS(e);r<i.length;r++){var n=i[r];eQ.call(e,n)&&HB(t,n,e[n])}return t},yl=function(t,e){return Tge(t,Sge(e))},WB=function(t,e){var n={};for(var r in t)XY.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&xS)for(var i=0,s=xS(t);i<s.length;i++){var r=s[i];e.indexOf(r)<0&&eQ.call(t,r)&&(n[r]=t[r])}return n},PS=function(t,e,n){return new Promise(function(r,i){var s=function(c){try{a(n.next(c))}catch(l){i(l)}},o=function(c){try{a(n.throw(c))}catch(l){i(l)}},a=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(s,o)};a((n=n.apply(t,e)).next())})},Or;(function(t){t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected"})(Or||(Or={}));function Ige(t){return{status:t,isUninitialized:t===Or.uninitialized,isLoading:t===Or.pending,isSuccess:t===Or.fulfilled,isError:t===Or.rejected}}function xge(t){return new RegExp("(^|:)//").test(t)}var Pge=function(t){return t.replace(/\/$/,"")},Oge=function(t){return t.replace(/^\//,"")};function Dge(t,e){if(!t)return e;if(!e)return t;if(xge(e))return e;var n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=Pge(t),e=Oge(e),""+t+n+e}var qB=function(t){return[].concat.apply([],t)};function Nge(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Rge(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var GB=ef;function tQ(t,e){if(t===e||!(GB(t)&&GB(e)||Array.isArray(t)&&Array.isArray(e)))return e;for(var n=Object.keys(e),r=Object.keys(t),i=n.length===r.length,s=Array.isArray(e)?[]:{},o=0,a=n;o<a.length;o++){var c=a[o];s[c]=tQ(t[c],e[c]),i&&(i=t[c]===s[c])}return i?t:s}var KB=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fetch.apply(void 0,t)},kge=function(t){return t.status>=200&&t.status<=299},Mge=function(t){return/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"")};function YB(t){if(!ef(t))return t;for(var e=Kr({},t),n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],s=i[0],o=i[1];o===void 0&&delete e[s]}return e}function Lge(t){var e=this;t===void 0&&(t={});var n=t,r=n.baseUrl,i=n.prepareHeaders,s=i===void 0?function(A){return A}:i,o=n.fetchFn,a=o===void 0?KB:o,c=n.paramsSerializer,l=n.isJsonContentType,u=l===void 0?Mge:l,h=n.jsonContentType,f=h===void 0?"application/json":h,p=n.jsonReplacer,g=n.timeout,y=n.responseHandler,v=n.validateStatus,b=WB(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&a===KB&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(A,S){return PS(e,null,function(){var P,D,C,I,x,N,R,$,U,Y,z,j,q,V,Q,K,ee,ne,le,ce,re,de,ve,Ne,Fe,Ge,ot,Me,ut,ht,Xt,Rt,Dn,Un,yn,Sr;return SS(this,function(fn){switch(fn.label){case 0:return P=S.signal,D=S.getState,C=S.extra,I=S.endpoint,x=S.forced,N=S.type,$=typeof A=="string"?{url:A}:A,U=$.url,Y=$.headers,z=Y===void 0?new Headers(b.headers):Y,j=$.params,q=j===void 0?void 0:j,V=$.responseHandler,Q=V===void 0?y??"json":V,K=$.validateStatus,ee=K===void 0?v??kge:K,ne=$.timeout,le=ne===void 0?g:ne,ce=WB($,["url","headers","params","responseHandler","validateStatus","timeout"]),re=Kr(yl(Kr({},b),{signal:P}),ce),z=new Headers(YB(z)),de=re,[4,s(z,{getState:D,extra:C,endpoint:I,forced:x,type:N})];case 1:de.headers=fn.sent()||z,ve=function(se){return typeof se=="object"&&(ef(se)||Array.isArray(se)||typeof se.toJSON=="function")},!re.headers.has("content-type")&&ve(re.body)&&re.headers.set("content-type",f),ve(re.body)&&u(re.headers)&&(re.body=JSON.stringify(re.body,p)),q&&(Ne=~U.indexOf("?")?"&":"?",Fe=c?c(q):new URLSearchParams(YB(q)),U+=Ne+Fe),U=Dge(r,U),Ge=new Request(U,re),ot=new Request(U,re),R={request:ot},ut=!1,ht=le&&setTimeout(function(){ut=!0,S.abort()},le),fn.label=2;case 2:return fn.trys.push([2,4,5,6]),[4,a(Ge)];case 3:return Me=fn.sent(),[3,6];case 4:return Xt=fn.sent(),[2,{error:{status:ut?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Xt)},meta:R}];case 5:return ht&&clearTimeout(ht),[7];case 6:Rt=Me.clone(),R.response=Rt,Un="",fn.label=7;case 7:return fn.trys.push([7,9,,10]),[4,Promise.all([w(Me,Q).then(function(se){return Dn=se},function(se){return yn=se}),Rt.text().then(function(se){return Un=se},function(){})])];case 8:if(fn.sent(),yn)throw yn;return[3,10];case 9:return Sr=fn.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:Me.status,data:Un,error:String(Sr)},meta:R}];case 10:return[2,ee(Me,Dn)?{data:Dn,meta:R}:{error:{status:Me.status,data:Dn},meta:R}]}})})};function w(A,S){return PS(this,null,function(){var P;return SS(this,function(D){switch(D.label){case 0:return typeof S=="function"?[2,S(A)]:(S==="content-type"&&(S=u(A.headers)?"json":"text"),S!=="json"?[3,2]:[4,A.text()]);case 1:return P=D.sent(),[2,P.length?JSON.parse(P):null];case 2:return[2,A.text()]}})})}}var QB=function(){function t(e,n){n===void 0&&(n=void 0),this.value=e,this.meta=n}return t}(),lb=ko("__rtkq/focused"),OS=ko("__rtkq/unfocused"),ub=ko("__rtkq/online"),DS=ko("__rtkq/offline"),UD=!1;function Fge(t,e){function n(){var r=function(){return t(lb())},i=function(){return t(OS())},s=function(){return t(ub())},o=function(){return t(DS())},a=function(){window.document.visibilityState==="visible"?r():i()};UD||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),UD=!0);var c=function(){window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",a),window.removeEventListener("online",s),window.removeEventListener("offline",o),UD=!1};return c}return e?e(t,{onFocus:lb,onFocusLost:OS,onOffline:DS,onOnline:ub}):n()}var Nl;(function(t){t.query="query",t.mutation="mutation"})(Nl||(Nl={}));function nQ(t){return t.type===Nl.query}function $ge(t){return t.type===Nl.mutation}function W3(t,e,n,r,i,s){return Uge(t)?t(e,n,r,i).map(h2).map(s):Array.isArray(t)?t.map(h2).map(s):[]}function Uge(t){return typeof t=="function"}function h2(t){return typeof t=="string"?{type:t}:t}function jD(t){return t!=null}var db=Symbol("forceQueryFn"),f2=function(t){return typeof t[db]=="function"};function jge(t){var e=t.serializeQueryArgs,n=t.queryThunk,r=t.mutationThunk,i=t.api,s=t.context,o=new Map,a=new Map,c=i.internalActions,l=c.unsubscribeQueryResult,u=c.removeMutationResult,h=c.updateSubscriptionOptions;return{buildInitiateQuery:w,buildInitiateMutation:A,getRunningQueryThunk:g,getRunningMutationThunk:y,getRunningQueriesThunk:v,getRunningMutationsThunk:b,getRunningOperationPromises:p,removalWarning:f};function f(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function p(){typeof process<"u";var S=function(P){return Array.from(P.values()).flatMap(function(D){return D?Object.values(D):[]})};return IS(IS([],S(o)),S(a)).filter(jD)}function g(S,P){return function(D){var C,I=s.endpointDefinitions[S],x=e({queryArgs:P,endpointDefinition:I,endpointName:S});return(C=o.get(D))==null?void 0:C[x]}}function y(S,P){return function(D){var C;return(C=a.get(D))==null?void 0:C[P]}}function v(){return function(S){return Object.values(o.get(S)||{}).filter(jD)}}function b(){return function(S){return Object.values(a.get(S)||{}).filter(jD)}}function w(S,P){var D=function(C,I){var x=I===void 0?{}:I,N=x.subscribe,R=N===void 0?!0:N,$=x.forceRefetch,U=x.subscriptionOptions,Y=db,z=x[Y];return function(j,q){var V,Q,K=e({queryArgs:C,endpointDefinition:P,endpointName:S}),ee=n((V={type:"query",subscribe:R,forceRefetch:$,subscriptionOptions:U,endpointName:S,originalArgs:C,queryCacheKey:K},V[db]=z,V)),ne=i.endpoints[S].select(C),le=j(ee),ce=ne(q()),re=le.requestId,de=le.abort,ve=ce.requestId!==re,Ne=(Q=o.get(j))==null?void 0:Q[K],Fe=function(){return ne(q())},Ge=Object.assign(z?le.then(Fe):ve&&!Ne?Promise.resolve(ce):Promise.all([Ne,le]).then(Fe),{arg:C,requestId:re,subscriptionOptions:U,queryCacheKey:K,abort:de,unwrap:function(){return PS(this,null,function(){var Me;return SS(this,function(ut){switch(ut.label){case 0:return[4,Ge];case 1:if(Me=ut.sent(),Me.isError)throw Me.error;return[2,Me.data]}})})},refetch:function(){return j(D(C,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){R&&j(l({queryCacheKey:K,requestId:re}))},updateSubscriptionOptions:function(Me){Ge.subscriptionOptions=Me,j(h({endpointName:S,requestId:re,queryCacheKey:K,options:Me}))}});if(!Ne&&!ve&&!z){var ot=o.get(j)||{};ot[K]=Ge,o.set(j,ot),Ge.then(function(){delete ot[K],Object.keys(ot).length||o.delete(j)})}return Ge}};return D}function A(S){return function(P,D){var C=D===void 0?{}:D,I=C.track,x=I===void 0?!0:I,N=C.fixedCacheKey;return function(R,$){var U=r({type:"mutation",endpointName:S,originalArgs:P,track:x,fixedCacheKey:N}),Y=R(U),z=Y.requestId,j=Y.abort,q=Y.unwrap,V=Y.unwrap().then(function(ne){return{data:ne}}).catch(function(ne){return{error:ne}}),Q=function(){R(u({requestId:z,fixedCacheKey:N}))},K=Object.assign(V,{arg:Y.arg,requestId:z,abort:j,unwrap:q,unsubscribe:Q,reset:Q}),ee=a.get(R)||{};return a.set(R,ee),ee[z]=K,K.then(function(){delete ee[z],Object.keys(ee).length||a.delete(R)}),N&&(ee[N]=K,K.then(function(){ee[N]===K&&(delete ee[N],Object.keys(ee).length||a.delete(R))})),K}}}}function ZB(t){return t}function Bge(t){var e=this,n=t.reducerPath,r=t.baseQuery,i=t.context.endpointDefinitions,s=t.serializeQueryArgs,o=t.api,a=t.assertTagType,c=function(S,P,D,C){return function(I,x){var N=i[S],R=s({queryArgs:P,endpointDefinition:N,endpointName:S});if(I(o.internalActions.queryResultPatched({queryCacheKey:R,patches:D})),!!C){var $=o.endpoints[S].select(P)(x()),U=W3(N.providesTags,$.data,void 0,P,{},a);I(o.internalActions.updateProvidedBy({queryCacheKey:R,providedTags:U}))}}},l=function(S,P,D,C){return C===void 0&&(C=!0),function(I,x){var N,R,$=o.endpoints[S],U=$.select(P)(x()),Y={patches:[],inversePatches:[],undo:function(){return I(o.util.patchQueryData(S,P,Y.inversePatches,C))}};if(U.status===Or.uninitialized)return Y;var z;if("data"in U)if(kc(U.data)){var j=HY(U.data,D),q=j[0],V=j[1],Q=j[2];(N=Y.patches).push.apply(N,V),(R=Y.inversePatches).push.apply(R,Q),z=q}else z=D(U.data),Y.patches.push({op:"replace",path:[],value:z}),Y.inversePatches.push({op:"replace",path:[],value:U.data});return I(o.util.patchQueryData(S,P,Y.patches,C)),Y}},u=function(S,P,D){return function(C){var I;return C(o.endpoints[S].initiate(P,(I={subscribe:!1,forceRefetch:!0},I[db]=function(){return{data:D}},I)))}},h=function(S,P){return PS(e,[S,P],function(D,C){var I,x,N,R,$,U,Y,z,j,q,V,Q,K,ee,ne,le,ce,re,de=C.signal,ve=C.abort,Ne=C.rejectWithValue,Fe=C.fulfillWithValue,Ge=C.dispatch,ot=C.getState,Me=C.extra;return SS(this,function(ut){switch(ut.label){case 0:I=i[D.endpointName],ut.label=1;case 1:return ut.trys.push([1,8,,13]),x=ZB,N=void 0,R={signal:de,abort:ve,dispatch:Ge,getState:ot,extra:Me,endpoint:D.endpointName,type:D.type,forced:D.type==="query"?f(D,ot()):void 0},$=D.type==="query"?D[db]:void 0,$?(N=$(),[3,6]):[3,2];case 2:return I.query?[4,r(I.query(D.originalArgs),R,I.extraOptions)]:[3,4];case 3:return N=ut.sent(),I.transformResponse&&(x=I.transformResponse),[3,6];case 4:return[4,I.queryFn(D.originalArgs,R,I.extraOptions,function(ht){return r(ht,R,I.extraOptions)})];case 5:N=ut.sent(),ut.label=6;case 6:if(typeof process<"u",N.error)throw new QB(N.error,N.meta);return V=Fe,[4,x(N.data,N.meta,D.originalArgs)];case 7:return[2,V.apply(void 0,[ut.sent(),(ce={fulfilledTimeStamp:Date.now(),baseQueryMeta:N.meta},ce[B0]=!0,ce)])];case 8:if(Q=ut.sent(),K=Q,!(K instanceof QB))return[3,12];ee=ZB,I.query&&I.transformErrorResponse&&(ee=I.transformErrorResponse),ut.label=9;case 9:return ut.trys.push([9,11,,12]),ne=Ne,[4,ee(K.value,K.meta,D.originalArgs)];case 10:return[2,ne.apply(void 0,[ut.sent(),(re={baseQueryMeta:K.meta},re[B0]=!0,re)])];case 11:return le=ut.sent(),K=le,[3,12];case 12:throw typeof process<"u",console.error(K),K;case 13:return[2]}})})};function f(S,P){var D,C,I,x,N=(C=(D=P[n])==null?void 0:D.queries)==null?void 0:C[S.queryCacheKey],R=(I=P[n])==null?void 0:I.config.refetchOnMountOrArgChange,$=N==null?void 0:N.fulfilledTimeStamp,U=(x=S.forceRefetch)!=null?x:S.subscribe&&R;return U?U===!0||(Number(new Date)-Number($))/1e3>=U:!1}var p=$B(n+"/executeQuery",h,{getPendingMeta:function(){var S;return S={startedTimeStamp:Date.now()},S[B0]=!0,S},condition:function(S,P){var D=P.getState,C,I,x,N=D(),R=(I=(C=N[n])==null?void 0:C.queries)==null?void 0:I[S.queryCacheKey],$=R==null?void 0:R.fulfilledTimeStamp,U=S.originalArgs,Y=R==null?void 0:R.originalArgs,z=i[S.endpointName];return f2(S)?!0:(R==null?void 0:R.status)==="pending"?!1:f(S,N)||nQ(z)&&((x=z==null?void 0:z.forceRefetch)!=null&&x.call(z,{currentArg:U,previousArg:Y,endpointState:R,state:N}))?!0:!$},dispatchConditionRejection:!0}),g=$B(n+"/executeMutation",h,{getPendingMeta:function(){var S;return S={startedTimeStamp:Date.now()},S[B0]=!0,S}}),y=function(S){return"force"in S},v=function(S){return"ifOlderThan"in S},b=function(S,P,D){return function(C,I){var x=y(D)&&D.force,N=v(D)&&D.ifOlderThan,R=function(z){return z===void 0&&(z=!0),o.endpoints[S].initiate(P,{forceRefetch:z})},$=o.endpoints[S].select(P)(I());if(x)C(R());else if(N){var U=$==null?void 0:$.fulfilledTimeStamp;if(!U){C(R());return}var Y=(Number(new Date)-Number(new Date(U)))/1e3>=N;Y&&C(R())}else C(R(!1))}};function w(S){return function(P){var D,C;return((C=(D=P==null?void 0:P.meta)==null?void 0:D.arg)==null?void 0:C.endpointName)===S}}function A(S,P){return{matchPending:g_(M3(S),w(P)),matchFulfilled:g_(Sm(S),w(P)),matchRejected:g_(cb(S),w(P))}}return{queryThunk:p,mutationThunk:g,prefetch:b,updateQueryData:l,upsertQueryData:u,patchQueryData:c,buildMatchThunkActions:A}}function rQ(t,e,n,r){return W3(n[t.meta.arg.endpointName][e],Sm(t)?t.payload:void 0,aP(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function kA(t,e,n){var r=t[e];r&&n(r)}function hb(t){var e;return(e="arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)!=null?e:t.requestId}function JB(t,e,n){var r=t[hb(e)];r&&n(r)}var a0={};function zge(t){var e=t.reducerPath,n=t.queryThunk,r=t.mutationThunk,i=t.context,s=i.endpointDefinitions,o=i.apiUid,a=i.extractRehydrationInfo,c=i.hasRehydrationInfo,l=t.assertTagType,u=t.config,h=ko(e+"/resetApiState"),f=qd({name:e+"/queries",initialState:a0,reducers:{removeQueryResult:{reducer:function(P,D){var C=D.payload.queryCacheKey;delete P[C]},prepare:o0()},queryResultPatched:{reducer:function(P,D){var C=D.payload,I=C.queryCacheKey,x=C.patches;kA(P,I,function(N){N.data=DB(N.data,x.concat())})},prepare:o0()}},extraReducers:function(P){P.addCase(n.pending,function(D,C){var I=C.meta,x=C.meta.arg,N,R,$=f2(x);(x.subscribe||$)&&((R=D[N=x.queryCacheKey])!=null||(D[N]={status:Or.uninitialized,endpointName:x.endpointName})),kA(D,x.queryCacheKey,function(U){U.status=Or.pending,U.requestId=$&&U.requestId?U.requestId:I.requestId,x.originalArgs!==void 0&&(U.originalArgs=x.originalArgs),U.startedTimeStamp=I.startedTimeStamp})}).addCase(n.fulfilled,function(D,C){var I=C.meta,x=C.payload;kA(D,I.arg.queryCacheKey,function(N){var R;if(!(N.requestId!==I.requestId&&!f2(I.arg))){var $=s[I.arg.endpointName].merge;if(N.status=Or.fulfilled,$)if(N.data!==void 0){var U=I.fulfilledTimeStamp,Y=I.arg,z=I.baseQueryMeta,j=I.requestId,q=WE(N.data,function(V){return $(V,x,{arg:Y.originalArgs,baseQueryMeta:z,fulfilledTimeStamp:U,requestId:j})});N.data=q}else N.data=x;else N.data=(R=s[I.arg.endpointName].structuralSharing)==null||R?tQ(Rc(N.data)?rme(N.data):N.data,x):x;delete N.error,N.fulfilledTimeStamp=I.fulfilledTimeStamp}})}).addCase(n.rejected,function(D,C){var I=C.meta,x=I.condition,N=I.arg,R=I.requestId,$=C.error,U=C.payload;kA(D,N.queryCacheKey,function(Y){if(!x){if(Y.requestId!==R)return;Y.status=Or.rejected,Y.error=U??$}})}).addMatcher(c,function(D,C){for(var I=a(C).queries,x=0,N=Object.entries(I);x<N.length;x++){var R=N[x],$=R[0],U=R[1];((U==null?void 0:U.status)===Or.fulfilled||(U==null?void 0:U.status)===Or.rejected)&&(D[$]=U)}})}}),p=qd({name:e+"/mutations",initialState:a0,reducers:{removeMutationResult:{reducer:function(P,D){var C=D.payload,I=hb(C);I in P&&delete P[I]},prepare:o0()}},extraReducers:function(P){P.addCase(r.pending,function(D,C){var I=C.meta,x=C.meta,N=x.requestId,R=x.arg,$=x.startedTimeStamp;R.track&&(D[hb(I)]={requestId:N,status:Or.pending,endpointName:R.endpointName,startedTimeStamp:$})}).addCase(r.fulfilled,function(D,C){var I=C.payload,x=C.meta;x.arg.track&&JB(D,x,function(N){N.requestId===x.requestId&&(N.status=Or.fulfilled,N.data=I,N.fulfilledTimeStamp=x.fulfilledTimeStamp)})}).addCase(r.rejected,function(D,C){var I=C.payload,x=C.error,N=C.meta;N.arg.track&&JB(D,N,function(R){R.requestId===N.requestId&&(R.status=Or.rejected,R.error=I??x)})}).addMatcher(c,function(D,C){for(var I=a(C).mutations,x=0,N=Object.entries(I);x<N.length;x++){var R=N[x],$=R[0],U=R[1];((U==null?void 0:U.status)===Or.fulfilled||(U==null?void 0:U.status)===Or.rejected)&&$!==(U==null?void 0:U.requestId)&&(D[$]=U)}})}}),g=qd({name:e+"/invalidation",initialState:a0,reducers:{updateProvidedBy:{reducer:function(P,D){for(var C,I,x,N,R=D.payload,$=R.queryCacheKey,U=R.providedTags,Y=0,z=Object.values(P);Y<z.length;Y++)for(var j=z[Y],q=0,V=Object.values(j);q<V.length;q++){var Q=V[q],K=Q.indexOf($);K!==-1&&Q.splice(K,1)}for(var ee=0,ne=U;ee<ne.length;ee++){var le=ne[ee],ce=le.type,re=le.id,de=(N=(I=(C=P[ce])!=null?C:P[ce]={})[x=re||"__internal_without_id"])!=null?N:I[x]=[],ve=de.includes($);ve||de.push($)}},prepare:o0()}},extraReducers:function(P){P.addCase(f.actions.removeQueryResult,function(D,C){for(var I=C.payload.queryCacheKey,x=0,N=Object.values(D);x<N.length;x++)for(var R=N[x],$=0,U=Object.values(R);$<U.length;$++){var Y=U[$],z=Y.indexOf(I);z!==-1&&Y.splice(z,1)}}).addMatcher(c,function(D,C){for(var I,x,N,R,$=a(C).provided,U=0,Y=Object.entries($);U<Y.length;U++)for(var z=Y[U],j=z[0],q=z[1],V=0,Q=Object.entries(q);V<Q.length;V++)for(var K=Q[V],ee=K[0],ne=K[1],le=(R=(x=(I=D[j])!=null?I:D[j]={})[N=ee||"__internal_without_id"])!=null?R:x[N]=[],ce=0,re=ne;ce<re.length;ce++){var de=re[ce],ve=le.includes(de);ve||le.push(de)}}).addMatcher(Zv(Sm(n),aP(n)),function(D,C){var I=rQ(C,"providesTags",s,l),x=C.meta.arg.queryCacheKey;g.caseReducers.updateProvidedBy(D,g.actions.updateProvidedBy({queryCacheKey:x,providedTags:I}))})}}),y=qd({name:e+"/subscriptions",initialState:a0,reducers:{updateSubscriptionOptions:function(P,D){},unsubscribeQueryResult:function(P,D){},internal_probeSubscription:function(P,D){}}}),v=qd({name:e+"/internalSubscriptions",initialState:a0,reducers:{subscriptionsUpdated:{reducer:function(P,D){return DB(P,D.payload)},prepare:o0()}}}),b=qd({name:e+"/config",initialState:Kr({online:Nge(),focused:Rge(),middlewareRegistered:!1},u),reducers:{middlewareRegistered:function(P,D){var C=D.payload;P.middlewareRegistered=P.middlewareRegistered==="conflict"||o!==C?"conflict":!0}},extraReducers:function(P){P.addCase(ub,function(D){D.online=!0}).addCase(DS,function(D){D.online=!1}).addCase(lb,function(D){D.focused=!0}).addCase(OS,function(D){D.focused=!1}).addMatcher(c,function(D){return Kr({},D)})}}),w=k3({queries:f.reducer,mutations:p.reducer,provided:g.reducer,subscriptions:v.reducer,config:b.reducer}),A=function(P,D){return w(h.match(D)?void 0:P,D)},S=yl(Kr(Kr(Kr(Kr(Kr(Kr({},b.actions),f.actions),y.actions),v.actions),p.actions),g.actions),{unsubscribeMutationResult:p.actions.removeMutationResult,resetApiState:h});return{reducer:A,actions:S}}var sp=Symbol.for("RTKQ/skipToken"),iQ={status:Or.uninitialized},XB=WE(iQ,function(){}),e6=WE(iQ,function(){});function Vge(t){var e=t.serializeQueryArgs,n=t.reducerPath,r=function(u){return XB},i=function(u){return e6};return{buildQuerySelector:a,buildMutationSelector:c,selectInvalidatedBy:l};function s(u){return Kr(Kr({},u),Ige(u.status))}function o(u){var h=u[n];return h}function a(u,h){return function(f){var p=e({queryArgs:f,endpointDefinition:h,endpointName:u}),g=function(v){var b,w,A;return(A=(w=(b=o(v))==null?void 0:b.queries)==null?void 0:w[p])!=null?A:XB},y=f===sp?r:g;return m_(y,s)}}function c(){return function(u){var h,f;typeof u=="object"?f=(h=hb(u))!=null?h:sp:f=u;var p=function(y){var v,b,w;return(w=(b=(v=o(y))==null?void 0:v.mutations)==null?void 0:b[f])!=null?w:e6},g=f===sp?i:p;return m_(g,s)}}function l(u,h){for(var f,p=u[n],g=new Set,y=0,v=h.map(h2);y<v.length;y++){var b=v[y],w=p.provided[b.type];if(w)for(var A=(f=b.id!==void 0?w[b.id]:qB(Object.values(w)))!=null?f:[],S=0,P=A;S<P.length;S++){var D=P[S];g.add(D)}}return qB(Array.from(g.values()).map(function(C){var I=p.queries[C];return I?[{queryCacheKey:C,endpointName:I.endpointName,originalArgs:I.originalArgs}]:[]}))}}var MA=WeakMap?new WeakMap:void 0,t6=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=MA==null?void 0:MA.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return ef(a)?Object.keys(a).sort().reduce(function(c,l){return c[l]=a[l],c},{}):a});ef(n)&&(MA==null||MA.set(n,s)),r=s}return e+"("+r+")"};function Hge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var i=c2(function(u){var h,f;return(f=r.extractRehydrationInfo)==null?void 0:f.call(r,u,{reducerPath:(h=r.reducerPath)!=null?h:"api"})}),s=yl(Kr({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},r),{extractRehydrationInfo:i,serializeQueryArgs:function(u){var h=t6;if("serializeQueryArgs"in u.endpointDefinition){var f=u.endpointDefinition.serializeQueryArgs;h=function(p){var g=f(p);return typeof g=="string"?g:t6(yl(Kr({},p),{queryArgs:g}))}}else r.serializeQueryArgs&&(h=r.serializeQueryArgs);return h(u)},tagTypes:IS([],r.tagTypes||[])}),o={endpointDefinitions:{},batch:function(u){u()},apiUid:YY(),extractRehydrationInfo:i,hasRehydrationInfo:c2(function(u){return i(u)!=null})},a={injectEndpoints:l,enhanceEndpoints:function(u){var h=u.addTagTypes,f=u.endpoints;if(h)for(var p=0,g=h;p<g.length;p++){var y=g[p];s.tagTypes.includes(y)||s.tagTypes.push(y)}if(f)for(var v=0,b=Object.entries(f);v<b.length;v++){var w=b[v],A=w[0],S=w[1];typeof S=="function"?S(o.endpointDefinitions[A]):Object.assign(o.endpointDefinitions[A]||{},S)}return a}},c=t.map(function(u){return u.init(a,s,o)});function l(u){for(var h=u.endpoints({query:function(S){return yl(Kr({},S),{type:Nl.query})},mutation:function(S){return yl(Kr({},S),{type:Nl.mutation})}}),f=0,p=Object.entries(h);f<p.length;f++){var g=p[f],y=g[0],v=g[1];if(!u.overrideExisting&&y in o.endpointDefinitions){typeof process<"u";continue}o.endpointDefinitions[y]=v;for(var b=0,w=c;b<w.length;b++){var A=w[b];A.injectEndpoint(y,v)}}return a}return a.injectEndpoints({endpoints:r.endpoints})}}function Wge(t){for(var e in t)return!1;return!0}var qge=2147483647/1e3-1,Gge=function(t){var e=t.reducerPath,n=t.api,r=t.context,i=t.internalState,s=n.internalActions,o=s.removeQueryResult,a=s.unsubscribeQueryResult;function c(f){var p=i.currentSubscriptions[f];return!!p&&!Wge(p)}var l={},u=function(f,p,g){var y;if(a.match(f)){var v=p.getState()[e],b=f.payload.queryCacheKey;h(b,(y=v.queries[b])==null?void 0:y.endpointName,p,v.config)}if(n.util.resetApiState.match(f))for(var w=0,A=Object.entries(l);w<A.length;w++){var S=A[w],P=S[0],D=S[1];D&&clearTimeout(D),delete l[P]}if(r.hasRehydrationInfo(f))for(var v=p.getState()[e],C=r.extractRehydrationInfo(f).queries,I=0,x=Object.entries(C);I<x.length;I++){var N=x[I],b=N[0],R=N[1];h(b,R==null?void 0:R.endpointName,p,v.config)}};function h(f,p,g,y){var v,b=r.endpointDefinitions[p],w=(v=b==null?void 0:b.keepUnusedDataFor)!=null?v:y.keepUnusedDataFor;if(w!==1/0){var A=Math.max(0,Math.min(w,qge));if(!c(f)){var S=l[f];S&&clearTimeout(S),l[f]=setTimeout(function(){c(f)||g.dispatch(o({queryCacheKey:f})),delete l[f]},A*1e3)}}}return u},Kge=function(t){var e=t.reducerPath,n=t.context,r=t.context.endpointDefinitions,i=t.mutationThunk,s=t.api,o=t.assertTagType,a=t.refetchQuery,c=s.internalActions.removeQueryResult,l=Zv(Sm(i),aP(i)),u=function(f,p){l(f)&&h(rQ(f,"invalidatesTags",r,o),p),s.util.invalidateTags.match(f)&&h(W3(f.payload,void 0,void 0,void 0,void 0,o),p)};function h(f,p){var g=p.getState(),y=g[e],v=s.util.selectInvalidatedBy(g,f);n.batch(function(){for(var b,w=Array.from(v.values()),A=0,S=w;A<S.length;A++){var P=S[A].queryCacheKey,D=y.queries[P],C=(b=y.subscriptions[P])!=null?b:{};D&&(Object.keys(C).length===0?p.dispatch(c({queryCacheKey:P})):D.status!==Or.uninitialized&&p.dispatch(a(D,P)))}})}return u},Yge=function(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.refetchQuery,s=t.internalState,o={},a=function(p,g){(r.internalActions.updateSubscriptionOptions.match(p)||r.internalActions.unsubscribeQueryResult.match(p))&&l(p.payload,g),(n.pending.match(p)||n.rejected.match(p)&&p.meta.condition)&&l(p.meta.arg,g),(n.fulfilled.match(p)||n.rejected.match(p)&&!p.meta.condition)&&c(p.meta.arg,g),r.util.resetApiState.match(p)&&h()};function c(p,g){var y=p.queryCacheKey,v=g.getState()[e],b=v.queries[y],w=s.currentSubscriptions[y];if(!(!b||b.status===Or.uninitialized)){var A=f(w);if(Number.isFinite(A)){var S=o[y];S!=null&&S.timeout&&(clearTimeout(S.timeout),S.timeout=void 0);var P=Date.now()+A,D=o[y]={nextPollTimestamp:P,pollingInterval:A,timeout:setTimeout(function(){D.timeout=void 0,g.dispatch(i(b,y))},A)}}}}function l(p,g){var y=p.queryCacheKey,v=g.getState()[e],b=v.queries[y],w=s.currentSubscriptions[y];if(!(!b||b.status===Or.uninitialized)){var A=f(w);if(!Number.isFinite(A)){u(y);return}var S=o[y],P=Date.now()+A;(!S||P<S.nextPollTimestamp)&&c({queryCacheKey:y},g)}}function u(p){var g=o[p];g!=null&&g.timeout&&clearTimeout(g.timeout),delete o[p]}function h(){for(var p=0,g=Object.keys(o);p<g.length;p++){var y=g[p];u(y)}}function f(p){p===void 0&&(p={});var g=Number.POSITIVE_INFINITY;for(var y in p)p[y].pollingInterval&&(g=Math.min(p[y].pollingInterval,g));return g}return a},Qge=function(t){var e=t.reducerPath,n=t.context,r=t.api,i=t.refetchQuery,s=t.internalState,o=r.internalActions.removeQueryResult,a=function(l,u){lb.match(l)&&c(u,"refetchOnFocus"),ub.match(l)&&c(u,"refetchOnReconnect")};function c(l,u){var h=l.getState()[e],f=h.queries,p=s.currentSubscriptions;n.batch(function(){for(var g=0,y=Object.keys(p);g<y.length;g++){var v=y[g],b=f[v],w=p[v];if(!(!w||!b)){var A=Object.values(w).some(function(S){return S[u]===!0})||Object.values(w).every(function(S){return S[u]===void 0})&&h.config[u];A&&(Object.keys(w).length===0?l.dispatch(o({queryCacheKey:v})):b.status!==Or.uninitialized&&l.dispatch(i(b,v)))}}})}return a},n6=new Error("Promise never resolved before cacheEntryRemoved."),Zge=function(t){var e=t.api,n=t.reducerPath,r=t.context,i=t.queryThunk,s=t.mutationThunk;t.internalState;var o=u2(i),a=u2(s),c=Sm(i,s),l={},u=function(p,g,y){var v=h(p);if(i.pending.match(p)){var b=y[n].queries[v],w=g.getState()[n].queries[v];!b&&w&&f(p.meta.arg.endpointName,p.meta.arg.originalArgs,v,g,p.meta.requestId)}else if(s.pending.match(p)){var w=g.getState()[n].mutations[v];w&&f(p.meta.arg.endpointName,p.meta.arg.originalArgs,v,g,p.meta.requestId)}else if(c(p)){var A=l[v];A!=null&&A.valueResolved&&(A.valueResolved({data:p.payload,meta:p.meta.baseQueryMeta}),delete A.valueResolved)}else if(e.internalActions.removeQueryResult.match(p)||e.internalActions.removeMutationResult.match(p)){var A=l[v];A&&(delete l[v],A.cacheEntryRemoved())}else if(e.util.resetApiState.match(p))for(var S=0,P=Object.entries(l);S<P.length;S++){var D=P[S],C=D[0],A=D[1];delete l[C],A.cacheEntryRemoved()}};function h(p){return o(p)?p.meta.arg.queryCacheKey:a(p)?p.meta.requestId:e.internalActions.removeQueryResult.match(p)?p.payload.queryCacheKey:e.internalActions.removeMutationResult.match(p)?hb(p.payload):""}function f(p,g,y,v,b){var w=r.endpointDefinitions[p],A=w==null?void 0:w.onCacheEntryAdded;if(A){var S={},P=new Promise(function(R){S.cacheEntryRemoved=R}),D=Promise.race([new Promise(function(R){S.valueResolved=R}),P.then(function(){throw n6})]);D.catch(function(){}),l[y]=S;var C=e.endpoints[p].select(w.type===Nl.query?g:y),I=v.dispatch(function(R,$,U){return U}),x=yl(Kr({},v),{getCacheEntry:function(){return C(v.getState())},requestId:b,extra:I,updateCachedData:w.type===Nl.query?function(R){return v.dispatch(e.util.updateQueryData(p,g,R))}:void 0,cacheDataLoaded:D,cacheEntryRemoved:P}),N=A(g,x);Promise.resolve(N).catch(function(R){if(R!==n6)throw R})}}return u},Jge=function(t){var e=t.api,n=t.context,r=t.queryThunk,i=t.mutationThunk,s=M3(r,i),o=cb(r,i),a=Sm(r,i),c={},l=function(u,h){var f,p,g;if(s(u)){var y=u.meta,v=y.requestId,b=y.arg,w=b.endpointName,A=b.originalArgs,S=n.endpointDefinitions[w],P=S==null?void 0:S.onQueryStarted;if(P){var D={},C=new Promise(function(z,j){D.resolve=z,D.reject=j});C.catch(function(){}),c[v]=D;var I=e.endpoints[w].select(S.type===Nl.query?A:v),x=h.dispatch(function(z,j,q){return q}),N=yl(Kr({},h),{getCacheEntry:function(){return I(h.getState())},requestId:v,extra:x,updateCachedData:S.type===Nl.query?function(z){return h.dispatch(e.util.updateQueryData(w,A,z))}:void 0,queryFulfilled:C});P(A,N)}}else if(a(u)){var R=u.meta,v=R.requestId,$=R.baseQueryMeta;(f=c[v])==null||f.resolve({data:u.payload,meta:$}),delete c[v]}else if(o(u)){var U=u.meta,v=U.requestId,Y=U.rejectedWithValue,$=U.baseQueryMeta;(g=c[v])==null||g.reject({error:(p=u.payload)!=null?p:u.error,isUnhandledError:!Y,meta:$}),delete c[v]}};return l},Xge=function(t){var e=t.api,n=t.context.apiUid,r=t.reducerPath;return function(i,s){var o,a;e.util.resetApiState.match(i)&&s.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"}},r6,eye=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(t){return(r6||(r6=Promise.resolve())).then(t).catch(function(e){return setTimeout(function(){throw e},0)})},tye=function(t){var e=t.api,n=t.queryThunk,r=t.internalState,i=e.reducerPath+"/subscriptions",s=null,o=!1,a=e.internalActions,c=a.updateSubscriptionOptions,l=a.unsubscribeQueryResult,u=function(h,f){var p,g,y,v,b,w,A,S,P;if(c.match(f)){var D=f.payload,C=D.queryCacheKey,I=D.requestId,x=D.options;return(p=h==null?void 0:h[C])!=null&&p[I]&&(h[C][I]=x),!0}if(l.match(f)){var N=f.payload,C=N.queryCacheKey,I=N.requestId;return h[C]&&delete h[C][I],!0}if(e.internalActions.removeQueryResult.match(f))return delete h[f.payload.queryCacheKey],!0;if(n.pending.match(f)){var R=f.meta,$=R.arg,I=R.requestId;if($.subscribe){var U=(y=h[g=$.queryCacheKey])!=null?y:h[g]={};return U[I]=(b=(v=$.subscriptionOptions)!=null?v:U[I])!=null?b:{},!0}}if(n.rejected.match(f)){var Y=f.meta,z=Y.condition,$=Y.arg,I=Y.requestId;if(z&&$.subscribe){var U=(A=h[w=$.queryCacheKey])!=null?A:h[w]={};return U[I]=(P=(S=$.subscriptionOptions)!=null?S:U[I])!=null?P:{},!0}}return!1};return function(h,f){var p,g;if(s||(s=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(h))return s=r.currentSubscriptions={},[!0,!1];if(e.internalActions.internal_probeSubscription.match(h)){var y=h.payload,v=y.queryCacheKey,b=y.requestId,w=!!((p=r.currentSubscriptions[v])!=null&&p[b]);return[!1,w]}var A=u(r.currentSubscriptions,h);if(A){o||(eye(function(){var C=JSON.parse(JSON.stringify(r.currentSubscriptions)),I=HY(s,function(){return C}),x=I[1];f.next(e.internalActions.subscriptionsUpdated(x)),s=C,o=!1}),o=!0);var S=!!((g=h.type)!=null&&g.startsWith(i)),P=n.rejected.match(h)&&h.meta.condition&&!!h.meta.arg.subscribe,D=!S&&!P;return[D,!1]}return[!0,!1]}};function nye(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.context,s=i.apiUid,o={invalidateTags:ko(e+"/invalidateTags")},a=function(h){return!!h&&typeof h.type=="string"&&h.type.startsWith(e+"/")},c=[Xge,Gge,Kge,Yge,Zge,Jge],l=function(h){var f=!1,p={currentSubscriptions:{}},g=yl(Kr({},t),{internalState:p,refetchQuery:u}),y=c.map(function(w){return w(g)}),v=tye(g),b=Qge(g);return function(w){return function(A){f||(f=!0,h.dispatch(r.internalActions.middlewareRegistered(s)));var S=yl(Kr({},h),{next:w}),P=h.getState(),D=v(A,S,P),C=D[0],I=D[1],x;if(C?x=w(A):x=I,h.getState()[e]&&(b(A,S,P),a(A)||i.hasRehydrationInfo(A)))for(var N=0,R=y;N<R.length;N++){var $=R[N];$(A,S,P)}return x}}};return{middleware:l,actions:o};function u(h,f,p){return p===void 0&&(p={}),n(Kr({type:"query",endpointName:h.endpointName,originalArgs:h.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:f},p))}}function Od(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,IS([t],e))}var i6=Symbol(),rye=function(){return{name:i6,init:function(t,e,n){var r=e.baseQuery,i=e.tagTypes,s=e.reducerPath,o=e.serializeQueryArgs,a=e.keepUnusedDataFor,c=e.refetchOnMountOrArgChange,l=e.refetchOnFocus,u=e.refetchOnReconnect;cme();var h=function(le){return typeof process<"u",le};Object.assign(t,{reducerPath:s,endpoints:{},internalActions:{onOnline:ub,onOffline:DS,onFocus:lb,onFocusLost:OS},util:{}});var f=Bge({baseQuery:r,reducerPath:s,context:n,api:t,serializeQueryArgs:o,assertTagType:h}),p=f.queryThunk,g=f.mutationThunk,y=f.patchQueryData,v=f.updateQueryData,b=f.upsertQueryData,w=f.prefetch,A=f.buildMatchThunkActions,S=zge({context:n,queryThunk:p,mutationThunk:g,reducerPath:s,assertTagType:h,config:{refetchOnFocus:l,refetchOnReconnect:u,refetchOnMountOrArgChange:c,keepUnusedDataFor:a,reducerPath:s}}),P=S.reducer,D=S.actions;Od(t.util,{patchQueryData:y,updateQueryData:v,upsertQueryData:b,prefetch:w,resetApiState:D.resetApiState}),Od(t.internalActions,D);var C=nye({reducerPath:s,context:n,queryThunk:p,mutationThunk:g,api:t,assertTagType:h}),I=C.middleware,x=C.actions;Od(t.util,x),Od(t,{reducer:P,middleware:I});var N=Vge({serializeQueryArgs:o,reducerPath:s}),R=N.buildQuerySelector,$=N.buildMutationSelector,U=N.selectInvalidatedBy;Od(t.util,{selectInvalidatedBy:U});var Y=jge({queryThunk:p,mutationThunk:g,api:t,serializeQueryArgs:o,context:n}),z=Y.buildInitiateQuery,j=Y.buildInitiateMutation,q=Y.getRunningMutationThunk,V=Y.getRunningMutationsThunk,Q=Y.getRunningQueriesThunk,K=Y.getRunningQueryThunk,ee=Y.getRunningOperationPromises,ne=Y.removalWarning;return Od(t.util,{getRunningOperationPromises:ee,getRunningOperationPromise:ne,getRunningMutationThunk:q,getRunningMutationsThunk:V,getRunningQueryThunk:K,getRunningQueriesThunk:Q}),{name:i6,injectEndpoint:function(le,ce){var re,de,ve=t;(de=(re=ve.endpoints)[le])!=null||(re[le]={}),nQ(ce)?Od(ve.endpoints[le],{name:le,select:R(le,ce),initiate:z(le,ce)},A(p,le)):$ge(ce)&&Od(ve.endpoints[le],{name:le,select:$(),initiate:j(le)},A(g,le))}}}}},iye=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},sye=Object.defineProperty,oye=Object.defineProperties,aye=Object.getOwnPropertyDescriptors,s6=Object.getOwnPropertySymbols,cye=Object.prototype.hasOwnProperty,lye=Object.prototype.propertyIsEnumerable,o6=function(t,e,n){return e in t?sye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},fu=function(t,e){for(var n in e||(e={}))cye.call(e,n)&&o6(t,n,e[n]);if(s6)for(var r=0,i=s6(e);r<i.length;r++){var n=i[r];lye.call(e,n)&&o6(t,n,e[n])}return t},tT=function(t,e){return oye(t,aye(e))};function a6(t,e,n,r){var i=F.useMemo(function(){return{queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}},[t,e,n,r]),s=F.useRef(i);return F.useEffect(function(){s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}var BD=Symbol();function zD(t){var e=F.useRef(t);return F.useEffect(function(){fS(e.current,t)||(e.current=t)},[t]),fS(e.current,t)?e.current:t}var LA=WeakMap?new WeakMap:void 0,uye=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=LA==null?void 0:LA.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return ef(a)?Object.keys(a).sort().reduce(function(c,l){return c[l]=a[l],c},{}):a});ef(n)&&(LA==null||LA.set(n,s)),r=s}return e+"("+r+")"},dye=typeof window<"u"&&window.document&&window.document.createElement?F.useLayoutEffect:F.useEffect,hye=function(t){return t},fye=function(t){return t.isUninitialized?tT(fu({},t),{isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:Or.pending}):t};function pye(t){var e=t.api,n=t.moduleOptions,r=n.batch,i=n.useDispatch,s=n.useSelector,o=n.useStore,a=n.unstable__sideEffectsInRender,c=t.serializeQueryArgs,l=t.context,u=a?function(y){return y()}:F.useEffect;return{buildQueryHooks:p,buildMutationHook:g,usePrefetch:f};function h(y,v,b){if(v!=null&&v.endpointName&&y.isUninitialized){var w=v.endpointName,A=l.endpointDefinitions[w];c({queryArgs:v.originalArgs,endpointDefinition:A,endpointName:w})===c({queryArgs:b,endpointDefinition:A,endpointName:w})&&(v=void 0)}var S=y.isSuccess?y.data:v==null?void 0:v.data;S===void 0&&(S=y.data);var P=S!==void 0,D=y.isLoading,C=!P&&D,I=y.isSuccess||D&&P;return tT(fu({},y),{data:S,currentData:y.data,isFetching:D,isLoading:C,isSuccess:I})}function f(y,v){var b=i(),w=zD(v);return F.useCallback(function(A,S){return b(e.util.prefetch(y,A,fu(fu({},w),S)))},[y,b,w])}function p(y){var v=function(A,S){var P=S===void 0?{}:S,D=P.refetchOnReconnect,C=P.refetchOnFocus,I=P.refetchOnMountOrArgChange,x=P.skip,N=x===void 0?!1:x,R=P.pollingInterval,$=R===void 0?0:R,U=e.endpoints[y].initiate,Y=i(),z=a6(N?sp:A,uye,l.endpointDefinitions[y],y),j=zD({refetchOnReconnect:D,refetchOnFocus:C,pollingInterval:$}),q=F.useRef(!1),V=F.useRef(),Q=V.current||{},K=Q.queryCacheKey,ee=Q.requestId,ne=!1;if(K&&ee){var le=Y(e.internalActions.internal_probeSubscription({queryCacheKey:K,requestId:ee}));ne=!!le}var ce=!ne&&q.current;return u(function(){q.current=ne}),u(function(){ce&&(V.current=void 0)},[ce]),u(function(){var re,de=V.current;if(typeof process<"u",z===sp){de==null||de.unsubscribe(),V.current=void 0;return}var ve=(re=V.current)==null?void 0:re.subscriptionOptions;if(!de||de.arg!==z){de==null||de.unsubscribe();var Ne=Y(U(z,{subscriptionOptions:j,forceRefetch:I}));V.current=Ne}else j!==ve&&de.updateSubscriptionOptions(j)},[Y,U,I,z,j,ce]),F.useEffect(function(){return function(){var re;(re=V.current)==null||re.unsubscribe(),V.current=void 0}},[]),F.useMemo(function(){return{refetch:function(){var re;if(!V.current)throw new Error("Cannot refetch a query that has not been started yet.");return(re=V.current)==null?void 0:re.refetch()}}},[])},b=function(A){var S=A===void 0?{}:A,P=S.refetchOnReconnect,D=S.refetchOnFocus,C=S.pollingInterval,I=C===void 0?0:C,x=e.endpoints[y].initiate,N=i(),R=F.useState(BD),$=R[0],U=R[1],Y=F.useRef(),z=zD({refetchOnReconnect:P,refetchOnFocus:D,pollingInterval:I});u(function(){var V,Q,K=(V=Y.current)==null?void 0:V.subscriptionOptions;z!==K&&((Q=Y.current)==null||Q.updateSubscriptionOptions(z))},[z]);var j=F.useRef(z);u(function(){j.current=z},[z]);var q=F.useCallback(function(V,Q){Q===void 0&&(Q=!1);var K;return r(function(){var ee;(ee=Y.current)==null||ee.unsubscribe(),Y.current=K=N(x(V,{subscriptionOptions:j.current,forceRefetch:!Q})),U(V)}),K},[N,x]);return F.useEffect(function(){return function(){var V;(V=Y==null?void 0:Y.current)==null||V.unsubscribe()}},[]),F.useEffect(function(){$!==BD&&!Y.current&&q($,!0)},[$,q]),F.useMemo(function(){return[q,$]},[q,$])},w=function(A,S){var P=S===void 0?{}:S,D=P.skip,C=D===void 0?!1:D,I=P.selectFromResult,x=e.endpoints[y].select,N=a6(C?sp:A,c,l.endpointDefinitions[y],y),R=F.useRef(),$=F.useMemo(function(){return m_([x(N),function(q,V){return V},function(q){return N}],h)},[x,N]),U=F.useMemo(function(){return I?m_([$],I):$},[$,I]),Y=s(function(q){return U(q,R.current)},fS),z=o(),j=$(z.getState(),R.current);return dye(function(){R.current=j},[j]),Y};return{useQueryState:w,useQuerySubscription:v,useLazyQuerySubscription:b,useLazyQuery:function(A){var S=b(A),P=S[0],D=S[1],C=w(D,tT(fu({},A),{skip:D===BD})),I=F.useMemo(function(){return{lastArg:D}},[D]);return F.useMemo(function(){return[P,C,I]},[P,C,I])},useQuery:function(A,S){var P=v(A,S),D=w(A,fu({selectFromResult:A===sp||S!=null&&S.skip?void 0:fye},S)),C=D.data,I=D.status,x=D.isLoading,N=D.isSuccess,R=D.isError,$=D.error;return F.useDebugValue({data:C,status:I,isLoading:x,isSuccess:N,isError:R,error:$}),F.useMemo(function(){return fu(fu({},D),P)},[D,P])}}}function g(y){return function(v){var b=v===void 0?{}:v,w=b.selectFromResult,A=w===void 0?hye:w,S=b.fixedCacheKey,P=e.endpoints[y],D=P.select,C=P.initiate,I=i(),x=F.useState(),N=x[0],R=x[1];F.useEffect(function(){return function(){N!=null&&N.arg.fixedCacheKey||N==null||N.reset()}},[N]);var $=F.useCallback(function(de){var ve=I(C(de,{fixedCacheKey:S}));return R(ve),ve},[I,C,S]),U=(N||{}).requestId,Y=F.useMemo(function(){return m_([D({fixedCacheKey:S,requestId:N==null?void 0:N.requestId})],A)},[D,N,A,S]),z=s(Y,fS),j=S==null?N==null?void 0:N.arg.originalArgs:void 0,q=F.useCallback(function(){r(function(){N&&R(void 0),S&&I(e.internalActions.removeMutationResult({requestId:U,fixedCacheKey:S}))})},[I,S,N,U]),V=z.endpointName,Q=z.data,K=z.status,ee=z.isLoading,ne=z.isSuccess,le=z.isError,ce=z.error;F.useDebugValue({endpointName:V,data:Q,status:K,isLoading:ee,isSuccess:ne,isError:le,error:ce});var re=F.useMemo(function(){return tT(fu({},z),{originalArgs:j,reset:q})},[z,j,q]);return F.useMemo(function(){return[$,re]},[$,re])}}}var NS;(function(t){t.query="query",t.mutation="mutation"})(NS||(NS={}));function mye(t){return t.type===NS.query}function gye(t){return t.type===NS.mutation}function VD(t){return t.replace(t[0],t[0].toUpperCase())}function FA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,iye([t],e))}var yye=Symbol(),vye=function(t){var e=t===void 0?{}:t,n=e.batch,r=n===void 0?Af.unstable_batchedUpdates:n,i=e.useDispatch,s=i===void 0?Yx:i,o=e.useSelector,a=o===void 0?tY:o,c=e.useStore,l=c===void 0?cY:c,u=e.unstable__sideEffectsInRender,h=u===void 0?!1:u;return{name:yye,init:function(f,p,g){var y=p.serializeQueryArgs,v=f,b=pye({api:f,moduleOptions:{batch:r,useDispatch:s,useSelector:a,useStore:l,unstable__sideEffectsInRender:h},serializeQueryArgs:y,context:g}),w=b.buildQueryHooks,A=b.buildMutationHook,S=b.usePrefetch;return FA(v,{usePrefetch:S}),FA(g,{batch:r}),{injectEndpoint:function(P,D){if(mye(D)){var C=w(P),I=C.useQuery,x=C.useLazyQuery,N=C.useLazyQuerySubscription,R=C.useQueryState,$=C.useQuerySubscription;FA(v.endpoints[P],{useQuery:I,useLazyQuery:x,useLazyQuerySubscription:N,useQueryState:R,useQuerySubscription:$}),f["use"+VD(P)+"Query"]=I,f["useLazy"+VD(P)+"Query"]=x}else if(gye(D)){var U=A(P);FA(v.endpoints[P],{useMutation:U}),f["use"+VD(P)+"Mutation"]=U}}}}}},wye=Hge(rye(),vye());const _ye="https://booking-com15.p.rapidapi.com/api/v1/",bye=Lge({baseUrl:_ye,prepareHeaders:async(t,{getState:e})=>{const{token:n}=e().common;return t.set("x-rapidapi-key","7539942776msh1463a65dd77c7eap1b64e4jsne6e6d325402e"),t.set("x-rapidapi-host","booking-com15.p.rapidapi.com"),n&&t.set("authorization",`${n}`),t}}),Eye=async(t,e,n)=>{const r=await bye(t,e,n);return r.error&&r.error.status,r},RS=wye({baseQuery:Eye,endpoints:()=>({})}),sQ=qd({name:"common",initialState:{token:null},reducers:{updateAuthTokenRedux:(t,e)=>({...t,token:e.payload.token})}}),{updateAuthTokenRedux:kS}=sQ.actions,Aye=sQ.reducer,Cye=qd({name:"loader",initialState:{isLoading:!1},reducers:{setLoading:(t,e)=>({...t,isLoading:e.payload})}}),Tye=Cye.reducer,Sye={key:"root",storage:JY,whitelist:["common"]},Iye=k3({common:Aye,loader:Tye,[RS.reducerPath]:RS.reducer}),xye=cge(Sye,Iye),q3=Ume({reducer:xye,middleware:t=>t({serializableCheck:{ignoredActions:[$3,cP,U3,j3,B3,z3]}}).concat(RS.middleware)}),Pye=pge(q3);Fge(q3.dispatch);function Oye(t){for(var e=[],n=0;n<t.length;){var r=t[n];if(r==="*"||r==="+"||r==="?"){e.push({type:"MODIFIER",index:n,value:t[n++]});continue}if(r==="\\"){e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});continue}if(r==="{"){e.push({type:"OPEN",index:n,value:t[n++]});continue}if(r==="}"){e.push({type:"CLOSE",index:n,value:t[n++]});continue}if(r===":"){for(var i="",s=n+1;s<t.length;){var o=t.charCodeAt(s);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){i+=t[s++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(n));e.push({type:"NAME",index:n,value:i}),n=s;continue}if(r==="("){var a=1,c="",s=n+1;if(t[s]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<t.length;){if(t[s]==="\\"){c+=t[s++]+t[s++];continue}if(t[s]===")"){if(a--,a===0){s++;break}}else if(t[s]==="("&&(a++,t[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(s));c+=t[s++]}if(a)throw new TypeError("Unbalanced pattern at ".concat(n));if(!c)throw new TypeError("Missing pattern at ".concat(n));e.push({type:"PATTERN",index:n,value:c}),n=s;continue}e.push({type:"CHAR",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}function Dye(t,e){e===void 0&&(e={});for(var n=Oye(t),r=e.prefixes,i=r===void 0?"./":r,s=e.delimiter,o=s===void 0?"/#?":s,a=[],c=0,l=0,u="",h=function(x){if(l<n.length&&n[l].type===x)return n[l++].value},f=function(x){var N=h(x);if(N!==void 0)return N;var R=n[l],$=R.type,U=R.index;throw new TypeError("Unexpected ".concat($," at ").concat(U,", expected ").concat(x))},p=function(){for(var x="",N;N=h("CHAR")||h("ESCAPED_CHAR");)x+=N;return x},g=function(x){for(var N=0,R=o;N<R.length;N++){var $=R[N];if(x.indexOf($)>-1)return!0}return!1},y=function(x){var N=a[a.length-1],R=x||(N&&typeof N=="string"?N:"");if(N&&!R)throw new TypeError('Must have text between two parameters, missing text after "'.concat(N.name,'"'));return!R||g(R)?"[^".concat(eh(o),"]+?"):"(?:(?!".concat(eh(R),")[^").concat(eh(o),"])+?")};l<n.length;){var v=h("CHAR"),b=h("NAME"),w=h("PATTERN");if(b||w){var A=v||"";i.indexOf(A)===-1&&(u+=A,A=""),u&&(a.push(u),u=""),a.push({name:b||c++,prefix:A,suffix:"",pattern:w||y(A),modifier:h("MODIFIER")||""});continue}var S=v||h("ESCAPED_CHAR");if(S){u+=S;continue}u&&(a.push(u),u="");var P=h("OPEN");if(P){var A=p(),D=h("NAME")||"",C=h("PATTERN")||"",I=p();f("CLOSE"),a.push({name:D||(C?c++:""),pattern:D&&!C?y(A):C,prefix:A,suffix:I,modifier:h("MODIFIER")||""});continue}f("END")}return a}function eh(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function oQ(t){return t&&t.sensitive?"":"i"}function Nye(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(t.source);i;)e.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(t.source);return t}function Rye(t,e,n){var r=t.map(function(i){return aQ(i,e,n).source});return new RegExp("(?:".concat(r.join("|"),")"),oQ(n))}function kye(t,e,n){return Mye(Dye(t,n),e,n)}function Mye(t,e,n){n===void 0&&(n={});for(var r=n.strict,i=r===void 0?!1:r,s=n.start,o=s===void 0?!0:s,a=n.end,c=a===void 0?!0:a,l=n.encode,u=l===void 0?function(N){return N}:l,h=n.delimiter,f=h===void 0?"/#?":h,p=n.endsWith,g=p===void 0?"":p,y="[".concat(eh(g),"]|$"),v="[".concat(eh(f),"]"),b=o?"^":"",w=0,A=t;w<A.length;w++){var S=A[w];if(typeof S=="string")b+=eh(u(S));else{var P=eh(u(S.prefix)),D=eh(u(S.suffix));if(S.pattern)if(e&&e.push(S),P||D)if(S.modifier==="+"||S.modifier==="*"){var C=S.modifier==="*"?"?":"";b+="(?:".concat(P,"((?:").concat(S.pattern,")(?:").concat(D).concat(P,"(?:").concat(S.pattern,"))*)").concat(D,")").concat(C)}else b+="(?:".concat(P,"(").concat(S.pattern,")").concat(D,")").concat(S.modifier);else{if(S.modifier==="+"||S.modifier==="*")throw new TypeError('Can not repeat "'.concat(S.name,'" without a prefix and suffix'));b+="(".concat(S.pattern,")").concat(S.modifier)}else b+="(?:".concat(P).concat(D,")").concat(S.modifier)}}if(c)i||(b+="".concat(v,"?")),b+=n.endsWith?"(?=".concat(y,")"):"$";else{var I=t[t.length-1],x=typeof I=="string"?v.indexOf(I[I.length-1])>-1:I===void 0;i||(b+="(?:".concat(v,"(?=").concat(y,"))?")),x||(b+="(?=".concat(v,"|").concat(y,")"))}return new RegExp(b,oQ(n))}function aQ(t,e,n){return t instanceof RegExp?Nye(t,e):Array.isArray(t)?Rye(t,e,n):kye(t,e,n)}const Lye=[],is={HOMEPAGE:"/",LOGIN:"/login",REGISTER:"/register",ABOUT:"/about",RESET_PASSWORD:"/reset-password",TOURS:"/tours",CONTACT:"/contact",TOURS_DETAIL:"/tours-detail/:slugId",DESTINATION:"/destination",DESTINATION_DETAIL:"/destination-detail/:countryName",BLOG:"/blog",BLOG_DETAIL:"/blog/:id",BOOKED_TOURS:"/booked-tours",FAVORITE_TOURS:"/favorite-tours"},cQ={PUBLIC:is.LOGIN,PRIVATE:is.HOMEPAGE},Ue={HOMEPAGE:{path:is.HOMEPAGE,title:"Home"},LOGIN:{path:is.LOGIN,title:"Login"},REGISTER:{path:is.REGISTER,title:"Register"},LOGOUT:{path:is.LOGIN,title:"Logout"},DESTINATION:{path:is.DESTINATION,title:"Destination"},ABOUT:{path:is.ABOUT,title:"About"},RESET_PASSWORD:{path:is.RESET_PASSWORD,title:"Reset Password"},TOURS:{path:is.TOURS,title:"Tours"},TOURS_DETAIL:{path:is.TOURS_DETAIL,title:"Tours Detail"},DESTINATION_DETAIL:{path:is.DESTINATION_DETAIL,title:"Destination Detail"},BLOG:{path:is.BLOG,title:"Blog"},CONTACT:{path:is.CONTACT,title:"Contact"},BLOG_DETAIL:{path:is.BLOG_DETAIL,title:"Blog Detail"},BOOKED_TOURS:{path:is.BOOKED_TOURS,title:"Booked Tours"},FAVORITES_TOURS:{path:is.FAVORITE_TOURS,title:"Favorite Tours"}},Fye="/assets/HomePageBanner4-264c5241.jpeg",$ye="/assets/whyUs-5254b9f0.png",Uye="/assets/whyUs2-38a56f82.png",jye="/assets/Trisog-logo-774b61b2.svg",Bye="/assets/Trisog-header-logo-47c3fa03.svg",zye="/assets/auth-banner-b249f346.jpg",Vye="/assets/blank-profile-08eeaf82.png",Hye="/assets/TourPageBanner-16059184.jpg",Wye="/assets/destinationPageBanner2-e2f89e58.jpeg",qye="/assets/ContactPage-banner-38490ce3.jpg",Gye="/assets/phoneIcon-fbd78815.png",Kye="/assets/locationIcon-e31b8e95.png",Yye="/assets/japan-1d3bb4f3.jpg",Qye="/assets/thailand-f6f4bf56.jpg",Zye="/assets/UnitedKingdom-516bc434.jpg",Jye="/assets/australia-17da54bf.jpg",Xye="/assets/canada-48caa207.jpg",eve="/assets/egypt-548c70cd.jpg",tve="/assets/france-c2ed386f.jpg",nve="/assets/india-279861e7.jpg",rve="/assets/italy-4eb5f58e.jpg",ive="/assets/newzealand-15b695a4.jpg",sve="/assets/norway-66ef1114.jpg",ove="/assets/switzerland-298ca646.jpg",ave="/assets/testimonial1-a7fc23d5.jpg",cve="/assets/testimonial2-4f87632d.jpg",lve="/assets/testimonial3-d9afe5bc.jpg",uve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAilBMVEUAAAAFEDYCDzMEEDYEEDYFDzMEEDUAFTEEEDUEDzUEDzUDDzUAADUEDzUFEDUEEDUFDzUEDzUFDzUEDDQEEDUEDzQEDzUEEDYEDjQFDjUEDzUEEDUFEDUFDzUFDzUDDzMEDzUEEDUDEDUEEDUEETYAEDgEDzYFETUECzUGDjkEEDUEETUEEDQFEDUwPaVAAAAALnRSTlMAzBmzvzN/DMSLYU0FyKdxbGZcJ5JXUjcuJLirnJmEFY93Sj87D7ypHRGwRkOjI5qq/wAAAilJREFUOMuFlOeSozAQhOdDAgMmOOGc83p33//1rrBG6IoL23807hq6WjMtSx/j9CzRfS8/oqKWBQx+6itKPiWC+KfGadtTWOrb//viBAqZACT/Fh3kL4BXgsNmePir2N7ikUXPxgBpsvpDrALKLN7wABu13PUI8BhKQJSkgBkPpIDLFezC8SMDmFvXZ6GcOe/1sZDVGhpxOM9gJopv7PhDfkNkIBfFCA5Kw9yzt2XXOVLqA75ctYBO77R25+EbxspZJq6YsO7Gvb6vdAwzmLpyRuKKjJn/wtIJDTqhmofmRe0c0seUU5JqcDbe5RCKdwFn9RpfiCXSGKWcu5w823MJS+eQeU4UYuQ9DlLe2/kEJUz6su9K6ULLF7V6DXM2neKYjS8zsvY4tocCUj/7HcfwjWkPE7a1ZFS1xh099vQFBu8NXT3zRRzpUAZwUVafUAxdOGuKgkTFA13Y9toNqZOoI5kZGer0Gqx0+OYkkrBzubEmt9u5fftu6a0o9MeWvTrZAFSRXlppHwKRO40ozpwW0s+WBvEmbj+6/akvn/6/IoxgSxX2GzQ0/4o7uVzBbpN57J9aP8zqOBHJcTDH0aeLkQ9zwOm9+KjZ70oUVTZZPOWqrzC4T325uubZhgCjFn0s7loplsOSUscZEDUlifRgGH3EF3/9w7I5VRZYR/3GjJ16mdfHNYpd6AtJYz/M98bdTken77IvqShNkn9F8m/Mq9Jk9XDVo38Bhzgcojam2IUAAAAASUVORK5CYII=",dve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAilBMVEUAAAAFEDYFDzQAETMFEDYFDzYEEDYAHCQFDzQDEDUEEDUADzkAFDYEEDUEDzUFEDUFDzQEDzQFEDUEEDUADzQFEDUFEDYFEDUEEDUEEDUEDzUEEDUFEDYEDzUEDzUEDzUDDjUEEDUCDjUEDzUFDzUEEDUEDzYDEDUEDzUCDzYFDzUFEDUEEDYFETZnZ3QzAAAALnRSTlMAzDMZgIvDB2JNshAMwLuZZldsPxSnpKB0cDktlsaPhlNEJiJfq35Ith2dk3jI3Lp9GgAAAi5JREFUOMuF0oeSqjAAheFzpMeE0Ku9rLrl/V/vElSQq7v+w0CAbwJDwHOWXuZ2I/E2kQfVkSyT2d9uxhZAtnUE3dVm9zs8KNzabVZLCmebvYbamcyffJL54RXkaQIzzJuP0H52DS2M2ao/Cwggtifly/6QGOAtGPf+REBSO8+tzsLCvKBA37oELL78XBl5PJMt0G0I/V8hXP1J8jPRBbA3ZoTzOKn92QB9KApBWkDsYoSXBUnRbdsBOoyQEsDqa4SpErH6aBl1d+/wZIaVhOfGA9xxLQNa0BoH1jcomdxWfz9AkXtYaWCjZCdnVwhd9TARuMOAdhSFOooqVlH0o2/QantY2gPUbhiGDM2uG7mUBt6XUvI0wPAA7Po3EZG5lBq4/kJscMpsgAyAluZqmQAeAwP3u7mabW18FBhnjIF9D4sIyK4zAvDQVBDfIyyOtu3wq/trVG5Glw4uawxgOB64cBx1dJxFPyjQQVZAnQDBjxyhVBWwcIAt52gYGKgaQHTQWWCE2DBC7ErYJS7hCrfvmIkZcPYfISKuW+VbjCO3lHdoatlOIE6CS1VQMZF4hLHCFAJbW+u137EB1hmwWE3h2Ahn3AHLzXsYhejw5T0s10AtMIHe/LEr9LgFivUU2nzsClNaZtmncDd77AqrHEgp8eYdl37+DfOLjbDxnpMpN+apx3qAMuTLvvelxJ4NximD//I1yTLNAGxcD3/lNXVO6jo+23ibFXwI5cxx7x8QpyJsmu/aYAAAAABJRU5ErkJggg==",hve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAhFBMVEUAAAAFEDYEEDYADzMDEDUBDjQFDzUEEDUFEDYADjcEDzUFEDUFEDYFDjQAEzEEDzUEEDUEEDUFEDYEEDUEEDYFDzYFEDUEDzYEDjUFDzYEETYFDzUEETUEEDQEDTQFEDUFEDYEDzUEEDUDDzUDETUEETYDEDUEDzcGEDQFEDYHFDsDDjX6vtobAAAALHRSTlMAzLIZTBOaf2sFxqZnMw2+t6pfOC6WcGSNinlYRTwmwaGDdVMdd09BLJMnI/RDWD8AAAHtSURBVDjLjZTrdoIwEIR3AgQFuSoKFa9Yte37v183iTk5Aezp98eNTJbd2QTyCMp0Sf8hxSn6Dutdfdj8qVvBkcgheKfbwFCKAprLG2mnVZmOn/cuAXCN5oSPM5jOLqO9AMR80vywaDK3jD6AZE3/YSOA3i6y+BJaH+OafAKB09OEWzBVrt8sgP1UWeiOeiBtgK318XPGtAsxn6iWnLVQm8F80JgdoBpcywfRgITDGKWYES5LSBsLNLwFGORL6Pncm5SmtrVSC5KmxqvXU15goYMbEBPdgUWWogu42AQDOXhfqV8j9KAEDClRCHiTW5v1BfjmHwkDe1Gh89sBet39yiwZia12bjRggR0F0JzMkZaq7BiCfM5sxhGGx6v/kPIENUWrhWJlam1Vt8dQcbCjfbWyhWFHioaFUyq0bJlkKltsyqVPeAI2fYPKBAVqbvbLH69rJQBCG2RcI/AcWeG2LHUQAirQk3T09uYFiX3QQpoTKWiOPRB4JRyT85xuKRDbEsqI3hMCPzbh4u8PVmMDlzCID2Nd5qaKu39/fA4QVnd1/0YCp/X4mubE1FC31HETaGlK1AEi9z8I2+NElg8F0Dqdoz6HkXdcgZrmKGAs+wn38V35Im80y+YLqMhcyBNXeKS3BL3K0Sai2ZPPL3hkFmKP4BTLAAAAAElFTkSuQmCC",fve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAeFBMVEUAAAAFEDYFEDUFDzUFEDQFDzUEEDYFEDUEDzUEDzUEDzUFDjUAGTIEEDUFEDYFDzUAFDcEEDYEEDUEEDQCDjQFDzUEDzUFDzYFDzQDDTUEDzUEDzUGDzUDEDQEDzUEEDUGDzUEDzYGDjIEEDUEDzQEDzQEETcDETa2lMrOAAAAKHRSTlMAzICdcDKymce7thgIrqJlDMGocySVjYhqHJF2WE1IPCtdJ4JCe3lMIpiPKQAAAZJJREFUOMt9lFmSGyEQBV/S+75J3ZJG20ge+/43tOkIy2MBnR/wk0BVRRV6ccvydOqluivz8aIgVyxRrQOWz6CYgknh+oBiLsj7gLeDD/VgOrjrAreAeIROahgNSDdIFACe0kLRMkodPEJiQyvFALP0BQpxIpWNDQ7SnjIoGpvoEeCHvT4Kimc4qgZI7Ga2Cn6VSkDabRX8CGdpxiad2PdD9BBLB9ivYSQKMnBa055WfWjMIy6HuXLFlka6r4/ueTEcHfEJNvnDeoaoAdo9ZI7Ywd93Cma7lLW92xEv/zJYyxjZosceMYEoW1m2xU9ebIodMKQrm2IF+bl/BREWn/Dr26FFSm2rLY5Y0MpynaZpBJY9kBkcET7W1sDBEWO79SkwmFtLniWnnMEvWqqqqiXV69LHftEl9sfo8uGIOcY/m7kz1o1PHIncN3beH+mn2zvGN+zc9UbmGag7jL52LKq3Rim9f1UH6e2/owUc5OELMLuXtgCTvHQAxcn8YS42P/Jdyzcym3BQjaMyh7yMprca/AbwjxFgjx5c+gAAAABJRU5ErkJggg==",pve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAhFBMVEUAAAAFEDYDETUICjMEEDQFDzQFEDYEEDUEEDYEEDUEDzUAFDYEEDYFEDYFDzUFEDUEEDUFDjQDEDUGDjMEDDUFDzUFEDUFEDUEEDYFEDUEEDQEDTMEEDUEEDUEDzUFEDUFEDUDEDUFEDQEDzUAETIEEDYFEDUEDzUAAC4FEDUEETQAEzIXY0VFAAAALHRSTlMAzE0ZgDOAv7KZZgyzppnHcVdJIx62oYx2YUMmrqqGeW5PMCwRwZy6BZQ7GGy/AMkAAAGOSURBVDjLvZPpcqswDEb1oWADvlz2QEjS7On2/u9XGUrS0Ng/e2YYazRnjCXZNGMdZxCya01eONJ5IuRNY7xigfUYHFF4xRc9RZnyitso+Gaz9XkGdzLfIY9Yhd8kOHprCSbx4K1mix8s3V6CPLiRY+/yenQPrcKHQ9zoNf+g0o1DXGJG6hC5jHVwQ8eBu5OLf/c4WhD9pajv8SX3iCvU0r+yVHLVvSM8Qw1z3BApMHnYYUWfZWFk75x8mBTqJNdNYWnIy9selixxe3Uwkupup6MxLuvf/3zBhPQywoQ6/7oQ+4rXlytzq08hFszvl4pPHeJHL0Bil05eVPUKaCaGIiFH+NiWbFhO1ueiOFujHorLdk+HHOvbqP9PI38q9ujHoETpFY2OhzbxNSKneOiHh/gKYTM8waJ/Ksb2VOcMOXMHMNnMEzEMU0mbBqiIKqAxIqZhqGciBBEZ8YGEQwwWEcJM1OOObBvZtoYS8Lij44xWNOlyEiXjES1uUSsVydciVQMp2jEzKyaBk9VofAF3hhRxUrMHYAAAAABJRU5ErkJggg==",mve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAeFBMVEUAAAAFEDYDEDUEEDYFDzQGCzMEDzYFDzYAEzEFEDYFEDUFDzUEEDYFDzYEEDUEEDYEEDUEEDUEETUDETQDDTQFDjMFEDYEDzYEDzQEDjQADzAACjYFEDUEDzYEDzYEDzYEEDUFEDYGDzUFDzcFDzUGETUEEDYADzOy6gelAAAAKHRSTlMAzE2zZhm/Mw2mmcq3hX+wrHp2Sikgn5M7HBAFb1VSQHNqWTG8ikYXuxh2oQAAAYFJREFUOMvV1MmWojAAheF7SYhhnkEZxLF8/zfsFLRdRLF10Zv+Vvfk/MohCwCdhwH/LoxdwBX8gNCIGUjnjTzgASFzvHVkCNLBWw6DOYyEqCsAW194e/weA1B5O+2fvkPOoRCRqoGBKkqYA/tp9CjoCI7L0O+aC7pLqoEDz/riTWNTkKrAMiTpY8MtgJbyPgYTlrBCIWNuS34B2FHex8mE0g593Cg7lbroMlZaefMoKCitUMUez3AorgklzAivqRkFNxHlIsxE4p0AlE3aTNez8adR1i76fA6Dzy6cCHmEpT2qML7BklGgJ2NnKaHhWUcZmUMLPurzpyPRAm2WPhwC9o+DUGo8kXMoYfsPw27rxJ+ErvhzPc24w2sJqUw4DTPryMGqihzQfIejrzgRq/+7Id35ZQx9HjLflPpNOBsDytehhx8x61fh7VDat/oqNP5deP40rMjy6XtXY4V6ugyPV6yIqOxnn8gRK3aKYu/86Ekfq774QLhYV6VcCKIWd78ATWMTqTloXfEAAAAASUVORK5CYII=",gve="/assets/Trail-8042a45c.jpg",yve="/assets/santorini-91c768c8.jpg",vve="/assets/teamMember-2afcba2c.jpg",wve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAkFBMVEUAAAAFEDYEEDYFDzQEDzQEEDUEEDQDEDUAETMEEDYAFTAAGCwFDzYDDTQCDzMEEDUEEDUFEDYEEDYFDzUDEDUFDzUFDzUFDzUFDjYAETMEEDYEEDYFEDYEEDUFEDUCDTYEDzUEDzUEEDYEEDUFDzUEEDUFEDUEEDUEEDUEEDUEEDUFDzQEEDUECjQEEDUEDzQQ2421AAAAMHRSTlMAzLMzZpmATRm/CwaFJRZ5xZ9gVknKi1oqEX9xkXMvILq1lnxpUKU8QKypbEUdrjcYNZuRAAAClUlEQVQ4y52S2ZKjMAxFJRlim31fAllosi/d//93I0MqkGT6YeZWQSFz6kqWBP8jf9FmUIfe19eCI2c4CvefnOraJQrH63c7C0qNJH0PNbof4FEDFCEMkthUVo62JOsdc0ESwGLxcF/kV0cJiON3LjgkE2iUEd0AVsiO9c+sPjoEryA4O/QUp6G0w3TiWmdK/TyNI8vlIsr2eaMLlzKB612YjX/Ybw1ugsmDa0hNoLtCu+ho43t9wF3FRfPMrPAGT9DZbgUX2ORRS98BQBWThId4EDMwdYZICO4EqXFkI1fhfQa+9CymzHA4kssvft2FWJEQdiHEeoZaGEsH7GYIdMaNwJnIn0i11BiTBtYaFXiXYEpdh+QyYUeLzTBbkTRY8Ud5YNPjvMba1LSkLEZGB5FZtrAFQDEHTahyrsgvsKiA5YVgNusBOoof5wH2dI1IwmaBMWezUtPF3fDHZ69TyWcnE6pIQnDd0t5VSzxnABMokCEbwLZMuKOhjwlRWas+Oh+H/J/gaSu5jLVQjqQuqdW2N5fxPsGCDUud59iY7Ys8NLcvz58g7iHNrZtGXDIhdTGO2vkA2bDTZW5RjzzQDRsaafkBpuDjSuclikvKzS1g0Mp+A2VXs0ugvQ6tcwLKuI7DDl5B4oY5OsGj9giF2a6HgldHqZW5I6Ju7hebDY/w1AtIKzBqMPpGu4blN/wdjJENMwGgbmnF7yj7BfzKJcAV7UfChuAX0LK2JM0uXE7wbgj6Bj5DkqtbSahQU+qqnmq2JpirPdynwPHI3RMlgQMQbOULWB9wps4HYHS7UpAQvMrB5FAIVhKd9Gk42UiKlrR/A10eQjqOqceqCj3CAiA7kwtv+mmt8SxtS/jxwn01ZoJ/1h8zeykJVcr8FAAAAABJRU5ErkJggg==",_ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAilBMVEUAAAAFEDYBDzMEEDYEDzYEEDUEDzYFDzUEDzYFEDUFDjQBEjMEDzUFEDUEEDYDEDUEDjQEEDYEDzUEDjYFDzQEDzQEDzUEEDQFEDUEEDUEDzUFDzUEDTUAETcAGC8FDzYFEDUEETYEDzYAFTgEDzUEDzUEDzQFDjQFEDUGDzUFDzQFDzQFETQEDzTk+hARAAAALnRSTlMAzBmyv5l/ZrWnNA66n6xLHpR8Xlkwg02MckQsJxQKx8R4QAWQUToio4huYmtVSlV9lgAAAjhJREFUOMuFk+dyq0AMRiW2AkvvGJtibNzy/q93hRPfOBMI5w+zM2clsd8IPmmC4Lw7wDY5tl7byWnbVKiOTdyqbbNhvgWhTv9y0jgSBOoQHG6tewfW9mleqci0KYgE1rE8w3HuWTB5iwCcSvbFcuWTaIfnFcZ06HF5i22Ui6olkZVCXGPsuB/MSqa1szDmyW5FlSaxQUSt0autg33BX08waJ64n5U5oqjDGxIa8fRDc0ue/k9PVE2MdxqWD4MS6L55ExO7mr5hArCvsAc4dw7sL4wmffcsbU5lVwcF47mNBqM5T48c2z7CO6EcPd9mmtmjzSzJeemCy7N94bIYVmABmCJi1G9kJe4n/rHsFQxqtKrbnD5KZq4XHi6KdgFjCQ2nihnuYXePjFrydmR0AYCQA7g4wCpSgoMWUEma0pzWRYr2YQOhIhojXvUcfgSvfwbvJ5BfV8UqB+jqr8CL2F8VvQAa3MGTc2uzNW+PFgz4Op3NZU08+8+IX1jh71JlPzdUNL0kcZ1jkGOcQUS5Cux6C4gskbdswZ0iRHQA/CpgWN57H7X08FLP/VTpRcHhu+yEdDAFwJBfxkfztW7CRx4ryfR3TpkmG+ufm1moZHcE4oP54eunBbWh9itYyWvJVU4neu9NqscsJijoZiaQ0gb3wbucjh+Gv4n5aRbDrMdIoNoFzL9y4WTSjJ5J3x9f1LM4AYT35ziHQD0HzlTq/lwDZxYb2ISROOF5WxxR2Mgt2MZRd+f4l/AP1xgiu6hXzyYAAAAASUVORK5CYII=",bve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAhFBMVEUAAAAFEDYFDTMEEDYEEDUFEDUFDzUFDzUDDzUDEDUAEzkEEDUEDjUFDjQEDzYFDTUEDzIEEDYEDzUEDzYFEDYEDzUGCzMFDDUEEDUFEDYEEDYEEDUDDzUEEDUFEDUEEDYEDjUEEDcDDjQAHDAEDzUFEDYFEDYEEDYHCzMFDzQFDzUAFCjCnx9qAAAALHRSTlMAzBmywGxmm1JMDYBfND8rE766tqKOHSerl4NyR6+mdlg7IwfEkol5FzCHDDTjjMYAAAGpSURBVDjLvZRZcoMwEERpSYAEYjE7NpjFe3L/+0VQJmVADvlJ+gNGo1dCPTOF8T/yvF+CFHb/G64HBdz7NsjhkxI03wT3CA1DnmFtgXEyPDO6RQa4jW9CYf4IHvCsTlj8fGYdTxGh8N9zOdzvOGOMbH55VAX7vWc6LxV/w1Vzqw5jn3owxfxW1hvnPa7zxIkxRwe6CBYZS3tLsnbpaI1f8dDMSLbKCVXslXy0y9SdRppGOOyyTF0gdAYTtkiYmrEKM1/YIAvuONWO5IJbTZpEGDUDcxu0q6S5L+v4ub2jSdpYvOvD2XGTznV5plJ05GXbaw5T2CQX98BFTk5qEdmvpiuXAYWh0wR+BtwthjuAEj14zKrWTEcr1G0Deg6mFhOSBZ5XcWnd0oRiFKs/ZHcf6gj53aRXseJys7hPTuvyhgyNKbkQfq+8rsasfF202cPR/w4mI14w9h1Kaa7CrmSFOW6FZhRfeRwTw5Fpa0SIy+sRu4P8UKipImVm53q+y1DYAGy5Z2rbeNyOwM5yBu/7ZyQoBsJTKV4PkX9ajh6ZbiZENjnN78af6Asg5RYM+PL+uwAAAABJRU5ErkJggg==",Eve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAflBMVEUAAAAFEDYDDzMFEDYEEDYADTMAGTEAEzYEEDYEEDUADzQEEDYEDzUGDzYEEDcFDzUFEDUDDjUFDzQFEDUFEDUFDzQAAEADDzUEDzUADTAFEDUEDzUFEDUDEDUFDDIFDzUFEDYEDzQFEDUFEDYDEDYADzgEEDUFDzUFEDQFEDR3WMMEAAAAKnRSTlMAzFWBshkKDb+sInd0iD2YfkxmxaYyBF5CFsi4b1ApH2s5Lp9IEJBoko3Slp56AAABWklEQVQ4y+2S2W7qMBRF98YjkIuTkDkkYext//8HC0i4gcaRqr52KQ/e8orPObLxCxIFz5BfgDqvp7wDhTdLkqkg2X/3KpLZI6hu805Gm8TgOznjcSXjfys2hwuOlS9XU2CMFf4Eyjf6XWXJeCyuz4/V6mi5Gx5d7KnibYFp4uZrZ0cVUQfELvOtl5JXRI95Dpan/aIULaNizquaZQ7TA2bPkwl7qlmalSOT+52sw6Jo1WBter6PEvEY8gZGhZTqMZaNgq+GfcXKR9eGxP+EWoxjaPAdn2JKHRTXY05B0fGFfNpbsXzKxrrAy9iq11bqKe/CZvmMZDpdOXO2cc5a5yhddov/psUN3jKgFVDscOYRMijmByAZgIWCKTEjPhEWnXgh1GMraaW0vH3ytmaotGICRERKA2xjyD/xjr7Ss1qx03pNvWet9VZo+aGvFPBEnEV7US3m6PAzPgHFEhWgcTUI6wAAAABJRU5ErkJggg==",Ave="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAflBMVEUAAAAFEDYFEDYICjMAHyAEDzUFDzUEDzUEEDYFDzUEEDYFEDYFDzQFDzUEEDYFDzUGEDYFEDUFEDUEDjUEETYFDzMGDTMHDjUAAEAEEDUEDzUEEDUEEDUDDzUFEDQEEDUAEDYAFSoEEDUFEDUGETUEEDUFEDYFEDQEDjUADTZXpT3GAAAAKnRSTlMAzJcZB75mUcO6saEzybOaiWyUWTo2Jx8ErI9/cUtCPg8Mxbdcg19dWxP4SvPrAAABCUlEQVQ4y+2S2XaCMBiEM4EsJLLIDqIFtdv7v2CDrRbQJvTe7yLnJJkzZzJ/yJN/8ZLSkdwp3OLCu9vS92Xk+2QFtYxqp6j/SFQIQLXCs8g2MQCmaRxLAG35h8yjgD5X35tKNEDy0DUPoDezohSi4l4nwpAvzzhCsTw74Dja9dmuqyemDIdFPgmj87sQwOc0z1HOczY4m1Uj4Pn8IoOeBURymV48kCUU+8lOwfgMLOrJHSWaevKSnVkHmpEHtPgt7RWFZVzG5UrAbL9Jnm7dICYWUlyLKLC1CbtbsD24Tch/CnpLFBS1EEGnYmx5FZywU+U7qRgz1ZSekzIITNRVmF5ESp0kGXli5Qt8MQxCo3+ZmwAAAABJRU5ErkJggg==",Cve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAhFBMVEUAAAAFEDYDEDUEDzYADjMEEDUAFDYEEDUFDzUEEDUEETUFDzUEEDUFDzUDETYEDzUEDzUFEDUEDzUEDjUEEDYFEDYEDzYEEDQBDjQAHDAEDzUFEDUEDzQEDzYEEDQADDQEEDYFEDYFETUFDzQFDjUEEDUFEDUFEDUADzUEETYHDTYADTYyTMc8AAAALHRSTlMAzE2zGJkMgDPAc8d8Zky8h25gWqqhjD4dCLmmRTkuE6+ealUkxZaQEHImJhjcSVUAAAHKSURBVDjLjZOJdqowEIbnz4IJoIBYRVzqbu/t+79fE0iZilD7naPJnIRZ/pnQILE1YbfVWbI5KRpBY9ZubmiQFTFqYni/a9cUyISYADLii1No6hHBkbr4wHTII1PkEiiIcizoFTFsRAJXesU7sKczbBP0ZrNiTQ3rxSFypwcZbKoAQwtof0/CkXcO4qbaj+80AXWCl+tjAszdb5nOVXtg9lylO7DWHbb+3JLAIS8utsRGsm4beFJn3pEsP4lKrXXSZGLg2PuUKv9X3pdFo9sVcwqcgRBt4tVOfJ5M5pIPnJCEaNpflPJhFlIwjac5HGd6ItLo0C5nlSHXsO/0jBEBEzJUlXW+X7CFL24K7OhXlGzn5MBKDhAC+3UP/KNfuADF93Qlhsbh3kUZ3miEUANXVY5WAqRs3WEVDXMEN60JrmmQEhA9ezsi4bIXYVjMHFfVEysZ6uQM3WCeYlbBDASW/Mkq1HPAYv30zlF1qndaGw7j6PV2BseKe/+/37t1tz3qzmVU49jr3epHhoZN8dBJBdahGUiNDQUensUbasUOd64Ino7K4sbvmXsn2/Q4SypDHhchakgRiIE0rFMRsKjFTDkXf6KmHH8i/wLpiRP3POVUSwAAAABJRU5ErkJggg==",bt={QUALITY_PACKAGES:uve,BEST_TRAVEL_PLAN:dve,CUSTOMER_CARE:hve,HAND_PICKED_TOUR:fve,PRIVATE_GUIDE:pve,QUICK_BOOKING:mve,HomePageBanner:Fye,WHY_US_IMGONE:$ye,WHY_US_IMGTWO:Uye,TRISOG_LOGO:jye,TRISOG_HEADER_LOGO:Bye,AUTH_BANNER:zye,BLANK_PROFILE:Vye,TOURPAGE_BANNER:Hye,DESTINATION_BANNER:Wye,CONTACTPAGE_BANNER:qye,PHONE_ICON:Gye,LOCATION_ICON:Kye,JAPAN:Yye,THAILAND:Qye,NORWAY:sve,INDIA:nve,FRANCE:tve,AUSTRALIA:Jye,SWITZERLAND:ove,UNITED_KINGDOM:Zye,NEWZEALAND:ive,EGYPT:eve,CANADA:Xye,ITALY:rve,TESTIMONIAL_ONE:ave,TESTIMONIAL_TWO:cve,TESTIMONIAL_THREE:lve,TRAIL:gve,SANTORINI:yve,TEAM_MEMBER:vve,ADVENTURE:wve,BEACHES:_ve,HIKING_TOURS:Cve,BOAT_TOURS:bve,FOOD_TOURS:Ave,CITY_TOURS:Eve};function vu({countryName:t,countryImage:e}){const n=Ue.DESTINATION_DETAIL.path.replace(":countryName",t);return T.jsxs("div",{className:"destination-card-wrapper",children:[T.jsx("img",{src:e,alt:t}),T.jsxs("div",{className:"destination-name-container",children:[T.jsx("h5",{className:"cursive-text",children:t}),T.jsx("div",{className:"travelers-count",children:"174,688 Travelers"})]}),T.jsx(fs,{to:n,className:"clickable-overlay"})]})}function Tve(){const t={firstGrouped:["United Kingdom","Canada","Switzerland"],secondGrouped:["Norway","Australia"],single:"France"},e={"United Kingdom":bt.UNITED_KINGDOM,Canada:bt.CANADA,Switzerland:bt.SWITZERLAND,Norway:bt.NORWAY,Australia:bt.AUSTRALIA,France:bt.FRANCE};return T.jsx("div",{className:"homepage-destination-section",children:T.jsxs("div",{className:"homepage-destination-container",children:[T.jsx("h4",{className:"cursive-text",children:"Destination"}),T.jsx("h2",{children:"Top Attractions Destinations"}),T.jsx("div",{className:"destination-grid-wrapper fixing-margin",children:T.jsxs("div",{className:"grid-section",children:[T.jsxs("div",{className:"grouped-destinations-grid",children:[T.jsx("div",{className:"first-grouped-destinations",children:t.firstGrouped.map(n=>T.jsx(vu,{countryName:n,countryImage:e[n]},n))}),T.jsx("div",{className:"second-grouped-destinations",children:t.secondGrouped.map(n=>T.jsx(vu,{countryName:n,countryImage:e[n]},n))})]}),T.jsx("div",{className:"single-destinations-grid",children:T.jsx(vu,{countryName:t.single,countryImage:e[t.single]})})]})})]})})}function Sve(){return T.jsx("div",{className:"about-content-section",children:T.jsxs("div",{className:"content-container",children:[T.jsx("h4",{className:"kaushan-text cursive-normal",children:"Why Choose Us"}),T.jsxs("h2",{className:"section-heading",children:[T.jsx("div",{children:"Our Experiences"}),T.jsx("div",{children:"Meet High Quality "}),T.jsx("div",{children:"Standards"})]}),T.jsx("p",{children:"Holisticly optimize proactive strategic theme areas rather than effective manufactured products create."})]})})}function lQ(){return T.jsx("div",{className:"whyUs-section",children:T.jsxs("div",{className:"main-div-container",children:[T.jsx("div",{className:"whyUs-image-div",children:T.jsxs("div",{className:"image-container",children:[T.jsx("img",{className:"second-image",src:bt.WHY_US_IMGTWO})," ",T.jsx("img",{className:"first-image",src:bt.WHY_US_IMGONE})]})}),T.jsx("div",{className:"whyUs-content-div",children:T.jsx(Sve,{})})]})})}var Ive=function(e){return xve(e)&&!Pve(e)};function xve(t){return!!t&&typeof t=="object"}function Pve(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Nve(t)}var Ove=typeof Symbol=="function"&&Symbol.for,Dve=Ove?Symbol.for("react.element"):60103;function Nve(t){return t.$$typeof===Dve}function Rve(t){return Array.isArray(t)?[]:{}}function MS(t,e){return e.clone!==!1&&e.isMergeableObject(t)?fb(Rve(t),t,e):t}function kve(t,e,n){return t.concat(e).map(function(r){return MS(r,n)})}function Mve(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=MS(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=MS(e[i],n):r[i]=fb(t[i],e[i],n)}),r}function fb(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||kve,n.isMergeableObject=n.isMergeableObject||Ive;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Mve(t,e,n):MS(e,n)}fb.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return fb(r,i,n)},{})};var p2=fb,Lve=typeof global=="object"&&global&&global.Object===Object&&global;const uQ=Lve;var Fve=typeof self=="object"&&self&&self.Object===Object&&self,$ve=uQ||Fve||Function("return this")();const Hl=$ve;var Uve=Hl.Symbol;const tf=Uve;var dQ=Object.prototype,jve=dQ.hasOwnProperty,Bve=dQ.toString,c0=tf?tf.toStringTag:void 0;function zve(t){var e=jve.call(t,c0),n=t[c0];try{t[c0]=void 0;var r=!0}catch{}var i=Bve.call(t);return r&&(e?t[c0]=n:delete t[c0]),i}var Vve=Object.prototype,Hve=Vve.toString;function Wve(t){return Hve.call(t)}var qve="[object Null]",Gve="[object Undefined]",c6=tf?tf.toStringTag:void 0;function Im(t){return t==null?t===void 0?Gve:qve:c6&&c6 in Object(t)?zve(t):Wve(t)}function hQ(t,e){return function(n){return t(e(n))}}var Kve=hQ(Object.getPrototypeOf,Object);const G3=Kve;function xm(t){return t!=null&&typeof t=="object"}var Yve="[object Object]",Qve=Function.prototype,Zve=Object.prototype,fQ=Qve.toString,Jve=Zve.hasOwnProperty,Xve=fQ.call(Object);function l6(t){if(!xm(t)||Im(t)!=Yve)return!1;var e=G3(t);if(e===null)return!0;var n=Jve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&fQ.call(n)==Xve}function ewe(){this.__data__=[],this.size=0}function pQ(t,e){return t===e||t!==t&&e!==e}function lP(t,e){for(var n=t.length;n--;)if(pQ(t[n][0],e))return n;return-1}var twe=Array.prototype,nwe=twe.splice;function rwe(t){var e=this.__data__,n=lP(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nwe.call(e,n,1),--this.size,!0}function iwe(t){var e=this.__data__,n=lP(e,t);return n<0?void 0:e[n][1]}function swe(t){return lP(this.__data__,t)>-1}function owe(t,e){var n=this.__data__,r=lP(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fd.prototype.clear=ewe;fd.prototype.delete=rwe;fd.prototype.get=iwe;fd.prototype.has=swe;fd.prototype.set=owe;function awe(){this.__data__=new fd,this.size=0}function cwe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function lwe(t){return this.__data__.get(t)}function uwe(t){return this.__data__.has(t)}function GE(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dwe="[object AsyncFunction]",hwe="[object Function]",fwe="[object GeneratorFunction]",pwe="[object Proxy]";function mQ(t){if(!GE(t))return!1;var e=Im(t);return e==hwe||e==fwe||e==dwe||e==pwe}var mwe=Hl["__core-js_shared__"];const HD=mwe;var u6=function(){var t=/[^.]+$/.exec(HD&&HD.keys&&HD.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gwe(t){return!!u6&&u6 in t}var ywe=Function.prototype,vwe=ywe.toString;function Pm(t){if(t!=null){try{return vwe.call(t)}catch{}try{return t+""}catch{}}return""}var wwe=/[\\^$.*+?()[\]{}|]/g,_we=/^\[object .+?Constructor\]$/,bwe=Function.prototype,Ewe=Object.prototype,Awe=bwe.toString,Cwe=Ewe.hasOwnProperty,Twe=RegExp("^"+Awe.call(Cwe).replace(wwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Swe(t){if(!GE(t)||gwe(t))return!1;var e=mQ(t)?Twe:_we;return e.test(Pm(t))}function Iwe(t,e){return t==null?void 0:t[e]}function Om(t,e){var n=Iwe(t,e);return Swe(n)?n:void 0}var xwe=Om(Hl,"Map");const pb=xwe;var Pwe=Om(Object,"create");const mb=Pwe;function Owe(){this.__data__=mb?mb(null):{},this.size=0}function Dwe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nwe="__lodash_hash_undefined__",Rwe=Object.prototype,kwe=Rwe.hasOwnProperty;function Mwe(t){var e=this.__data__;if(mb){var n=e[t];return n===Nwe?void 0:n}return kwe.call(e,t)?e[t]:void 0}var Lwe=Object.prototype,Fwe=Lwe.hasOwnProperty;function $we(t){var e=this.__data__;return mb?e[t]!==void 0:Fwe.call(e,t)}var Uwe="__lodash_hash_undefined__";function jwe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mb&&e===void 0?Uwe:e,this}function qp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qp.prototype.clear=Owe;qp.prototype.delete=Dwe;qp.prototype.get=Mwe;qp.prototype.has=$we;qp.prototype.set=jwe;function Bwe(){this.size=0,this.__data__={hash:new qp,map:new(pb||fd),string:new qp}}function zwe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function uP(t,e){var n=t.__data__;return zwe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Vwe(t){var e=uP(this,t).delete(t);return this.size-=e?1:0,e}function Hwe(t){return uP(this,t).get(t)}function Wwe(t){return uP(this,t).has(t)}function qwe(t,e){var n=uP(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Cf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cf.prototype.clear=Bwe;Cf.prototype.delete=Vwe;Cf.prototype.get=Hwe;Cf.prototype.has=Wwe;Cf.prototype.set=qwe;var Gwe=200;function Kwe(t,e){var n=this.__data__;if(n instanceof fd){var r=n.__data__;if(!pb||r.length<Gwe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cf(r)}return n.set(t,e),this.size=n.size,this}function Jv(t){var e=this.__data__=new fd(t);this.size=e.size}Jv.prototype.clear=awe;Jv.prototype.delete=cwe;Jv.prototype.get=lwe;Jv.prototype.has=uwe;Jv.prototype.set=Kwe;function Ywe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Qwe=function(){try{var t=Om(Object,"defineProperty");return t({},"",{}),t}catch{}}();const d6=Qwe;function gQ(t,e,n){e=="__proto__"&&d6?d6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Zwe=Object.prototype,Jwe=Zwe.hasOwnProperty;function yQ(t,e,n){var r=t[e];(!(Jwe.call(t,e)&&pQ(r,n))||n===void 0&&!(e in t))&&gQ(t,e,n)}function dP(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=r?r(n[a],t[a],a,n,t):void 0;c===void 0&&(c=t[a]),i?gQ(n,a,c):yQ(n,a,c)}return n}function Xwe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var e0e="[object Arguments]";function h6(t){return xm(t)&&Im(t)==e0e}var vQ=Object.prototype,t0e=vQ.hasOwnProperty,n0e=vQ.propertyIsEnumerable,r0e=h6(function(){return arguments}())?h6:function(t){return xm(t)&&t0e.call(t,"callee")&&!n0e.call(t,"callee")};const i0e=r0e;var s0e=Array.isArray;const KE=s0e;function o0e(){return!1}var wQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,f6=wQ&&typeof module=="object"&&module&&!module.nodeType&&module,a0e=f6&&f6.exports===wQ,p6=a0e?Hl.Buffer:void 0,c0e=p6?p6.isBuffer:void 0,l0e=c0e||o0e;const _Q=l0e;var u0e=9007199254740991,d0e=/^(?:0|[1-9]\d*)$/;function h0e(t,e){var n=typeof t;return e=e??u0e,!!e&&(n=="number"||n!="symbol"&&d0e.test(t))&&t>-1&&t%1==0&&t<e}var f0e=9007199254740991;function bQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=f0e}var p0e="[object Arguments]",m0e="[object Array]",g0e="[object Boolean]",y0e="[object Date]",v0e="[object Error]",w0e="[object Function]",_0e="[object Map]",b0e="[object Number]",E0e="[object Object]",A0e="[object RegExp]",C0e="[object Set]",T0e="[object String]",S0e="[object WeakMap]",I0e="[object ArrayBuffer]",x0e="[object DataView]",P0e="[object Float32Array]",O0e="[object Float64Array]",D0e="[object Int8Array]",N0e="[object Int16Array]",R0e="[object Int32Array]",k0e="[object Uint8Array]",M0e="[object Uint8ClampedArray]",L0e="[object Uint16Array]",F0e="[object Uint32Array]",_r={};_r[P0e]=_r[O0e]=_r[D0e]=_r[N0e]=_r[R0e]=_r[k0e]=_r[M0e]=_r[L0e]=_r[F0e]=!0;_r[p0e]=_r[m0e]=_r[I0e]=_r[g0e]=_r[x0e]=_r[y0e]=_r[v0e]=_r[w0e]=_r[_0e]=_r[b0e]=_r[E0e]=_r[A0e]=_r[C0e]=_r[T0e]=_r[S0e]=!1;function $0e(t){return xm(t)&&bQ(t.length)&&!!_r[Im(t)]}function K3(t){return function(e){return t(e)}}var EQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y_=EQ&&typeof module=="object"&&module&&!module.nodeType&&module,U0e=y_&&y_.exports===EQ,WD=U0e&&uQ.process,j0e=function(){try{var t=y_&&y_.require&&y_.require("util").types;return t||WD&&WD.binding&&WD.binding("util")}catch{}}();const dv=j0e;var m6=dv&&dv.isTypedArray,B0e=m6?K3(m6):$0e;const z0e=B0e;var V0e=Object.prototype,H0e=V0e.hasOwnProperty;function AQ(t,e){var n=KE(t),r=!n&&i0e(t),i=!n&&!r&&_Q(t),s=!n&&!r&&!i&&z0e(t),o=n||r||i||s,a=o?Xwe(t.length,String):[],c=a.length;for(var l in t)(e||H0e.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||h0e(l,c)))&&a.push(l);return a}var W0e=Object.prototype;function Y3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||W0e;return t===n}var q0e=hQ(Object.keys,Object);const G0e=q0e;var K0e=Object.prototype,Y0e=K0e.hasOwnProperty;function Q0e(t){if(!Y3(t))return G0e(t);var e=[];for(var n in Object(t))Y0e.call(t,n)&&n!="constructor"&&e.push(n);return e}function CQ(t){return t!=null&&bQ(t.length)&&!mQ(t)}function Q3(t){return CQ(t)?AQ(t):Q0e(t)}function Z0e(t,e){return t&&dP(e,Q3(e),t)}function J0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var X0e=Object.prototype,e_e=X0e.hasOwnProperty;function t_e(t){if(!GE(t))return J0e(t);var e=Y3(t),n=[];for(var r in t)r=="constructor"&&(e||!e_e.call(t,r))||n.push(r);return n}function Z3(t){return CQ(t)?AQ(t,!0):t_e(t)}function n_e(t,e){return t&&dP(e,Z3(e),t)}var TQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,g6=TQ&&typeof module=="object"&&module&&!module.nodeType&&module,r_e=g6&&g6.exports===TQ,y6=r_e?Hl.Buffer:void 0,v6=y6?y6.allocUnsafe:void 0;function i_e(t,e){if(e)return t.slice();var n=t.length,r=v6?v6(n):new t.constructor(n);return t.copy(r),r}function SQ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function s_e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function IQ(){return[]}var o_e=Object.prototype,a_e=o_e.propertyIsEnumerable,w6=Object.getOwnPropertySymbols,c_e=w6?function(t){return t==null?[]:(t=Object(t),s_e(w6(t),function(e){return a_e.call(t,e)}))}:IQ;const J3=c_e;function l_e(t,e){return dP(t,J3(t),e)}function xQ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var u_e=Object.getOwnPropertySymbols,d_e=u_e?function(t){for(var e=[];t;)xQ(e,J3(t)),t=G3(t);return e}:IQ;const PQ=d_e;function h_e(t,e){return dP(t,PQ(t),e)}function OQ(t,e,n){var r=e(t);return KE(t)?r:xQ(r,n(t))}function f_e(t){return OQ(t,Q3,J3)}function p_e(t){return OQ(t,Z3,PQ)}var m_e=Om(Hl,"DataView");const m2=m_e;var g_e=Om(Hl,"Promise");const g2=g_e;var y_e=Om(Hl,"Set");const y2=y_e;var v_e=Om(Hl,"WeakMap");const v2=v_e;var _6="[object Map]",w_e="[object Object]",b6="[object Promise]",E6="[object Set]",A6="[object WeakMap]",C6="[object DataView]",__e=Pm(m2),b_e=Pm(pb),E_e=Pm(g2),A_e=Pm(y2),C_e=Pm(v2),zf=Im;(m2&&zf(new m2(new ArrayBuffer(1)))!=C6||pb&&zf(new pb)!=_6||g2&&zf(g2.resolve())!=b6||y2&&zf(new y2)!=E6||v2&&zf(new v2)!=A6)&&(zf=function(t){var e=Im(t),n=e==w_e?t.constructor:void 0,r=n?Pm(n):"";if(r)switch(r){case __e:return C6;case b_e:return _6;case E_e:return b6;case A_e:return E6;case C_e:return A6}return e});const X3=zf;var T_e=Object.prototype,S_e=T_e.hasOwnProperty;function I_e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&S_e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var x_e=Hl.Uint8Array;const T6=x_e;function e$(t){var e=new t.constructor(t.byteLength);return new T6(e).set(new T6(t)),e}function P_e(t,e){var n=e?e$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var O_e=/\w*$/;function D_e(t){var e=new t.constructor(t.source,O_e.exec(t));return e.lastIndex=t.lastIndex,e}var S6=tf?tf.prototype:void 0,I6=S6?S6.valueOf:void 0;function N_e(t){return I6?Object(I6.call(t)):{}}function R_e(t,e){var n=e?e$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var k_e="[object Boolean]",M_e="[object Date]",L_e="[object Map]",F_e="[object Number]",$_e="[object RegExp]",U_e="[object Set]",j_e="[object String]",B_e="[object Symbol]",z_e="[object ArrayBuffer]",V_e="[object DataView]",H_e="[object Float32Array]",W_e="[object Float64Array]",q_e="[object Int8Array]",G_e="[object Int16Array]",K_e="[object Int32Array]",Y_e="[object Uint8Array]",Q_e="[object Uint8ClampedArray]",Z_e="[object Uint16Array]",J_e="[object Uint32Array]";function X_e(t,e,n){var r=t.constructor;switch(e){case z_e:return e$(t);case k_e:case M_e:return new r(+t);case V_e:return P_e(t,n);case H_e:case W_e:case q_e:case G_e:case K_e:case Y_e:case Q_e:case Z_e:case J_e:return R_e(t,n);case L_e:return new r;case F_e:case j_e:return new r(t);case $_e:return D_e(t);case U_e:return new r;case B_e:return N_e(t)}}var x6=Object.create,ebe=function(){function t(){}return function(e){if(!GE(e))return{};if(x6)return x6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const tbe=ebe;function nbe(t){return typeof t.constructor=="function"&&!Y3(t)?tbe(G3(t)):{}}var rbe="[object Map]";function ibe(t){return xm(t)&&X3(t)==rbe}var P6=dv&&dv.isMap,sbe=P6?K3(P6):ibe;const obe=sbe;var abe="[object Set]";function cbe(t){return xm(t)&&X3(t)==abe}var O6=dv&&dv.isSet,lbe=O6?K3(O6):cbe;const ube=lbe;var dbe=1,hbe=2,fbe=4,DQ="[object Arguments]",pbe="[object Array]",mbe="[object Boolean]",gbe="[object Date]",ybe="[object Error]",NQ="[object Function]",vbe="[object GeneratorFunction]",wbe="[object Map]",_be="[object Number]",RQ="[object Object]",bbe="[object RegExp]",Ebe="[object Set]",Abe="[object String]",Cbe="[object Symbol]",Tbe="[object WeakMap]",Sbe="[object ArrayBuffer]",Ibe="[object DataView]",xbe="[object Float32Array]",Pbe="[object Float64Array]",Obe="[object Int8Array]",Dbe="[object Int16Array]",Nbe="[object Int32Array]",Rbe="[object Uint8Array]",kbe="[object Uint8ClampedArray]",Mbe="[object Uint16Array]",Lbe="[object Uint32Array]",hr={};hr[DQ]=hr[pbe]=hr[Sbe]=hr[Ibe]=hr[mbe]=hr[gbe]=hr[xbe]=hr[Pbe]=hr[Obe]=hr[Dbe]=hr[Nbe]=hr[wbe]=hr[_be]=hr[RQ]=hr[bbe]=hr[Ebe]=hr[Abe]=hr[Cbe]=hr[Rbe]=hr[kbe]=hr[Mbe]=hr[Lbe]=!0;hr[ybe]=hr[NQ]=hr[Tbe]=!1;function v_(t,e,n,r,i,s){var o,a=e&dbe,c=e&hbe,l=e&fbe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!GE(t))return t;var u=KE(t);if(u){if(o=I_e(t),!a)return SQ(t,o)}else{var h=X3(t),f=h==NQ||h==vbe;if(_Q(t))return i_e(t,a);if(h==RQ||h==DQ||f&&!i){if(o=c||f?{}:nbe(t),!a)return c?h_e(t,n_e(o,t)):l_e(t,Z0e(o,t))}else{if(!hr[h])return i?t:{};o=X_e(t,h,a)}}s||(s=new Jv);var p=s.get(t);if(p)return p;s.set(t,o),ube(t)?t.forEach(function(v){o.add(v_(v,e,n,v,t,s))}):obe(t)&&t.forEach(function(v,b){o.set(b,v_(v,e,n,b,t,s))});var g=l?c?p_e:f_e:c?Z3:Q3,y=u?void 0:g(t);return Ywe(y||t,function(v,b){y&&(b=v,v=t[b]),yQ(o,b,v_(v,e,n,b,t,s))}),o}var Fbe=1,$be=4;function z0(t){return v_(t,Fbe|$be)}var D6=Array.isArray,N6=Object.keys,Ube=Object.prototype.hasOwnProperty,jbe=typeof Element<"u";function w2(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=D6(t),r=D6(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!w2(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();var l=t instanceof RegExp,u=e instanceof RegExp;if(l!=u)return!1;if(l&&u)return t.toString()==e.toString();var h=N6(t);if(s=h.length,s!==N6(e).length)return!1;for(i=s;i--!==0;)if(!Ube.call(e,h[i]))return!1;if(jbe&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!w2(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var Bbe=function(e,n){try{return w2(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Gd=oo(Bbe);var zbe=!0;function kQ(t,e){if(!zbe){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var Vbe=4;function R6(t){return v_(t,Vbe)}function MQ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Hbe="[object Symbol]";function t$(t){return typeof t=="symbol"||xm(t)&&Im(t)==Hbe}var Wbe="Expected a function";function n$(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Wbe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(n$.Cache||Cf),n}n$.Cache=Cf;var qbe=500;function Gbe(t){var e=n$(t,function(r){return n.size===qbe&&n.clear(),r}),n=e.cache;return e}var Kbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ybe=/\\(\\)?/g,Qbe=Gbe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kbe,function(n,r,i,s){e.push(i?s.replace(Ybe,"$1"):r||n)}),e});const Zbe=Qbe;var Jbe=1/0;function Xbe(t){if(typeof t=="string"||t$(t))return t;var e=t+"";return e=="0"&&1/t==-Jbe?"-0":e}var eEe=1/0,k6=tf?tf.prototype:void 0,M6=k6?k6.toString:void 0;function LQ(t){if(typeof t=="string")return t;if(KE(t))return MQ(t,LQ)+"";if(t$(t))return M6?M6.call(t):"";var e=t+"";return e=="0"&&1/t==-eEe?"-0":e}function tEe(t){return t==null?"":LQ(t)}function FQ(t){return KE(t)?MQ(t,Xbe):t$(t)?[t]:SQ(Zbe(tEe(t)))}function Hn(){return Hn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hn.apply(this,arguments)}function $Q(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function yh(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function L6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var hP=F.createContext(void 0);hP.displayName="FormikContext";var nEe=hP.Provider,rEe=hP.Consumer;function UQ(){var t=F.useContext(hP);return t||kQ(!1),t}var F6=function(e){return Array.isArray(e)&&e.length===0},as=function(e){return typeof e=="function"},YE=function(e){return e!==null&&typeof e=="object"},iEe=function(e){return String(Math.floor(Number(e)))===e},qD=function(e){return Object.prototype.toString.call(e)==="[object String]"},jQ=function(e){return F.Children.count(e)===0},GD=function(e){return YE(e)&&as(e.then)};function Dr(t,e,n,r){r===void 0&&(r=0);for(var i=FQ(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Cl(t,e,n){for(var r=R6(t),i=r,s=0,o=FQ(e);s<o.length-1;s++){var a=o[s],c=Dr(t,o.slice(0,s+1));if(c&&(YE(c)||Array.isArray(c)))i=i[a]=R6(c);else{var l=o[s+1];i=i[a]=iEe(l)&&Number(l)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function BQ(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];YE(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},BQ(a,e,n,r[o])):r[o]=e}return r}function sEe(t,e){switch(e.type){case"SET_VALUES":return Hn({},t,{values:e.payload});case"SET_TOUCHED":return Hn({},t,{touched:e.payload});case"SET_ERRORS":return Gd(t.errors,e.payload)?t:Hn({},t,{errors:e.payload});case"SET_STATUS":return Hn({},t,{status:e.payload});case"SET_ISSUBMITTING":return Hn({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Hn({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Hn({},t,{values:Cl(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Hn({},t,{touched:Cl(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Hn({},t,{errors:Cl(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Hn({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Hn({},t,{touched:BQ(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Hn({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Hn({},t,{isSubmitting:!1});default:return t}}var Rf={},$A={};function oEe(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,c=t.enableReinitialize,l=c===void 0?!1:c,u=t.onSubmit,h=yh(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=Hn({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:u},h),p=F.useRef(f.initialValues),g=F.useRef(f.initialErrors||Rf),y=F.useRef(f.initialTouched||$A),v=F.useRef(f.initialStatus),b=F.useRef(!1),w=F.useRef({});F.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var A=F.useState(0),S=A[1],P=F.useRef({values:z0(f.initialValues),errors:z0(f.initialErrors)||Rf,touched:z0(f.initialTouched)||$A,status:z0(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),D=P.current,C=F.useCallback(function(se){var Ie=P.current;P.current=sEe(Ie,se),Ie!==P.current&&S(function(xe){return xe+1})},[]),I=F.useCallback(function(se,Ie){return new Promise(function(xe,$e){var pt=f.validate(se,Ie);pt==null?xe(Rf):GD(pt)?pt.then(function(nt){xe(nt||Rf)},function(nt){$e(nt)}):xe(pt)})},[f.validate]),x=F.useCallback(function(se,Ie){var xe=f.validationSchema,$e=as(xe)?xe(Ie):xe,pt=Ie&&$e.validateAt?$e.validateAt(Ie,se):cEe(se,$e);return new Promise(function(nt,yt){pt.then(function(){nt(Rf)},function(Ft){Ft.name==="ValidationError"?nt(aEe(Ft)):yt(Ft)})})},[f.validationSchema]),N=F.useCallback(function(se,Ie){return new Promise(function(xe){return xe(w.current[se].validate(Ie))})},[]),R=F.useCallback(function(se){var Ie=Object.keys(w.current).filter(function($e){return as(w.current[$e].validate)}),xe=Ie.length>0?Ie.map(function($e){return N($e,Dr(se,$e))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(xe).then(function($e){return $e.reduce(function(pt,nt,yt){return nt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||nt&&(pt=Cl(pt,Ie[yt],nt)),pt},{})})},[N]),$=F.useCallback(function(se){return Promise.all([R(se),f.validationSchema?x(se):{},f.validate?I(se):{}]).then(function(Ie){var xe=Ie[0],$e=Ie[1],pt=Ie[2],nt=p2.all([xe,$e,pt],{arrayMerge:lEe});return nt})},[f.validate,f.validationSchema,R,I,x]),U=_a(function(se){return se===void 0&&(se=D.values),C({type:"SET_ISVALIDATING",payload:!0}),$(se).then(function(Ie){return b.current&&(C({type:"SET_ISVALIDATING",payload:!1}),C({type:"SET_ERRORS",payload:Ie})),Ie})});F.useEffect(function(){o&&b.current===!0&&Gd(p.current,f.initialValues)&&U(p.current)},[o,U]);var Y=F.useCallback(function(se){var Ie=se&&se.values?se.values:p.current,xe=se&&se.errors?se.errors:g.current?g.current:f.initialErrors||{},$e=se&&se.touched?se.touched:y.current?y.current:f.initialTouched||{},pt=se&&se.status?se.status:v.current?v.current:f.initialStatus;p.current=Ie,g.current=xe,y.current=$e,v.current=pt;var nt=function(){C({type:"RESET_FORM",payload:{isSubmitting:!!se&&!!se.isSubmitting,errors:xe,touched:$e,status:pt,values:Ie,isValidating:!!se&&!!se.isValidating,submitCount:se&&se.submitCount&&typeof se.submitCount=="number"?se.submitCount:0}})};if(f.onReset){var yt=f.onReset(D.values,ut);GD(yt)?yt.then(nt):nt()}else nt()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);F.useEffect(function(){b.current===!0&&!Gd(p.current,f.initialValues)&&l&&(p.current=f.initialValues,Y(),o&&U(p.current))},[l,f.initialValues,Y,o,U]),F.useEffect(function(){l&&b.current===!0&&!Gd(g.current,f.initialErrors)&&(g.current=f.initialErrors||Rf,C({type:"SET_ERRORS",payload:f.initialErrors||Rf}))},[l,f.initialErrors]),F.useEffect(function(){l&&b.current===!0&&!Gd(y.current,f.initialTouched)&&(y.current=f.initialTouched||$A,C({type:"SET_TOUCHED",payload:f.initialTouched||$A}))},[l,f.initialTouched]),F.useEffect(function(){l&&b.current===!0&&!Gd(v.current,f.initialStatus)&&(v.current=f.initialStatus,C({type:"SET_STATUS",payload:f.initialStatus}))},[l,f.initialStatus,f.initialTouched]);var z=_a(function(se){if(w.current[se]&&as(w.current[se].validate)){var Ie=Dr(D.values,se),xe=w.current[se].validate(Ie);return GD(xe)?(C({type:"SET_ISVALIDATING",payload:!0}),xe.then(function($e){return $e}).then(function($e){C({type:"SET_FIELD_ERROR",payload:{field:se,value:$e}}),C({type:"SET_ISVALIDATING",payload:!1})})):(C({type:"SET_FIELD_ERROR",payload:{field:se,value:xe}}),Promise.resolve(xe))}else if(f.validationSchema)return C({type:"SET_ISVALIDATING",payload:!0}),x(D.values,se).then(function($e){return $e}).then(function($e){C({type:"SET_FIELD_ERROR",payload:{field:se,value:Dr($e,se)}}),C({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),j=F.useCallback(function(se,Ie){var xe=Ie.validate;w.current[se]={validate:xe}},[]),q=F.useCallback(function(se){delete w.current[se]},[]),V=_a(function(se,Ie){C({type:"SET_TOUCHED",payload:se});var xe=Ie===void 0?i:Ie;return xe?U(D.values):Promise.resolve()}),Q=F.useCallback(function(se){C({type:"SET_ERRORS",payload:se})},[]),K=_a(function(se,Ie){var xe=as(se)?se(D.values):se;C({type:"SET_VALUES",payload:xe});var $e=Ie===void 0?n:Ie;return $e?U(xe):Promise.resolve()}),ee=F.useCallback(function(se,Ie){C({type:"SET_FIELD_ERROR",payload:{field:se,value:Ie}})},[]),ne=_a(function(se,Ie,xe){C({type:"SET_FIELD_VALUE",payload:{field:se,value:Ie}});var $e=xe===void 0?n:xe;return $e?U(Cl(D.values,se,Ie)):Promise.resolve()}),le=F.useCallback(function(se,Ie){var xe=Ie,$e=se,pt;if(!qD(se)){se.persist&&se.persist();var nt=se.target?se.target:se.currentTarget,yt=nt.type,Ft=nt.name,Ir=nt.id,gr=nt.value,Ja=nt.checked,Zn=nt.outerHTML,Ji=nt.options,Vs=nt.multiple;xe=Ie||Ft||Ir,$e=/number|range/.test(yt)?(pt=parseFloat(gr),isNaN(pt)?"":pt):/checkbox/.test(yt)?dEe(Dr(D.values,xe),Ja,gr):Ji&&Vs?uEe(Ji):gr}xe&&ne(xe,$e)},[ne,D.values]),ce=_a(function(se){if(qD(se))return function(Ie){return le(Ie,se)};le(se)}),re=_a(function(se,Ie,xe){Ie===void 0&&(Ie=!0),C({type:"SET_FIELD_TOUCHED",payload:{field:se,value:Ie}});var $e=xe===void 0?i:xe;return $e?U(D.values):Promise.resolve()}),de=F.useCallback(function(se,Ie){se.persist&&se.persist();var xe=se.target,$e=xe.name,pt=xe.id,nt=xe.outerHTML,yt=Ie||$e||pt;re(yt,!0)},[re]),ve=_a(function(se){if(qD(se))return function(Ie){return de(Ie,se)};de(se)}),Ne=F.useCallback(function(se){as(se)?C({type:"SET_FORMIK_STATE",payload:se}):C({type:"SET_FORMIK_STATE",payload:function(){return se}})},[]),Fe=F.useCallback(function(se){C({type:"SET_STATUS",payload:se})},[]),Ge=F.useCallback(function(se){C({type:"SET_ISSUBMITTING",payload:se})},[]),ot=_a(function(){return C({type:"SUBMIT_ATTEMPT"}),U().then(function(se){var Ie=se instanceof Error,xe=!Ie&&Object.keys(se).length===0;if(xe){var $e;try{if($e=ht(),$e===void 0)return}catch(pt){throw pt}return Promise.resolve($e).then(function(pt){return b.current&&C({type:"SUBMIT_SUCCESS"}),pt}).catch(function(pt){if(b.current)throw C({type:"SUBMIT_FAILURE"}),pt})}else if(b.current&&(C({type:"SUBMIT_FAILURE"}),Ie))throw se})}),Me=_a(function(se){se&&se.preventDefault&&as(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&as(se.stopPropagation)&&se.stopPropagation(),ot().catch(function(Ie){console.warn("Warning: An unhandled error was caught from submitForm()",Ie)})}),ut={resetForm:Y,validateForm:U,validateField:z,setErrors:Q,setFieldError:ee,setFieldTouched:re,setFieldValue:ne,setStatus:Fe,setSubmitting:Ge,setTouched:V,setValues:K,setFormikState:Ne,submitForm:ot},ht=_a(function(){return u(D.values,ut)}),Xt=_a(function(se){se&&se.preventDefault&&as(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&as(se.stopPropagation)&&se.stopPropagation(),Y()}),Rt=F.useCallback(function(se){return{value:Dr(D.values,se),error:Dr(D.errors,se),touched:!!Dr(D.touched,se),initialValue:Dr(p.current,se),initialTouched:!!Dr(y.current,se),initialError:Dr(g.current,se)}},[D.errors,D.touched,D.values]),Dn=F.useCallback(function(se){return{setValue:function(xe,$e){return ne(se,xe,$e)},setTouched:function(xe,$e){return re(se,xe,$e)},setError:function(xe){return ee(se,xe)}}},[ne,re,ee]),Un=F.useCallback(function(se){var Ie=YE(se),xe=Ie?se.name:se,$e=Dr(D.values,xe),pt={name:xe,value:$e,onChange:ce,onBlur:ve};if(Ie){var nt=se.type,yt=se.value,Ft=se.as,Ir=se.multiple;nt==="checkbox"?yt===void 0?pt.checked=!!$e:(pt.checked=!!(Array.isArray($e)&&~$e.indexOf(yt)),pt.value=yt):nt==="radio"?(pt.checked=$e===yt,pt.value=yt):Ft==="select"&&Ir&&(pt.value=pt.value||[],pt.multiple=!0)}return pt},[ve,ce,D.values]),yn=F.useMemo(function(){return!Gd(p.current,D.values)},[p.current,D.values]),Sr=F.useMemo(function(){return typeof a<"u"?yn?D.errors&&Object.keys(D.errors).length===0:a!==!1&&as(a)?a(f):a:D.errors&&Object.keys(D.errors).length===0},[a,yn,D.errors,f]),fn=Hn({},D,{initialValues:p.current,initialErrors:g.current,initialTouched:y.current,initialStatus:v.current,handleBlur:ve,handleChange:ce,handleReset:Xt,handleSubmit:Me,resetForm:Y,setErrors:Q,setFormikState:Ne,setFieldTouched:re,setFieldValue:ne,setFieldError:ee,setStatus:Fe,setSubmitting:Ge,setTouched:V,setValues:K,submitForm:ot,validateForm:U,validateField:z,isValid:Sr,dirty:yn,unregisterField:q,registerField:j,getFieldProps:Un,getFieldMeta:Rt,getFieldHelpers:Dn,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return fn}function QE(t){var e=oEe(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return F.useImperativeHandle(s,function(){return e}),F.createElement(nEe,{value:e},n?F.createElement(n,e):i?i(e):r?as(r)?r(e):jQ(r)?null:F.Children.only(r):null)}function aEe(t){var e={};if(t.inner){if(t.inner.length===0)return Cl(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Dr(e,o.path)||(e=Cl(e,o.path,o.message))}}return e}function cEe(t,e,n,r){n===void 0&&(n=!1);var i=_2(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function _2(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||l6(i)?_2(i):i!==""?i:void 0}):l6(t[r])?e[r]=_2(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function lEe(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(s);r[o]=c?p2(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=p2(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function uEe(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function dEe(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var hEe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?F.useLayoutEffect:F.useEffect;function _a(t){var e=F.useRef(t);return hEe(function(){e.current=t}),F.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function vh(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,c=yh(t,["validate","name","render","children","as","component","className"]),l=UQ(),u=yh(l,["validate","validationSchema"]),h=u.registerField,f=u.unregisterField;F.useEffect(function(){return h(n,{validate:e}),function(){f(n)}},[h,f,n,e]);var p=u.getFieldProps(Hn({name:n},c)),g=u.getFieldMeta(n),y={field:p,form:u};if(r)return r(Hn({},y,{meta:g}));if(as(i))return i(Hn({},y,{meta:g}));if(o){if(typeof o=="string"){var v=c.innerRef,b=yh(c,["innerRef"]);return F.createElement(o,Hn({ref:v},p,b,{className:a}),i)}return F.createElement(o,Hn({field:p,form:u},c,{className:a}),i)}var w=s||"input";if(typeof w=="string"){var A=c.innerRef,S=yh(c,["innerRef"]);return F.createElement(w,Hn({ref:A},p,S,{className:a}),i)}return F.createElement(w,Hn({},p,c,{className:a}),i)}var Xv=F.forwardRef(function(t,e){var n=t.action,r=yh(t,["action"]),i=n??"#",s=UQ(),o=s.handleReset,a=s.handleSubmit;return F.createElement("form",Hn({onSubmit:a,ref:e,onReset:o,action:i},r))});Xv.displayName="Form";function fEe(t){var e=function(i){return F.createElement(rEe,null,function(s){return s||kQ(!1),F.createElement(t,Hn({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",nhe(e,t)}var pEe=function(e,n,r){var i=Gp(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},mEe=function(e,n,r){var i=Gp(e),s=i[n];return i[n]=i[r],i[r]=s,i},KD=function(e,n,r){var i=Gp(e);return i.splice(n,0,r),i},gEe=function(e,n,r){var i=Gp(e);return i[n]=r,i},Gp=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Hn({},e,{length:n+1}))}else return[]},$6=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||YE(i)){var s=Gp(i);return r(s)}return i}},yEe=function(t){$Q(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var c=i.props,l=c.name,u=c.formik.setFormikState;u(function(h){var f=$6(a,s),p=$6(o,s),g=Cl(h.values,l,s(Dr(h.values,l))),y=a?f(Dr(h.errors,l)):void 0,v=o?p(Dr(h.touched,l)):void 0;return F6(y)&&(y=void 0),F6(v)&&(v=void 0),Hn({},h,{values:g,errors:a?Cl(h.errors,l,y):h.errors,touched:o?Cl(h.touched,l,v):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Gp(o),[z0(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return mEe(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return pEe(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return KD(a,s,o)},function(a){return KD(a,s,null)},function(a){return KD(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return gEe(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var c=a?[s].concat(a):[s];return o=c.length,c},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(L6(i)),i.pop=i.pop.bind(L6(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Gd(Dr(i.formik.values,i.name),Dr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Gp(o):[];return s||(s=a[i]),as(a.splice)&&a.splice(i,1),as(a.every)&&a.every(function(c){return c===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,c=s.children,l=s.name,u=s.formik,h=yh(u,["validate","validationSchema"]),f=Hn({},i,{form:h,name:l});return o?F.createElement(o,f):a?a(f):c?typeof c=="function"?c(f):jQ(c)?null:F.Children.only(c):null},e}(F.Component);yEe.defaultProps={validateOnChange:!0};var vEe=function(t){$Q(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Dr(this.props.formik.errors,this.props.name)!==Dr(i.formik.errors,this.props.name)||Dr(this.props.formik.touched,this.props.name)!==Dr(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,c=i.children,l=i.name,u=yh(i,["component","formik","render","children","name"]),h=Dr(o.touched,l),f=Dr(o.errors,l);return h&&f?a?as(a)?a(f):null:c?as(c)?c(f):null:s?F.createElement(s,u,f):f:null},e}(F.Component),wh=fEe(vEe);function Iy({labelText:t,labelClassName:e,name:n,type:r,placeholder:i,fieldClassName:s,containerClass:o,min:a,max:c}){return T.jsx(T.Fragment,{children:T.jsxs("span",{className:o,children:[T.jsx("label",{htmlFor:n,className:e,children:t})," ",T.jsx(vh,{name:n,type:r,placeholder:i,className:s,min:a,max:c}),T.jsx(wh,{name:n})]})})}function Dm(t){this._maxSize=t,this.clear()}Dm.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Dm.prototype.get=function(t){return this._values[t]};Dm.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var wEe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,zQ=/^\d+$/,_Ee=/^\d/,bEe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,EEe=/^\s*(['"]?)(.*?)(\1)\s*$/,r$=512,U6=new Dm(r$),j6=new Dm(r$),B6=new Dm(r$),xp={Cache:Dm,split:b2,normalizePath:YD,setter:function(t){var e=YD(t);return j6.get(t)||j6.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=YD(t);return B6.get(t)||B6.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(i$(n)||zQ.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){AEe(Array.isArray(t)?t:b2(t),e,n)}};function YD(t){return U6.get(t)||U6.set(t,b2(t).map(function(e){return e.replace(EEe,"$2")}))}function b2(t){return t.match(wEe)||[""]}function AEe(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(SEe(i)&&(i='"'+i+'"'),a=i$(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function i$(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function CEe(t){return t.match(_Ee)&&!t.match(zQ)}function TEe(t){return bEe.test(t)}function SEe(t){return!i$(t)&&(CEe(t)||TEe(t))}const IEe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,fP=t=>t.match(IEe)||[],pP=t=>t[0].toUpperCase()+t.slice(1),s$=(t,e)=>fP(t).join(e).toLowerCase(),VQ=t=>fP(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),xEe=t=>pP(VQ(t)),PEe=t=>s$(t,"_"),OEe=t=>s$(t,"-"),DEe=t=>pP(s$(t," ")),NEe=t=>fP(t).map(pP).join(" ");var QD={words:fP,upperFirst:pP,camelCase:VQ,pascalCase:xEe,snakeCase:PEe,kebabCase:OEe,sentenceCase:DEe,titleCase:NEe},o$={exports:{}};o$.exports=function(t){return HQ(REe(t),t)};o$.exports.array=HQ;function HQ(t,e){var n=t.length,r=new Array(n),i={},s=n,o=kEe(e),a=MEe(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||c(t[s],s,new Set);return r;function c(l,u,h){if(h.has(l)){var f;try{f=", node was:"+JSON.stringify(l)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[u]){i[u]=!0;var p=o.get(l)||new Set;if(p=Array.from(p),u=p.length){h.add(l);do{var g=p[--u];c(g,a.get(g),h)}while(u);h.delete(l)}r[--n]=l}}}function REe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function kEe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function MEe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var LEe=o$.exports;const FEe=oo(LEe),$Ee=Object.prototype.toString,UEe=Error.prototype.toString,jEe=RegExp.prototype.toString,BEe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",zEe=/^Symbol\((.*)\)(.*)$/;function VEe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function z6(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return VEe(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return BEe.call(t).replace(zEe,"Symbol($1)");const r=$Ee.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+UEe.call(t)+"]":r==="RegExp"?jEe.call(t):null}function Nu(t,e){let n=z6(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=z6(this[r],e);return s!==null?s:i},2)}function WQ(t){return t==null?[]:[].concat(t)}let qQ,GQ,KQ,HEe=/\$\{\s*(\w+)\s*\}/g;qQ=Symbol.toStringTag;class V6{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[qQ]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],WQ(e).forEach(s=>{if(Io.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}GQ=Symbol.hasInstance;KQ=Symbol.toStringTag;class Io extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(HEe,(i,s)=>Nu(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new V6(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[KQ]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Io)}static[GQ](e){return V6[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let il={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Nu(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Nu(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Nu(n,!0)}\``+i}},vo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},WEe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},E2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},qEe={isValue:"${path} field must be ${value}"},nT={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},rT={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},GEe={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Nu(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Nu(n,!0)}\``}return Io.formatError(il.notType,t)}};Object.assign(Object.create(null),{mixed:il,string:vo,number:WEe,date:E2,object:nT,array:rT,boolean:qEe,tuple:GEe});const mP=t=>t&&t.__isYupSchema__;class LS{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new LS(e,(a,c)=>{var l;let u=o(...a)?i:s;return(l=u==null?void 0:u(c))!=null?l:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!mP(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const UA={context:"$",value:"."};function KEe(t,e){return new Tf(t,e)}class Tf{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===UA.context,this.isValue=this.key[0]===UA.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?UA.context:this.isValue?UA.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&xp.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Tf.prototype.__isYupRef=!0;const op=t=>t==null;function fg(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,c){const{name:l,test:u,params:h,message:f,skipAbsent:p}=t;let{parent:g,context:y,abortEarly:v=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=i;function w(R){return Tf.isRef(R)?R.getValue(n,g,y):R}function A(R={}){const $=Object.assign({value:n,originalValue:s,label:o.spec.label,path:R.path||r,spec:o.spec,disableStackTrace:R.disableStackTrace||b},h,R.params);for(const Y of Object.keys($))$[Y]=w($[Y]);const U=new Io(Io.formatError(R.message||f,$),n,$.path,R.type||l,$.disableStackTrace);return U.params=$,U}const S=v?a:c;let P={path:r,parent:g,type:l,from:i.from,createError:A,resolve:w,options:i,originalValue:s,schema:o};const D=R=>{Io.isError(R)?S(R):R?c(null):S(A())},C=R=>{Io.isError(R)?S(R):a(R)};if(p&&op(n))return D(!0);let x;try{var N;if(x=u.call(P,n,P),typeof((N=x)==null?void 0:N.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(x).then(D,C)}}catch(R){C(R);return}D(x)}return e.OPTIONS=t,e}function YEe(t,e,n,r=n){let i,s,o;return e?(xp.forEach(e,(a,c,l)=>{let u=c?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",f=l?parseInt(u,10):0;if(t.innerType||h){if(h&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!l){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[u],t=t.fields[u]}s=u,o=c?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class FS extends Set{describe(){const e=[];for(const n of this.values())e.push(Tf.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new FS(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function dy(t,e=new Map){if(mP(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=dy(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,dy(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(dy(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=dy(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Mc{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new FS,this._blacklist=new FS,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(il.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=dy(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&op(s))return s;let o=Nu(e),a=Nu(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,c=e;a||(c=this._cast(c,Object.assign({assert:!1},n)));let l=[];for(let u of Object.values(this.internalTests))u&&l.push(u);this.runTests({path:s,value:c,originalValue:o,options:n,tests:l},r,u=>{if(u.length)return i(u,c);this.runTests({path:s,value:c,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:c,options:l}=e,u=y=>{i||(i=!0,n(y,o))},h=y=>{i||(i=!0,r(y,o))},f=s.length,p=[];if(!f)return h([]);let g={value:o,originalValue:a,path:c,options:l,schema:this};for(let y=0;y<s.length;y++){const v=s[y];v(g,u,function(w){w&&(Array.isArray(w)?p.push(...w):p.push(w)),--f<=0&&h(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:l,originalValue:s[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,f,p)=>this.resolve(u)._validate(l,u,f,p)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(c,l)=>{Io.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new Io(c,l,void 0,void 0,s)):o(l)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,c)=>{throw Io.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new Io(a,e,void 0,void 0,o);s=c}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Io.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Io.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):dy(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=fg({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=fg({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=il.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=il.notNull){return this.nullability(!1,e)}required(e=il.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=il.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=fg(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=WQ(e).map(s=>new Tf(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new LS(i,n):LS.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=fg({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=il.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=fg({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=il.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=fg({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,l,u)=>u.findIndex(h=>h.name===c.name)===l)}}}Mc.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Mc.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=YEe(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Mc.prototype[t]=Mc.prototype.oneOf;for(const t of["not","nope"])Mc.prototype[t]=Mc.prototype.notOneOf;const QEe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ZEe(t){const e=A2(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function A2(t){var e,n;const r=QEe.exec(t);return r?{year:ru(r[1]),month:ru(r[2],1)-1,day:ru(r[3],1),hour:ru(r[4]),minute:ru(r[5]),second:ru(r[6]),millisecond:r[7]?ru(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ru(r[10]),minuteOffset:ru(r[11])}:null}function ru(t,e=0){return Number(t)||e}let JEe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,XEe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,e1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,t1e="^\\d{4}-\\d{2}-\\d{2}",n1e="\\d{2}:\\d{2}:\\d{2}",r1e="(([+-]\\d{2}(:?\\d{2})?)|Z)",i1e=new RegExp(`${t1e}T${n1e}(\\.\\d+)?${r1e}$`),s1e=t=>op(t)||t===t.trim(),o1e={}.toString();function Po(){return new YQ}class YQ extends Mc{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===o1e?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||il.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=vo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=vo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=vo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||vo.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=vo.email){return this.matches(JEe,{name:"email",message:e,excludeEmptyString:!0})}url(e=vo.url){return this.matches(XEe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=vo.uuid){return this.matches(e1e,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(i1e,{name:"datetime",message:n||vo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||vo.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=A2(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||vo.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=A2(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=vo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:s1e})}lowercase(e=vo.lowercase){return this.transform(n=>op(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>op(n)||n===n.toLowerCase()})}uppercase(e=vo.uppercase){return this.transform(n=>op(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>op(n)||n===n.toUpperCase()})}}Po.prototype=YQ.prototype;let QQ=new Date(""),a1e=t=>Object.prototype.toString.call(t)==="[object Date]";function a$(){return new ZE}class ZE extends Mc{constructor(){super({type:"date",check(e){return a1e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=ZEe(e),isNaN(e)?ZE.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Tf.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=E2.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=E2.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}ZE.INVALID_DATE=QQ;a$.prototype=ZE.prototype;a$.INVALID_DATE=QQ;function c1e(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let c=xp.split(o)[0];r.add(c),i.has(`${a}-${c}`)||n.push([a,c])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Tf.isRef(a)&&a.isSibling?s(a.path,o):mP(a)&&"deps"in a&&a.deps.forEach(c=>s(c,o))}return FEe.array(Array.from(r),n).reverse()}function H6(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function ZQ(t){return(e,n)=>H6(t,e)-H6(t,n)}const JQ=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function iT(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=iT(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=iT(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(iT)}):"optional"in t?t.optional():t}const l1e=(t,e)=>{const n=[...xp.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=xp.getter(xp.join(n),!0)(t);return!!(i&&r in i)};let W6=t=>Object.prototype.toString.call(t)==="[object Object]";function q6(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const u1e=ZQ([]);function ew(t){return new XQ(t)}class XQ extends Mc{constructor(e){super({type:"object",check(n){return W6(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=u1e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),c={},l=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),u=!1;for(const h of a){let f=s[h],p=h in i;if(f){let g,y=i[h];l.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:y,context:n.context,parent:c});let v=f instanceof Mc?f.spec:void 0,b=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||h in i;continue}g=!n.__validating||!b?f.cast(i[h],l):i[h],g!==void 0&&(c[h]=g)}else p&&!o&&(c[h]=i[h]);(p!==h in c||c[h]!==i[h])&&(u=!0)}return u?c:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,l)=>{if(!a||!W6(l)){i(c,l);return}o=o||l;let u=[];for(let h of this._nodes){let f=this.fields[h];!f||Tf.isRef(f)||u.push(f.asNestedTest({options:n,key:h,parent:l,parentPath:n.path,originalParent:o}))}this.runTests({tests:u,value:l,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(c),l)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=c1e(e,n),r._sortErrors=ZQ(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return iT(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=xp.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return l1e(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(JQ)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||nT.exact,test(n){if(n==null)return!0;const r=q6(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=nT.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=q6(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=nT.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(QD.camelCase)}snakeCase(){return this.transformKeys(QD.snakeCase)}constantCase(){return this.transformKeys(e=>QD.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}ew.prototype=XQ.prototype;function eZ(t){return new tZ(t)}class tZ extends Mc{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((o,a)=>{const c=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return c!==o&&(i=!0),c});return i?s:r}_validate(e,n={},r,i){var s;let o=this.innerType,a=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,l)=>{var u;if(!a||!o||!this._typeCheck(l)){i(c,l);return}let h=new Array(l.length);for(let p=0;p<l.length;p++){var f;h[p]=o.asNestedTest({options:n,index:p,parent:l,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:l,tests:h,originalValue:(u=n.originalValue)!=null?u:e,options:n},r,p=>i(p.concat(c),l))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(JQ)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!mP(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Nu(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=rT.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||rT.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||rT.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=n.innerType.describe(s)}return r}}eZ.prototype=tZ.prototype;function nZ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nZ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ys(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nZ(t))&&(r&&(r+=" "),r+=e);return r}const rZ=6048e5,d1e=864e5,gP=6e4,yP=36e5,h1e=1e3,G6=Symbol.for("constructDateFrom");function Yn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&G6 in t?t[G6](e):t instanceof Date?new t.constructor(e):new Date(e)}function gt(t,e){return Yn(e||t,t)}function Ic(t,e,n){const r=gt(t,n==null?void 0:n.in);return isNaN(e)?Yn((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Lc(t,e,n){const r=gt(t,n==null?void 0:n.in);if(isNaN(e))return Yn((n==null?void 0:n.in)||t,NaN);if(!e)return r;const i=r.getDate(),s=Yn((n==null?void 0:n.in)||t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function iZ(t,e,n){return Yn((n==null?void 0:n.in)||t,+gt(t)+e)}function f1e(t,e,n){return iZ(t,e*yP,n)}let p1e={};function Nm(){return p1e}function Zu(t,e){var a,c,l,u;const n=Nm(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=gt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function hv(t,e){return Zu(t,{...e,weekStartsOn:1})}function sZ(t,e){const n=gt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Yn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=hv(i),o=Yn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=hv(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function $S(t){const e=gt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function pd(t,...e){const n=Yn.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Kp(t,e){const n=gt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function fv(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e),s=Kp(r),o=Kp(i),a=+s-$S(s),c=+o-$S(o);return Math.round((a-c)/d1e)}function m1e(t,e){const n=sZ(t,e),r=Yn((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),hv(r)}function C2(t,e,n){const r=gt(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*gP),r}function c$(t,e,n){return Lc(t,e*3,n)}function g1e(t,e,n){return iZ(t,e*1e3,n)}function US(t,e,n){return Ic(t,e*7,n)}function Ru(t,e,n){return Lc(t,e*12,n)}function K6(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Yn.bind(null,i));const s=gt(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),Yn(r,n||NaN)}function Y6(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Yn.bind(null,i));const s=gt(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),Yn(r,n||NaN)}function y1e(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e);return+Kp(r)==+Kp(i)}function ku(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jS(t){return!(!ku(t)&&typeof t!="number"||isNaN(+gt(t)))}function BS(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function Pp(t,e){const n=gt(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function zS(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=Pp(r)-Pp(i);return s*4+o}function VS(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}function v1e(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e),s=Q6(r,i),o=Math.abs(fv(r,i));r.setDate(r.getDate()-s*o);const a=+(Q6(r,i)===-s),c=s*(o-a);return c===0?0:c}function Q6(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function oZ(t,e){const n=gt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function aZ(t,e){const n=gt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function T2(t,e){const n=gt(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function cZ(t,e){const n=gt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function lZ(t,e){const n=gt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function vP(t,e){const n=gt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function w1e(t,e){var a,c,l,u;const n=Nm(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=gt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const _1e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b1e=(t,e,n)=>{let r;const i=_1e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ZD(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const E1e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C1e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T1e={date:ZD({formats:E1e,defaultWidth:"full"}),time:ZD({formats:A1e,defaultWidth:"full"}),dateTime:ZD({formats:C1e,defaultWidth:"full"})},S1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I1e=(t,e,n,r)=>S1e[t];function l0(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const x1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},P1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k1e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},M1e={ordinalNumber:k1e,era:l0({values:x1e,defaultWidth:"wide"}),quarter:l0({values:P1e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:l0({values:O1e,defaultWidth:"wide"}),day:l0({values:D1e,defaultWidth:"wide"}),dayPeriod:l0({values:N1e,defaultWidth:"wide",formattingValues:R1e,defaultFormattingWidth:"wide"})};function u0(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?F1e(a,h=>h.test(o)):L1e(a,h=>h.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function L1e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function F1e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $1e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const U1e=/^(\d+)(th|st|nd|rd)?/i,j1e=/\d+/i,B1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z1e={any:[/^b/i,/^(a|c)/i]},V1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},H1e={any:[/1/i,/2/i,/3/i,/4/i]},W1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z1e={ordinalNumber:$1e({matchPattern:U1e,parsePattern:j1e,valueCallback:t=>parseInt(t,10)}),era:u0({matchPatterns:B1e,defaultMatchWidth:"wide",parsePatterns:z1e,defaultParseWidth:"any"}),quarter:u0({matchPatterns:V1e,defaultMatchWidth:"wide",parsePatterns:H1e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:u0({matchPatterns:W1e,defaultMatchWidth:"wide",parsePatterns:q1e,defaultParseWidth:"any"}),day:u0({matchPatterns:G1e,defaultMatchWidth:"wide",parsePatterns:K1e,defaultParseWidth:"any"}),dayPeriod:u0({matchPatterns:Y1e,defaultMatchWidth:"any",parsePatterns:Q1e,defaultParseWidth:"any"})},uZ={code:"en-US",formatDistance:b1e,formatLong:T1e,formatRelative:I1e,localize:M1e,match:Z1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J1e(t,e){const n=gt(t,e==null?void 0:e.in);return fv(n,vP(n))+1}function l$(t,e){const n=gt(t,e==null?void 0:e.in),r=+hv(n)-+m1e(n);return Math.round(r/rZ)+1}function u$(t,e){var u,h,f,p;const n=gt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Nm(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=Yn((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Zu(o,e),c=Yn((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const l=Zu(c,e);return+n>=+a?r+1:+n>=+l?r:r-1}function X1e(t,e){var a,c,l,u;const n=Nm(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=u$(t,e),s=Yn((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Zu(s,e)}function dZ(t,e){const n=gt(t,e==null?void 0:e.in),r=+Zu(n,e)-+X1e(n,e);return Math.round(r/rZ)+1}function Vn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Dd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Vn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Vn(n+1,2)},d(t,e){return Vn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Vn(t.getHours()%12||12,e.length)},H(t,e){return Vn(t.getHours(),e.length)},m(t,e){return Vn(t.getMinutes(),e.length)},s(t,e){return Vn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Vn(i,e.length)}},pg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Z6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Dd.y(t,e)},Y:function(t,e,n,r){const i=u$(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Vn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Vn(s,e.length)},R:function(t,e){const n=sZ(t);return Vn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Vn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Vn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Vn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Dd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Vn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=dZ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Vn(i,e.length)},I:function(t,e,n){const r=l$(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Vn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Dd.d(t,e)},D:function(t,e,n){const r=J1e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Vn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Vn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Vn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Vn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=pg.noon:r===0?i=pg.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=pg.evening:r>=12?i=pg.afternoon:r>=4?i=pg.morning:i=pg.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Dd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Vn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Vn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dd.s(t,e)},S:function(t,e){return Dd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return X6(r);case"XXXX":case"XX":return Vf(r);case"XXXXX":case"XXX":default:return Vf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return X6(r);case"xxxx":case"xx":return Vf(r);case"xxxxx":case"xxx":default:return Vf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+J6(r,":");case"OOOO":default:return"GMT"+Vf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+J6(r,":");case"zzzz":default:return"GMT"+Vf(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Vn(r,e.length)},T:function(t,e,n){return Vn(+t,e.length)}};function J6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Vn(s,2)}function X6(t,e){return t%60===0?(t>0?"-":"+")+Vn(Math.abs(t)/60,2):Vf(t,e)}function Vf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Vn(Math.trunc(r/60),2),s=Vn(r%60,2);return n+i+e+s}const e8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hZ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},eAe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return e8(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",e8(r,e)).replace("{{time}}",hZ(i,e))},S2={p:hZ,P:eAe},tAe=/^D+$/,nAe=/^Y+$/,rAe=["D","DD","YY","YYYY"];function fZ(t){return tAe.test(t)}function pZ(t){return nAe.test(t)}function I2(t,e,n){const r=iAe(t,e,n);if(console.warn(r),rAe.includes(t))throw new RangeError(r)}function iAe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aAe=/^'([^]*?)'?$/,cAe=/''/g,lAe=/[a-zA-Z]/;function HS(t,e,n){var u,h,f,p,g,y,v,b;const r=Nm(),i=(n==null?void 0:n.locale)??r.locale??uZ,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,a=gt(t,n==null?void 0:n.in);if(!jS(a))throw new RangeError("Invalid time value");let c=e.match(oAe).map(w=>{const A=w[0];if(A==="p"||A==="P"){const S=S2[A];return S(w,i.formatLong)}return w}).join("").match(sAe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const A=w[0];if(A==="'")return{isToken:!1,value:uAe(w)};if(Z6[A])return{isToken:!0,value:w};if(A.match(lAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const l={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const A=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&pZ(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&fZ(A))&&I2(A,e,String(t));const S=Z6[A[0]];return S(a,A,i.localize,l)}).join("")}function uAe(t){const e=t.match(aAe);return e?e[1].replace(cAe,"'"):t}function t8(t,e){return gt(t,e==null?void 0:e.in).getDate()}function dAe(t,e){return gt(t,e==null?void 0:e.in).getDay()}function hAe(t,e){const n=gt(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=Yn(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function fAe(){return Object.assign({},Nm())}function Mu(t,e){return gt(t,e==null?void 0:e.in).getHours()}function pAe(t,e){const n=gt(t,e==null?void 0:e.in).getDay();return n===0?7:n}function Lu(t,e){return gt(t,e==null?void 0:e.in).getMinutes()}function Xs(t,e){return gt(t,e==null?void 0:e.in).getMonth()}function Mh(t){return gt(t).getSeconds()}function x2(t){return+gt(t)}function tn(t,e){return gt(t,e==null?void 0:e.in).getFullYear()}function nf(t,e){return+gt(t)>+gt(e)}function Yp(t,e){return+gt(t)<+gt(e)}function mAe(t,e){return+gt(t)==+gt(e)}function gAe(t,e){const n=yAe(e)?new e(0):Yn(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function yAe(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const vAe=10;class mZ{constructor(){Ye(this,"subPriority",0)}validate(e,n){return!0}}class wAe extends mZ{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class _Ae extends mZ{constructor(n,r){super();Ye(this,"priority",vAe);Ye(this,"subPriority",-1);this.context=n||(i=>Yn(r,i))}set(n,r){return r.timestampIsSet?n:Yn(n,gAe(n,this.context))}}class Rn{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new wAe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class bAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const ai={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},pl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ci(t,e){return t&&{value:e(t.value),rest:t.rest}}function Br(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ml(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*yP+s*gP+o*h1e),rest:e.slice(n[0].length)}}function gZ(t){return Br(ai.anyDigitsSigned,t)}function Yr(t,e){switch(t){case 1:return Br(ai.singleDigit,e);case 2:return Br(ai.twoDigits,e);case 3:return Br(ai.threeDigits,e);case 4:return Br(ai.fourDigits,e);default:return Br(new RegExp("^\\d{1,"+t+"}"),e)}}function WS(t,e){switch(t){case 1:return Br(ai.singleDigitSigned,e);case 2:return Br(ai.twoDigitsSigned,e);case 3:return Br(ai.threeDigitsSigned,e);case 4:return Br(ai.fourDigitsSigned,e);default:return Br(new RegExp("^-?\\d{1,"+t+"}"),e)}}function d$(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yZ(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function vZ(t){return t%400===0||t%4===0&&t%100!==0}class EAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return ci(Yr(4,n),s);case"yo":return ci(i.ordinalNumber(n,{unit:"year"}),s);default:return ci(Yr(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=yZ(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class AAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ci(Yr(4,n),s);case"Yo":return ci(i.ordinalNumber(n,{unit:"year"}),s);default:return ci(Yr(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=u$(n,s);if(i.isTwoDigitYear){const c=yZ(i.year,o);return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Zu(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Zu(n,s)}}class CAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return WS(r==="R"?4:r.length,n)}set(n,r,i){const s=Yn(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),hv(s)}}class TAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return WS(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class SAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Yr(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class IAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Yr(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class xAe extends Rn{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return ci(Br(ai.month,n),s);case"MM":return ci(Yr(2,n),s);case"Mo":return ci(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class PAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return ci(Br(ai.month,n),s);case"LL":return ci(Yr(2,n),s);case"Lo":return ci(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function OAe(t,e,n){const r=gt(t,n==null?void 0:n.in),i=dZ(r,n)-e;return r.setDate(r.getDate()-i*7),gt(r,n==null?void 0:n.in)}class DAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Br(ai.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Yr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Zu(OAe(n,i,s),s)}}function NAe(t,e,n){const r=gt(t,n==null?void 0:n.in),i=l$(r,n)-e;return r.setDate(r.getDate()-i*7),r}class RAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Br(ai.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Yr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return hv(NAe(n,i))}}const kAe=[31,28,31,30,31,30,31,31,30,31,30,31],MAe=[31,29,31,30,31,30,31,31,30,31,30,31];class LAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Br(ai.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Yr(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=vZ(i),o=n.getMonth();return s?r>=1&&r<=MAe[o]:r>=1&&r<=kAe[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class FAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Br(ai.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Yr(r.length,n)}}validate(n,r){const i=n.getFullYear();return vZ(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function h$(t,e,n){var h,f,p,g;const r=Nm(),i=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=gt(t,n==null?void 0:n.in),o=s.getDay(),c=(e%7+7)%7,l=7-i,u=e<0||e>6?e-(o+l)%7:(c+l)%7-(o+l)%7;return Ic(s,u,n)}class $Ae extends Rn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=h$(n,i,s),n.setHours(0,0,0,0),n}}class UAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return ci(Yr(r.length,n),o);case"eo":return ci(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=h$(n,i,s),n.setHours(0,0,0,0),n}}class jAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return ci(Yr(r.length,n),o);case"co":return ci(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=h$(n,i,s),n.setHours(0,0,0,0),n}}function BAe(t,e,n){const r=gt(t,n==null?void 0:n.in),i=pAe(r,n),s=e-i;return Ic(r,s,n)}class zAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Yr(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return ci(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return ci(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ci(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ci(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=BAe(n,i),n.setHours(0,0,0,0),n}}class VAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d$(i),0,0,0),n}}class HAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d$(i),0,0,0),n}}class WAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d$(i),0,0,0),n}}class qAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Br(ai.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Yr(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class GAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Br(ai.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Yr(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class KAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Br(ai.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Yr(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class YAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Br(ai.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Yr(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class QAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Br(ai.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Yr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class ZAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Br(ai.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Yr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class JAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return ci(Yr(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class XAe extends Rn{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ml(pl.basicOptionalMinutes,n);case"XX":return ml(pl.basic,n);case"XXXX":return ml(pl.basicOptionalSeconds,n);case"XXXXX":return ml(pl.extendedOptionalSeconds,n);case"XXX":default:return ml(pl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Yn(n,n.getTime()-$S(n)-i)}}class eCe extends Rn{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ml(pl.basicOptionalMinutes,n);case"xx":return ml(pl.basic,n);case"xxxx":return ml(pl.basicOptionalSeconds,n);case"xxxxx":return ml(pl.extendedOptionalSeconds,n);case"xxx":default:return ml(pl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Yn(n,n.getTime()-$S(n)-i)}}class tCe extends Rn{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(n){return gZ(n)}set(n,r,i){return[Yn(n,i*1e3),{timestampIsSet:!0}]}}class nCe extends Rn{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(n){return gZ(n)}set(n,r,i){return[Yn(n,i),{timestampIsSet:!0}]}}const rCe={G:new bAe,y:new EAe,Y:new AAe,R:new CAe,u:new TAe,Q:new SAe,q:new IAe,M:new xAe,L:new PAe,w:new DAe,I:new RAe,d:new LAe,D:new FAe,E:new $Ae,e:new UAe,c:new jAe,i:new zAe,a:new VAe,b:new HAe,B:new WAe,h:new qAe,H:new GAe,K:new KAe,k:new YAe,m:new QAe,s:new ZAe,S:new JAe,X:new XAe,x:new eCe,t:new tCe,T:new nCe},iCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oCe=/^'([^]*?)'?$/,aCe=/''/g,cCe=/\S/,lCe=/[a-zA-Z]/;function uCe(t,e,n,r){var v,b,w,A,S,P,D,C;const i=()=>Yn((r==null?void 0:r.in)||n,NaN),s=fAe(),o=(r==null?void 0:r.locale)??s.locale??uZ,a=(r==null?void 0:r.firstWeekContainsDate)??((b=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(w=s.locale)==null?void 0:w.options)==null?void 0:A.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((P=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:P.weekStartsOn)??s.weekStartsOn??((C=(D=s.locale)==null?void 0:D.options)==null?void 0:C.weekStartsOn)??0;if(!e)return t?i():gt(n,r==null?void 0:r.in);const l={firstWeekContainsDate:a,weekStartsOn:c,locale:o},u=[new _Ae(r==null?void 0:r.in,n)],h=e.match(sCe).map(I=>{const x=I[0];if(x in S2){const N=S2[x];return N(I,o.formatLong)}return I}).join("").match(iCe),f=[];for(let I of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&pZ(I)&&I2(I,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&fZ(I)&&I2(I,e,t);const x=I[0],N=rCe[x];if(N){const{incompatibleTokens:R}=N;if(Array.isArray(R)){const U=f.find(Y=>R.includes(Y.token)||Y.token===x);if(U)throw new RangeError(`The format string mustn't contain \`${U.fullToken}\` and \`${I}\` at the same time`)}else if(N.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);f.push({token:x,fullToken:I});const $=N.run(t,I,o.match,l);if(!$)return i();u.push($.setter),t=$.rest}else{if(x.match(lCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");if(I==="''"?I="'":x==="'"&&(I=dCe(I)),t.indexOf(I)===0)t=t.slice(I.length);else return i()}}if(t.length>0&&cCe.test(t))return i();const p=u.map(I=>I.priority).sort((I,x)=>x-I).filter((I,x,N)=>N.indexOf(I)===x).map(I=>u.filter(x=>x.priority===I).sort((x,N)=>N.subPriority-x.subPriority)).map(I=>I[0]);let g=gt(n,r==null?void 0:r.in);if(isNaN(+g))return i();const y={};for(const I of p){if(!I.validate(g,l))return i();const x=I.set(g,y,l);Array.isArray(x)?(g=x[0],Object.assign(y,x[1])):g=x}return g}function dCe(t){return t.match(oCe)[1].replace(aCe,"'")}function hCe(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function fCe(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e);return+T2(r)==+T2(i)}function pCe(t,e,n){const[r,i]=pd(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function gb(t,e,n){const r=+gt(t,n==null?void 0:n.in),[i,s]=[+gt(e.start,n==null?void 0:n.in),+gt(e.end,n==null?void 0:n.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function mCe(t,e,n){return Ic(t,-e,n)}function gCe(t,e){const n=()=>Yn(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=_Ce(t);let s;if(i.date){const l=bCe(i.date,r);s=ECe(l.restDateString,l.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,c;if(i.time&&(a=ACe(i.time),isNaN(a)))return n();if(i.timezone){if(c=CCe(i.timezone),isNaN(c))return n()}else{const l=new Date(o+a),u=gt(0,e==null?void 0:e.in);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return gt(o+a+c,e==null?void 0:e.in)}const jA={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yCe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vCe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wCe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _Ce(t){const e={},n=t.split(jA.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],jA.timeZoneDelimiter.test(e.date)&&(e.date=t.split(jA.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=jA.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function bCe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function ECe(t,e){if(e===null)return new Date(NaN);const n=t.match(yCe);if(!n)return new Date(NaN);const r=!!n[4],i=d0(n[1]),s=d0(n[2])-1,o=d0(n[3]),a=d0(n[4]),c=d0(n[5])-1;if(r)return PCe(e,a,c)?TCe(e,a,c):new Date(NaN);{const l=new Date(0);return!ICe(e,s,o)||!xCe(e,i)?new Date(NaN):(l.setUTCFullYear(e,s,Math.max(i,o)),l)}}function d0(t){return t?parseInt(t):1}function ACe(t){const e=t.match(vCe);if(!e)return NaN;const n=JD(e[1]),r=JD(e[2]),i=JD(e[3]);return OCe(n,r,i)?n*yP+r*gP+i*1e3:NaN}function JD(t){return t&&parseFloat(t.replace(",","."))||0}function CCe(t){if(t==="Z")return 0;const e=t.match(wCe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return DCe(r,i)?n*(r*yP+i*gP):NaN}function TCe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const SCe=[31,null,31,30,31,30,31,31,30,31,30,31];function wZ(t){return t%400===0||t%4===0&&t%100!==0}function ICe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(SCe[e]||(wZ(t)?29:28))}function xCe(t,e){return e>=1&&e<=(wZ(t)?366:365)}function PCe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function OCe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function DCe(t,e){return e>=0&&e<=59}function Da(t,e,n){const r=gt(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=Yn((n==null?void 0:n.in)||t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=hAe(o);return r.setMonth(e,Math.min(s,a)),r}function sT(t,e,n){const r=gt(t,n==null?void 0:n.in);return r.setHours(e),r}function oT(t,e,n){const r=gt(t,n==null?void 0:n.in);return r.setMinutes(e),r}function Bg(t,e,n){const r=gt(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return Da(r,r.getMonth()+s*3)}function aT(t,e,n){const r=gt(t,n==null?void 0:n.in);return r.setSeconds(e),r}function sl(t,e,n){const r=gt(t,n==null?void 0:n.in);return isNaN(+r)?Yn((n==null?void 0:n.in)||t,NaN):(r.setFullYear(e),r)}function Op(t,e,n){return Lc(t,-e,n)}function _Z(t,e,n){return c$(t,-e,n)}function n8(t,e,n){return US(t,-e,n)}function pv(t,e,n){return Ru(t,-e,n)}function wP(){return typeof window<"u"}function tw(t){return bZ(t)?(t.nodeName||"").toLowerCase():"#document"}function ra(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wl(t){var e;return(e=(bZ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bZ(t){return wP()?t instanceof Node||t instanceof ra(t).Node:!1}function eo(t){return wP()?t instanceof Element||t instanceof ra(t).Element:!1}function Rl(t){return wP()?t instanceof HTMLElement||t instanceof ra(t).HTMLElement:!1}function r8(t){return!wP()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ra(t).ShadowRoot}function JE(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ha(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function NCe(t){return["table","td","th"].includes(tw(t))}function _P(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function f$(t){const e=p$(),n=eo(t)?Ha(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RCe(t){let e=rf(t);for(;Rl(e)&&!mv(e);){if(f$(e))return e;if(_P(e))return null;e=rf(e)}return null}function p$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mv(t){return["html","body","#document"].includes(tw(t))}function Ha(t){return ra(t).getComputedStyle(t)}function bP(t){return eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rf(t){if(tw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||r8(t)&&t.host||Wl(t);return r8(e)?e.host:e}function EZ(t){const e=rf(t);return mv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rl(e)&&JE(e)?e:EZ(e)}function yb(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=EZ(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ra(i);if(s){const a=P2(o);return e.concat(o,o.visualViewport||[],JE(i)?i:[],a&&n?yb(a):[])}return e.concat(i,yb(i,[],n))}function P2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const gv=Math.min,Dp=Math.max,qS=Math.round,BA=Math.floor,Tl=t=>({x:t,y:t}),kCe={left:"right",right:"left",bottom:"top",top:"bottom"},MCe={start:"end",end:"start"};function LCe(t,e,n){return Dp(t,gv(e,n))}function EP(t,e){return typeof t=="function"?t(e):t}function yv(t){return t.split("-")[0]}function XE(t){return t.split("-")[1]}function FCe(t){return t==="x"?"y":"x"}function m$(t){return t==="y"?"height":"width"}function vb(t){return["top","bottom"].includes(yv(t))?"y":"x"}function g$(t){return FCe(vb(t))}function $Ce(t,e,n){n===void 0&&(n=!1);const r=XE(t),i=g$(t),s=m$(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=GS(o)),[o,GS(o)]}function UCe(t){const e=GS(t);return[O2(t),e,O2(e)]}function O2(t){return t.replace(/start|end/g,e=>MCe[e])}function jCe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function BCe(t,e,n,r){const i=XE(t);let s=jCe(yv(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(O2)))),s}function GS(t){return t.replace(/left|right|bottom|top/g,e=>kCe[e])}function zCe(t){return{top:0,right:0,bottom:0,left:0,...t}}function AZ(t){return typeof t!="number"?zCe(t):{top:t,right:t,bottom:t,left:t}}function KS(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var YS=typeof document<"u"?F.useLayoutEffect:F.useEffect;const VCe={...CF},HCe=VCe.useInsertionEffect,WCe=HCe||(t=>t());function qCe(t){const e=F.useRef(()=>{});return WCe(()=>{e.current=t}),F.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function i8(t,e,n){let{reference:r,floating:i}=t;const s=vb(e),o=g$(e),a=m$(o),c=yv(e),l=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(XE(e)){case"start":p[o]-=f*(n&&l?-1:1);break;case"end":p[o]+=f*(n&&l?-1:1);break}return p}const GCe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=i8(l,r,c),f=r,p={},g=0;for(let y=0;y<a.length;y++){const{name:v,fn:b}=a[y],{x:w,y:A,data:S,reset:P}=await b({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});u=w??u,h=A??h,p={...p,[v]:{...p[v],...S}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(l=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:u,y:h}=i8(l,f,c)),y=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function KCe(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=EP(e,t),g=AZ(p),v=a[f?h==="floating"?"reference":"floating":h],b=KS(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),w=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},P=KS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:A,strategy:c}):w);return{top:(b.top-P.top+g.top)/S.y,bottom:(P.bottom-b.bottom+g.bottom)/S.y,left:(b.left-P.left+g.left)/S.x,right:(P.right-b.right+g.right)/S.x}}const YCe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=EP(t,e)||{};if(l==null)return{};const h=AZ(u),f={x:n,y:r},p=g$(i),g=m$(p),y=await o.getDimensions(l),v=p==="y",b=v?"top":"left",w=v?"bottom":"right",A=v?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-f[p]-s.floating[g],P=f[p]-s.reference[p],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let C=D?D[A]:0;(!C||!await(o.isElement==null?void 0:o.isElement(D)))&&(C=a.floating[A]||s.floating[g]);const I=S/2-P/2,x=C/2-y[g]/2-1,N=gv(h[b],x),R=gv(h[w],x),$=N,U=C-y[g]-R,Y=C/2-y[g]/2+I,z=LCe($,Y,U),j=!c.arrow&&XE(i)!=null&&Y!==z&&s.reference[g]/2-(Y<$?N:R)-y[g]/2<0,q=j?Y<$?Y-$:Y-U:0;return{[p]:f[p]+q,data:{[p]:z,centerOffset:Y-z-q,...j&&{alignmentOffset:q}},reset:j}}}),QCe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=EP(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=yv(i),w=vb(a),A=yv(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(l.floating)),P=f||(A||!y?[GS(a)]:UCe(a)),D=g!=="none";!f&&D&&P.push(...BCe(a,y,g,S));const C=[a,...P],I=await KCe(e,v),x=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&x.push(I[b]),h){const Y=$Ce(i,o,S);x.push(I[Y[0]],I[Y[1]])}if(N=[...N,{placement:i,overflows:x}],!x.every(Y=>Y<=0)){var R,$;const Y=(((R=s.flip)==null?void 0:R.index)||0)+1,z=C[Y];if(z)return{data:{index:Y,overflows:N},reset:{placement:z}};let j=($=N.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:$.placement;if(!j)switch(p){case"bestFit":{var U;const q=(U=N.filter(V=>{if(D){const Q=vb(V.placement);return Q===w||Q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Q=>Q>0).reduce((Q,K)=>Q+K,0)]).sort((V,Q)=>V[1]-Q[1])[0])==null?void 0:U[0];q&&(j=q);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};async function ZCe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=yv(n),a=XE(n),c=vb(n)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,h=EP(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}const JCe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await ZCe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}};function CZ(t){const e=Ha(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Rl(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=qS(n)!==s||qS(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function y$(t){return eo(t)?t:t.contextElement}function xy(t){const e=y$(t);if(!Rl(e))return Tl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=CZ(e);let o=(s?qS(n.width):n.width)/r,a=(s?qS(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const XCe=Tl(0);function TZ(t){const e=ra(t);return!p$()||!e.visualViewport?XCe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eTe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ra(t)?!1:e}function Qp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=y$(t);let o=Tl(1);e&&(r?eo(r)&&(o=xy(r)):o=xy(t));const a=eTe(s,n,r)?TZ(s):Tl(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=ra(s),p=r&&eo(r)?ra(r):r;let g=f,y=P2(g);for(;y&&r&&p!==g;){const v=xy(y),b=y.getBoundingClientRect(),w=Ha(y),A=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*v.x,S=b.top+(y.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,l*=v.y,u*=v.x,h*=v.y,c+=A,l+=S,g=ra(y),y=P2(g)}}return KS({width:u,height:h,x:c,y:l})}function v$(t,e){const n=bP(t).scrollLeft;return e?e.left+n:Qp(Wl(t)).left+n}function SZ(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:v$(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function tTe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Wl(r),a=e?_P(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=Tl(1);const u=Tl(0),h=Rl(r);if((h||!h&&!s)&&((tw(r)!=="body"||JE(o))&&(c=bP(r)),Rl(r))){const p=Qp(r);l=xy(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!h&&!s?SZ(o,c,!0):Tl(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function nTe(t){return Array.from(t.getClientRects())}function rTe(t){const e=Wl(t),n=bP(t),r=t.ownerDocument.body,i=Dp(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Dp(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+v$(t);const a=-n.scrollTop;return Ha(r).direction==="rtl"&&(o+=Dp(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function iTe(t,e){const n=ra(t),r=Wl(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=p$();(!l||l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function sTe(t,e){const n=Qp(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Rl(t)?xy(t):Tl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function s8(t,e,n){let r;if(e==="viewport")r=iTe(t,n);else if(e==="document")r=rTe(Wl(t));else if(eo(e))r=sTe(e,n);else{const i=TZ(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return KS(r)}function IZ(t,e){const n=rf(t);return n===e||!eo(n)||mv(n)?!1:Ha(n).position==="fixed"||IZ(n,e)}function oTe(t,e){const n=e.get(t);if(n)return n;let r=yb(t,[],!1).filter(a=>eo(a)&&tw(a)!=="body"),i=null;const s=Ha(t).position==="fixed";let o=s?rf(t):t;for(;eo(o)&&!mv(o);){const a=Ha(o),c=f$(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||JE(o)&&!c&&IZ(t,o))?r=r.filter(u=>u!==o):i=a,o=rf(o)}return e.set(t,r),r}function aTe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?_P(e)?[]:oTe(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const h=s8(e,u,i);return l.top=Dp(h.top,l.top),l.right=gv(h.right,l.right),l.bottom=gv(h.bottom,l.bottom),l.left=Dp(h.left,l.left),l},s8(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cTe(t){const{width:e,height:n}=CZ(t);return{width:e,height:n}}function lTe(t,e,n){const r=Rl(e),i=Wl(e),s=n==="fixed",o=Qp(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Tl(0);if(r||!r&&!s)if((tw(e)!=="body"||JE(i))&&(a=bP(e)),r){const f=Qp(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&(c.x=v$(i));const l=i&&!r&&!s?SZ(i,a):Tl(0),u=o.left+a.scrollLeft-c.x-l.x,h=o.top+a.scrollTop-c.y-l.y;return{x:u,y:h,width:o.width,height:o.height}}function XD(t){return Ha(t).position==="static"}function o8(t,e){if(!Rl(t)||Ha(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wl(t)===n&&(n=n.ownerDocument.body),n}function xZ(t,e){const n=ra(t);if(_P(t))return n;if(!Rl(t)){let i=rf(t);for(;i&&!mv(i);){if(eo(i)&&!XD(i))return i;i=rf(i)}return n}let r=o8(t,e);for(;r&&NCe(r)&&XD(r);)r=o8(r,e);return r&&mv(r)&&XD(r)&&!f$(r)?n:r||RCe(t)||n}const uTe=async function(t){const e=this.getOffsetParent||xZ,n=this.getDimensions,r=await n(t.floating);return{reference:lTe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dTe(t){return Ha(t).direction==="rtl"}const hTe={convertOffsetParentRelativeRectToViewportRelativeRect:tTe,getDocumentElement:Wl,getClippingRect:aTe,getOffsetParent:xZ,getElementRects:uTe,getClientRects:nTe,getDimensions:cTe,getScale:xy,isElement:eo,isRTL:dTe};function PZ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fTe(t,e){let n=null,r;const i=Wl(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const l=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=l;if(a||e(),!f||!p)return;const g=BA(h),y=BA(i.clientWidth-(u+f)),v=BA(i.clientHeight-(h+p)),b=BA(u),A={rootMargin:-g+"px "+-y+"px "+-v+"px "+-b+"px",threshold:Dp(0,gv(1,c))||1};let S=!0;function P(D){const C=D[0].intersectionRatio;if(C!==c){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!PZ(l,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(P,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,A)}n.observe(t)}return o(!0),s}function pTe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=y$(t),u=i||s?[...l?yb(l):[],...yb(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const h=l&&a?fTe(l,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(e)})),n()}),l&&!c&&p.observe(l),p.observe(e));let g,y=c?Qp(t):null;c&&v();function v(){const b=Qp(t);y&&!PZ(y,b)&&n(),y=b,g=requestAnimationFrame(v)}return n(),()=>{var b;u.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const mTe=JCe,gTe=QCe,a8=YCe,yTe=(t,e,n)=>{const r=new Map,i={platform:hTe,...n},s={...i.platform,_c:r};return GCe(t,e,{...i,platform:s})};var cT=typeof document<"u"?F.useLayoutEffect:F.useEffect;function QS(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!QS(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!QS(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function OZ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function c8(t,e){const n=OZ(t);return Math.round(e*n)/n}function eN(t){const e=F.useRef(t);return cT(()=>{e.current=t}),e}function vTe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,h]=F.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=F.useState(r);QS(f,r)||p(r);const[g,y]=F.useState(null),[v,b]=F.useState(null),w=F.useCallback(V=>{V!==D.current&&(D.current=V,y(V))},[]),A=F.useCallback(V=>{V!==C.current&&(C.current=V,b(V))},[]),S=s||g,P=o||v,D=F.useRef(null),C=F.useRef(null),I=F.useRef(u),x=c!=null,N=eN(c),R=eN(i),$=eN(l),U=F.useCallback(()=>{if(!D.current||!C.current)return;const V={placement:e,strategy:n,middleware:f};R.current&&(V.platform=R.current),yTe(D.current,C.current,V).then(Q=>{const K={...Q,isPositioned:$.current!==!1};Y.current&&!QS(I.current,K)&&(I.current=K,Af.flushSync(()=>{h(K)}))})},[f,e,n,R,$]);cT(()=>{l===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[l]);const Y=F.useRef(!1);cT(()=>(Y.current=!0,()=>{Y.current=!1}),[]),cT(()=>{if(S&&(D.current=S),P&&(C.current=P),S&&P){if(N.current)return N.current(S,P,U);U()}},[S,P,U,N,x]);const z=F.useMemo(()=>({reference:D,floating:C,setReference:w,setFloating:A}),[w,A]),j=F.useMemo(()=>({reference:S,floating:P}),[S,P]),q=F.useMemo(()=>{const V={position:n,left:0,top:0};if(!j.floating)return V;const Q=c8(j.floating,u.x),K=c8(j.floating,u.y);return a?{...V,transform:"translate("+Q+"px, "+K+"px)",...OZ(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:K}},[n,a,j.floating,u.x,u.y]);return F.useMemo(()=>({...u,update:U,refs:z,elements:j,floatingStyles:q}),[u,U,z,j,q])}const wTe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?a8({element:r.current,padding:i}).fn(n):{}:r?a8({element:r,padding:i}).fn(n):{}}}},_Te=(t,e)=>({...mTe(t),options:[t,e]}),bTe=(t,e)=>({...gTe(t),options:[t,e]}),ETe=(t,e)=>({...wTe(t),options:[t,e]}),ATe={...CF};let l8=!1,CTe=0;const u8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+CTe++;function TTe(){const[t,e]=F.useState(()=>l8?u8():void 0);return YS(()=>{t==null&&e(u8())},[]),F.useEffect(()=>{l8=!0},[]),t}const STe=ATe.useId,DZ=STe||TTe,ITe=F.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:c=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:h,stroke:f,d:p,style:{transform:g,...y}={},...v}=e,b=DZ(),[w,A]=F.useState(!1);if(YS(()=>{if(!i)return;Ha(i).direction==="rtl"&&A(!0)},[i]),!i)return null;const[S,P]=r.split("-"),D=S==="top"||S==="bottom";let C=h;(D&&o!=null&&o.x||!D&&o!=null&&o.y)&&(C=null);const I=u*2,x=I/2,N=a/2*(l/-8+1),R=c/2*l/4,$=!!p,U=C&&P==="end"?"bottom":"top";let Y=C&&P==="end"?"right":"left";C&&w&&(Y=P==="end"?"left":"right");const z=(s==null?void 0:s.x)!=null?C||s.x:"",j=(s==null?void 0:s.y)!=null?C||s.y:"",q=p||"M0,0"+(" H"+a)+(" L"+(a-N)+","+(c-R))+(" Q"+a/2+","+c+" "+N+","+(c-R))+" Z",V={top:$?"rotate(180deg)":"",left:$?"rotate(90deg)":"rotate(-90deg)",bottom:$?"":"rotate(180deg)",right:$?"rotate(-90deg)":"rotate(90deg)"}[S];return T.jsxs("svg",{...v,"aria-hidden":!0,ref:n,width:$?a:a+I,height:a,viewBox:"0 0 "+a+" "+(c>a?c:a),style:{position:"absolute",pointerEvents:"none",[Y]:z,[U]:j,[S]:D||$?"100%":"calc(100% - "+I/2+"px)",transform:[V,g].filter(Q=>!!Q).join(" "),...y},children:[I>0&&T.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:f,strokeWidth:I+(p?0:1),d:q}),T.jsx("path",{stroke:I&&!p?v.fill:"none",d:q}),T.jsx("clipPath",{id:b,children:T.jsx("rect",{x:-x,y:x*($?-1:1),width:a+I,height:a})})]})});function xTe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const PTe=F.createContext(null),OTe=F.createContext(null),DTe=()=>{var t;return((t=F.useContext(PTe))==null?void 0:t.id)||null},NTe=()=>F.useContext(OTe);function RTe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=DZ(),s=F.useRef({}),[o]=F.useState(()=>xTe()),a=DTe()!=null,[c,l]=F.useState(r.reference),u=qCe((p,g,y)=>{s.current.openEvent=p?g:void 0,o.emit("openchange",{open:p,event:g,reason:y,nested:a}),n==null||n(p,g,y)}),h=F.useMemo(()=>({setPositionReference:l}),[]),f=F.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return F.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function kTe(t){t===void 0&&(t={});const{nodeId:e}=t,n=RTe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=F.useState(null),[a,c]=F.useState(null),u=(i==null?void 0:i.domReference)||s,h=F.useRef(null),f=NTe();YS(()=>{u&&(h.current=u)},[u]);const p=vTe({...t,elements:{...i,...a&&{reference:a}}}),g=F.useCallback(A=>{const S=eo(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;c(S),p.refs.setReference(S)},[p.refs]),y=F.useCallback(A=>{(eo(A)||A===null)&&(h.current=A,o(A)),(eo(p.refs.reference.current)||p.refs.reference.current===null||A!==null&&!eo(A))&&p.refs.setReference(A)},[p.refs]),v=F.useMemo(()=>({...p.refs,setReference:y,setPositionReference:g,domReference:h}),[p.refs,y,g]),b=F.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),w=F.useMemo(()=>({...p,...r,refs:v,elements:b,nodeId:e}),[p,v,b,e,r]);return YS(()=>{r.dataRef.current.floatingContext=w;const A=f==null?void 0:f.nodesRef.current.find(S=>S.id===e);A&&(A.context=w)}),F.useMemo(()=>({...p,context:w,refs:v,elements:b}),[p,v,b,w])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var D2=function(e,n){return D2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},D2(e,n)};function Zi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");D2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Cn=function(){return Cn=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Cn.apply(this,arguments)};function vl(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var MTe=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return ae.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},LTe=function(t,e){var n=F.useRef(null),r=F.useRef(t);r.current=t;var i=F.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return F.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},AP=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=LTe(n,o);return ae.createElement("div",{className:r,style:s,ref:function(c){a.current=c,i&&(i.current=c)}},e)},ze;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(ze||(ze={}));function NZ(){var t=typeof window<"u"?window:globalThis;return t}var e1=12;function Fn(t){if(t==null)return new Date;var e=typeof t=="string"?gCe(t):gt(t);return CP(e)?e:new Date}function tN(t,e,n,r,i){i===void 0&&(i=Fn());for(var s=vv(n)||vv(w$()),o=Array.isArray(e)?e:[e],a=0,c=o;a<c.length;a++){var l=c[a],u=uCe(t,l,i,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(CP(u)&&(!r||t===kr(u,l,n)))return u}return null}function CP(t,e){return jS(t)&&!Yp(t,new Date("1/1/1800"))}function kr(t,e,n){if(n==="en")return HS(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?vv(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||vv(w$()),HS(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Pa(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&kr(t,i,r)||""}function FTe(t,e,n){if(!t)return"";var r=Pa(t,n),i=e?Pa(e,n):"";return"".concat(r," - ").concat(i)}function $Te(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Pa(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Pa(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function nN(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return sT(oT(aT(t,a),s),r)}function UTe(t){return l$(t)}function jTe(t,e){return kr(t,"ddd",e)}function lT(t){return Kp(t)}function Lh(t,e,n){var r=vv(e||w$());return Zu(t,{locale:r,weekStartsOn:n})}function Fu(t){return cZ(t)}function V0(t){return vP(t)}function d8(t){return T2(t)}function h8(){return Kp(Fn())}function f8(t){return oZ(t)}function BTe(t){return w1e(t)}function zTe(t){return aZ(t)}function ul(t,e){return t&&e?pCe(t,e):!t&&!e}function Qs(t,e){return t&&e?hCe(t,e):!t&&!e}function ZS(t,e){return t&&e?fCe(t,e):!t&&!e}function An(t,e){return t&&e?y1e(t,e):!t&&!e}function ap(t,e){return t&&e?mAe(t,e):!t&&!e}function H0(t,e,n){var r,i=Kp(e),s=oZ(n);try{r=gb(t,{start:i,end:s})}catch{r=!1}return r}function w$(){var t=NZ();return t.__localeId__}function vv(t){if(typeof t=="string"){var e=NZ();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function VTe(t,e,n){return e(kr(t,"EEEE",n))}function HTe(t,e){return kr(t,"EEEEEE",e)}function WTe(t,e){return kr(t,"EEE",e)}function _$(t,e){return kr(Da(Fn(),t),"LLLL",e)}function RZ(t,e){return kr(Da(Fn(),t),"LLL",e)}function qTe(t,e){return kr(Bg(Fn(),t),"QQQ",e)}function ka(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return t1(t,{minDate:r,maxDate:i})||s&&s.some(function(u){return u instanceof Date?An(t,u):An(t,u.date)})||o&&o.some(function(u){var h=u.start,f=u.end;return gb(t,{start:h,end:f})})||a&&!a.some(function(u){return An(t,u)})||c&&!c.some(function(u){var h=u.start,f=u.end;return gb(t,{start:h,end:f})})||l&&!l(Fn(t))||!1}function b$(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return gb(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?An(t,s):An(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function kZ(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return t1(t,{minDate:r?cZ(r):void 0,maxDate:i?aZ(i):void 0})||(s==null?void 0:s.some(function(c){return Qs(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Qs(t,c)})||a&&!a(Fn(t))||!1}function zA(t,e,n,r){var i=tn(t),s=Xs(t),o=tn(e),a=Xs(e),c=tn(r);return i===o&&i===c?s<=n&&n<=a:i<o?c===i&&s<=n||c===o&&a>=n||c<o&&c>i:!1}function GTe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return t1(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return Qs(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return Qs(a,t)})||!1}function VA(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return t1(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(c){return ZS(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return ZS(t,c)})||a&&!a(Fn(t))||!1}function HA(t,e,n){if(!e||!n||!jS(e)||!jS(n))return!1;var r=tn(e),i=tn(n);return r<=t&&i>=t}function uT(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,c=new Date(t,0,1);return t1(c,{minDate:r?vP(r):void 0,maxDate:i?lZ(i):void 0})||(s==null?void 0:s.some(function(l){return ul(c,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return ul(c,l)})||a&&!a(Fn(c))||!1}function WA(t,e,n,r){var i=tn(t),s=Pp(t),o=tn(e),a=Pp(e),c=tn(r);return i===o&&i===c?s<=n&&n<=a:i<o?c===i&&s<=n||c===o&&a>=n||c<o&&c>i:!1}function t1(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&fv(t,i)<0||s&&fv(t,s)>0)!==null&&n!==void 0?n:!1}function p8(t,e){return e.some(function(n){return Mu(n)===Mu(t)&&Lu(n)===Lu(t)&&Mh(n)===Mh(t)})}function m8(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&p8(t,r)||i&&!p8(t,i)||s&&!s(t)||!1}function g8(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Fn();i=sT(i,Mu(t)),i=oT(i,Lu(t)),i=aT(i,Mh(t));var s=Fn();s=sT(s,Mu(n)),s=oT(s,Lu(n)),s=aT(s,Mh(n));var o=Fn();o=sT(o,Mu(r)),o=oT(o,Lu(r)),o=aT(o,Mh(r));var a;try{a=!gb(i,{start:s,end:o})}catch{a=!1}return a}function y8(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Op(t,1);return r&&BS(r,s)>0||i&&i.every(function(o){return BS(o,s)>0})||!1}function v8(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Lc(t,1);return r&&BS(s,r)>0||i&&i.every(function(o){return BS(s,o)>0})||!1}function KTe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=vP(t),o=_Z(s,1);return r&&zS(r,o)>0||i&&i.every(function(a){return zS(a,o)>0})||!1}function YTe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=lZ(t),o=c$(s,1);return r&&zS(o,r)>0||i&&i.every(function(a){return zS(o,a)>0})||!1}function w8(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=pv(t,1);return r&&VS(r,s)>0||i&&i.every(function(o){return VS(o,s)>0})||!1}function QTe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?e1:i,o=V0(pv(t,s)),a=_h(o,s).endPeriod,c=r&&tn(r);return c&&c>a||!1}function _8(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Ru(t,1);return r&&VS(s,r)>0||i&&i.every(function(o){return VS(s,o)>0})||!1}function ZTe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?e1:i,o=Ru(t,s),a=_h(o,s).startPeriod,c=r&&tn(r);return c&&c<a||!1}function MZ(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return fv(i,e)>=0});return Y6(r)}else return n?Y6(n):e}function LZ(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return fv(i,e)<=0});return K6(r)}else return n?K6(n):e}function b8(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(ku(o)){var a=kr(o,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(e)||(c.push(e),r.set(a,c))}else if(typeof o=="object"){var l=Object.keys(o),u=(n=l[0])!==null&&n!==void 0?n:"",h=o[u];if(typeof u=="string"&&Array.isArray(h))for(var f=0,p=h.length;f<p;f++){var g=h[f];if(g){var a=kr(g,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(u)||(c.push(u),r.set(a,c))}}}}return r}function JTe(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function XTe(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(ku(i)){var o=kr(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&JTe(a.holidayNames,[s]))){a.className=e;var c=a.holidayNames;a.holidayNames=c?vl(vl([],c,!0),[s],!1):[s],n.set(o,a)}}}),n}function eSe(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var c=t,l=i[a];l&&(c=f1e(c,Mu(l)),c=C2(c,Lu(l)),c=g1e(c,Mh(l)));var u=C2(t,(n+1)*r);nf(c,e)&&Yp(c,u)&&l!=null&&o.push(l)}return o}function E8(t){return t<10?"0".concat(t):"".concat(t)}function _h(t,e){e===void 0&&(e=e1);var n=Math.ceil(tn(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function tSe(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function A8(t){var e=t.getSeconds(),n=t.getMilliseconds();return gt(t.getTime()-e*1e3-n)}function nSe(t,e){return A8(t).getTime()===A8(e).getTime()}function C8(t){if(!ku(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function T8(t,e){if(!ku(t)||!ku(e))throw new Error("Invalid date received");var n=C8(t),r=C8(e);return Yp(n,r)}function FZ(t){return t.key===ze.Space}var rSe=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=ae.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,c=a instanceof Date&&!isNaN(+a),l=c?a:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),h=u[0],f=u[1];l.setHours(Number(h)),l.setMinutes(Number(f))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,c=s.customTimeInput;return c?F.cloneElement(c,{date:o,value:i,onChange:r.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var l;(l=r.inputRef.current)===null||l===void 0||l.focus()},required:!0,value:i,onChange:function(l){r.onTimeChange(l.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(F.Component),iSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=F.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===ze.Space&&(r.preventDefault(),r.key=ze.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return An(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),ka(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return b$(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return An(n.props.day,Lh(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&An(r,Lh(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=kr(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=kr(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:H0(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,c=i.selectsRange,l=i.selectsDisabledDaysInRange,u=i.startDate,h=i.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||c)||!f||!l&&n.isDisabled()?!1:o&&h&&(Yp(f,h)||ap(f,h))?H0(s,f,h):a&&u&&!h&&(nf(f,u)||ap(f,u))||c&&u&&!h&&(nf(f,u)||ap(f,u))?H0(s,u,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?An(s,c):An(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,c=i.selectsRange,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||c?An(s,l):An(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:An(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:An(o,i)},n.isWeekend=function(){var r=dAe(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Xs(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Xs(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Fn())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return ys("react-datepicker__day",i,"react-datepicker__day--"+jTe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,c=a===void 0?"Not available":a,l=n.isDisabled()||n.isExcluded()?c:o;return"".concat(l," ").concat(kr(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,c=kr(i,"MM.dd.yyyy"),l=[];return o.has(c)&&l.push.apply(l,o.get(c).holidayNames),n.isExcluded()&&l.push(a==null?void 0:a.filter(function(u){return u instanceof Date?An(u,i):An(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),l.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&An(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(t8(n.props.day),n.props.day):t8(n.props.day)},n.render=function(){return ae.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ae.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(F.Component),sSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=F.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===ze.Space&&(r.preventDefault(),r.key=ze.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!An(n.props.date,n.props.selected)&&An(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||An(n.props.date,n.props.selected)&&An(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&An(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&An(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:ys(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(F.Component),oSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return ka(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,c,l=new Date(r),u=0;u<7;u++){var h=new Date(r);h.setDate(h.getDate()+u);var f=!n.isDisabled(h);if(f){l=h;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(l,i,s),n.props.showWeekPicker&&n.handleDayClick(l,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(a=n.props).setOpen)===null||c===void 0||c.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):UTe(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=Ic(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=Ic(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(ae.createElement(sSe,Cn({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var c=Ic(r,a);return ae.createElement(iSe,Cn({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:n.handleDayClick.bind(n,c),onMouseEnter:n.handleDayMouseEnter.bind(n,c)}))}))},n.startOfWeek=function(){return Lh(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!An(n.startOfWeek(),n.props.selected)&&An(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":An(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ae.createElement("div",{className:ys(n)},this.renderDays())},e}(F.Component),h0,aSe=6,Py={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},rN=(h0={},h0[Py.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},h0[Py.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},h0[Py.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},h0),qA=1;function S8(t,e){return t?Py.FOUR_COLUMNS:e?Py.TWO_COLUMNS:Py.THREE_COLUMNS}var cSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=vl([],Array(12),!0).map(function(){return F.createRef()}),n.QUARTER_REFS=vl([],Array(4),!0).map(function(){return F.createRef()}),n.isDisabled=function(r){return ka(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return b$(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Qs(Da(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:ZS(Bg(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Qs(Da(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:ZS(Bg(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,l=s.selectsRange,u=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||c||l)||!f?!1:a&&h?zA(f,h,r,o):c&&u||l&&u&&!h?zA(u,f,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,c=s.selectsStart,l=Da(o,r),u=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return c?Qs(l,u):Qs(l,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,c=s.selectsEnd,l=s.selectsRange,u=Da(o,r),h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return c||l?Qs(u,h):Qs(u,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,l=s.selectsRange,u=s.startDate,h=s.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||c||l)||!f?!1:a&&h?WA(f,h,r,o):c&&u||l&&u&&!h?WA(u,f,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=Ic(r,6);return Qs(r,i)||Qs(s,i)},n.isCurrentMonth=function(r,i){return tn(r)===tn(Fn())&&i===Xs(Fn())},n.isCurrentQuarter=function(r,i){return tn(r)===tn(Fn())&&i===Pp(Fn())},n.isSelectedMonth=function(r,i,s){return Xs(s)===i&&tn(r)===tn(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return Pp(r)===i&&tn(r)===tn(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=Lh(Fu(n.props.day),n.props.locale,n.props.calendarStartDay),c=function(g){return n.props.showWeekPicker?Lh(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},l=function(g){return n.props.showWeekPicker?Lh(g,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?l(n.props.selected):void 0,h=n.props.preSelection?c(n.props.preSelection):void 0;r.push(ae.createElement(oSe,Cn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:Xs(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=US(a,1);var f=i&&s>=aSe,p=!i&&!n.isWeekInMonth(a);if(f||p)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Fu(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Fu(o))},n.handleMonthNavigation=function(r,i){var s,o,a,c;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,c=a.selected,l=a.preSelection,u=a.setPreSelection,h=a.minDate,f=a.maxDate,p=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(l){var y=S8(p,g),v=n.getVerticalOffset(y),b=(o=rN[y])===null||o===void 0?void 0:o.grid,w=function(C,I,x){var N,R,$=I,U=x;switch(C){case ze.ArrowRight:$=Lc(I,qA),U=x===11?0:x+qA;break;case ze.ArrowLeft:$=Op(I,qA),U=x===0?11:x-qA;break;case ze.ArrowUp:$=Op(I,v),U=!((N=b==null?void 0:b[0])===null||N===void 0)&&N.includes(x)?x+12-v:x-v;break;case ze.ArrowDown:$=Lc(I,v),U=!((R=b==null?void 0:b[b.length-1])===null||R===void 0)&&R.includes(x)?x-12+v:x+v;break}return{newCalculatedDate:$,newCalculatedMonth:U}},A=function(C,I,x){for(var N=40,R=C,$=!1,U=0,Y=w(R,I,x),z=Y.newCalculatedDate,j=Y.newCalculatedMonth;!$;){if(U>=N){z=I,j=x;break}if(h&&z<h){R=ze.ArrowRight;var q=w(R,z,j);z=q.newCalculatedDate,j=q.newCalculatedMonth}if(f&&z>f){R=ze.ArrowLeft;var q=w(R,z,j);z=q.newCalculatedDate,j=q.newCalculatedMonth}if(GTe(z,n.props)){var q=w(R,z,j);z=q.newCalculatedDate,j=q.newCalculatedMonth}else $=!0;U++}return{newCalculatedDate:z,newCalculatedMonth:j}};if(i===ze.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),u==null||u(c));return}var S=A(i,l,s),P=S.newCalculatedDate,D=S.newCalculatedMonth;switch(i){case ze.ArrowRight:case ze.ArrowLeft:case ze.ArrowUp:case ze.ArrowDown:n.handleMonthNavigation(D,P);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=rN[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,c=r.key;c!==ze.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,c,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=Bg(n.props.day,i);VA(s,n.props)||n.handleDayClick(d8(s),r)},n.onQuarterMouseEnter=function(r){var i=Bg(n.props.day,r);VA(i,n.props)||n.handleDayMouseEnter(d8(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,c;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case ze.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case ze.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,c$(n.props.preSelection,1));break;case ze.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,_Z(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,c=s.maxDate,l=s.excludeDates,u=s.includeDates,h=Da(o,r);return{isDisabled:(i=(a||c||l||u)&&kZ(h,n.props))!==null&&i!==void 0?i:!1,labelDate:h}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,c=i.preSelection,l=i.monthClassName,u=l?l(Da(s,r)):void 0,h=n.getSelection();return ys("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":h?n.isSelectMonthInList(s,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(s,r,c)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?zA(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Xs(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Pp(n.props.preSelection),s=VA(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,c=a===void 0?"Not available":a,l=i.day,u=i.locale,h=Da(l,r),f=n.isDisabled(h)||n.isExcluded(h)?c:o;return"".concat(f," ").concat(kr(h,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,c=i.selected,l=i.minDate,u=i.maxDate,h=i.excludeDates,f=i.includeDates,p=i.filterDate,g=i.preSelection,y=i.disabledKeyboardNavigation,v=(l||u||h||f||p)&&VA(Bg(s,r),n.props);return ys("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?n.isSelectedQuarter(s,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&g&&n.isSelectedQuarter(s,r,g)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?WA(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,c=i.day,l=RZ(r,a),u=_$(r,a);return o?o(r,l,u,c):s?u:l},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,c=qTe(r,a);return(i=o==null?void 0:o(r,c))!==null&&i!==void 0?i:c},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,c=i.selected,l=(r=rN[S8(o,s)])===null||r===void 0?void 0:r.grid;return l==null?void 0:l.map(function(u,h){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:h},u.map(function(f,p){return ae.createElement("div",{ref:n.MONTH_REFS[f],key:p,onClick:function(g){n.onMonthClick(g,f)},onKeyDown:function(g){FZ(g)&&(g.preventDefault(),g.key=ze.Enter),n.onMonthKeyDown(g,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":c?n.isSelectedMonth(a,f,c):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,c){return ae.createElement("div",{key:c,ref:n.QUARTER_REFS[c],role:"option",onClick:function(l){n.onQuarterClick(l,a)},onKeyDown:function(l){n.onQuarterKeyDown(l,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,c=r.showQuarterYearPicker,l=r.showWeekPicker;return ys("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":l})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,c=a?a.trim()+" ":"";return ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(kr(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(F.Component),lSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return ae.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return ae.createElement(AP,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(F.Component),uSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return ae.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return ae.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return ae.createElement(lSe,Cn({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return RZ(s,n.props.locale)}:function(s){return _$(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(F.Component);function dSe(t,e){for(var n=[],r=Fu(t),i=Fu(e);!nf(r,i);)n.push(Fn(r)),r=Lc(r,1);return n}var hSe=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=x2(i),o=ul(r.props.date,i)&&Qs(r.props.date,i);return ae.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",kr(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:dSe(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=ys({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(AP,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(F.Component),fSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Fu(n.props.minDate),i=Fu(n.props.maxDate),s=[];!nf(r,i);){var o=x2(r);s.push(ae.createElement("option",{key:o,value:o},kr(r,n.props.dateFormat,n.props.locale))),r=Lc(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ae.createElement("select",{value:x2(Fu(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=kr(n.props.date,n.props.dateFormat,n.props.locale);return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return ae.createElement(hSe,Cn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Fn(r);ul(n.props.date,i)&&Qs(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(F.Component),pSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&g8(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&m8(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&nSe(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&g8(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&m8(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Mu(r)*3600+Lu(r)*60+Mh(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===ze.Space&&(r.preventDefault(),r.key=ze.Enter),(r.key===ze.ArrowUp||r.key===ze.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===ze.ArrowDown||r.key===ze.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===ze.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Fn(),c=lT(a),l=n.props.injectTimes&&n.props.injectTimes.sort(function(v,b){return v.getTime()-b.getTime()}),u=60*tSe(a),h=u/o,f=0;f<h;f++){var p=C2(c,f*o);if(i.push(p),l){var g=eSe(c,p,f,o,l);i=i.concat(g)}}var y=i.reduce(function(v,b){return b.getTime()<=a.getTime()?b:v},i[0]);return i.map(function(v){return ae.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(b){v===y&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,v)},tabIndex:v===y?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},kr(v,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ae.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(F.Component),I8=3,mSe=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=vl([],Array(r.props.yearItemNumber),!0).map(function(){return F.createRef()}),r.isDisabled=function(i){return ka(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return b$(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,c,l,u=r.props,h=u.date,f=u.yearItemNumber;if(!(h===void 0||f===void 0)){var p=_h(h,f).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-p<0?r.updateFocusOnPaginate(f-(p-i)):i-p>=f?r.updateFocusOnPaginate(Math.abs(f-(i-p))):(l=(c=r.YEAR_REFS[i-p])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus())}},r.isSameDay=function(i,s){return An(i,s)},r.isCurrentYear=function(i){return i===tn(Fn())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&ul(sl(Fn(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&ul(sl(Fn(),i),r.props.endDate)},r.isInRange=function(i){return HA(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,c=s.selectsRange,l=s.startDate,u=s.endDate;return!(o||a||c)||!r.selectingDate()?!1:o&&u?HA(i,r.selectingDate(),u):a&&l||c&&l&&!u?HA(i,l,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,c=o.selectsStart,l=sl(Fn(),i);return c?ul(l,(s=r.selectingDate())!==null&&s!==void 0?s:null):ul(l,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,c=o.selectsEnd,l=o.selectsRange,u=sl(Fn(),i);return c||l?ul(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):ul(u,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,c=s.excludeDates,l=s.includeDates,u=s.filterDate,h=V0(sl(r.props.date,i)),f=(o||a||c||l||u)&&uT(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!An(h,V0(r.props.selected))&&An(h,V0(r.props.preSelection))&&!f}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,c=s.selectedDates;return o?c==null?void 0:c.some(function(l){return i===tn(l)}):!a||i===tn(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(V0(sl(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,c=i.key,l=r.props,u=l.date,h=l.yearItemNumber,f=l.handleOnKeyDown;if(c!==ze.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case ze.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case ze.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ru(r.props.preSelection,1));break;case ze.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,pv(r.props.preSelection,1));break;case ze.ArrowUp:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var p=_h(u,h).startPeriod,g=I8,y=s-g;if(y<p){var v=h%g;s>=p&&s<p+v?g=v:g+=v,y=s-g}r.handleYearNavigation(y,pv(r.props.preSelection,g));break}case ze.ArrowDown:{if(u===void 0||h===void 0||r.props.preSelection==null)break;var b=_h(u,h).endPeriod,g=I8,y=s+g;if(y>b){var v=h%g;s<=b&&s>b-v?g=v:g+=v,y=s+g}r.handleYearNavigation(y,Ru(r.props.preSelection,g));break}}f&&f(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,c=s.maxDate,l=s.excludeDates,u=s.includeDates,h=s.filterDate,f=s.yearClassName;return ys("react-datepicker__year-text","react-datepicker__year-".concat(i),o?f==null?void 0:f(sl(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||c||l||u||h)&&uT(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=tn(r.props.preSelection),o=uT(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,c=i.onYearMouseLeave;if(s===void 0)return null;for(var l=_h(s,o),u=l.startPeriod,h=l.endPeriod,f=function(y){r.push(ae.createElement("div",{ref:p.YEAR_REFS[y-u],onClick:function(v){n.onYearClick(v,y)},onKeyDown:function(v){FZ(v)&&(v.preventDefault(),v.key=ze.Enter),n.onYearKeyDown(v,y)},tabIndex:Number(p.getYearTabIndex(y)),className:p.getYearClassNames(y),onMouseEnter:p.props.usePointerEvent?void 0:function(v){return a(v,y)},onPointerEnter:p.props.usePointerEvent?function(v){return a(v,y)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(v){return c(v,y)},onPointerLeave:p.props.usePointerEvent?function(v){return c(v,y)}:void 0,key:y,"aria-current":p.isCurrentYear(y)?"date":void 0},p.getYearContent(y)))},p=this,g=u;g<=h;g++)f(g);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(F.Component);function gSe(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=tn(n)<=o),r&&a&&(a=tn(r)>=o),a&&i.push(o)}return i}var ySe=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,c=r.state.yearsList.map(function(h){return ae.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?ae.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),l=r.props.minDate?tn(r.props.minDate):null,u=r.props.maxDate?tn(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(h){return h===u}))&&c.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!l||!r.state.yearsList.find(function(h){return h===l}))&&c.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var c=r.state.yearsList.map(function(l){return l+a});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:gSe(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=F.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=ys({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(AP,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(F.Component),vSe=function(t){Zi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?tn(n.props.minDate):1900,i=n.props.maxDate?tn(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(ae.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ae.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ae.createElement(ySe,Cn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(F.Component),wSe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],_Se=function(t){var e=(t.className||"").split(/\s+/);return wSe.some(function(n){return e.indexOf(n)>=0})},bSe=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;_Se(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,c=MZ(r.props),l=LZ(r.props),u=Fn(),h=a||o||s;return h||(c&&Yp(u,c)?c:l&&nf(u,l)?l:u)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Lc(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Op(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:sl(Fn(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,c;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(a=r.props).setOpen)===null||c===void 0||c.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!ka(i,r.props))return i;for(var s=Fu(i),o=zTe(i),a=v1e(o,s),c=null,l=0;l<=a;l++){var u=Ic(s,l);if(!ka(u,r.props)){c=u;break}}return c},r.handleMonthChange=function(i){var s,o,a,c=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:sl(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:Da(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:sl(Da(o,Xs(i)),tn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Lh(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var c=Ic(s,a),l=r.formatWeekday(c,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return ae.createElement("div",{key:a,"aria-label":kr(c,"EEEE",r.props.locale),className:ys("react-datepicker__day-name",u)},l)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?VTe(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?WTe(i,s):HTe(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:pv(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,l=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,u=Op(r.state.date,l),h;switch(!0){case r.props.showMonthYearPicker:h=w8(r.state.date,r.props);break;case r.props.showYearPicker:h=QTe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=KTe(r.state.date,r.props);break;default:h=y8(u,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,v=r.props,b=v.previousMonthButtonLabel,w=b===void 0?e.defaultProps.previousMonthButtonLabel:b,A=v.previousYearButtonLabel,S=A===void 0?e.defaultProps.previousYearButtonLabel:A,P=r.props,D=P.previousMonthAriaLabel,C=D===void 0?typeof w=="string"?w:"Previous Month":D,I=P.previousYearAriaLabel,x=I===void 0?typeof S=="string"?S:"Previous Year":I;return ae.createElement("button",{type:"button",className:p.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?x:C},ae.createElement("span",{className:f.join(" ")},y?S:w))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Ru(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=_8(r.state.date,r.props);break;case r.props.showYearPicker:s=ZTe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=YTe(r.state.date,r.props);break;default:s=v8(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,h=u.nextMonthButtonLabel,f=h===void 0?e.defaultProps.nextMonthButtonLabel:h,p=u.nextYearButtonLabel,g=p===void 0?e.defaultProps.nextYearButtonLabel:p,y=r.props,v=y.nextMonthAriaLabel,b=v===void 0?typeof f=="string"?f:"Next Month":v,w=y.nextYearAriaLabel,A=w===void 0?typeof g=="string"?g:"Next Year":w;return ae.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?A:b},ae.createElement("span",{className:a.join(" ")},l?g:f))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:s.join(" ")},kr(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return ae.createElement(vSe,Cn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:tn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return ae.createElement(uSe,Cn({},e.defaultProps,r.props,{month:Xs(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return ae.createElement(fSe,Cn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(h8(),i),r.props.setPreSelection&&r.props.setPreSelection(h8())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return ae.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),ae.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var l=y8(r.state.date,r.props),u=v8(r.state.date,r.props),h=w8(r.state.date,r.props),f=_8(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Cn(Cn({},r.state),{customHeaderCount:c,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:u,prevYearButtonDisabled:h,nextYearButtonDisabled:f})),p&&ae.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,c=o.yearItemNumber,l=c===void 0?e.defaultProps.yearItemNumber:c,u=_h(s,l),h=u.startPeriod,f=u.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(f):tn(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,c={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ru(r.state.date,c):Op(r.state.date,c),u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,h=0;h<a;++h){var f=h-u+c,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ru(l,f):Lc(l,f),g="month-".concat(h),y=h<a-1,v=h>0;o.push(ae.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:h}),ae.createElement(cSe,Cn({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:v}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ae.createElement(mSe,Cn({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ae.createElement(pSe,Cn({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&CP(i)&&!!r.props.selected,o=s?"".concat(E8(i.getHours()),":").concat(E8(i.getMinutes())):"";if(r.props.showTimeInput)return ae.createElement(rSe,Cn({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=_h(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,c;return r.props.showYearPicker?c="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=tn(r.state.date):c="".concat(_$(Xs(r.state.date),r.props.locale)," ").concat(tn(r.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=F.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:e1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!An(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Qs(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!An(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||MTe;return ae.createElement(AP,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},ae.createElement(n,{className:ys("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(F.Component),ESe=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return ae.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(ae.isValidElement(e)){var o=e;return ae.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return ae.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},$Z=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return GK.createPortal(this.props.children,this.el)},e}(F.Component),ASe="[tabindex], a, button, input, select, textarea",CSe=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},UZ=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(ASe),1,-1).filter(CSe)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=F.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(F.Component);function TSe(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=F.useRef(null),o=kTe(Cn({open:!i,whileElementsMounted:pTe,placement:n.popperPlacement,middleware:vl([bTe({padding:15}),_Te(10),ETe({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=Cn(Cn({},n),{hidePopper:i,popperProps:Cn(Cn({},o),{arrowRef:s})});return ae.createElement(t,Cn({},a))};return e}var SSe=function(t){Zi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,c=n.targetComponent,l=n.enableTabLoop,u=n.popperOnKeyDown,h=n.portalId,f=n.portalHost,p=n.popperProps,g=n.showArrow,y=void 0;if(!o){var v=ys("react-datepicker-popper",r);y=ae.createElement(UZ,{enableTabLoop:l},ae.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:v,"data-placement":p.placement,onKeyDown:u},a,g&&ae.createElement(ITe,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=F.createElement(this.props.popperContainer,{},y)),h&&!o&&(y=ae.createElement($Z,{portalId:h,portalHost:f},y));var b=ys("react-datepicker-wrapper",i);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:p.refs.setReference,className:b},c),y)},e}(F.Component),ISe=TSe(SSe),x8="react-datepicker-ignore-onclickoutside";function xSe(t,e){return t&&e?Xs(t)!==Xs(e)||tn(t)!==tn(e):t!==e}var iN="Date input not valid.",jZ=function(t){Zi(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Fn()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return CP(a)?vl(vl([],s,!0),[Cn(Cn({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=MZ(r.props),a=LZ(r.props),c=o&&Yp(s,lT(o))?o:a&&nf(s,f8(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:b8(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Cn(Cn({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Cn(Cn({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:sN},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ku(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,c=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,c,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var h=l[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,l),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:PSe});var f=r.props,p=f.selectsRange,g=f.startDate,y=f.endDate,v=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,b=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,w=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var A=w.split("-",2).map(function(R){return R.trim()}),S=A[0],P=A[1],D=tN(S??"",v,r.props.locale,b),C=tN(P??"",v,r.props.locale,b),I=(g==null?void 0:g.getTime())!==(D==null?void 0:D.getTime()),x=(y==null?void 0:y.getTime())!==(C==null?void 0:C.getTime());if(!I&&!x||D&&ka(D,r.props)||C&&ka(C,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[D,C],h)}else{var N=tN(w,v,r.props.locale,b,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(N||!w)&&r.setSelected(N,h,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,c=a.startDate,l=a.endDate;c&&!l&&(r.props.swapRange||!T8(i,c))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var c,l,u=i;if(r.props.showYearPicker){if(u!==null&&uT(tn(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&kZ(u,r.props))return}else if(u!==null&&ka(u,r.props))return;var h=r.props,f=h.onChange,p=h.selectsRange,g=h.startDate,y=h.endDate,v=h.selectsMultiple,b=h.selectedDates,w=h.minTime,A=h.swapRange;if(!ap(r.props.selected,u)||r.props.allowSameDay||p||v)if(u!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=nN(u,{hour:Mu(r.props.selected),minute:Lu(r.props.selected),second:Mh(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(u=nN(u,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),p){var S=!g&&!y,P=g&&!y,D=g&&y;S?f==null||f([u,null],s):P&&(u===null?f==null||f([null,null],s):T8(u,g)?A?f==null||f([u,g],s):f==null||f([u,null],s):f==null||f([g,u],s)),D&&(f==null||f([u,null],s))}else if(v){if(u!==null)if(!(b!=null&&b.length))f==null||f([u],s);else{var C=b.some(function(x){return An(x,u)});if(C){var I=b.filter(function(x){return!An(x,u)});f==null||f(I,s)}else f==null||f(vl(vl([],b,!0),[u],!1),s)}}else f==null||f(u,s);o||((l=(c=r.props).onSelect)===null||l===void 0||l.call(c,u,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=ku(r.props.minDate),o=ku(r.props.maxDate),a=!0;if(i){var c=lT(i);if(s&&o)a=H0(i,r.props.minDate,r.props.maxDate);else if(s){var l=lT(r.props.minDate);a=nf(i,l)||ap(c,l)}else if(o){var u=f8(r.props.maxDate);a=Yp(i,u)||ap(c,u)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:nN(a,{hour:Mu(i),minute:Lu(i)});r.setState({preSelection:c}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,c,l,u;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var h=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===ze.ArrowDown||h===ze.ArrowUp||h===ze.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===ze.ArrowDown||h===ze.ArrowUp){i.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var g=Fn(r.state.preSelection);h===ze.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===sN?(r.handleSelect(g,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):h===ze.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===ze.Tab&&r.setOpen(!1),r.inputOk()||(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:iN})}},r.onPortalKeyDown=function(i){var s=i.key;s===ze.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,c,l,u,h=r.props,f=h.minDate,p=h.maxDate,g=h.disabledKeyboardNavigation,y=h.showWeekPicker,v=h.shouldCloseOnSelect,b=h.locale,w=h.calendarStartDay,A=h.adjustDateOnChange,S=h.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!g){var P=i.key,D=i.shiftKey,C=Fn(r.state.preSelection),I=function(z,j){var q=j;switch(z){case ze.ArrowRight:q=y?US(j,1):Ic(j,1);break;case ze.ArrowLeft:q=y?n8(j,1):mCe(j,1);break;case ze.ArrowUp:q=n8(j,1);break;case ze.ArrowDown:q=US(j,1);break;case ze.PageUp:q=D?pv(j,1):Op(j,1);break;case ze.PageDown:q=D?Ru(j,1):Lc(j,1);break;case ze.Home:q=Lh(j,b,w);break;case ze.End:q=BTe(j);break}return q},x=function(z,j){for(var q=40,V=z,Q=!1,K=0,ee=I(z,j);!Q;){if(K>=q){ee=j;break}f&&ee<f&&(V=ze.ArrowRight,ee=ka(f,r.props)?I(V,ee):f),p&&ee>p&&(V=ze.ArrowLeft,ee=ka(p,r.props)?I(V,ee):p),ka(ee,r.props)?((V===ze.PageUp||V===ze.Home)&&(V=ze.ArrowRight),(V===ze.PageDown||V===ze.End)&&(V=ze.ArrowLeft),ee=I(V,ee)):Q=!0,K++}return ee};if(P===ze.Enter){i.preventDefault(),r.handleSelect(C,i),!v&&r.setPreSelection(C);return}else if(P===ze.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(a=r.props).onInputError)===null||c===void 0||c.call(a,{code:1,msg:iN});return}var N=null;switch(P){case ze.ArrowLeft:case ze.ArrowRight:case ze.ArrowUp:case ze.ArrowDown:case ze.PageUp:case ze.PageDown:case ze.Home:case ze.End:N=x(P,C);break}if(!N){(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:iN});return}if(i.preventDefault(),r.setState({lastPreSelectChange:sN}),A&&r.setSelected(N),r.setPreSelection(N),S){var R=Xs(C),$=Xs(N),U=tn(C),Y=tn(N);R!==$||U!==Y?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===ze.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:ae.createElement(bSe,Cn({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:XTe(r.modifyHolidays()),outsideClickIgnoreClass:x8,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,l=c?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(Pa(r.props.startDate,{dateFormat:l,locale:a}),". ").concat(r.props.endDate?"End date: "+Pa(r.props.endDate,{dateFormat:l,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(Pa(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(Pa(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(Pa(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(Pa(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(Pa(r.props.selected,{dateFormat:l,locale:a})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,s,o,a=ys(r.props.className,(i={},i[x8]=r.state.open,i)),c=r.props.customInput||ae.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref",u=r.props,h=u.dateFormat,f=h===void 0?e.defaultProps.dateFormat:h,p=u.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?FTe(r.props.startDate,r.props.endDate,{dateFormat:f,locale:p}):r.props.selectsMultiple?$Te((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:f,locale:p}):Pa(r.props.selected,{dateFormat:f,locale:p});return F.cloneElement(c,(s={},s[l]=function(y){r.input=y},s.value=g,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=ys(c.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,c=i.startDate,l=i.endDate,u=i.clearButtonTitle,h=i.clearButtonClassName,f=h===void 0?"":h,p=i.ariaLabelClose,g=p===void 0?"Close":p,y=i.selectedDates;return s&&(a!=null||c!=null||l!=null||y!=null&&y.length)?ae.createElement("button",{type:"button",className:ys("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:e1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&xSe(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:b8(this.props.highlightDates)}),!r.focused&&!ap(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ae.createElement(ESe,Cn({icon:i,className:ys(o,!o&&s,c&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ae.createElement(UZ,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ae.createElement($Z,Cn({portalId:this.props.portalId},this.props),r)),ae.createElement("div",null,this.renderInputContainer(),r)}return ae.createElement(ISe,Cn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(F.Component),PSe="input",sN="navigate";function E$({searchAreaData:t=()=>{},initialSearchValues:e={}}){const n=Qv(),r=Vl();function i(a,c){const[l,u]=a.selectDate,h=p=>p?p.toISOString().split("T")[0]:null,f={...a,selectDate:[h(l),h(u)]};r.pathname===Ue.DESTINATION.path||r.pathname===Ue.HOMEPAGE.path?n(Ue.TOURS.path,{state:{formattedData:f}}):t==null||t(f),c.setSubmitting(!1)}const o={...{destinationName:"",activity:"",selectDate:[null,null],"guest-numbers":""},...e,selectDate:e.selectDate?[e.selectDate[0]?new Date(e.selectDate[0]):null,e.selectDate[1]?new Date(e.selectDate[1]):null]:[null,null]};return T.jsx("div",{className:"search-area-container",children:T.jsx(QE,{initialValues:o,validationSchema:ew({destinationName:Po().required("Required"),activity:Po().required("Required"),selectDate:eZ().of(a$().nullable()).test("both-dates","Please select both start-date and end-date",a=>!!(a&&a[0]&&a[1])),"guest-numbers":Po().required("Required")}),onSubmit:i,children:({values:a,setFieldValue:c,errors:l,touched:u})=>T.jsxs(Xv,{className:"search-area-form-class",children:[T.jsx(Iy,{labelText:"Destination",labelClassName:"cursive-text search-area-form-label",name:"destinationName",type:"text",placeholder:"Where to go ?",fieldClassName:"search-area-form-field",containerClass:"single-Form-element-class",min:"",max:""}),T.jsx(Iy,{labelText:"Activity",labelClassName:"cursive-text search-area-form-label",name:"activity",type:"text",placeholder:"Activity",fieldClassName:"search-area-form-field",containerClass:"single-Form-element-class",min:"",max:""}),T.jsxs("div",{className:"single-Form-element-class",children:[T.jsx("label",{className:"cursive-text search-area-form-label",children:"When"}),T.jsx(jZ,{selected:a.selectDate[0],onChange:h=>c("selectDate",h),startDate:a.selectDate[0],endDate:a.selectDate[1],selectsRange:!0,placeholderText:"Select check-in & check-out",className:"search-area-form-field",minDate:new Date,onKeyDown:h=>h.preventDefault(),showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select"}),u.selectDate&&l.selectDate&&T.jsx("div",{children:l.selectDate})]}),T.jsx(Iy,{labelText:"Guests",labelClassName:"cursive-text search-area-form-label",name:"guest-numbers",type:"number",placeholder:"0",fieldClassName:"search-area-form-field",containerClass:"single-Form-element-class",min:1,max:10}),T.jsx("button",{type:"submit",className:"submit-search-query button-hovering-color",children:"Submit"})]})})})}const OSe="Left",DSe="Right",NSe="Up",RSe="Down",hy={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},N2={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},P8="mousemove",O8="mouseup",kSe="touchend",MSe="touchmove",LSe="touchstart";function FSe(t,e,n,r){return t>e?n>0?DSe:OSe:r>0?RSe:NSe}function D8(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function $Se(t,e){const n=u=>{const h="touches"in u;h&&u.touches.length>1||t((f,p)=>{p.trackMouse&&!h&&(document.addEventListener(P8,r),document.addEventListener(O8,o));const{clientX:g,clientY:y}=h?u.touches[0]:u,v=D8([g,y],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:u}),Object.assign(Object.assign(Object.assign({},f),N2),{initial:v.slice(),xy:v,start:u.timeStamp||0})})},r=u=>{t((h,f)=>{const p="touches"in u;if(p&&u.touches.length>1)return h;if(u.timeStamp-h.start>f.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:g,clientY:y}=p?u.touches[0]:u,[v,b]=D8([g,y],f.rotationAngle),w=v-h.xy[0],A=b-h.xy[1],S=Math.abs(w),P=Math.abs(A),D=(u.timeStamp||0)-h.start,C=Math.sqrt(S*S+P*P)/(D||1),I=[w/(D||1),A/(D||1)],x=FSe(S,P,w,A),N=typeof f.delta=="number"?f.delta:f.delta[x.toLowerCase()]||hy.delta;if(S<N&&P<N&&!h.swiping)return h;const R={absX:S,absY:P,deltaX:w,deltaY:A,dir:x,event:u,first:h.first,initial:h.initial,velocity:C,vxvy:I};R.first&&f.onSwipeStart&&f.onSwipeStart(R),f.onSwiping&&f.onSwiping(R);let $=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${x}`])&&($=!0),$&&f.preventScrollOnSwipe&&f.trackTouch&&u.cancelable&&u.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:R,swiping:!0})})},i=u=>{t((h,f)=>{let p;if(h.swiping&&h.eventData){if(u.timeStamp-h.start<f.swipeDuration){p=Object.assign(Object.assign({},h.eventData),{event:u}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:u});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:u}),Object.assign(Object.assign(Object.assign({},h),N2),{eventData:p})})},s=()=>{document.removeEventListener(P8,r),document.removeEventListener(O8,o)},o=u=>{s(),i(u)},a=(u,h)=>{let f=()=>{};if(u&&u.addEventListener){const p=Object.assign(Object.assign({},hy.touchEventOptions),h.touchEventOptions),g=[[LSe,n,p],[MSe,r,Object.assign(Object.assign({},p),h.preventScrollOnSwipe?{passive:!1}:{})],[kSe,i,p]];g.forEach(([y,v,b])=>u.addEventListener(y,v,b)),f=()=>g.forEach(([y,v])=>u.removeEventListener(y,v))}return f},l={ref:u=>{u!==null&&t((h,f)=>{if(h.el===u)return h;const p={};return h.el&&h.el!==u&&h.cleanUpTouch&&(h.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&u&&(p.cleanUpTouch=a(u,f)),Object.assign(Object.assign(Object.assign({},h),{el:u}),p)})}};return e.trackMouse&&(l.onMouseDown=n),[l,a]}function USe(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function BZ(t){const{trackMouse:e}=t,n=F.useRef(Object.assign({},N2)),r=F.useRef(Object.assign({},hy)),i=F.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},hy),t);let s;for(s in hy)r.current[s]===void 0&&(r.current[s]=hy[s]);const[o,a]=F.useMemo(()=>$Se(c=>n.current=c(n.current,r.current),{trackMouse:e}),[e]);return n.current=USe(n.current,r.current,i.current,a),o}function zZ(){const t=[{text:"The UI designs he crafted are top-notch, and the design system he integrated allows for straightforward fixes and bulk updates almost every area the app.",author:"Molie Rosa, Photographer"},{text:"Their travel itineraries are perfectly planned, making every trip seamless and enjoyable. I've never had such a stress-free vacation!",author:"John Doe, Traveler"},{text:"The app's features are a true game-changer for travelers. Booking and exploring destinations has never been easier or more intuitive",author:"Sarah Lee, Blogger"}],[e,n]=F.useState(0),r=()=>{n(a=>a===t.length-1?0:a+1)},i=()=>{n(a=>a===0?t.length-1:a-1)},s=BZ({onSwipedLeft:()=>r(),onSwipedRight:()=>i(),trackMouse:!0}),o=a=>{n(a)};return F.useEffect(()=>{const a=setInterval(()=>{r()},5e3);return()=>clearInterval(a)},[]),T.jsx("div",{className:"testimonial-wrapper",children:T.jsxs("div",{className:"testimonial-container",children:[T.jsxs("div",{className:"testimonial-image-container",children:[T.jsx("div",{className:"testimonial-img-one",children:T.jsx("img",{src:bt.TESTIMONIAL_ONE,alt:"Testimonial"})}),T.jsx("div",{className:"testimonial-img-two",children:T.jsx("img",{src:bt.TESTIMONIAL_TWO,alt:"Testimonial"})}),T.jsx("div",{className:"testimonial-img-three",children:T.jsx("img",{src:bt.TESTIMONIAL_THREE,alt:"Testimonial"})})]}),T.jsxs("div",{className:"testimonial-content-container",children:[T.jsx("h4",{className:"cursive-text",children:"Testimonials"}),T.jsx("h2",{children:"What Travelers Say"}),T.jsxs("div",{className:"testimonial-text",...s,children:[T.jsx("div",{className:"quote-mark",children:"❞"}),T.jsx("p",{children:t[e].text}),T.jsxs("div",{className:"author",children:["– By ",t[e].author]})]}),T.jsx("div",{className:"navigation-dots",children:t.map((a,c)=>T.jsx("span",{className:`dot ${e===c?"active":""}`,onClick:()=>o(c)},c))})]})]})})}const jSe=RS.injectEndpoints({endpoints:t=>({getAttraction:t.query({query:({destinationId:e,currentPage:n})=>`attraction/searchAttractions?id=${e}&sortBy=trending&page=${n}&currency_code=USD&languagecode=en-us`}),getTourDetail:t.query({query:e=>`attraction/getAttractionDetails?slug=${e}&currency_code=USD`}),getDateAndTime:t.query({query:({slugValue:e,date:n})=>`attraction/getAvailability?slug=${e}&date=${n}&currency_code=USD&languagecode=en-us`}),getTourReview:t.query({query:e=>`attraction/getAttractionReviews?id=${e}&page=1`}),getTrendingTours:t.query({query:e=>`attraction/searchAttractions?id=eyJwaW5uZWRQcm9kdWN0IjoiUFJqa0FWUUt4V1hwIiwidWZpIjoyMDA1MDI2NH0%3D&sortBy=trending&page=${e}&currency_code=USD&languagecode=en-us`}),getFilteredDestinationTours:t.query({query:e=>`attraction/searchLocation?query=${e}&languagecode=en-us`}),getSearchedTours:t.query({query:({destinationId:e,selectedDate:n,currentPage:r})=>`attraction/searchAttractions?id=${e}%3D%3D&startDate=${n[0]}&endDate=${n[1]}&sortBy=trending&page=${r}&currency_code=USD&languagecode=en-us`})}),overrideExisting:!1}),{useGetAttractionQuery:VZ,useGetTourDetailQuery:BSe,useGetDateAndTimeQuery:zSe,useGetTourReviewQuery:VSe,useGetTrendingToursQuery:HSe,useGetFilteredDestinationToursQuery:WSe,useGetSearchedToursQuery:qSe}=jSe;const GSe=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KSe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WZ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HZ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KSe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new YSe;const f=s<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const g=l<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YSe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QSe=function(t){const e=HZ(t);return WZ.encodeByteArray(e,!0)},JS=function(t){return QSe(t).replace(/\./g,"")},qZ=function(t){try{return WZ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZSe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JSe=()=>ZSe().__FIREBASE_DEFAULTS__,XSe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eIe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qZ(t[1]);return e&&JSON.parse(e)},TP=()=>{try{return GSe()||JSe()||XSe()||eIe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GZ=t=>{var e,n;return(n=(e=TP())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tIe=t=>{const e=GZ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KZ=()=>{var t;return(t=TP())===null||t===void 0?void 0:t.config},YZ=t=>{var e;return(e=TP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nIe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rIe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[JS(JSON.stringify(n)),JS(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iIe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Us())}function sIe(){var t;const e=(t=TP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oIe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aIe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cIe(){const t=Us();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lIe(){return!sIe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZZ(){try{return typeof indexedDB=="object"}catch{return!1}}function JZ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function uIe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dIe="FirebaseError";class Bc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dIe,Object.setPrototypeOf(this,Bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rm.prototype.create)}}class Rm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hIe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bc(i,a,r)}}function hIe(t,e){return t.replace(fIe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fIe=/\{\$([^}]+)}/g;function pIe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(N8(s)&&N8(o)){if(!sf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function W0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function q0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mIe(t,e){const n=new gIe(t,e);return n.subscribe.bind(n)}class gIe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yIe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=oN),i.error===void 0&&(i.error=oN),i.complete===void 0&&(i.complete=oN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yIe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oN(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vIe=1e3,wIe=2,_Ie=4*60*60*1e3,bIe=.5;function R8(t,e=vIe,n=wIe){const r=e*Math.pow(n,t),i=Math.round(bIe*r*(Math.random()-.5)*2);return Math.min(_Ie,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){return t&&t._delegate?t._delegate:t}class Fc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EIe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nIe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CIe(e))try{this.getOrInitializeService({instanceIdentifier:Hf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hf){return this.instances.has(e)}getOptions(e=Hf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AIe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hf){return this.component?this.component.multipleInstances?e:Hf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AIe(t){return t===Hf?void 0:t}function CIe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TIe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EIe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dn||(dn={}));const SIe={debug:dn.DEBUG,verbose:dn.VERBOSE,info:dn.INFO,warn:dn.WARN,error:dn.ERROR,silent:dn.SILENT},IIe=dn.INFO,xIe={[dn.DEBUG]:"log",[dn.VERBOSE]:"log",[dn.INFO]:"info",[dn.WARN]:"warn",[dn.ERROR]:"error"},PIe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xIe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class SP{constructor(e){this.name=e,this._logLevel=IIe,this._logHandler=PIe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SIe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dn.DEBUG,...e),this._logHandler(this,dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dn.VERBOSE,...e),this._logHandler(this,dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dn.INFO,...e),this._logHandler(this,dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dn.WARN,...e),this._logHandler(this,dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dn.ERROR,...e),this._logHandler(this,dn.ERROR,...e)}}const OIe=(t,e)=>e.some(n=>t instanceof n);let k8,M8;function DIe(){return k8||(k8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NIe(){return M8||(M8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XZ=new WeakMap,R2=new WeakMap,eJ=new WeakMap,aN=new WeakMap,A$=new WeakMap;function RIe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fh(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XZ.set(n,t)}).catch(()=>{}),A$.set(e,t),e}function kIe(t){if(R2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});R2.set(t,e)}let k2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eJ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fh(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MIe(t){k2=t(k2)}function LIe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cN(this),e,...n);return eJ.set(r,e.sort?e.sort():[e]),Fh(r)}:NIe().includes(t)?function(...e){return t.apply(cN(this),e),Fh(XZ.get(this))}:function(...e){return Fh(t.apply(cN(this),e))}}function FIe(t){return typeof t=="function"?LIe(t):(t instanceof IDBTransaction&&kIe(t),OIe(t,DIe())?new Proxy(t,k2):t)}function Fh(t){if(t instanceof IDBRequest)return RIe(t);if(aN.has(t))return aN.get(t);const e=FIe(t);return e!==t&&(aN.set(t,e),A$.set(e,t)),e}const cN=t=>A$.get(t);function tJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fh(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Fh(o.result),c.oldVersion,c.newVersion,Fh(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const $Ie=["get","getKey","getAll","getAllKeys","count"],UIe=["put","add","delete","clear"],lN=new Map;function L8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lN.get(e))return lN.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UIe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$Ie.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return lN.set(e,s),s}MIe(t=>({...t,get:(e,n,r)=>L8(e,n)||t.get(e,n,r),has:(e,n)=>!!L8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jIe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BIe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BIe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M2="@firebase/app",F8="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new SP("@firebase/app"),zIe="@firebase/app-compat",VIe="@firebase/analytics-compat",HIe="@firebase/analytics",WIe="@firebase/app-check-compat",qIe="@firebase/app-check",GIe="@firebase/auth",KIe="@firebase/auth-compat",YIe="@firebase/database",QIe="@firebase/data-connect",ZIe="@firebase/database-compat",JIe="@firebase/functions",XIe="@firebase/functions-compat",exe="@firebase/installations",txe="@firebase/installations-compat",nxe="@firebase/messaging",rxe="@firebase/messaging-compat",ixe="@firebase/performance",sxe="@firebase/performance-compat",oxe="@firebase/remote-config",axe="@firebase/remote-config-compat",cxe="@firebase/storage",lxe="@firebase/storage-compat",uxe="@firebase/firestore",dxe="@firebase/vertexai",hxe="@firebase/firestore-compat",fxe="firebase",pxe="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="[DEFAULT]",mxe={[M2]:"fire-core",[zIe]:"fire-core-compat",[HIe]:"fire-analytics",[VIe]:"fire-analytics-compat",[qIe]:"fire-app-check",[WIe]:"fire-app-check-compat",[GIe]:"fire-auth",[KIe]:"fire-auth-compat",[YIe]:"fire-rtdb",[QIe]:"fire-data-connect",[ZIe]:"fire-rtdb-compat",[JIe]:"fire-fn",[XIe]:"fire-fn-compat",[exe]:"fire-iid",[txe]:"fire-iid-compat",[nxe]:"fire-fcm",[rxe]:"fire-fcm-compat",[ixe]:"fire-perf",[sxe]:"fire-perf-compat",[oxe]:"fire-rc",[axe]:"fire-rc-compat",[cxe]:"fire-gcs",[lxe]:"fire-gcs-compat",[uxe]:"fire-fst",[hxe]:"fire-fst-compat",[dxe]:"fire-vertex","fire-js":"fire-js",[fxe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map,gxe=new Map,F2=new Map;function $8(t,e){try{t.container.addComponent(e)}catch(n){Ju.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kl(t){const e=t.name;if(F2.has(e))return Ju.debug(`There were multiple attempts to register component ${e}.`),!1;F2.set(e,t);for(const n of XS.values())$8(n,t);for(const n of gxe.values())$8(n,t);return!0}function km(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$h=new Rm("app","Firebase",yxe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vxe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $h.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=pxe;function nJ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:L2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $h.create("bad-app-name",{appName:String(i)});if(n||(n=KZ()),!n)throw $h.create("no-options");const s=XS.get(i);if(s){if(sf(n,s.options)&&sf(r,s.config))return s;throw $h.create("duplicate-app",{appName:i})}const o=new TIe(i);for(const c of F2.values())o.addComponent(c);const a=new vxe(n,r,o);return XS.set(i,a),a}function C$(t=L2){const e=XS.get(t);if(!e&&t===L2&&KZ())return nJ();if(!e)throw $h.create("no-app",{appName:t});return e}function ja(t,e,n){var r;let i=(r=mxe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ju.warn(a.join(" "));return}kl(new Fc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wxe="firebase-heartbeat-database",_xe=1,wb="firebase-heartbeat-store";let uN=null;function rJ(){return uN||(uN=tJ(wxe,_xe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wb)}catch(n){console.warn(n)}}}}).catch(t=>{throw $h.create("idb-open",{originalErrorMessage:t.message})})),uN}async function bxe(t){try{const n=(await rJ()).transaction(wb),r=await n.objectStore(wb).get(iJ(t));return await n.done,r}catch(e){if(e instanceof Bc)Ju.warn(e.message);else{const n=$h.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ju.warn(n.message)}}}async function U8(t,e){try{const r=(await rJ()).transaction(wb,"readwrite");await r.objectStore(wb).put(e,iJ(t)),await r.done}catch(n){if(n instanceof Bc)Ju.warn(n.message);else{const r=$h.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ju.warn(r.message)}}}function iJ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Exe=1024,Axe=30;class Cxe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sxe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j8();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Axe){const o=Ixe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ju.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j8(),{heartbeatsToSend:r,unsentEntries:i}=Txe(this._heartbeatsCache.heartbeats),s=JS(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ju.warn(n),""}}}function j8(){return new Date().toISOString().substring(0,10)}function Txe(t,e=Exe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),B8(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),B8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sxe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZZ()?JZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bxe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return U8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return U8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B8(t){return JS(JSON.stringify({version:2,heartbeats:t})).length}function Ixe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xxe(t){kl(new Fc("platform-logger",e=>new jIe(e),"PRIVATE")),kl(new Fc("heartbeat",e=>new Cxe(e),"PRIVATE")),ja(M2,F8,t),ja(M2,F8,"esm2017"),ja("fire-js","")}xxe("");var z8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uh,sJ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function x(){}x.prototype=I.prototype,C.D=I.prototype,C.prototype=new x,C.prototype.constructor=C,C.C=function(N,R,$){for(var U=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)U[Y-2]=arguments[Y];return I.prototype[R].apply(N,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,x){x||(x=0);var N=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)N[R]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(R=0;16>R;++R)N[R]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=C.g[0],x=C.g[1],R=C.g[2];var $=C.g[3],U=I+($^x&(R^$))+N[0]+3614090360&4294967295;I=x+(U<<7&4294967295|U>>>25),U=$+(R^I&(x^R))+N[1]+3905402710&4294967295,$=I+(U<<12&4294967295|U>>>20),U=R+(x^$&(I^x))+N[2]+606105819&4294967295,R=$+(U<<17&4294967295|U>>>15),U=x+(I^R&($^I))+N[3]+3250441966&4294967295,x=R+(U<<22&4294967295|U>>>10),U=I+($^x&(R^$))+N[4]+4118548399&4294967295,I=x+(U<<7&4294967295|U>>>25),U=$+(R^I&(x^R))+N[5]+1200080426&4294967295,$=I+(U<<12&4294967295|U>>>20),U=R+(x^$&(I^x))+N[6]+2821735955&4294967295,R=$+(U<<17&4294967295|U>>>15),U=x+(I^R&($^I))+N[7]+4249261313&4294967295,x=R+(U<<22&4294967295|U>>>10),U=I+($^x&(R^$))+N[8]+1770035416&4294967295,I=x+(U<<7&4294967295|U>>>25),U=$+(R^I&(x^R))+N[9]+2336552879&4294967295,$=I+(U<<12&4294967295|U>>>20),U=R+(x^$&(I^x))+N[10]+4294925233&4294967295,R=$+(U<<17&4294967295|U>>>15),U=x+(I^R&($^I))+N[11]+2304563134&4294967295,x=R+(U<<22&4294967295|U>>>10),U=I+($^x&(R^$))+N[12]+1804603682&4294967295,I=x+(U<<7&4294967295|U>>>25),U=$+(R^I&(x^R))+N[13]+4254626195&4294967295,$=I+(U<<12&4294967295|U>>>20),U=R+(x^$&(I^x))+N[14]+2792965006&4294967295,R=$+(U<<17&4294967295|U>>>15),U=x+(I^R&($^I))+N[15]+1236535329&4294967295,x=R+(U<<22&4294967295|U>>>10),U=I+(R^$&(x^R))+N[1]+4129170786&4294967295,I=x+(U<<5&4294967295|U>>>27),U=$+(x^R&(I^x))+N[6]+3225465664&4294967295,$=I+(U<<9&4294967295|U>>>23),U=R+(I^x&($^I))+N[11]+643717713&4294967295,R=$+(U<<14&4294967295|U>>>18),U=x+($^I&(R^$))+N[0]+3921069994&4294967295,x=R+(U<<20&4294967295|U>>>12),U=I+(R^$&(x^R))+N[5]+3593408605&4294967295,I=x+(U<<5&4294967295|U>>>27),U=$+(x^R&(I^x))+N[10]+38016083&4294967295,$=I+(U<<9&4294967295|U>>>23),U=R+(I^x&($^I))+N[15]+3634488961&4294967295,R=$+(U<<14&4294967295|U>>>18),U=x+($^I&(R^$))+N[4]+3889429448&4294967295,x=R+(U<<20&4294967295|U>>>12),U=I+(R^$&(x^R))+N[9]+568446438&4294967295,I=x+(U<<5&4294967295|U>>>27),U=$+(x^R&(I^x))+N[14]+3275163606&4294967295,$=I+(U<<9&4294967295|U>>>23),U=R+(I^x&($^I))+N[3]+4107603335&4294967295,R=$+(U<<14&4294967295|U>>>18),U=x+($^I&(R^$))+N[8]+1163531501&4294967295,x=R+(U<<20&4294967295|U>>>12),U=I+(R^$&(x^R))+N[13]+2850285829&4294967295,I=x+(U<<5&4294967295|U>>>27),U=$+(x^R&(I^x))+N[2]+4243563512&4294967295,$=I+(U<<9&4294967295|U>>>23),U=R+(I^x&($^I))+N[7]+1735328473&4294967295,R=$+(U<<14&4294967295|U>>>18),U=x+($^I&(R^$))+N[12]+2368359562&4294967295,x=R+(U<<20&4294967295|U>>>12),U=I+(x^R^$)+N[5]+4294588738&4294967295,I=x+(U<<4&4294967295|U>>>28),U=$+(I^x^R)+N[8]+2272392833&4294967295,$=I+(U<<11&4294967295|U>>>21),U=R+($^I^x)+N[11]+1839030562&4294967295,R=$+(U<<16&4294967295|U>>>16),U=x+(R^$^I)+N[14]+4259657740&4294967295,x=R+(U<<23&4294967295|U>>>9),U=I+(x^R^$)+N[1]+2763975236&4294967295,I=x+(U<<4&4294967295|U>>>28),U=$+(I^x^R)+N[4]+1272893353&4294967295,$=I+(U<<11&4294967295|U>>>21),U=R+($^I^x)+N[7]+4139469664&4294967295,R=$+(U<<16&4294967295|U>>>16),U=x+(R^$^I)+N[10]+3200236656&4294967295,x=R+(U<<23&4294967295|U>>>9),U=I+(x^R^$)+N[13]+681279174&4294967295,I=x+(U<<4&4294967295|U>>>28),U=$+(I^x^R)+N[0]+3936430074&4294967295,$=I+(U<<11&4294967295|U>>>21),U=R+($^I^x)+N[3]+3572445317&4294967295,R=$+(U<<16&4294967295|U>>>16),U=x+(R^$^I)+N[6]+76029189&4294967295,x=R+(U<<23&4294967295|U>>>9),U=I+(x^R^$)+N[9]+3654602809&4294967295,I=x+(U<<4&4294967295|U>>>28),U=$+(I^x^R)+N[12]+3873151461&4294967295,$=I+(U<<11&4294967295|U>>>21),U=R+($^I^x)+N[15]+530742520&4294967295,R=$+(U<<16&4294967295|U>>>16),U=x+(R^$^I)+N[2]+3299628645&4294967295,x=R+(U<<23&4294967295|U>>>9),U=I+(R^(x|~$))+N[0]+4096336452&4294967295,I=x+(U<<6&4294967295|U>>>26),U=$+(x^(I|~R))+N[7]+1126891415&4294967295,$=I+(U<<10&4294967295|U>>>22),U=R+(I^($|~x))+N[14]+2878612391&4294967295,R=$+(U<<15&4294967295|U>>>17),U=x+($^(R|~I))+N[5]+4237533241&4294967295,x=R+(U<<21&4294967295|U>>>11),U=I+(R^(x|~$))+N[12]+1700485571&4294967295,I=x+(U<<6&4294967295|U>>>26),U=$+(x^(I|~R))+N[3]+2399980690&4294967295,$=I+(U<<10&4294967295|U>>>22),U=R+(I^($|~x))+N[10]+4293915773&4294967295,R=$+(U<<15&4294967295|U>>>17),U=x+($^(R|~I))+N[1]+2240044497&4294967295,x=R+(U<<21&4294967295|U>>>11),U=I+(R^(x|~$))+N[8]+1873313359&4294967295,I=x+(U<<6&4294967295|U>>>26),U=$+(x^(I|~R))+N[15]+4264355552&4294967295,$=I+(U<<10&4294967295|U>>>22),U=R+(I^($|~x))+N[6]+2734768916&4294967295,R=$+(U<<15&4294967295|U>>>17),U=x+($^(R|~I))+N[13]+1309151649&4294967295,x=R+(U<<21&4294967295|U>>>11),U=I+(R^(x|~$))+N[4]+4149444226&4294967295,I=x+(U<<6&4294967295|U>>>26),U=$+(x^(I|~R))+N[11]+3174756917&4294967295,$=I+(U<<10&4294967295|U>>>22),U=R+(I^($|~x))+N[2]+718787259&4294967295,R=$+(U<<15&4294967295|U>>>17),U=x+($^(R|~I))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(R+(U<<21&4294967295|U>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+$&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var x=I-this.blockSize,N=this.B,R=this.h,$=0;$<I;){if(R==0)for(;$<=x;)i(this,C,$),$+=this.blockSize;if(typeof C=="string"){for(;$<I;)if(N[R++]=C.charCodeAt($++),R==this.blockSize){i(this,N),R=0;break}}else for(;$<I;)if(N[R++]=C[$++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var x=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.u(C),C=Array(16),I=x=0;4>I;++I)for(var N=0;32>N;N+=8)C[x++]=this.g[I]>>>N&255;return C};function s(C,I){var x=a;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=I(C)}function o(C,I){this.h=I;for(var x=[],N=!0,R=C.length-1;0<=R;R--){var $=C[R]|0;N&&$==I||(x[R]=$,N=!1)}this.g=x}var a={};function c(C){return-128<=C&&128>C?s(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return v(l(-C));for(var I=[],x=1,N=0;C>=x;N++)I[N]=C/x|0,x*=4294967296;return new o(I,0)}function u(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return v(u(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=l(Math.pow(I,8)),N=h,R=0;R<C.length;R+=8){var $=Math.min(8,C.length-R),U=parseInt(C.substring(R,R+$),I);8>$?($=l(Math.pow(I,$)),N=N.j($).add(l(U))):(N=N.j(x),N=N.add(l(U)))}return N}var h=c(0),f=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var C=0,I=1,x=0;x<this.g.length;x++){var N=this.i(x);C+=(0<=N?N:4294967296+N)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(g(this))return"0";if(y(this))return"-"+v(this).toString(C);for(var I=l(Math.pow(C,6)),x=this,N="";;){var R=S(x,I).g;x=b(x,R.j(I));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(C);if(x=R,g(x))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function g(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=b(this,C),y(C)?-1:g(C)?0:1};function v(C){for(var I=C.g.length,x=[],N=0;N<I;N++)x[N]=~C.g[N];return new o(x,~C.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],N=0,R=0;R<=I;R++){var $=N+(this.i(R)&65535)+(C.i(R)&65535),U=($>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);N=U>>>16,$&=65535,U&=65535,x[R]=U<<16|$}return new o(x,x[x.length-1]&-2147483648?-1:0)};function b(C,I){return C.add(v(I))}t.j=function(C){if(g(this)||g(C))return h;if(y(this))return y(C)?v(this).j(v(C)):v(v(this).j(C));if(y(C))return v(this.j(v(C)));if(0>this.l(p)&&0>C.l(p))return l(this.m()*C.m());for(var I=this.g.length+C.g.length,x=[],N=0;N<2*I;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<C.g.length;R++){var $=this.i(N)>>>16,U=this.i(N)&65535,Y=C.i(R)>>>16,z=C.i(R)&65535;x[2*N+2*R]+=U*z,w(x,2*N+2*R),x[2*N+2*R+1]+=$*z,w(x,2*N+2*R+1),x[2*N+2*R+1]+=U*Y,w(x,2*N+2*R+1),x[2*N+2*R+2]+=$*Y,w(x,2*N+2*R+2)}for(N=0;N<I;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=I;N<2*I;N++)x[N]=0;return new o(x,0)};function w(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function A(C,I){this.g=C,this.h=I}function S(C,I){if(g(I))throw Error("division by zero");if(g(C))return new A(h,h);if(y(C))return I=S(v(C),I),new A(v(I.g),v(I.h));if(y(I))return I=S(C,v(I)),new A(v(I.g),I.h);if(30<C.g.length){if(y(C)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var x=f,N=I;0>=N.l(C);)x=P(x),N=P(N);var R=D(x,1),$=D(N,1);for(N=D(N,2),x=D(x,2);!g(N);){var U=$.add(N);0>=U.l(C)&&(R=R.add(x),$=U),N=D(N,1),x=D(x,1)}return I=b(C,R.j(I)),new A(R,I)}for(R=h;0<=C.l(I);){for(x=Math.max(1,Math.floor(C.m()/I.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=l(x),U=$.j(I);y(U)||0<U.l(C);)x-=N,$=l(x),U=$.j(I);g($)&&($=f),R=R.add($),C=b(C,U)}return new A(R,C)}t.A=function(C){return S(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],N=0;N<I;N++)x[N]=this.i(N)&C.i(N);return new o(x,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],N=0;N<I;N++)x[N]=this.i(N)|C.i(N);return new o(x,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),x=[],N=0;N<I;N++)x[N]=this.i(N)^C.i(N);return new o(x,this.h^C.h)};function P(C){for(var I=C.g.length+1,x=[],N=0;N<I;N++)x[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(x,C.h)}function D(C,I){var x=I>>5;I%=32;for(var N=C.g.length-x,R=[],$=0;$<N;$++)R[$]=0<I?C.i($+x)>>>I|C.i($+x+1)<<32-I:C.i($+x);return new o(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sJ=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Uh=o}).apply(typeof z8<"u"?z8:typeof self<"u"?self:typeof window<"u"?window:{});var GA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oJ,G0,aJ,dT,$2,cJ,lJ,uJ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,k,B){return _==Array.prototype||_==Object.prototype||(_[k]=B.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof GA=="object"&&GA];for(var k=0;k<_.length;++k){var B=_[k];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function i(_,k){if(k)e:{var B=r;_=_.split(".");for(var W=0;W<_.length-1;W++){var ie=_[W];if(!(ie in B))break e;B=B[ie]}_=_[_.length-1],W=B[_],k=k(W),k!=W&&k!=null&&e(B,_,{configurable:!0,writable:!0,value:k})}}function s(_,k){_ instanceof String&&(_+="");var B=0,W=!1,ie={next:function(){if(!W&&B<_.length){var fe=B++;return{value:k(fe,_[fe]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(_){return _||function(){return s(this,function(k,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(_){var k=typeof _;return k=k!="object"?k:_?Array.isArray(_)?"array":k:"null",k=="array"||k=="object"&&typeof _.length=="number"}function l(_){var k=typeof _;return k=="object"&&_!=null||k=="function"}function u(_,k,B){return _.call.apply(_.bind,arguments)}function h(_,k,B){if(!_)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,W),_.apply(k,ie)}}return function(){return _.apply(k,arguments)}}function f(_,k,B){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(_,k){var B=Array.prototype.slice.call(arguments,1);return function(){var W=B.slice();return W.push.apply(W,arguments),_.apply(this,W)}}function g(_,k){function B(){}B.prototype=k.prototype,_.aa=k.prototype,_.prototype=new B,_.prototype.constructor=_,_.Qb=function(W,ie,fe){for(var Re=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)Re[kn-2]=arguments[kn];return k.prototype[ie].apply(W,Re)}}function y(_){const k=_.length;if(0<k){const B=Array(k);for(let W=0;W<k;W++)B[W]=_[W];return B}return[]}function v(_,k){for(let B=1;B<arguments.length;B++){const W=arguments[B];if(c(W)){const ie=_.length||0,fe=W.length||0;_.length=ie+fe;for(let Re=0;Re<fe;Re++)_[ie+Re]=W[Re]}else _.push(W)}}class b{constructor(k,B){this.i=k,this.j=B,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function w(_){return/^[\s\xa0]*$/.test(_)}function A(){var _=a.navigator;return _&&(_=_.userAgent)?_:""}function S(_){return S[" "](_),_}S[" "]=function(){};var P=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function D(_,k,B){for(const W in _)k.call(B,_[W],W,_)}function C(_,k){for(const B in _)k.call(void 0,_[B],B,_)}function I(_){const k={};for(const B in _)k[B]=_[B];return k}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(_,k){let B,W;for(let ie=1;ie<arguments.length;ie++){W=arguments[ie];for(B in W)_[B]=W[B];for(let fe=0;fe<x.length;fe++)B=x[fe],Object.prototype.hasOwnProperty.call(W,B)&&(_[B]=W[B])}}function R(_){var k=1;_=_.split(":");const B=[];for(;0<k&&_.length;)B.push(_.shift()),k--;return _.length&&B.push(_.join(":")),B}function $(_){a.setTimeout(()=>{throw _},0)}function U(){var _=Q;let k=null;return _.g&&(k=_.g,_.g=_.g.next,_.g||(_.h=null),k.next=null),k}class Y{constructor(){this.h=this.g=null}add(k,B){const W=z.get();W.set(k,B),this.h?this.h.next=W:this.g=W,this.h=W}}var z=new b(()=>new j,_=>_.reset());class j{constructor(){this.next=this.g=this.h=null}set(k,B){this.h=k,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,Q=new Y,K=()=>{const _=a.Promise.resolve(void 0);q=()=>{_.then(ee)}};var ee=()=>{for(var _;_=U();){try{_.h.call(_.g)}catch(B){$(B)}var k=z;k.j(_),100>k.h&&(k.h++,_.next=k.g,k.g=_)}V=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(_,k){this.type=_,this.g=this.target=k,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var _=!1,k=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const B=()=>{};a.addEventListener("test",B,k),a.removeEventListener("test",B,k)}catch{}return _}();function re(_,k){if(le.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var B=this.type=_.type,W=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=k,k=_.relatedTarget){if(P){e:{try{S(k.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(k=null)}}else B=="mouseover"?k=_.fromElement:B=="mouseout"&&(k=_.toElement);this.relatedTarget=k,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:de[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&re.aa.h.call(this)}}g(re,le);var de={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Fe(_,k,B,W,ie){this.listener=_,this.proxy=null,this.src=k,this.type=B,this.capture=!!W,this.ha=ie,this.key=++Ne,this.da=this.fa=!1}function Ge(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ot(_){this.src=_,this.g={},this.h=0}ot.prototype.add=function(_,k,B,W,ie){var fe=_.toString();_=this.g[fe],_||(_=this.g[fe]=[],this.h++);var Re=ut(_,k,W,ie);return-1<Re?(k=_[Re],B||(k.fa=!1)):(k=new Fe(k,this.src,fe,!!W,ie),k.fa=B,_.push(k)),k};function Me(_,k){var B=k.type;if(B in _.g){var W=_.g[B],ie=Array.prototype.indexOf.call(W,k,void 0),fe;(fe=0<=ie)&&Array.prototype.splice.call(W,ie,1),fe&&(Ge(k),_.g[B].length==0&&(delete _.g[B],_.h--))}}function ut(_,k,B,W){for(var ie=0;ie<_.length;++ie){var fe=_[ie];if(!fe.da&&fe.listener==k&&fe.capture==!!B&&fe.ha==W)return ie}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),Xt={};function Rt(_,k,B,W,ie){if(W&&W.once)return yn(_,k,B,W,ie);if(Array.isArray(k)){for(var fe=0;fe<k.length;fe++)Rt(_,k[fe],B,W,ie);return null}return B=pt(B),_&&_[ve]?_.K(k,B,l(W)?!!W.capture:!!W,ie):Dn(_,k,B,!1,W,ie)}function Dn(_,k,B,W,ie,fe){if(!k)throw Error("Invalid event type");var Re=l(ie)?!!ie.capture:!!ie,kn=xe(_);if(kn||(_[ht]=kn=new ot(_)),B=kn.add(k,B,W,Re,fe),B.proxy)return B;if(W=Un(),B.proxy=W,W.src=_,W.listener=B,_.addEventListener)ce||(ie=Re),ie===void 0&&(ie=!1),_.addEventListener(k.toString(),W,ie);else if(_.attachEvent)_.attachEvent(se(k.toString()),W);else if(_.addListener&&_.removeListener)_.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Un(){function _(B){return k.call(_.src,_.listener,B)}const k=Ie;return _}function yn(_,k,B,W,ie){if(Array.isArray(k)){for(var fe=0;fe<k.length;fe++)yn(_,k[fe],B,W,ie);return null}return B=pt(B),_&&_[ve]?_.L(k,B,l(W)?!!W.capture:!!W,ie):Dn(_,k,B,!0,W,ie)}function Sr(_,k,B,W,ie){if(Array.isArray(k))for(var fe=0;fe<k.length;fe++)Sr(_,k[fe],B,W,ie);else W=l(W)?!!W.capture:!!W,B=pt(B),_&&_[ve]?(_=_.i,k=String(k).toString(),k in _.g&&(fe=_.g[k],B=ut(fe,B,W,ie),-1<B&&(Ge(fe[B]),Array.prototype.splice.call(fe,B,1),fe.length==0&&(delete _.g[k],_.h--)))):_&&(_=xe(_))&&(k=_.g[k.toString()],_=-1,k&&(_=ut(k,B,W,ie)),(B=-1<_?k[_]:null)&&fn(B))}function fn(_){if(typeof _!="number"&&_&&!_.da){var k=_.src;if(k&&k[ve])Me(k.i,_);else{var B=_.type,W=_.proxy;k.removeEventListener?k.removeEventListener(B,W,_.capture):k.detachEvent?k.detachEvent(se(B),W):k.addListener&&k.removeListener&&k.removeListener(W),(B=xe(k))?(Me(B,_),B.h==0&&(B.src=null,k[ht]=null)):Ge(_)}}}function se(_){return _ in Xt?Xt[_]:Xt[_]="on"+_}function Ie(_,k){if(_.da)_=!0;else{k=new re(k,this);var B=_.listener,W=_.ha||_.src;_.fa&&fn(_),_=B.call(W,k)}return _}function xe(_){return _=_[ht],_ instanceof ot?_:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(_){return typeof _=="function"?_:(_[$e]||(_[$e]=function(k){return _.handleEvent(k)}),_[$e])}function nt(){ne.call(this),this.i=new ot(this),this.M=this,this.F=null}g(nt,ne),nt.prototype[ve]=!0,nt.prototype.removeEventListener=function(_,k,B,W){Sr(this,_,k,B,W)};function yt(_,k){var B,W=_.F;if(W)for(B=[];W;W=W.F)B.push(W);if(_=_.M,W=k.type||k,typeof k=="string")k=new le(k,_);else if(k instanceof le)k.target=k.target||_;else{var ie=k;k=new le(W,_),N(k,ie)}if(ie=!0,B)for(var fe=B.length-1;0<=fe;fe--){var Re=k.g=B[fe];ie=Ft(Re,W,!0,k)&&ie}if(Re=k.g=_,ie=Ft(Re,W,!0,k)&&ie,ie=Ft(Re,W,!1,k)&&ie,B)for(fe=0;fe<B.length;fe++)Re=k.g=B[fe],ie=Ft(Re,W,!1,k)&&ie}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var _=this.i,k;for(k in _.g){for(var B=_.g[k],W=0;W<B.length;W++)Ge(B[W]);delete _.g[k],_.h--}}this.F=null},nt.prototype.K=function(_,k,B,W){return this.i.add(String(_),k,!1,B,W)},nt.prototype.L=function(_,k,B,W){return this.i.add(String(_),k,!0,B,W)};function Ft(_,k,B,W){if(k=_.i.g[String(k)],!k)return!0;k=k.concat();for(var ie=!0,fe=0;fe<k.length;++fe){var Re=k[fe];if(Re&&!Re.da&&Re.capture==B){var kn=Re.listener,Ei=Re.ha||Re.src;Re.fa&&Me(_.i,Re),ie=kn.call(Ei,W)!==!1&&ie}}return ie&&!W.defaultPrevented}function Ir(_,k,B){if(typeof _=="function")B&&(_=f(_,B));else if(_&&typeof _.handleEvent=="function")_=f(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:a.setTimeout(_,k||0)}function gr(_){_.g=Ir(()=>{_.g=null,_.i&&(_.i=!1,gr(_))},_.l);const k=_.h;_.h=null,_.m.apply(null,k)}class Ja extends ne{constructor(k,B){super(),this.m=k,this.l=B,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(_){ne.call(this),this.h=_,this.g={}}g(Zn,ne);var Ji=[];function Vs(_){D(_.g,function(k,B){this.g.hasOwnProperty(B)&&fn(k)},_),_.g={}}Zn.prototype.N=function(){Zn.aa.N.call(this),Vs(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=a.JSON.stringify,Hs=a.JSON.parse,fa=class{stringify(_){return a.JSON.stringify(_,void 0)}parse(_){return a.JSON.parse(_,void 0)}};function Ws(){}Ws.prototype.h=null;function li(_){return _.h||(_.h=_.i())}function Bo(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){le.call(this,"d")}g(jn,le);function Jn(){le.call(this,"c")}g(Jn,le);var _i={},bn=null;function xr(){return bn=bn||new nt}_i.La="serverreachability";function Xi(_){le.call(this,_i.La,_)}g(Xi,le);function Di(_){const k=xr();yt(k,new Xi(k))}_i.STAT_EVENT="statevent";function Xa(_,k){le.call(this,_i.STAT_EVENT,_),this.stat=k}g(Xa,le);function Z(_){const k=xr();yt(k,new Xa(k,_))}_i.Ma="timingevent";function te(_,k){le.call(this,_i.Ma,_),this.size=k}g(te,le);function ue(_,k){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){_()},k)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function pe(_,k,B,W,ie,fe){_.info(function(){if(_.g)if(fe)for(var Re="",kn=fe.split("&"),Ei=0;Ei<kn.length;Ei++){var zt=kn[Ei].split("=");if(1<zt.length){var $r=zt[0];zt=zt[1];var Ri=$r.split("_");Re=2<=Ri.length&&Ri[1]=="type"?Re+($r+"="+zt+"&"):Re+($r+"=redacted&")}}else Re=null;else Re=fe;return"XMLHTTP REQ ("+W+") [attempt "+ie+"]: "+k+`
`+B+`
`+Re})}function at(_,k,B,W,ie,fe,Re){_.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ie+"]: "+k+`
`+B+`
`+fe+" "+Re})}function mt(_,k,B,W){_.info(function(){return"XMLHTTP TEXT ("+k+"): "+He(_,B)+(W?" "+W:"")})}function je(_,k){_.info(function(){return"TIMEOUT: "+k})}ge.prototype.info=function(){};function He(_,k){if(!_.g)return k;if(!k)return null;try{var B=JSON.parse(k);if(B){for(_=0;_<B.length;_++)if(Array.isArray(B[_])){var W=B[_];if(!(2>W.length)){var ie=W[1];if(Array.isArray(ie)&&!(1>ie.length)){var fe=ie[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Re=1;Re<ie.length;Re++)ie[Re]=""}}}}return Ts(B)}catch{return k}}var Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Te;function Ke(){}g(Ke,Ws),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},Te=new Ke;function _t(_,k,B,W){this.j=_,this.i=k,this.l=B,this.R=W||1,this.U=new Zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var St={},pn={};function Ni(_,k,B){_.L=1,_.v=Vc(tc(k)),_.m=B,_.P=!0,uo(_,null)}function uo(_,k){_.F=Date.now(),rn(_),_.A=tc(_.v);var B=_.A,W=_.R;Array.isArray(W)||(W=[String(W)]),Ut(B.i,"t",W),_.C=0,B=_.j.J,_.h=new $t,_.g=jw(_.j,B?k:null,!_.m),0<_.O&&(_.M=new Ja(f(_.Y,_,_.g),_.O)),k=_.U,B=_.g,W=_.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Ji[0]=ie.toString()),ie=Ji);for(var fe=0;fe<ie.length;fe++){var Re=Rt(B,ie[fe],W||k.handleEvent,!1,k.h||k);if(!Re)break;k.g[Re.key]=Re}k=_.H?I(_.H):{},_.m?(_.u||(_.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,k)):(_.u="GET",_.g.ea(_.A,_.u,null,k)),Di(),pe(_.i,_.u,_.A,_.l,_.R,_.m)}_t.prototype.ca=function(_){_=_.target;const k=this.M;k&&ga(_)==3?k.j():this.Y(_)},_t.prototype.Y=function(_){try{if(_==this.g)e:{const Ri=ga(this.g);var k=this.g.Ba();const Is=this.g.Z();if(!(3>Ri)&&(Ri!=3||this.g&&(this.h.h||this.g.oa()||Z1(this.g)))){this.J||Ri!=4||k==7||(k==8||0>=Is?Di(3):Di(2)),Sn(this);var B=this.g.Z();this.X=B;t:if(kt(this)){var W=Z1(this.g);_="";var ie=W.length,fe=ga(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),Qr(this);var Re="";break t}this.h.i=new a.TextDecoder}for(k=0;k<ie;k++)this.h.h=!0,_+=this.h.i.decode(W[k],{stream:!(fe&&k==ie-1)});W.length=0,this.h.g+=_,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=B==200,at(this.i,this.u,this.A,this.l,this.R,Ri,B),this.o){if(this.T&&!this.K){t:{if(this.g){var kn,Ei=this.g;if((kn=Ei.g?Ei.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(kn)){var zt=kn;break t}}zt=null}if(B=zt)mt(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tt(this,B);else{this.o=!1,this.s=3,Z(12),cr(this),Qr(this);break e}}if(this.P){B=!0;let Vo;for(;!this.J&&this.C<Re.length;)if(Vo=dt(this,Re),Vo==pn){Ri==4&&(this.s=4,Z(14),B=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Vo==St){this.s=4,Z(15),mt(this.i,this.l,Re,"[Invalid Chunk]"),B=!1;break}else mt(this.i,this.l,Vo,null),Tt(this,Vo);if(kt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ri!=4||Re.length!=0||this.h.h||(this.s=1,Z(16),B=!1),this.o=this.o&&B,!B)mt(this.i,this.l,Re,"[Invalid Chunked Response]"),cr(this),Qr(this);else if(0<Re.length&&!this.W){this.W=!0;var $r=this.j;$r.g==this&&$r.ba&&!$r.M&&($r.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Df($r),$r.M=!0,Z(11))}}else mt(this.i,this.l,Re,null),Tt(this,Re);Ri==4&&cr(this),this.o&&!this.J&&(Ri==4?Uw(this.j,this):(this.o=!1,rn(this)))}else Mw(this.g),B==400&&0<Re.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),cr(this),Qr(this)}}}catch{}finally{}};function kt(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function dt(_,k){var B=_.C,W=k.indexOf(`
`,B);return W==-1?pn:(B=Number(k.substring(B,W)),isNaN(B)?St:(W+=1,W+B>k.length?pn:(k=k.slice(W,W+B),_.C=W+B,k)))}_t.prototype.cancel=function(){this.J=!0,cr(this)};function rn(_){_.S=Date.now()+_.I,vn(_,_.I)}function vn(_,k){if(_.B!=null)throw Error("WatchDog timer not null");_.B=ue(f(_.ba,_),k)}function Sn(_){_.B&&(a.clearTimeout(_.B),_.B=null)}_t.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(je(this.i,this.A),this.L!=2&&(Di(),Z(17)),cr(this),this.s=2,Qr(this)):vn(this,this.S-_)};function Qr(_){_.j.G==0||_.J||Uw(_.j,_)}function cr(_){Sn(_);var k=_.M;k&&typeof k.ma=="function"&&k.ma(),_.M=null,Vs(_.U),_.g&&(k=_.g,_.g=null,k.abort(),k.ma())}function Tt(_,k){try{var B=_.j;if(B.G!=0&&(B.g==_||en(B.h,_))){if(!_.K&&en(B.h,_)&&B.G==3){try{var W=B.Da.g.parse(k)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ie=W;if(ie[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<_.F)Nf(B),tg(B);else break e;ig(B),Z(18)}}else B.za=ie[1],0<B.za-B.T&&37500>ie[2]&&B.F&&B.v==0&&!B.C&&(B.C=ue(f(B.Za,B),6e3));if(1>=ct(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else Zl(B,11)}else if((_.K||B.g==_)&&Nf(B),!w(k))for(ie=B.Da.g.parse(k),k=0;k<ie.length;k++){let zt=ie[k];if(B.T=zt[0],zt=zt[1],B.G==2)if(zt[0]=="c"){B.K=zt[1],B.ia=zt[2];const $r=zt[3];$r!=null&&(B.la=$r,B.j.info("VER="+B.la));const Ri=zt[4];Ri!=null&&(B.Aa=Ri,B.j.info("SVER="+B.Aa));const Is=zt[5];Is!=null&&typeof Is=="number"&&0<Is&&(W=1.5*Is,B.L=W,B.j.info("backChannelRequestTimeoutMs_="+W)),W=B;const Vo=_.g;if(Vo){const sc=Vo.g?Vo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sc){var fe=W.h;fe.g||sc.indexOf("spdy")==-1&&sc.indexOf("quic")==-1&&sc.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(ho(fe,fe.h),fe.h=null))}if(W.D){const zw=Vo.g?Vo.g.getResponseHeader("X-HTTP-Session-Id"):null;zw&&(W.ya=zw,En(W.I,W.D,zw))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-_.F,B.j.info("Handshake RTT: "+B.R+"ms")),W=B;var Re=_;if(W.qa=tA(W,W.J?W.ia:null,W.W),Re.K){ec(W.h,Re);var kn=Re,Ei=W.L;Ei&&(kn.I=Ei),kn.B&&(Sn(kn),rn(kn)),W.g=Re}else $w(W);0<B.i.length&&rg(B)}else zt[0]!="stop"&&zt[0]!="close"||Zl(B,7);else B.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Zl(B,7):Fw(B):zt[0]!="noop"&&B.l&&B.l.ta(zt),B.v=0)}}Di(4)}catch{}}var cn=class{constructor(_,k){this.g=_,this.map=k}};function ui(_){this.l=_||10,a.PerformanceNavigationTiming?(_=a.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zr(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function ct(_){return _.h?1:_.g?_.g.size:0}function en(_,k){return _.h?_.h==k:_.g?_.g.has(k):!1}function ho(_,k){_.g?_.g.add(k):_.h=k}function ec(_,k){_.h&&_.h==k?_.h=null:_.g&&_.g.has(k)&&_.g.delete(k)}ui.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Gl(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let k=_.i;for(const B of _.g.values())k=k.concat(B.D);return k}return y(_.i)}function Tw(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var k=[],B=_.length,W=0;W<B;W++)k.push(_[W]);return k}k=[],B=0;for(W in _)k[B++]=_[W];return k}function Gt(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var k=[];_=_.length;for(var B=0;B<_;B++)k.push(B);return k}k=[],B=0;for(const W in _)k[B++]=W;return k}}}function Pr(_,k){if(_.forEach&&typeof _.forEach=="function")_.forEach(k,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,k,void 0);else for(var B=Gt(_),W=Tw(_),ie=W.length,fe=0;fe<ie;fe++)k.call(void 0,W[fe],B&&B[fe],_)}var Qm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zm(_,k){if(_){_=_.split("&");for(var B=0;B<_.length;B++){var W=_[B].indexOf("="),ie=null;if(0<=W){var fe=_[B].substring(0,W);ie=_[B].substring(W+1)}else fe=_[B];k(fe,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function di(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof di){this.h=_.h,Kl(this,_.j),this.o=_.o,this.g=_.g,pa(this,_.s),this.l=_.l;var k=_.i,B=new Hc;B.i=k.i,k.g&&(B.g=new Map(k.g),B.h=k.h),Fr(this,B),this.m=_.m}else _&&(k=String(_).match(Qm))?(this.h=!1,Kl(this,k[1]||"",!0),this.o=nc(k[2]||""),this.g=nc(k[3]||"",!0),pa(this,k[4]),this.l=nc(k[5]||"",!0),Fr(this,k[6]||"",!0),this.m=nc(k[7]||"")):(this.h=!1,this.i=new Hc(null,this.h))}di.prototype.toString=function(){var _=[],k=this.j;k&&_.push(Yl(k,Jm,!0),":");var B=this.g;return(B||k=="file")&&(_.push("//"),(k=this.o)&&_.push(Yl(k,Jm,!0),"@"),_.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&_.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&_.push("/"),_.push(Yl(B,B.charAt(0)=="/"?Xm:Sw,!0))),(B=this.i.toString())&&_.push("?",B),(B=this.m)&&_.push("#",Yl(B,xw)),_.join("")};function tc(_){return new di(_)}function Kl(_,k,B){_.j=B?nc(k,!0):k,_.j&&(_.j=_.j.replace(/:$/,""))}function pa(_,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);_.s=k}else _.s=null}function Fr(_,k,B){k instanceof Hc?(_.i=k,Xn(_.i,_.h)):(B||(k=Yl(k,Iw)),_.i=new Hc(k,_.h))}function En(_,k,B){_.i.set(k,B)}function Vc(_){return En(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function nc(_,k){return _?k?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Yl(_,k,B){return typeof _=="string"?(_=encodeURI(_).replace(k,Pf),B&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Pf(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Jm=/[#\/\?@]/g,Sw=/[#\?:]/g,Xm=/[#\?]/g,Iw=/[#\?@]/g,xw=/#/g;function Hc(_,k){this.h=this.g=null,this.i=_||null,this.j=!!k}function rc(_){_.g||(_.g=new Map,_.h=0,_.i&&Zm(_.i,function(k,B){_.add(decodeURIComponent(k.replace(/\+/g," ")),B)}))}t=Hc.prototype,t.add=function(_,k){rc(this),this.i=null,_=es(this,_);var B=this.g.get(_);return B||this.g.set(_,B=[]),B.push(k),this.h+=1,this};function eg(_,k){rc(_),k=es(_,k),_.g.has(k)&&(_.i=null,_.h-=_.g.get(k).length,_.g.delete(k))}function K1(_,k){return rc(_),k=es(_,k),_.g.has(k)}t.forEach=function(_,k){rc(this),this.g.forEach(function(B,W){B.forEach(function(ie){_.call(k,ie,W,this)},this)},this)},t.na=function(){rc(this);const _=Array.from(this.g.values()),k=Array.from(this.g.keys()),B=[];for(let W=0;W<k.length;W++){const ie=_[W];for(let fe=0;fe<ie.length;fe++)B.push(k[W])}return B},t.V=function(_){rc(this);let k=[];if(typeof _=="string")K1(this,_)&&(k=k.concat(this.g.get(es(this,_))));else{_=Array.from(this.g.values());for(let B=0;B<_.length;B++)k=k.concat(_[B])}return k},t.set=function(_,k){return rc(this),this.i=null,_=es(this,_),K1(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[k]),this.h+=1,this},t.get=function(_,k){return _?(_=this.V(_),0<_.length?String(_[0]):k):k};function Ut(_,k,B){eg(_,k),0<B.length&&(_.i=null,_.g.set(es(_,k),y(B)),_.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],k=Array.from(this.g.keys());for(var B=0;B<k.length;B++){var W=k[B];const fe=encodeURIComponent(String(W)),Re=this.V(W);for(W=0;W<Re.length;W++){var ie=fe;Re[W]!==""&&(ie+="="+encodeURIComponent(String(Re[W]))),_.push(ie)}}return this.i=_.join("&")};function es(_,k){return k=String(k),_.j&&(k=k.toLowerCase()),k}function Xn(_,k){k&&!_.j&&(rc(_),_.i=null,_.g.forEach(function(B,W){var ie=W.toLowerCase();W!=ie&&(eg(this,W),Ut(this,ie,B))},_)),_.j=k}function Y1(_,k){const B=new ge;if(a.Image){const W=new Image;W.onload=p(ma,B,"TestLoadImage: loaded",!0,k,W),W.onerror=p(ma,B,"TestLoadImage: error",!1,k,W),W.onabort=p(ma,B,"TestLoadImage: abort",!1,k,W),W.ontimeout=p(ma,B,"TestLoadImage: timeout",!1,k,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=_}else k(!1)}function Pw(_,k){const B=new ge,W=new AbortController,ie=setTimeout(()=>{W.abort(),ma(B,"TestPingServer: timeout",!1,k)},1e4);fetch(_,{signal:W.signal}).then(fe=>{clearTimeout(ie),fe.ok?ma(B,"TestPingServer: ok",!0,k):ma(B,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ie),ma(B,"TestPingServer: error",!1,k)})}function ma(_,k,B,W,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),W(B)}catch{}}function Ow(){this.g=new fa}function Ql(_,k,B){const W=B||"";try{Pr(_,function(ie,fe){let Re=ie;l(ie)&&(Re=Ts(ie)),k.push(W+fe+"="+encodeURIComponent(Re))})}catch(ie){throw k.push(W+"type="+encodeURIComponent("_badmap")),ie}}function Ed(_){this.l=_.Ub||null,this.j=_.eb||!1}g(Ed,Ws),Ed.prototype.g=function(){return new Wc(this.l,this.j)},Ed.prototype.i=function(_){return function(){return _}}({});function Wc(_,k){nt.call(this),this.D=_,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Wc,nt),t=Wc.prototype,t.open=function(_,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=k,this.readyState=1,Ad(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(k.body=_),(this.D||a).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ad(this)),this.g&&(this.readyState=3,Ad(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hi(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function hi(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var k=_.value?_.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!_.done}))&&(this.response=this.responseText+=k)}_.done?zo(this):Ad(this),this.readyState==3&&hi(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,zo(this))},t.Qa=function(_){this.g&&(this.response=_,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Ad(_)}t.setRequestHeader=function(_,k){this.u.append(_,k)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],k=this.h.entries();for(var B=k.next();!B.done;)B=B.value,_.push(B[0]+": "+B[1]),B=k.next();return _.join(`\r
`)};function Ad(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Dw(_){let k="";return D(_,function(B,W){k+=W,k+=":",k+=B,k+=`\r
`}),k}function Nw(_,k,B){e:{for(W in B){var W=!1;break e}W=!0}W||(B=Dw(B),typeof _=="string"?B!=null&&encodeURIComponent(String(B)):En(_,k,B))}function yr(_){nt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(yr,nt);var Rw=/^https?$/i,HO=["POST","PUT"];t=yr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,k,B,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);k=k?k.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Te.g(),this.v=this.o?li(this.o):li(Te),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(k,String(_),!0),this.B=!1}catch(fe){kw(this,fe);return}if(_=B||"",B=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ie in W)B.set(ie,W[ie]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const fe of W.keys())B.set(fe,W.get(fe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(B.keys()).find(fe=>fe.toLowerCase()=="content-type"),ie=a.FormData&&_ instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HO,k,void 0))||W||ie||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Re]of B)this.g.setRequestHeader(fe,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cd(this),this.u=!0,this.g.send(_),this.u=!1}catch(fe){kw(this,fe)}};function kw(_,k){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=k,_.m=5,ln(_),Ss(_)}function ln(_){_.A||(_.A=!0,yt(_,"complete"),yt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,yt(this,"complete"),yt(this,"abort"),Ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),yr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Q1(this):this.bb())},t.bb=function(){Q1(this)};function Q1(_){if(_.h&&typeof o<"u"&&(!_.v[1]||ga(_)!=4||_.Z()!=2)){if(_.u&&ga(_)==4)Ir(_.Ea,0,_);else if(yt(_,"readystatechange"),ga(_)==4){_.h=!1;try{const Re=_.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var B;if(!(B=k)){var W;if(W=Re===0){var ie=String(_.D).match(Qm)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),W=!Rw.test(ie?ie.toLowerCase():"")}B=W}if(B)yt(_,"complete"),yt(_,"success");else{_.m=6;try{var fe=2<ga(_)?_.g.statusText:""}catch{fe=""}_.l=fe+" ["+_.Z()+"]",ln(_)}}finally{Ss(_)}}}}function Ss(_,k){if(_.g){Cd(_);const B=_.g,W=_.v[0]?()=>{}:null;_.g=null,_.v=null,k||yt(_,"ready");try{B.onreadystatechange=W}catch{}}}function Cd(_){_.I&&(a.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function ga(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<ga(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var k=this.g.responseText;return _&&k.indexOf(_)==0&&(k=k.substring(_.length)),Hs(k)}};function Z1(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Mw(_){const k={};_=(_.g&&2<=ga(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<_.length;W++){if(w(_[W]))continue;var B=R(_[W]);const ie=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const fe=k[ie]||[];k[ie]=fe,fe.push(B)}C(k,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Of(_,k,B){return B&&B.internalChannelParams&&B.internalChannelParams[_]||k}function Lw(_){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Of("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Of("baseRetryDelayMs",5e3,_),this.cb=Of("retryDelaySeedMs",1e4,_),this.Wa=Of("forwardChannelMaxRetries",2,_),this.wa=Of("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(_&&_.concurrentRequestLimit),this.Da=new Ow,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lw.prototype,t.la=8,t.G=1,t.connect=function(_,k,B,W){Z(0),this.W=_,this.H=k||{},B&&W!==void 0&&(this.H.OSID=B,this.H.OAID=W),this.F=this.X,this.I=tA(this,null,this.W),rg(this)};function Fw(_){if(ng(_),_.G==3){var k=_.U++,B=tc(_.I);if(En(B,"SID",_.K),En(B,"RID",k),En(B,"TYPE","terminate"),Td(_,B),k=new _t(_,_.j,k),k.L=2,k.v=Vc(tc(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(k.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=k.v,B=!0),B||(k.g=jw(k.j,null),k.g.ea(k.v)),k.F=Date.now(),rn(k)}sg(_)}function tg(_){_.g&&(Df(_),_.g.cancel(),_.g=null)}function ng(_){tg(_),_.u&&(a.clearTimeout(_.u),_.u=null),Nf(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&a.clearTimeout(_.s),_.s=null)}function rg(_){if(!Zr(_.h)&&!_.s){_.s=!0;var k=_.Ga;q||K(),V||(q(),V=!0),Q.add(k,_),_.B=0}}function ya(_,k){return ct(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=k.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=ue(f(_.Ga,_,k),eA(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const ie=new _t(this,this.j,_);let fe=this.o;if(this.S&&(fe?(fe=I(fe),N(fe,this.S)):fe=this.S),this.m!==null||this.O||(ie.H=fe,fe=null),this.P)e:{for(var k=0,B=0;B<this.i.length;B++){t:{var W=this.i[B];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(k+=W,4096<k){k=B;break e}if(k===4096||B===this.i.length-1){k=B+1;break e}}k=1e3}else k=1e3;k=ic(this,ie,k),B=tc(this.I),En(B,"RID",_),En(B,"CVER",22),this.D&&En(B,"X-HTTP-Session-Id",this.D),Td(this,B),fe&&(this.O?k="headers="+encodeURIComponent(String(Dw(fe)))+"&"+k:this.m&&Nw(B,this.m,fe)),ho(this.h,ie),this.Ua&&En(B,"TYPE","init"),this.P?(En(B,"$req",k),En(B,"SID","null"),ie.T=!0,Ni(ie,B,null)):Ni(ie,B,k),this.G=2}}else this.G==3&&(_?J1(this,_):this.i.length==0||Zr(this.h)||J1(this))};function J1(_,k){var B;k?B=k.l:B=_.U++;const W=tc(_.I);En(W,"SID",_.K),En(W,"RID",B),En(W,"AID",_.T),Td(_,W),_.m&&_.o&&Nw(W,_.m,_.o),B=new _t(_,_.j,B,_.B+1),_.m===null&&(B.H=_.o),k&&(_.i=k.D.concat(_.i)),k=ic(_,B,1e3),B.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),ho(_.h,B),Ni(B,W,k)}function Td(_,k){_.H&&D(_.H,function(B,W){En(k,W,B)}),_.l&&Pr({},function(B,W){En(k,W,B)})}function ic(_,k,B){B=Math.min(_.i.length,B);var W=_.l?f(_.l.Na,_.l,_):null;e:{var ie=_.i;let fe=-1;for(;;){const Re=["count="+B];fe==-1?0<B?(fe=ie[0].g,Re.push("ofs="+fe)):fe=0:Re.push("ofs="+fe);let kn=!0;for(let Ei=0;Ei<B;Ei++){let zt=ie[Ei].g;const $r=ie[Ei].map;if(zt-=fe,0>zt)fe=Math.max(0,ie[Ei].g-100),kn=!1;else try{Ql($r,Re,"req"+zt+"_")}catch{W&&W($r)}}if(kn){W=Re.join("&");break e}}}return _=_.i.splice(0,B),k.D=_,W}function $w(_){if(!_.g&&!_.u){_.Y=1;var k=_.Fa;q||K(),V||(q(),V=!0),Q.add(k,_),_.v=0}}function ig(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=ue(f(_.Fa,_),eA(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,X1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=ue(f(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),tg(this),X1(this))};function Df(_){_.A!=null&&(a.clearTimeout(_.A),_.A=null)}function X1(_){_.g=new _t(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var k=tc(_.qa);En(k,"RID","rpc"),En(k,"SID",_.K),En(k,"AID",_.T),En(k,"CI",_.F?"0":"1"),!_.F&&_.ja&&En(k,"TO",_.ja),En(k,"TYPE","xmlhttp"),Td(_,k),_.m&&_.o&&Nw(k,_.m,_.o),_.L&&(_.g.I=_.L);var B=_.g;_=_.ia,B.L=1,B.v=Vc(tc(k)),B.m=null,B.P=!0,uo(B,_)}t.Za=function(){this.C!=null&&(this.C=null,tg(this),ig(this),Z(19))};function Nf(_){_.C!=null&&(a.clearTimeout(_.C),_.C=null)}function Uw(_,k){var B=null;if(_.g==k){Nf(_),Df(_),_.g=null;var W=2}else if(en(_.h,k))B=k.D,ec(_.h,k),W=1;else return;if(_.G!=0){if(k.o)if(W==1){B=k.m?k.m.length:0,k=Date.now()-k.F;var ie=_.B;W=xr(),yt(W,new te(W,B)),rg(_)}else $w(_);else if(ie=k.s,ie==3||ie==0&&0<k.X||!(W==1&&ya(_,k)||W==2&&ig(_)))switch(B&&0<B.length&&(k=_.h,k.i=k.i.concat(B)),ie){case 1:Zl(_,5);break;case 4:Zl(_,10);break;case 3:Zl(_,6);break;default:Zl(_,2)}}}function eA(_,k){let B=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(B*=2),B*k}function Zl(_,k){if(_.j.info("Error code "+k),k==2){var B=f(_.fb,_),W=_.Xa;const ie=!W;W=new di(W||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kl(W,"https"),Vc(W),ie?Y1(W.toString(),B):Pw(W.toString(),B)}else Z(2);_.G=0,_.l&&_.l.sa(k),sg(_),ng(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function sg(_){if(_.G=0,_.ka=[],_.l){const k=Gl(_.h);(k.length!=0||_.i.length!=0)&&(v(_.ka,k),v(_.ka,_.i),_.h.i.length=0,y(_.i),_.i.length=0),_.l.ra()}}function tA(_,k,B){var W=B instanceof di?tc(B):new di(B);if(W.g!="")k&&(W.g=k+"."+W.g),pa(W,W.s);else{var ie=a.location;W=ie.protocol,k=k?k+"."+ie.hostname:ie.hostname,ie=+ie.port;var fe=new di(null);W&&Kl(fe,W),k&&(fe.g=k),ie&&pa(fe,ie),B&&(fe.l=B),W=fe}return B=_.D,k=_.ya,B&&k&&En(W,B,k),En(W,"VER",_.la),Td(_,W),W}function jw(_,k,B){if(k&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=_.Ca&&!_.pa?new yr(new Ed({eb:B})):new yr(_.pa),k.Ha(_.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bw(){}t=Bw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jl(){}Jl.prototype.g=function(_,k){return new Jr(_,k)};function Jr(_,k){nt.call(this),this.g=new Lw(k),this.l=_,this.h=k&&k.messageUrlParams||null,_=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(_?_["X-WebChannel-Content-Type"]=k.messageContentType:_={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(_?_["X-WebChannel-Client-Profile"]=k.va:_={"X-WebChannel-Client-Profile":k.va}),this.g.S=_,(_=k&&k.Sb)&&!w(_)&&(this.g.m=_),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!w(k)&&(this.g.D=k,_=this.h,_!==null&&k in _&&(_=this.h,k in _&&delete _[k])),this.j=new bi(this)}g(Jr,nt),Jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jr.prototype.close=function(){Fw(this.g)},Jr.prototype.o=function(_){var k=this.g;if(typeof _=="string"){var B={};B.__data__=_,_=B}else this.u&&(B={},B.__data__=Ts(_),_=B);k.i.push(new cn(k.Ya++,_)),k.G==3&&rg(k)},Jr.prototype.N=function(){this.g.l=null,delete this.j,Fw(this.g),delete this.g,Jr.aa.N.call(this)};function nA(_){jn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var k=_.__sm__;if(k){e:{for(const B in k){_=B;break e}_=void 0}(this.i=_)&&(_=this.i,k=k!==null&&_ in k?k[_]:void 0),this.data=k}else this.data=_}g(nA,jn);function Sd(){Jn.call(this),this.status=1}g(Sd,Jn);function bi(_){this.g=_}g(bi,Bw),bi.prototype.ua=function(){yt(this.g,"a")},bi.prototype.ta=function(_){yt(this.g,new nA(_))},bi.prototype.sa=function(_){yt(this.g,new Sd)},bi.prototype.ra=function(){yt(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,Jr.prototype.send=Jr.prototype.o,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,uJ=function(){return new Jl},lJ=function(){return xr()},cJ=_i,$2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,dT=Le,Je.COMPLETE="complete",aJ=Je,Bo.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",nt.prototype.listen=nt.prototype.K,G0=Bo,yr.prototype.listenOnce=yr.prototype.L,yr.prototype.getLastError=yr.prototype.Ka,yr.prototype.getLastErrorCode=yr.prototype.Ba,yr.prototype.getStatus=yr.prototype.Z,yr.prototype.getResponseJson=yr.prototype.Oa,yr.prototype.getResponseText=yr.prototype.oa,yr.prototype.send=yr.prototype.ea,yr.prototype.setWithCredentials=yr.prototype.Ha,oJ=yr}).apply(typeof GA<"u"?GA:typeof self<"u"?self:typeof window<"u"?window:{});const V8="@firebase/firestore",H8="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rw="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=new SP("@firebase/firestore");function zg(){return Zp.logLevel}function Ze(t,...e){if(Zp.logLevel<=dn.DEBUG){const n=e.map(T$);Zp.debug(`Firestore (${rw}): ${t}`,...n)}}function Xu(t,...e){if(Zp.logLevel<=dn.ERROR){const n=e.map(T$);Zp.error(`Firestore (${rw}): ${t}`,...n)}}function wv(t,...e){if(Zp.logLevel<=dn.WARN){const n=e.map(T$);Zp.warn(`Firestore (${rw}): ${t}`,...n)}}function T$(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t="Unexpected state"){const e=`FIRESTORE (${rw}) INTERNAL ASSERTION FAILED: `+t;throw Xu(e),new Error(e)}function $n(t,e){t||Nt()}function Ht(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Bc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pxe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ms.UNAUTHENTICATED))}shutdown(){}}class Oxe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dxe{constructor(e){this.t=e,this.currentUser=Ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$n(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new $u;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $u,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $u)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($n(typeof r.accessToken=="string"),new dJ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $n(e===null||typeof e=="string"),new Ms(e)}}class Nxe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ms.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Rxe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Nxe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kxe{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xo(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$n(this.o===void 0);const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new W8(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($n(typeof n.token=="string"),this.R=n.token,new W8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mxe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Mxe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function nn(t,e){return t<e?-1:t>e?1:0}function U2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return nn(r,i);{const s=hJ(),o=Lxe(s.encode(q8(t,n)),s.encode(q8(e,n)));return o!==0?o:nn(r,i)}}n+=r>65535?2:1}return nn(t.length,e.length)}function q8(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Lxe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return nn(t[n],e[n]);return nn(t.length,e.length)}function _v(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=-62135596800,K8=1e6;class Pi{static now(){return Pi.fromMillis(Date.now())}static fromDate(e){return Pi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*K8);return new Pi(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new lt(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G8)throw new lt(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K8}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Pi(0,0))}static max(){return new Bt(new Pi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8="__name__";class ol{constructor(e,n,r){n===void 0?n=0:n>e.length&&Nt(),r===void 0?r=e.length-n:r>e.length-n&&Nt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ol.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return nn(e.length,n.length)}static compareSegments(e,n){const r=ol.isNumericId(e),i=ol.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ol.extractNumericId(e).compare(ol.extractNumericId(n)):U2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Uh.fromString(e.substring(4,e.length-2))}}class Ar extends ol{construct(e,n,r){return new Ar(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ar(n)}static emptyPath(){return new Ar([])}}const Fxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ms extends ol{construct(e,n,r){return new ms(e,n,r)}static isValidIdentifier(e){return Fxe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ms.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y8}static keyField(){return new ms([Y8])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new lt(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new lt(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new lt(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new lt(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ms(n)}static emptyPath(){return new ms([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.path=e}static fromPath(e){return new At(Ar.fromString(e))}static fromName(e){return new At(Ar.fromString(e).popFirst(5))}static empty(){return new At(Ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ar.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ar.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Ar(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=-1;function $xe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(r===1e9?new Pi(n+1,0):new Pi(n,r));return new of(i,At.empty(),e)}function Uxe(t){return new of(t.readTime,t.key,_b)}class of{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new of(Bt.min(),At.empty(),_b)}static max(){return new of(Bt.max(),At.empty(),_b)}}function jxe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=At.comparator(t.documentKey,e.documentKey),n!==0?n:nn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bxe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zxe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==Bxe)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new ye((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Vxe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sw(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}IP.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=-1;function xP(t){return t==null}function eI(t){return t===0&&1/t==-1/0}function Hxe(t){return typeof t=="number"&&Number.isInteger(t)&&!eI(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ="";function Wxe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Q8(e)),e=qxe(t.get(n),e);return Q8(e)}function qxe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case pJ:n+="";break;default:n+=s}}return n}function Q8(t){return t+pJ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mm(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.comparator=e,this.root=n||cs.EMPTY}insert(e,n){return new Hr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cs.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new KA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new KA(this.root,e,this.comparator,!1)}getReverseIterator(){return new KA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new KA(this.root,e,this.comparator,!0)}}class KA{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cs.RED,this.left=i??cs.EMPTY,this.right=s??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1;cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new cs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J8(this.data.getIterator())}getIteratorFrom(e){return new J8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oi(this.comparator);return n.data=e,n}}class J8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.fields=e,e.sort(ms.comparator)}static empty(){return new bc([])}unionWith(e){let n=new Oi(ms.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bc(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _v(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gJ("Invalid base64 string: "+s):s}}(e);return new _s(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _s(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const Gxe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function af(t){if($n(!!t),typeof t=="string"){let e=0;const n=Gxe.exec(t);if($n(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ni(t.seconds),nanos:ni(t.nanos)}}function ni(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cf(t){return typeof t=="string"?_s.fromBase64String(t):_s.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ="server_timestamp",vJ="__type__",wJ="__previous_value__",_J="__local_write_time__";function I$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vJ])===null||n===void 0?void 0:n.stringValue)===yJ}function PP(t){const e=t.mapValue.fields[wJ];return I$(e)?PP(e):e}function bb(t){const e=af(t.mapValue.fields[_J].timestampValue);return new Pi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kxe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}const tI="(default)";class Eb{constructor(e,n){this.projectId=e,this.database=n||tI}static empty(){return new Eb("","")}get isDefaultDatabase(){return this.database===tI}isEqual(e){return e instanceof Eb&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ="__type__",EJ="__max__",YA={mapValue:{fields:{__type__:{stringValue:EJ}}}},AJ="__vector__",nI="value";function lf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I$(t)?4:Qxe(t)?9007199254740991:Yxe(t)?10:11:Nt()}function Ml(t,e){if(t===e)return!0;const n=lf(t);if(n!==lf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bb(t).isEqual(bb(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=af(i.timestampValue),a=af(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return cf(i.bytesValue).isEqual(cf(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ni(i.geoPointValue.latitude)===ni(s.geoPointValue.latitude)&&ni(i.geoPointValue.longitude)===ni(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ni(i.integerValue)===ni(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ni(i.doubleValue),a=ni(s.doubleValue);return o===a?eI(o)===eI(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _v(t.arrayValue.values||[],e.arrayValue.values||[],Ml);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Z8(o)!==Z8(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ml(o[c],a[c])))return!1;return!0}(t,e);default:return Nt()}}function Ab(t,e){return(t.values||[]).find(n=>Ml(n,e))!==void 0}function bv(t,e){if(t===e)return 0;const n=lf(t),r=lf(e);if(n!==r)return nn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nn(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ni(s.integerValue||s.doubleValue),c=ni(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return X8(t.timestampValue,e.timestampValue);case 4:return X8(bb(t),bb(e));case 5:return U2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=cf(s),c=cf(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=nn(a[l],c[l]);if(u!==0)return u}return nn(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=nn(ni(s.latitude),ni(o.latitude));return a!==0?a:nn(ni(s.longitude),ni(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ez(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,u;const h=s.fields||{},f=o.fields||{},p=(a=h[nI])===null||a===void 0?void 0:a.arrayValue,g=(c=f[nI])===null||c===void 0?void 0:c.arrayValue,y=nn(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:ez(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===YA.mapValue&&o===YA.mapValue)return 0;if(s===YA.mapValue)return 1;if(o===YA.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=U2(c[h],u[h]);if(f!==0)return f;const p=bv(a[c[h]],l[u[h]]);if(p!==0)return p}return nn(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Nt()}}function X8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nn(t,e);const n=af(t),r=af(e),i=nn(n.seconds,r.seconds);return i!==0?i:nn(n.nanos,r.nanos)}function ez(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=bv(n[i],r[i]);if(s)return s}return nn(n.length,r.length)}function Ev(t){return j2(t)}function j2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=af(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return At.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=j2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${j2(n.fields[o])}`;return i+"}"}(t.mapValue):Nt()}function hT(t){switch(lf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=PP(t);return e?16+hT(e):16;case 5:return 2*t.stringValue.length;case 6:return cf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+hT(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mm(r.fields,(s,o)=>{i+=s.length+hT(o)}),i}(t.mapValue);default:throw Nt()}}function tz(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function B2(t){return!!t&&"integerValue"in t}function x$(t){return!!t&&"arrayValue"in t}function nz(t){return!!t&&"nullValue"in t}function rz(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fT(t){return!!t&&"mapValue"in t}function Yxe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[bJ])===null||n===void 0?void 0:n.stringValue)===AJ}function w_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mm(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=w_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=w_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Qxe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.value=e}static empty(){return new Ma({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fT(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=w_(n)}setAll(e){let n=ms.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=w_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fT(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ml(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mm(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ma(w_(this.value))}}function CJ(t){const e=[];return Mm(t.fields,(n,r)=>{const i=new ms([n]);if(fT(r)){const s=CJ(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bc(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fs(e,0,Bt.min(),Bt.min(),Bt.min(),Ma.empty(),0)}static newFoundDocument(e,n,r,i){return new Fs(e,1,n,Bt.min(),r,i,0)}static newNoDocument(e,n){return new Fs(e,2,n,Bt.min(),Bt.min(),Ma.empty(),0)}static newUnknownDocument(e,n){return new Fs(e,3,n,Bt.min(),Bt.min(),Ma.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ma.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ma.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.position=e,this.inclusive=n}}function iz(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=At.comparator(At.fromName(o.referenceValue),n.key):r=bv(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sz(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ml(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zxe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{}class wi extends TJ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Xxe(e,n,r):n==="array-contains"?new nPe(e,r):n==="in"?new rPe(e,r):n==="not-in"?new iPe(e,r):n==="array-contains-any"?new sPe(e,r):new wi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ePe(e,r):new tPe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bv(n,this.value)):n!==null&&lf(this.value)===lf(n)&&this.matchesComparison(bv(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $c extends TJ{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new $c(e,n)}matches(e){return SJ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function SJ(t){return t.op==="and"}function IJ(t){return Jxe(t)&&SJ(t)}function Jxe(t){for(const e of t.filters)if(e instanceof $c)return!1;return!0}function z2(t){if(t instanceof wi)return t.field.canonicalString()+t.op.toString()+Ev(t.value);if(IJ(t))return t.filters.map(e=>z2(e)).join(",");{const e=t.filters.map(n=>z2(n)).join(",");return`${t.op}(${e})`}}function xJ(t,e){return t instanceof wi?function(r,i){return i instanceof wi&&r.op===i.op&&r.field.isEqual(i.field)&&Ml(r.value,i.value)}(t,e):t instanceof $c?function(r,i){return i instanceof $c&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xJ(o,i.filters[a]),!0):!1}(t,e):void Nt()}function PJ(t){return t instanceof wi?function(n){return`${n.field.canonicalString()} ${n.op} ${Ev(n.value)}`}(t):t instanceof $c?function(n){return n.op.toString()+" {"+n.getFilters().map(PJ).join(" ,")+"}"}(t):"Filter"}class Xxe extends wi{constructor(e,n,r){super(e,n,r),this.key=At.fromName(r.referenceValue)}matches(e){const n=At.comparator(e.key,this.key);return this.matchesComparison(n)}}class ePe extends wi{constructor(e,n){super(e,"in",n),this.keys=OJ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tPe extends wi{constructor(e,n){super(e,"not-in",n),this.keys=OJ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OJ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>At.fromName(r.referenceValue))}class nPe extends wi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x$(n)&&Ab(n.arrayValue,this.value)}}class rPe extends wi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ab(this.value.arrayValue,n)}}class iPe extends wi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ab(this.value.arrayValue,n)}}class sPe extends wi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x$(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ab(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oPe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function oz(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oPe(t,e,n,r,i,s,o)}function P$(t){const e=Ht(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>z2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xP(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ev(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ev(r)).join(",")),e.le=n}return e.le}function O$(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zxe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xJ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sz(t.startAt,e.startAt)&&sz(t.endAt,e.endAt)}function V2(t){return At.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function aPe(t,e,n,r,i,s,o,a){return new r1(t,e,n,r,i,s,o,a)}function D$(t){return new r1(t)}function az(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DJ(t){return t.collectionGroup!==null}function __(t){const e=Ht(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Oi(ms.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new iI(s,r))}),n.has(ms.keyField().canonicalString())||e.he.push(new iI(ms.keyField(),r))}return e.he}function Sl(t){const e=Ht(t);return e.Pe||(e.Pe=cPe(e,__(t))),e.Pe}function cPe(t,e){if(t.limitType==="F")return oz(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new iI(i.field,s)});const n=t.endAt?new rI(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rI(t.startAt.position,t.startAt.inclusive):null;return oz(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H2(t,e){const n=t.filters.concat([e]);return new r1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function W2(t,e,n){return new r1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function OP(t,e){return O$(Sl(t),Sl(e))&&t.limitType===e.limitType}function NJ(t){return`${P$(Sl(t))}|lt:${t.limitType}`}function Vg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>PJ(i)).join(", ")}]`),xP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ev(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ev(i)).join(",")),`Target(${r})`}(Sl(t))}; limitType=${t.limitType})`}function DP(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):At.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of __(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const l=iz(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,__(r),i)||r.endAt&&!function(o,a,c){const l=iz(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,__(r),i))}(t,e)}function lPe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RJ(t){return(e,n)=>{let r=!1;for(const i of __(t)){const s=uPe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uPe(t,e,n){const r=t.field.isKeyField()?At.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?bv(c,l):Nt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mm(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mJ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dPe=new Hr(At.comparator);function ed(){return dPe}const kJ=new Hr(At.comparator);function K0(...t){let e=kJ;for(const n of t)e=e.insert(n.key,n);return e}function MJ(t){let e=kJ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cp(){return b_()}function LJ(){return b_()}function b_(){return new Lm(t=>t.toString(),(t,e)=>t.isEqual(e))}const hPe=new Hr(At.comparator),fPe=new Oi(At.comparator);function hn(...t){let e=fPe;for(const n of t)e=e.add(n);return e}const pPe=new Oi(nn);function mPe(){return pPe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eI(e)?"-0":e}}function FJ(t){return{integerValue:""+t}}function gPe(t,e){return Hxe(e)?FJ(e):N$(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this._=void 0}}function yPe(t,e,n){return t instanceof Cb?function(i,s){const o={fields:{[vJ]:{stringValue:yJ},[_J]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I$(s)&&(s=PP(s)),s&&(o.fields[wJ]=s),{mapValue:o}}(n,e):t instanceof Tb?UJ(t,e):t instanceof Sb?jJ(t,e):function(i,s){const o=$J(i,s),a=cz(o)+cz(i.Ie);return B2(o)&&B2(i.Ie)?FJ(a):N$(i.serializer,a)}(t,e)}function vPe(t,e,n){return t instanceof Tb?UJ(t,e):t instanceof Sb?jJ(t,e):n}function $J(t,e){return t instanceof sI?function(r){return B2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cb extends NP{}class Tb extends NP{constructor(e){super(),this.elements=e}}function UJ(t,e){const n=BJ(e);for(const r of t.elements)n.some(i=>Ml(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sb extends NP{constructor(e){super(),this.elements=e}}function jJ(t,e){let n=BJ(e);for(const r of t.elements)n=n.filter(i=>!Ml(i,r));return{arrayValue:{values:n}}}class sI extends NP{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function cz(t){return ni(t.integerValue||t.doubleValue)}function BJ(t){return x$(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wPe{constructor(e,n){this.field=e,this.transform=n}}function _Pe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Tb&&i instanceof Tb||r instanceof Sb&&i instanceof Sb?_v(r.elements,i.elements,Ml):r instanceof sI&&i instanceof sI?Ml(r.Ie,i.Ie):r instanceof Cb&&i instanceof Cb}(t.transform,e.transform)}class bPe{constructor(e,n){this.version=e,this.transformResults=n}}class xc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xc}static exists(e){return new xc(void 0,e)}static updateTime(e){return new xc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pT(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let RP=class{};function zJ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R$(t.key,xc.none()):new i1(t.key,t.data,xc.none());{const n=t.data,r=Ma.empty();let i=new Oi(ms.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fm(t.key,r,new bc(i.toArray()),xc.none())}}function EPe(t,e,n){t instanceof i1?function(i,s,o){const a=i.value.clone(),c=uz(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fm?function(i,s,o){if(!pT(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uz(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(VJ(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function E_(t,e,n,r){return t instanceof i1?function(s,o,a,c){if(!pT(s.precondition,o))return a;const l=s.value.clone(),u=dz(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fm?function(s,o,a,c){if(!pT(s.precondition,o))return a;const l=dz(s.fieldTransforms,c,o),u=o.data;return u.setAll(VJ(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return pT(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function APe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$J(r.transform,i||null);s!=null&&(n===null&&(n=Ma.empty()),n.set(r.field,s))}return n||null}function lz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_v(r,i,(s,o)=>_Pe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class i1 extends RP{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fm extends RP{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VJ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uz(t,e,n){const r=new Map;$n(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vPe(o,a,n[i]))}return r}function dz(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yPe(s,o,e))}return r}class R$ extends RP{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CPe extends RP{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TPe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EPe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=E_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=E_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LJ();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=zJ(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),hn())}isEqual(e){return this.batchId===e.batchId&&_v(this.mutations,e.mutations,(n,r)=>lz(n,r))&&_v(this.baseMutations,e.baseMutations,(n,r)=>lz(n,r))}}class k${constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$n(e.mutations.length===r.length);let i=function(){return hPe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new k$(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SPe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IPe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi,wn;function xPe(t){switch(t){case we.OK:return Nt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return Nt()}}function HJ(t){if(t===void 0)return Xu("GRPC error has no .code"),we.UNKNOWN;switch(t){case mi.OK:return we.OK;case mi.CANCELLED:return we.CANCELLED;case mi.UNKNOWN:return we.UNKNOWN;case mi.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case mi.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case mi.INTERNAL:return we.INTERNAL;case mi.UNAVAILABLE:return we.UNAVAILABLE;case mi.UNAUTHENTICATED:return we.UNAUTHENTICATED;case mi.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case mi.NOT_FOUND:return we.NOT_FOUND;case mi.ALREADY_EXISTS:return we.ALREADY_EXISTS;case mi.PERMISSION_DENIED:return we.PERMISSION_DENIED;case mi.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case mi.ABORTED:return we.ABORTED;case mi.OUT_OF_RANGE:return we.OUT_OF_RANGE;case mi.UNIMPLEMENTED:return we.UNIMPLEMENTED;case mi.DATA_LOSS:return we.DATA_LOSS;default:return Nt()}}(wn=mi||(mi={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PPe=new Uh([4294967295,4294967295],0);function hz(t){const e=hJ().encode(t),n=new sJ;return n.update(e),new Uint8Array(n.digest())}function fz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uh([n,r],0),new Uh([i,s],0)]}class M${constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Y0(`Invalid padding: ${n}`);if(r<0)throw new Y0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Y0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Y0(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Uh.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Uh.fromNumber(r)));return i.compare(PPe)===1&&(i=new Uh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=hz(e),[r,i]=fz(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new M$(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=hz(e),[r,i]=fz(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Y0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,s1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kP(Bt.min(),i,new Hr(nn),ed(),hn())}}class s1{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new s1(r,n,hn(),hn(),hn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class WJ{constructor(e,n){this.targetId=e,this.ge=n}}class qJ{constructor(e,n,r=_s.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pz{constructor(){this.pe=0,this.ye=mz(),this.we=_s.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=hn(),n=hn(),r=hn();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Nt()}}),new s1(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=mz()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$n(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class OPe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ed(),this.$e=QA(),this.Ue=QA(),this.Ke=new Hr(nn)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Nt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(V2(s))if(r===0){const o=new At(s.path);this.ze(n,o,Fs.newNoDocument(o,Bt.min()))}else $n(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),c=a?this.nt(a,e,o):1;if(c!==0){this.Ye(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=cf(r).toUint8Array()}catch(c){if(c instanceof gJ)return wv("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new M$(o,i,s)}catch(c){return wv(c instanceof Y0?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&V2(a.target)){const c=new At(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,Fs.newNoDocument(c,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=hn();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Xe(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new kP(e,n,this.Ke,this.Qe,r);return this.Qe=ed(),this.$e=QA(),this.Ue=QA(),this.Ke=new Hr(nn),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new pz,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Oi(nn),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Oi(nn),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new pz),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function QA(){return new Hr(At.comparator)}function mz(){return new Hr(At.comparator)}const DPe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),NPe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RPe=(()=>({and:"AND",or:"OR"}))();class kPe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q2(t,e){return t.useProto3Json||xP(e)?e:{value:e}}function oI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GJ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MPe(t,e){return oI(t,e.toTimestamp())}function Il(t){return $n(!!t),Bt.fromTimestamp(function(n){const r=af(n);return new Pi(r.seconds,r.nanos)}(t))}function L$(t,e){return G2(t,e).canonicalString()}function G2(t,e){const n=function(i){return new Ar(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KJ(t){const e=Ar.fromString(t);return $n(XJ(e)),e}function K2(t,e){return L$(t.databaseId,e.path)}function dN(t,e){const n=KJ(e);if(n.get(1)!==t.databaseId.projectId)throw new lt(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new lt(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new At(QJ(n))}function YJ(t,e){return L$(t.databaseId,e)}function LPe(t){const e=KJ(t);return e.length===4?Ar.emptyPath():QJ(e)}function Y2(t){return new Ar(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QJ(t){return $n(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gz(t,e,n){return{name:K2(t,e),fields:n.value.mapValue.fields}}function FPe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?($n(u===void 0||typeof u=="string"),_s.fromBase64String(u||"")):($n(u===void 0||u instanceof Buffer||u instanceof Uint8Array),_s.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?we.UNKNOWN:HJ(l.code);return new lt(u,l.message||"")}(o);n=new qJ(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dN(t,r.document.name),s=Il(r.document.updateTime),o=r.document.createTime?Il(r.document.createTime):Bt.min(),a=new Ma({mapValue:{fields:r.document.fields}}),c=Fs.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new mT(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dN(t,r.document),s=r.readTime?Il(r.readTime):Bt.min(),o=Fs.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mT([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dN(t,r.document),s=r.removedTargetIds||[];n=new mT([],s,i,null)}else{if(!("filter"in e))return Nt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new IPe(i,s),a=r.targetId;n=new WJ(a,o)}}return n}function $Pe(t,e){let n;if(e instanceof i1)n={update:gz(t,e.key,e.value)};else if(e instanceof R$)n={delete:K2(t,e.key)};else if(e instanceof Fm)n={update:gz(t,e.key,e.data),updateMask:GPe(e.fieldMask)};else{if(!(e instanceof CPe))return Nt();n={verify:K2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Cb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tb)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sb)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sI)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Nt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:MPe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt()}(t,e.precondition)),n}function UPe(t,e){return t&&t.length>0?($n(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Il(i.updateTime):Il(s);return o.isEqual(Bt.min())&&(o=Il(s)),new bPe(o,i.transformResults||[])}(n,e))):[]}function jPe(t,e){return{documents:[YJ(t,e.path)]}}function BPe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YJ(t,i);const s=function(l){if(l.length!==0)return JJ($c.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Hg(f.field),direction:HPe(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=q2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:n,parent:i}}function zPe(t){let e=LPe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$n(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=ZJ(h);return f instanceof $c&&IJ(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new iI(Wg(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,xP(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new rI(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,p=h.values||[];return new rI(p,f)}(n.endAt)),aPe(e,i,o,s,a,"F",c,l)}function VPe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZJ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wg(n.unaryFilter.field);return wi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wg(n.unaryFilter.field);return wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wg(n.unaryFilter.field);return wi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wg(n.unaryFilter.field);return wi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(t):t.fieldFilter!==void 0?function(n){return wi.create(Wg(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $c.create(n.compositeFilter.filters.map(r=>ZJ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(t):Nt()}function HPe(t){return DPe[t]}function WPe(t){return NPe[t]}function qPe(t){return RPe[t]}function Hg(t){return{fieldPath:t.canonicalString()}}function Wg(t){return ms.fromServerFormat(t.fieldPath)}function JJ(t){return t instanceof wi?function(n){if(n.op==="=="){if(rz(n.value))return{unaryFilter:{field:Hg(n.field),op:"IS_NAN"}};if(nz(n.value))return{unaryFilter:{field:Hg(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rz(n.value))return{unaryFilter:{field:Hg(n.field),op:"IS_NOT_NAN"}};if(nz(n.value))return{unaryFilter:{field:Hg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hg(n.field),op:WPe(n.op),value:n.value}}}(t):t instanceof $c?function(n){const r=n.getFilters().map(i=>JJ(i));return r.length===1?r[0]:{compositeFilter:{op:qPe(n.op),filters:r}}}(t):Nt()}function GPe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XJ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,i,s=Bt.min(),o=Bt.min(),a=_s.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new bh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KPe{constructor(e){this.Tt=e}}function YPe(t){const e=zPe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?W2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QPe{constructor(){this.Tn=new ZPe}addToCollectionParentIndex(e,n){return this.Tn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(of.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(of.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class ZPe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oi(Ar.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oi(Ar.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eX=41943040;class Co{static withCacheSize(e){return new Co(e,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co.DEFAULT_COLLECTION_PERCENTILE=10,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Co.DEFAULT=new Co(eX,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Co.DISABLED=new Co(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Av(0)}static Kn(){return new Av(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="LruGarbageCollector",JPe=1048576;function wz([t,e],[n,r]){const i=nn(t,n);return i===0?nn(e,r):i}class XPe{constructor(e){this.Hn=e,this.buffer=new Oi(wz),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wz(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eOe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ze(vz,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sw(n)?Ze(vz,"Ignoring IndexedDB error during garbage collection: ",n):await iw(n)}await this.er(3e5)})}}class tOe{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(IP.ae);const r=new XPe(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(yz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yz):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),zg()<=dn.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function nOe(t,e){return new tOe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rOe{constructor(){this.changes=new Lm(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iOe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sOe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&E_(r.mutation,i,bc.empty(),Pi.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,hn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=hn()){const i=cp();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=K0();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cp();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,hn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ed();const o=b_(),a=function(){return b_()}();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Fm)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),E_(u.mutation,l,u.mutation.getFieldMask(),Pi.now())):o.set(l.key,bc.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new iOe(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=b_();let i=new Hr((o,a)=>o-a),s=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||bc.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(i.get(a.batchId)||hn()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=LJ();u.forEach(f=>{if(!s.has(f)){const p=zJ(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return At.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(cp());let a=_b,c=s;return o.next(l=>ye.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ye.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,hn())).next(u=>({batchId:a,changes:MJ(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new At(n)).next(r=>{let i=K0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=K0();return this.indexManager.getCollectionParents(e,s).next(a=>ye.forEach(a,c=>{const l=function(h,f){return new r1(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Fs.newInvalidDocument(u)))});let a=K0();return o.forEach((c,l)=>{const u=s.get(c);u!==void 0&&E_(u.mutation,l,bc.empty(),Pi.now()),DP(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oOe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ye.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Il(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:YPe(i.bundledQuery),readTime:Il(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aOe{constructor(){this.overlays=new Hr(At.comparator),this.Rr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cp();return ye.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=cp(),s=n.length+1,o=new At(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Hr((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=cp(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=cp(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return ye.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SPe(n,r));let s=this.Rr.get(n);s===void 0&&(s=hn(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cOe{constructor(){this.sessionToken=_s.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.Vr=new Oi(Ui.mr),this.gr=new Oi(Ui.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ui(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ui(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new At(new Ar([])),r=new Ui(n,e),i=new Ui(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new At(new Ar([])),r=new Ui(n,e),i=new Ui(n,e+1);let s=hn();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ui(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ui{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return At.comparator(e.key,n.key)||nn(e.Cr,n.Cr)}static pr(e,n){return nn(e.Cr,n.Cr)||At.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lOe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Oi(Ui.mr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TPe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Ui(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?S$:this.Fr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ui(n,0),i=new Ui(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oi(nn);return n.forEach(i=>{const s=new Ui(i,0),o=new Ui(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),ye.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;At.isDocumentKey(s)||(s=s.child(""));const o=new Ui(new At(s),0);let a=new Oi(nn);return this.Mr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Cr)),!0)},o),ye.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$n(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ye.forEach(n.mutations,i=>{const s=new Ui(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ui(n,0),i=this.Mr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uOe{constructor(e){this.kr=e,this.docs=function(){return new Hr(At.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Fs.newInvalidDocument(n))}getEntries(e,n){let r=ed();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fs.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ed();const o=n.path,a=new At(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||jxe(Uxe(u),r)<=0||(i.has(u.key)||DP(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Nt()}qr(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dOe(this)}getSize(e){return ye.resolve(this.size)}}class dOe extends rOe{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hOe{constructor(e){this.persistence=e,this.Qr=new Lm(n=>P$(n),O$),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new F$,this.targetCount=0,this.Kr=Av.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ye.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Av(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.zn(n),ye.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new IP(0),this.zr=!1,this.zr=!0,this.jr=new cOe,this.referenceDelegate=e(this),this.Hr=new hOe(this),this.indexManager=new QPe,this.remoteDocumentCache=function(i){return new uOe(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new KPe(n),this.Yr=new oOe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aOe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new lOe(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new fOe(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return ye.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class fOe extends zxe{constructor(e){super(),this.currentSequenceNumber=e}}class $${constructor(e){this.persistence=e,this.ti=new F$,this.ni=null}static ri(e){return new $$(e)}get ii(){if(this.ni)return this.ni;throw Nt()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ye.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.ii,r=>{const i=At.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,Bt.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ye.or([()=>ye.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class aI{constructor(e,n){this.persistence=e,this.oi=new Lm(r=>Wxe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nOe(this,n)}static ri(e,n){return new aI(e,n)}Zr(){}Xr(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ye.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?ye.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Bt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ye.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hT(e.data.value)),n}ar(e,n,r){return ye.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=hn(),i=hn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new U$(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pOe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mOe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lIe()?8:Vxe(Us())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pOe;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(zg()<=dn.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",Vg(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ye.resolve()):(zg()<=dn.DEBUG&&Ze("QueryEngine","Query:",Vg(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(zg()<=dn.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",Vg(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sl(n))):ye.resolve())}rs(e,n){if(az(n))return ye.resolve(null);let r=Sl(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=W2(n,null,"F"),r=Sl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=hn(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.cs(n,a);return this.ls(n,l,o,c.readTime)?this.rs(e,W2(n,null,"F")):this.hs(e,l,n,c)}))})))}ss(e,n,r,i){return az(n)||i.isEqual(Bt.min())?ye.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?ye.resolve(null):(zg()<=dn.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vg(n)),this.hs(e,o,n,$xe(i,_b)).next(a=>a))})}cs(e,n){let r=new Oi(RJ(e));return n.forEach((i,s)=>{DP(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return zg()<=dn.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Vg(n)),this.ns.getDocumentsMatchingQuery(e,n,of.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="LocalStore",gOe=3e8;class yOe{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Hr(nn),this.Is=new Lm(s=>P$(s),O$),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sOe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function vOe(t,e,n,r){return new yOe(t,e,n,r)}async function nX(t,e){const n=Ht(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=hn();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Rs:l,removedBatchIds:o,addedBatchIds:a}))})})}function wOe(t,e){const n=Ht(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,f=h.keys();let p=ye.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(c,g)).next(y=>{const v=l.docVersions.get(g);$n(v!==null),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=hn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rX(t){const e=Ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function _Oe(t,e){const n=Ht(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(_s.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=gOe?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,p,u)&&a.push(n.Hr.updateTargetData(s,p))});let c=ed(),l=hn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(bOe(s,o,e.documentUpdates).next(u=>{c=u.Vs,l=u.fs})),!r.isEqual(Bt.min())){const u=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ye.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ts=i,s))}function bOe(t,e,n){let r=hn(),i=hn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ed();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Bt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Ze(j$,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Vs:o,fs:i}})}function EOe(t,e){const n=Ht(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=S$),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AOe(t,e){const n=Ht(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,ye.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new bh(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Q2(t,e,n){const r=Ht(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!sw(o))throw o;Ze(j$,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function _z(t,e,n){const r=Ht(t);let i=Bt.min(),s=hn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=Ht(c),f=h.Is.get(u);return f!==void 0?ye.resolve(h.Ts.get(f)):h.Hr.getTargetData(l,u)}(r,o,Sl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:Bt.min(),n?s:hn())).next(a=>(COe(r,lPe(e),a),{documents:a,gs:s})))}function COe(t,e,n){let r=t.Es.get(e)||Bt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class bz{constructor(){this.activeTargetIds=mPe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TOe{constructor(){this.ho=new bz,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new bz,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SOe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="ConnectivityMonitor";class Az{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ze(Ez,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ze(Ez,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZA=null;function Z2(){return ZA===null?ZA=function(){return 268435456+Math.round(2147483648*Math.random())}():ZA++,"0x"+ZA.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="RestConnection",IOe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xOe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===tI?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=Z2(),a=this.bo(e,n.toUriEncodedString());Ze(hN,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,a,c,r).then(l=>(Ze(hN,`Received RPC '${e}' ${o}: `,l),l),l=>{throw wv(hN,`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rw}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=IOe[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class POe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="WebChannelConnection";class OOe extends xOe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Z2();return new Promise((o,a)=>{const c=new oJ;c.setWithCredentials(!0),c.listenOnce(aJ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dT.NO_ERROR:const u=c.getResponseJson();Ze(Os,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case dT.TIMEOUT:Ze(Os,`RPC '${e}' ${s} timed out`),a(new lt(we.DEADLINE_EXCEEDED,"Request time out"));break;case dT.HTTP_ERROR:const h=c.getStatus();if(Ze(Os,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(b)>=0?b:we.UNKNOWN}(p.status);a(new lt(g,p.message))}else a(new lt(we.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new lt(we.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Ze(Os,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Ze(Os,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Wo(e,n,r){const i=Z2(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uJ(),a=lJ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");Ze(Os,`Creating RPC '${e}' stream ${i}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,p=!1;const g=new POe({Fo:v=>{p?Ze(Os,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(Ze(Os,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ze(Os,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Mo:()=>h.close()}),y=(v,b,w)=>{v.listen(b,A=>{try{w(A)}catch(S){setTimeout(()=>{throw S},0)}})};return y(h,G0.EventType.OPEN,()=>{p||(Ze(Os,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),y(h,G0.EventType.CLOSE,()=>{p||(p=!0,Ze(Os,`RPC '${e}' stream ${i} transport closed`),g.Uo())}),y(h,G0.EventType.ERROR,v=>{p||(p=!0,wv(Os,`RPC '${e}' stream ${i} transport errored:`,v),g.Uo(new lt(we.UNAVAILABLE,"The operation could not be completed")))}),y(h,G0.EventType.MESSAGE,v=>{var b;if(!p){const w=v.data[0];$n(!!w);const A=w,S=(A==null?void 0:A.error)||((b=A[0])===null||b===void 0?void 0:b.error);if(S){Ze(Os,`RPC '${e}' stream ${i} received error:`,S);const P=S.status;let D=function(x){const N=mi[x];if(N!==void 0)return HJ(N)}(P),C=S.message;D===void 0&&(D=we.INTERNAL,C="Unknown error status: "+P+" with message "+S.message),p=!0,g.Uo(new lt(D,C)),h.close()}else Ze(Os,`RPC '${e}' stream ${i} received:`,w),g.Ko(w)}}),y(a,cJ.STAT_EVENT,v=>{v.stat===$2.PROXY?Ze(Os,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===$2.NOPROXY&&Ze(Os,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function fN(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){return new kPe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="PersistentStream";class sX{constructor(e,n,r,i,s,o,a,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iX(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Xu(n.toString()),Xu("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new lt(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ze(Cz,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ze(Cz,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DOe extends sX{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=FPe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Bt.min():o.readTime?Il(o.readTime):Bt.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Y2(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=V2(c)?{documents:jPe(s,c)}:{query:BPe(s,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GJ(s,o.resumeToken);const l=q2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Bt.min())>0){a.readTime=oI(s,o.snapshotVersion.toTimestamp());const l=q2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=VPe(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Y2(this.serializer),n.removeTarget=e,this.I_(n)}}class NOe extends sX{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $n(!!e.streamToken),this.lastStreamToken=e.streamToken,$n(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=UPe(e.writeResults,e.commitTime),r=Il(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Y2(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$Pe(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ROe{}class kOe extends ROe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new lt(we.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,G2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(we.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,G2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(we.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class MOe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xu(n),this.N_=!1):Ze("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="RemoteStore";class LOe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{$m(this)&&(Ze(Jp,"Restarting streams for network reachability change."),await async function(c){const l=Ht(c);l.W_.add(4),await o1(l),l.j_.set("Unknown"),l.W_.delete(4),await LP(l)}(this))})}),this.j_=new MOe(r,i)}}async function LP(t){if($m(t))for(const e of t.G_)await e(!0)}async function o1(t){for(const e of t.G_)await e(!1)}function oX(t,e){const n=Ht(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),H$(n)?V$(n):ow(n).c_()&&z$(n,e))}function B$(t,e){const n=Ht(t),r=ow(n);n.K_.delete(e),r.c_()&&aX(n,e),n.K_.size===0&&(r.c_()?r.P_():$m(n)&&n.j_.set("Unknown"))}function z$(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ow(t).y_(e)}function aX(t,e){t.H_.Ne(e),ow(t).w_(e)}function V$(t){t.H_=new OPe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ow(t).start(),t.j_.B_()}function H$(t){return $m(t)&&!ow(t).u_()&&t.K_.size>0}function $m(t){return Ht(t).W_.size===0}function cX(t){t.H_=void 0}async function FOe(t){t.j_.set("Online")}async function $Oe(t){t.K_.forEach((e,n)=>{z$(t,e)})}async function UOe(t,e){cX(t),H$(t)?(t.j_.q_(e),V$(t)):t.j_.set("Unknown")}async function jOe(t,e,n){if(t.j_.set("Online"),e instanceof qJ&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){Ze(Jp,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cI(t,r)}else if(e instanceof mT?t.H_.We(e):e instanceof WJ?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Bt.min()))try{const r=await rX(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.K_.get(l);u&&s.K_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.K_.get(c);if(!u)return;s.K_.set(c,u.withResumeToken(_s.EMPTY_BYTE_STRING,u.snapshotVersion)),aX(s,c);const h=new bh(u.target,c,l,u.sequenceNumber);z$(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ze(Jp,"Failed to raise snapshot:",r),await cI(t,r)}}async function cI(t,e,n){if(!sw(e))throw e;t.W_.add(1),await o1(t),t.j_.set("Offline"),n||(n=()=>rX(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze(Jp,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await LP(t)})}function lX(t,e){return e().catch(n=>cI(t,n,e))}async function FP(t){const e=Ht(t),n=uf(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:S$;for(;BOe(e);)try{const i=await EOe(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,zOe(e,i)}catch(i){await cI(e,i)}uX(e)&&dX(e)}function BOe(t){return $m(t)&&t.U_.length<10}function zOe(t,e){t.U_.push(e);const n=uf(t);n.c_()&&n.S_&&n.b_(e.mutations)}function uX(t){return $m(t)&&!uf(t).u_()&&t.U_.length>0}function dX(t){uf(t).start()}async function VOe(t){uf(t).C_()}async function HOe(t){const e=uf(t);for(const n of t.U_)e.b_(n.mutations)}async function WOe(t,e,n){const r=t.U_.shift(),i=k$.from(r,e,n);await lX(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await FP(t)}async function qOe(t,e){e&&uf(t).S_&&await async function(r,i){if(function(o){return xPe(o)&&o!==we.ABORTED}(i.code)){const s=r.U_.shift();uf(r).h_(),await lX(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await FP(r)}}(t,e),uX(t)&&dX(t)}async function Tz(t,e){const n=Ht(t);n.asyncQueue.verifyOperationInProgress(),Ze(Jp,"RemoteStore received new credentials");const r=$m(n);n.W_.add(3),await o1(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await LP(n)}async function GOe(t,e){const n=Ht(t);e?(n.W_.delete(2),await LP(n)):e||(n.W_.add(2),await o1(n),n.j_.set("Unknown"))}function ow(t){return t.J_||(t.J_=function(n,r,i){const s=Ht(n);return s.M_(),new DOe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:FOe.bind(null,t),No:$Oe.bind(null,t),Lo:UOe.bind(null,t),p_:jOe.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),H$(t)?V$(t):t.j_.set("Unknown")):(await t.J_.stop(),cX(t))})),t.J_}function uf(t){return t.Y_||(t.Y_=function(n,r,i){const s=Ht(n);return s.M_(),new NOe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:VOe.bind(null,t),Lo:qOe.bind(null,t),D_:HOe.bind(null,t),v_:WOe.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await FP(t)):(await t.Y_.stop(),t.U_.length>0&&(Ze(Jp,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new W$(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q$(t,e){if(Xu("AsyncQueue",`${e}: ${t}`),sw(t))return new lt(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{static emptySet(e){return new Oy(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||At.comparator(n.key,r.key):(n,r)=>At.comparator(n.key,r.key),this.keyedMap=K0(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oy)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.Z_=new Hr(At.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Nt():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cv{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cv(e,n,Oy.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&OP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KOe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class YOe{constructor(){this.queries=Iz(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ht(n),s=i.queries;i.queries=Iz(),s.forEach((o,a)=>{for(const c of a.ta)c.onError(r)})})(this,new lt(we.ABORTED,"Firestore shutting down"))}}function Iz(){return new Lm(t=>NJ(t),OP)}async function hX(t,e){const n=Ht(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new KOe,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=q$(o,`Initialization of query '${Vg(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&G$(n)}async function fX(t,e){const n=Ht(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QOe(t,e){const n=Ht(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&G$(n)}function ZOe(t,e,n){const r=Ht(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function G$(t){t.ia.forEach(e=>{e.next()})}var J2,xz;(xz=J2||(J2={}))._a="default",xz.Cache="cache";class pX{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Cv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==J2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.key=e}}class gX{constructor(e){this.key=e}}class JOe{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=hn(),this.mutatedKeys=hn(),this.ya=RJ(e),this.wa=new Oy(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Sz,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=DP(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.va(f,p)||(r.track({type:2,doc:p}),v=!0,(c&&this.ya(p,c)>0||l&&this.ya(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(c||l)&&(a=!0)),v&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return y(p)-y(g)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,l=c!==this.ga;return this.ga=c,o.length!==0||l?{snapshot:new Cv(this.query,e.wa,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Sz,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=hn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new gX(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new mX(r))}),n}Oa(e){this.fa=e.gs,this.pa=hn();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Cv.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const K$="SyncEngine";class XOe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eDe{constructor(e){this.key=e,this.Ba=!1}}class tDe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Lm(a=>NJ(a),OP),this.qa=new Map,this.Qa=new Set,this.$a=new Hr(At.comparator),this.Ua=new Map,this.Ka=new F$,this.Wa={},this.Ga=new Map,this.za=Av.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function nDe(t,e,n=!0){const r=EX(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await yX(r,e,n,!0),i}async function rDe(t,e){const n=EX(t);await yX(n,e,!0,!1)}async function yX(t,e,n,r){const i=await AOe(t.localStore,Sl(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await iDe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&oX(t.remoteStore,i),a}async function iDe(t,e,n,r,i){t.Ha=(h,f,p)=>async function(y,v,b,w){let A=v.view.ba(b);A.ls&&(A=await _z(y.localStore,v.query,!1).then(({documents:C})=>v.view.ba(C,A)));const S=w&&w.targetChanges.get(v.targetId),P=w&&w.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(A,y.isPrimaryClient,S,P);return Oz(y,v.targetId,D.Ma),D.snapshot}(t,h,f,p);const s=await _z(t.localStore,e,!0),o=new JOe(e,s.gs),a=o.ba(s.documents),c=s1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);Oz(t,n,l.Ma);const u=new XOe(e,n,o);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),l.snapshot}async function sDe(t,e,n){const r=Ht(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!OP(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&B$(r.remoteStore,i.targetId),X2(r,i.targetId)}).catch(iw)):(X2(r,i.targetId),await Q2(r.localStore,i.targetId,!0))}async function oDe(t,e){const n=Ht(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),B$(n.remoteStore,r.targetId))}async function aDe(t,e,n){const r=pDe(t);try{const i=await function(o,a){const c=Ht(o),l=Pi.now(),u=a.reduce((p,g)=>p.add(g.key),hn());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ed(),y=hn();return c.ds.getEntries(p,u).next(v=>{g=v,g.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(v=>{h=v;const b=[];for(const w of a){const A=APe(w,h.get(w.key).overlayedDocument);A!=null&&b.push(new Fm(w.key,A,CJ(A.value.mapValue),xc.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,b,a)}).next(v=>{f=v;const b=v.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:f.batchId,changes:MJ(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Wa[o.currentUser.toKey()];l||(l=new Hr(nn)),l=l.insert(a,c),o.Wa[o.currentUser.toKey()]=l}(r,i.batchId,n),await a1(r,i.changes),await FP(r.remoteStore)}catch(i){const s=q$(i,"Failed to persist write");n.reject(s)}}async function vX(t,e){const n=Ht(t);try{const r=await _Oe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&($n(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?$n(o.Ba):i.removedDocuments.size>0&&($n(o.Ba),o.Ba=!1))}),await a1(n,r,e)}catch(r){await iw(r)}}function Pz(t,e,n){const r=Ht(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Ht(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const f of h.ta)f.sa(a)&&(l=!0)}),l&&G$(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cDe(t,e,n){const r=Ht(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new Hr(At.comparator);o=o.insert(s,Fs.newNoDocument(s,Bt.min()));const a=hn().add(s),c=new kP(Bt.min(),new Map,new Hr(nn),o,a);await vX(r,c),r.$a=r.$a.remove(s),r.Ua.delete(e),Y$(r)}else await Q2(r.localStore,e,!1).then(()=>X2(r,e,n)).catch(iw)}async function lDe(t,e){const n=Ht(t),r=e.batch.batchId;try{const i=await wOe(n.localStore,e);_X(n,r,null),wX(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await a1(n,i)}catch(i){await iw(i)}}async function uDe(t,e,n){const r=Ht(t);try{const i=await function(o,a){const c=Ht(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>($n(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);_X(r,e,n),wX(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await a1(r,i)}catch(i){await iw(i)}}function wX(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function _X(t,e,n){const r=Ht(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function X2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||bX(t,r)})}function bX(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(B$(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Y$(t))}function Oz(t,e,n){for(const r of n)r instanceof mX?(t.Ka.addReference(r.key,e),dDe(t,r)):r instanceof gX?(Ze(K$,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||bX(t,r.key)):Nt()}function dDe(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ze(K$,"New document in limbo: "+n),t.Qa.add(r),Y$(t))}function Y$(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new At(Ar.fromString(e)),r=t.za.next();t.Ua.set(r,new eDe(n)),t.$a=t.$a.insert(n,r),oX(t.remoteStore,new bh(Sl(D$(n.path)),r,"TargetPurposeLimboResolution",IP.ae))}}async function a1(t,e,n){const r=Ht(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{o.push(r.Ha(c,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);const h=U$.Yi(c.targetId,l);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(c,l){const u=Ht(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ye.forEach(l,f=>ye.forEach(f.Hi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ye.forEach(f.Ji,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!sw(h))throw h;Ze(j$,"Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=u.Ts.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(f,y)}}}(r.localStore,s))}async function hDe(t,e){const n=Ht(t);if(!n.currentUser.isEqual(e)){Ze(K$,"User change. New user:",e.toKey());const r=await nX(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(c=>{c.reject(new lt(we.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await a1(n,r.Rs)}}function fDe(t,e){const n=Ht(t),r=n.Ua.get(e);if(r&&r.Ba)return hn().add(r.key);{let i=hn();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function EX(t){const e=Ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fDe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cDe.bind(null,e),e.La.p_=QOe.bind(null,e.eventManager),e.La.Ja=ZOe.bind(null,e.eventManager),e}function pDe(t){const e=Ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lDe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uDe.bind(null,e),e}class lI{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=MP(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return vOe(this.persistence,new mOe,e.initialUser,this.serializer)}Xa(e){return new tX($$.ri,this.serializer)}Za(e){return new TOe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lI.provider={build:()=>new lI};class mDe extends lI{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$n(this.persistence.referenceDelegate instanceof aI);const r=this.persistence.referenceDelegate.garbageCollector;return new eOe(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Co.withCacheSize(this.cacheSizeBytes):Co.DEFAULT;return new tX(r=>aI.ri(r,n),this.serializer)}}class eM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pz(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hDe.bind(null,this.syncEngine),await GOe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YOe}()}createDatastore(e){const n=MP(e.databaseInfo.databaseId),r=function(s){return new OOe(s)}(e.databaseInfo);return function(s,o,a,c){return new kOe(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new LOe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Pz(this.syncEngine,n,0),function(){return Az.D()?new Az:new SOe}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const h=new tDe(i,s,o,a,c,l);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ht(i);Ze(Jp,"RemoteStore shutting down."),s.W_.add(5),await o1(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}eM.provider={build:()=>new eM};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xu("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="FirestoreClient";class gDe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ms.UNAUTHENTICATED,this.clientId=fJ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ze(df,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ze(df,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=q$(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pN(t,e){t.asyncQueue.verifyOperationInProgress(),Ze(df,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nX(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dz(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yDe(t);Ze(df,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Tz(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Tz(e.remoteStore,i)),t._onlineComponents=e}async function yDe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze(df,"Using user provided OfflineComponentProvider");try{await pN(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wv("Error using user provided cache. Falling back to memory cache: "+n),await pN(t,new lI)}}else Ze(df,"Using default OfflineComponentProvider"),await pN(t,new mDe(void 0));return t._offlineComponents}async function CX(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze(df,"Using user provided OnlineComponentProvider"),await Dz(t,t._uninitializedComponentsProvider._online)):(Ze(df,"Using default OnlineComponentProvider"),await Dz(t,new eM))),t._onlineComponents}function vDe(t){return CX(t).then(e=>e.syncEngine)}async function TX(t){const e=await CX(t),n=e.eventManager;return n.onListen=nDe.bind(null,e.syncEngine),n.onUnlisten=sDe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rDe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oDe.bind(null,e.syncEngine),n}function wDe(t,e,n={}){const r=new $u;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,l){const u=new AX({next:f=>{u.su(),o.enqueueAndForget(()=>fX(s,h));const p=f.docs.has(a);!p&&f.fromCache?l.reject(new lt(we.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?l.reject(new lt(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new pX(D$(a.path),u,{includeMetadataChanges:!0,Ta:!0});return hX(s,h)}(await TX(t),t.asyncQueue,e,n,r)),r.promise}function _De(t,e,n={}){const r=new $u;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,l){const u=new AX({next:f=>{u.su(),o.enqueueAndForget(()=>fX(s,h)),f.fromCache&&c.source==="server"?l.reject(new lt(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new pX(a,u,{includeMetadataChanges:!0,Ta:!0});return hX(s,h)}(await TX(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(t,e,n){if(!n)throw new lt(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bDe(t,e,n,r){if(e===!0&&r===!0)throw new lt(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rz(t){if(!At.isDocumentKey(t))throw new lt(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kz(t){if(At.isDocumentKey(t))throw new lt(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $P(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt()}function td(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new lt(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$P(t);throw new lt(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX="firestore.googleapis.com",Mz=!0;class Lz{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xX,this.ssl=Mz}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Mz;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eX;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JPe)throw new lt(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bDe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SX((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UP{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lz({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lz(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Pxe;switch(r.type){case"firstParty":return new Rxe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nz.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),Nz.delete(n),r.terminate())}(this),Promise.resolve()}}function EDe(t,e,n,r={}){var i;const s=(t=td(t,UP))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==xX&&s.host!==a&&wv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!sf(c,o)&&(t._setSettings(c),r.mockUserToken)){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ms.MOCK_USER;else{l=rIe(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new lt(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ms(h)}t._authCredentials=new Oxe(new dJ(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jP=class PX{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new PX(this.firestore,e,this._query)}};class Mo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mo(this.firestore,e,this._key)}}class jh extends jP{constructor(e,n,r){super(e,n,D$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mo(this.firestore,null,new At(e))}withConverter(e){return new jh(this.firestore,e,this._path)}}function c1(t,e,...n){if(t=Yi(t),IX("collection","path",e),t instanceof UP){const r=Ar.fromString(e,...n);return kz(r),new jh(t,null,r)}{if(!(t instanceof Mo||t instanceof jh))throw new lt(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ar.fromString(e,...n));return kz(r),new jh(t.firestore,null,r)}}function Ib(t,e,...n){if(t=Yi(t),arguments.length===1&&(e=fJ.newId()),IX("doc","path",e),t instanceof UP){const r=Ar.fromString(e,...n);return Rz(r),new Mo(t,null,new At(r))}{if(!(t instanceof Mo||t instanceof jh))throw new lt(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ar.fromString(e,...n));return Rz(r),new Mo(t.firestore,t instanceof jh?t.converter:null,new At(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="AsyncQueue";class $z{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iX(this,"async_queue_retry"),this.Su=()=>{const r=fN();r&&Ze(Fz,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=fN();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=fN();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new $u;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!sw(e))throw e;Ze(Fz,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xu("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=W$.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Nt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class aw extends UP{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $z,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $z(e),this._firestoreClient=void 0,await e}}}function ADe(t,e){const n=typeof t=="object"?t:C$(),r=typeof t=="string"?t:e||tI,i=km(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tIe("firestore");s&&EDe(i,...s)}return i}function Q$(t){if(t._terminated)throw new lt(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CDe(t),t._firestoreClient}function CDe(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,l,u){return new Kxe(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,SX(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new gDe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tv(_s.fromBase64String(e))}catch(n){throw new lt(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tv(_s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new lt(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new lt(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new lt(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TDe=/^__.*__$/;class SDe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fm(e,this.data,this.fieldMask,n,this.fieldTransforms):new i1(e,this.data,n,this.fieldTransforms)}}function OX(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class tU{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tU(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return uI(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(OX(this.Lu)&&TDe.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class IDe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||MP(e)}ju(e,n,r,i=!1){return new tU({Lu:e,methodName:n,zu:r,path:ms.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nU(t){const e=t._freezeSettings(),n=MP(t._databaseId);return new IDe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DX(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);kX("Data must be an object, but it was:",o,r);const a=NX(r,o);let c,l;if(s.merge)c=new bc(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=PDe(e,h,n);if(!o.contains(f))throw new lt(we.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);DDe(u,f)||u.push(f)}c=new bc(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new SDe(new Ma(a),c,l)}class rU extends J${_toFieldTransform(e){return new wPe(e.path,new Cb)}isEqual(e){return e instanceof rU}}function xDe(t,e,n,r=!1){return iU(n,t.ju(r?4:3,e))}function iU(t,e){if(RX(t=Yi(t)))return kX("Unsupported field value:",e,t),NX(t,e);if(t instanceof J$)return function(r,i){if(!OX(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=iU(a,i.Ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Yi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gPe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pi.fromDate(r);return{timestampValue:oI(i.serializer,s)}}if(r instanceof Pi){const s=new Pi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oI(i.serializer,s)}}if(r instanceof X$)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tv)return{bytesValue:GJ(i.serializer,r._byteString)};if(r instanceof Mo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:L$(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eU)return function(o,a){return{mapValue:{fields:{[bJ]:{stringValue:AJ},[nI]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return N$(a.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${$P(r)}`)}(t,e)}function NX(t,e){const n={};return mJ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mm(t,(r,i)=>{const s=iU(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function RX(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pi||t instanceof X$||t instanceof Tv||t instanceof Mo||t instanceof J$||t instanceof eU)}function kX(t,e,n){if(!RX(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=$P(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function PDe(t,e,n){if((e=Yi(e))instanceof Z$)return e._internalPath;if(typeof e=="string")return MX(t,e);throw uI("Field path arguments must be of type string or ",t,!1,void 0,n)}const ODe=new RegExp("[~\\*/\\[\\]]");function MX(t,e,n){if(e.search(ODe)>=0)throw uI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Z$(...e.split("."))._internalPath}catch{throw uI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uI(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new lt(we.INVALID_ARGUMENT,a+t+c)}function DDe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sU("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NDe extends LX{data(){return super.data()}}function sU(t,e){return typeof e=="string"?MX(t,e):e instanceof Z$?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RDe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new lt(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oU{}class kDe extends oU{}function FX(t,e,...n){let r=[];e instanceof oU&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof aU).length,a=s.filter(c=>c instanceof BP).length;if(o>1||o>0&&a>0)throw new lt(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class BP extends kDe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new BP(e,n,r)}_apply(e){const n=this._parse(e);return UX(e._query,n),new jP(e.firestore,e.converter,H2(e._query,n))}_parse(e){const n=nU(e.firestore);return function(s,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new lt(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){jz(h,u);const g=[];for(const y of h)g.push(Uz(c,s,y));f={arrayValue:{values:g}}}else f=Uz(c,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||jz(h,u),f=xDe(a,o,h,u==="in"||u==="not-in");return wi.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $X(t,e,n){const r=e,i=sU("where",t);return BP._create(i,r,n)}class aU extends oU{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new aU(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$c.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)UX(o,c),o=H2(o,c)}(e._query,n),new jP(e.firestore,e.converter,H2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Uz(t,e,n){if(typeof(n=Yi(n))=="string"){if(n==="")throw new lt(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DJ(e)&&n.indexOf("/")!==-1)throw new lt(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ar.fromString(n));if(!At.isDocumentKey(r))throw new lt(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tz(t,new At(r))}if(n instanceof Mo)return tz(t,n._key);throw new lt(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$P(n)}.`)}function jz(t,e){if(!Array.isArray(t)||t.length===0)throw new lt(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UX(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new lt(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MDe{convertValue(e,n="none"){switch(lf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mm(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[nI].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ni(o.doubleValue));return new eU(s)}convertGeoPoint(e){return new X$(ni(e.latitude),ni(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=PP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bb(e));default:return null}}convertTimestamp(e){const n=af(e);return new Pi(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ar.fromString(e);$n(XJ(r));const i=new Eb(r.get(1),r.get(3)),s=new At(r.popFirst(5));return i.isEqual(n)||Xu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BX extends LX{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sU("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gT extends BX{data(e={}){return super.data(e)}}class LDe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Q0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gT(this._firestore,this._userDataWriter,r.key,r,new Q0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new gT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Q0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new gT(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Q0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:FDe(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FDe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t){t=td(t,Mo);const e=td(t.firestore,aw);return wDe(Q$(e),t._key).then(n=>UDe(e,t,n))}class VX extends MDe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tv(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mo(this.firestore,null,n)}}function HX(t){t=td(t,jP);const e=td(t.firestore,aw),n=Q$(e),r=new VX(e);return RDe(t._query),_De(n,t._query).then(i=>new LDe(e,r,t,i))}function tM(t,e,n){t=td(t,Mo);const r=td(t.firestore,aw),i=jX(t.converter,e,n);return lU(r,[DX(nU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xc.none())])}function $De(t){return lU(td(t.firestore,aw),[new R$(t._key,xc.none())])}function cU(t,e){const n=td(t.firestore,aw),r=Ib(t),i=jX(t.converter,e);return lU(n,[DX(nU(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xc.exists(!1))]).then(()=>r)}function lU(t,e){return function(r,i){const s=new $u;return r.asyncQueue.enqueueAndForget(async()=>aDe(await vDe(r),i,s)),s.promise}(Q$(t),e)}function UDe(t,e,n){const r=n.docs.get(e._key),i=new VX(t);return new BX(t,i,e._key,r,new Q0(n.hasPendingWrites,n.fromCache),e.converter)}function jDe(){return new rU("serverTimestamp")}(function(e,n=!0){(function(i){rw=i})(nw),kl(new Fc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new aw(new Dxe(r.getProvider("auth-internal")),new kxe(o,r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new lt(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eb(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ja(V8,H8,e),ja(V8,H8,"esm2017")})();var BDe="firebase",zDe="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja(BDe,zDe,"app");const WX="@firebase/installations",uU="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=1e4,GX=`w:${uU}`,KX="FIS_v2",VDe="https://firebaseinstallations.googleapis.com/v1",HDe=60*60*1e3,WDe="installations",qDe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GDe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xp=new Rm(WDe,qDe,GDe);function YX(t){return t instanceof Bc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX({projectId:t}){return`${VDe}/projects/${t}/installations`}function ZX(t){return{token:t.token,requestStatus:2,expiresIn:YDe(t.expiresIn),creationTime:Date.now()}}async function JX(t,e){const r=(await e.json()).error;return Xp.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function XX({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KDe(t,{refreshToken:e}){const n=XX(t);return n.append("Authorization",QDe(e)),n}async function eee(t){const e=await t();return e.status>=500&&e.status<600?t():e}function YDe(t){return Number(t.replace("s","000"))}function QDe(t){return`${KX} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZDe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=QX(t),i=XX(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:KX,appId:t.appId,sdkVersion:GX},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await eee(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:ZX(l.authToken)}}else throw await JX("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JDe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XDe=/^[cdef][\w-]{21}$/,nM="";function eNe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tNe(t);return XDe.test(n)?n:nM}catch{return nM}}function tNe(t){return JDe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee=new Map;function ree(t,e){const n=zP(t);iee(n,e),nNe(n,e)}function iee(t,e){const n=nee.get(t);if(n)for(const r of n)r(e)}function nNe(t,e){const n=rNe();n&&n.postMessage({key:t,fid:e}),iNe()}let lp=null;function rNe(){return!lp&&"BroadcastChannel"in self&&(lp=new BroadcastChannel("[Firebase] FID Change"),lp.onmessage=t=>{iee(t.data.key,t.data.fid)}),lp}function iNe(){nee.size===0&&lp&&(lp.close(),lp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sNe="firebase-installations-database",oNe=1,em="firebase-installations-store";let mN=null;function dU(){return mN||(mN=tJ(sNe,oNe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(em)}}})),mN}async function dI(t,e){const n=zP(t),i=(await dU()).transaction(em,"readwrite"),s=i.objectStore(em),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&ree(t,e.fid),e}async function see(t){const e=zP(t),r=(await dU()).transaction(em,"readwrite");await r.objectStore(em).delete(e),await r.done}async function VP(t,e){const n=zP(t),i=(await dU()).transaction(em,"readwrite"),s=i.objectStore(em),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&ree(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t){let e;const n=await VP(t.appConfig,r=>{const i=aNe(r),s=cNe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===nM?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aNe(t){const e=t||{fid:eNe(),registrationStatus:0};return oee(e)}function cNe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xp.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=lNe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uNe(t)}:{installationEntry:e}}async function lNe(t,e){try{const n=await ZDe(t,e);return dI(t.appConfig,n)}catch(n){throw YX(n)&&n.customData.serverCode===409?await see(t.appConfig):await dI(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uNe(t){let e=await Bz(t.appConfig);for(;e.registrationStatus===1;)await tee(100),e=await Bz(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await hU(t);return r||n}return e}function Bz(t){return VP(t,e=>{if(!e)throw Xp.create("installation-not-found");return oee(e)})}function oee(t){return dNe(t)?{fid:t.fid,registrationStatus:0}:t}function dNe(t){return t.registrationStatus===1&&t.registrationTime+qX<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hNe({appConfig:t,heartbeatServiceProvider:e},n){const r=fNe(t,n),i=KDe(t,n),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:GX,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await eee(()=>fetch(r,a));if(c.ok){const l=await c.json();return ZX(l)}else throw await JX("Generate Auth Token",c)}function fNe(t,{fid:e}){return`${QX(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e=!1){let n;const r=await VP(t.appConfig,s=>{if(!aee(s))throw Xp.create("not-registered");const o=s.authToken;if(!e&&gNe(o))return s;if(o.requestStatus===1)return n=pNe(t,e),s;{if(!navigator.onLine)throw Xp.create("app-offline");const a=vNe(s);return n=mNe(t,a),a}});return n?await n:r.authToken}async function pNe(t,e){let n=await zz(t.appConfig);for(;n.authToken.requestStatus===1;)await tee(100),n=await zz(t.appConfig);const r=n.authToken;return r.requestStatus===0?fU(t,e):r}function zz(t){return VP(t,e=>{if(!aee(e))throw Xp.create("not-registered");const n=e.authToken;return wNe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mNe(t,e){try{const n=await hNe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await dI(t.appConfig,r),n}catch(n){if(YX(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await see(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dI(t.appConfig,r)}throw n}}function aee(t){return t!==void 0&&t.registrationStatus===2}function gNe(t){return t.requestStatus===2&&!yNe(t)}function yNe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+HDe}function vNe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function wNe(t){return t.requestStatus===1&&t.requestTime+qX<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Ne(t){const e=t,{installationEntry:n,registrationPromise:r}=await hU(e);return r?r.catch(console.error):fU(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bNe(t,e=!1){const n=t;return await ENe(n),(await fU(n,e)).token}async function ENe(t){const{registrationPromise:e}=await hU(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ANe(t){if(!t||!t.options)throw gN("App Configuration");if(!t.name)throw gN("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gN(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gN(t){return Xp.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee="installations",CNe="installations-internal",TNe=t=>{const e=t.getProvider("app").getImmediate(),n=ANe(e),r=km(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},SNe=t=>{const e=t.getProvider("app").getImmediate(),n=km(e,cee).getImmediate();return{getId:()=>_Ne(n),getToken:i=>bNe(n,i)}};function INe(){kl(new Fc(cee,TNe,"PUBLIC")),kl(new Fc(CNe,SNe,"PRIVATE"))}INe();ja(WX,uU);ja(WX,uU,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="analytics",xNe="firebase_id",PNe="origin",ONe=60*1e3,DNe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pU="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new SP("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NNe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ia=new Rm("analytics","Analytics",NNe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RNe(t){if(!t.startsWith(pU)){const e=ia.create("invalid-gtag-resource",{gtagURL:t});return Lo.warn(e.message),""}return t}function lee(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kNe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function MNe(t,e){const n=kNe("firebase-js-sdk-policy",{createScriptURL:RNe}),r=document.createElement("script"),i=`${pU}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function LNe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function FNe(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await lee(n)).find(l=>l.measurementId===i);c&&await e[c.appId]}}catch(a){Lo.error(a)}t("config",i,s)}async function $Ne(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await lee(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&e[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Lo.error(s)}}function UNe(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,c]=o;await $Ne(t,e,n,a,c)}else if(s==="config"){const[a,c]=o;await FNe(t,e,n,r,a,c)}else if(s==="consent"){const[a,c]=o;t("consent",a,c)}else if(s==="get"){const[a,c,l]=o;t("get",a,c,l)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Lo.error(a)}}return i}function jNe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=UNe(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function BNe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pU)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zNe=30,VNe=1e3;class HNe{constructor(e={},n=VNe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uee=new HNe;function WNe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function qNe(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:WNe(r)},s=DNe.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw ia.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function GNe(t,e=uee,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ia.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ia.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new QNe;return setTimeout(async()=>{a.abort()},n!==void 0?n:ONe),dee({appId:r,apiKey:i,measurementId:s},o,a,e)}async function dee(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=uee){var s;const{appId:o,measurementId:a}=t;try{await KNe(r,e)}catch(c){if(a)return Lo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await qNe(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!YNe(l)){if(i.deleteThrottleMetadata(o),a)return Lo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?R8(n,i.intervalMillis,zNe):R8(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,h),Lo.debug(`Calling attemptFetch again in ${u} millis`),dee(t,h,r,i)}}function KNe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ia.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YNe(t){if(!(t instanceof Bc)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class QNe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ZNe(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JNe(){if(ZZ())try{await JZ()}catch(t){return Lo.warn(ia.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Lo.warn(ia.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XNe(t,e,n,r,i,s,o){var a;const c=GNe(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Lo.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Lo.error(p)),e.push(c);const l=JNe().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([c,l]);BNe(s)||MNe(s,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[PNe]="firebase",f.update=!0,h!=null&&(f[xNe]=h),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eRe{constructor(e){this.app=e}_delete(){return delete A_[this.app.options.appId],Promise.resolve()}}let A_={},Vz=[];const Hz={};let yN="dataLayer",tRe="gtag",Wz,hee,qz=!1;function nRe(){const t=[];if(QZ()&&t.push("This is a browser extension environment."),uIe()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ia.create("invalid-analytics-context",{errorInfo:e});Lo.warn(n.message)}}function rRe(t,e,n){nRe();const r=t.options.appId;if(!r)throw ia.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Lo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ia.create("no-api-key");if(A_[r]!=null)throw ia.create("already-exists",{id:r});if(!qz){LNe(yN);const{wrappedGtag:s,gtagCore:o}=jNe(A_,Vz,Hz,yN,tRe);hee=s,Wz=o,qz=!0}return A_[r]=XNe(t,Vz,Hz,e,Wz,yN,n),new eRe(t)}function iRe(t=C$()){t=Yi(t);const e=km(t,hI);return e.isInitialized()?e.getImmediate():sRe(t)}function sRe(t,e={}){const n=km(t,hI);if(n.isInitialized()){const i=n.getImmediate();if(sf(e,n.getOptions()))return i;throw ia.create("already-initialized")}return n.initialize({options:e})}function oRe(t,e,n,r){t=Yi(t),ZNe(hee,A_[t.app.options.appId],e,n,r).catch(i=>Lo.error(i))}const Gz="@firebase/analytics",Kz="0.10.12";function aRe(){kl(new Fc(hI,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return rRe(r,i,n)},"PUBLIC")),kl(new Fc("analytics-internal",t,"PRIVATE")),ja(Gz,Kz),ja(Gz,Kz,"esm2017");function t(e){try{const n=e.getProvider(hI).getImmediate();return{logEvent:(r,i,s)=>oRe(n,r,i,s)}}catch(n){throw ia.create("interop-component-reg-failed",{reason:n})}}}aRe();var rM=function(t,e){return rM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},rM(t,e)};function fee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fI=function(){return fI=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fI.apply(this,arguments)};function l1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pee(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function mee(t,e){return function(n,r){e(n,r,t)}}function gee(t,e,n,r,i,s){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?r.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var g={};for(var y in r)g[y]=y==="access"?{}:r[y];for(var y in r.access)g.access[y]=r.access[y];g.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(b||null))};var v=(0,n[p])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=o(v.get))&&(u.get=h),(h=o(v.set))&&(u.set=h),(h=o(v.init))&&i.unshift(h)}else(h=o(v))&&(a==="field"?i.unshift(h):u[c]=h)}l&&Object.defineProperty(l,r.name,u),f=!0}function yee(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function vee(t){return typeof t=="symbol"?t:"".concat(t)}function wee(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function _ee(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function bee(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Eee(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var HP=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Aee(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&HP(e,t,n)}function pI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mU(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Cee(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mU(arguments[e]));return t}function Tee(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function See(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Sv(t){return this instanceof Sv?(this.v=t,this):new Sv(t)}function Iee(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){r[p]&&(i[p]=function(y){return new Promise(function(v,b){s.push([p,y,v,b])>1||c(p,y)})},g&&(i[p]=g(i[p])))}function c(p,g){try{l(r[p](g))}catch(y){f(s[0][3],y)}}function l(p){p.value instanceof Sv?Promise.resolve(p.value.v).then(u,h):f(s[0][2],p)}function u(p){c("next",p)}function h(p){c("throw",p)}function f(p,g){p(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function xee(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Sv(t[i](o)),done:!1}:s?s(o):o}:s}}function Pee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pI=="function"?pI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Oee(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var cRe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},iM=function(t){return iM=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},iM(t)};function Dee(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=iM(t),r=0;r<n.length;r++)n[r]!=="default"&&HP(e,t,n[r]);return cRe(e,t),e}function Nee(t){return t&&t.__esModule?t:{default:t}}function Ree(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function kee(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Mee(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Lee(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var lRe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Fee(t){function e(s){t.error=t.hasError?new lRe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function $ee(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const uRe={__extends:fee,__assign:fI,__rest:l1,__decorate:pee,__param:mee,__esDecorate:gee,__runInitializers:yee,__propKey:vee,__setFunctionName:wee,__metadata:_ee,__awaiter:bee,__generator:Eee,__createBinding:HP,__exportStar:Aee,__values:pI,__read:mU,__spread:Cee,__spreadArrays:Tee,__spreadArray:See,__await:Sv,__asyncGenerator:Iee,__asyncDelegator:xee,__asyncValues:Pee,__makeTemplateObject:Oee,__importStar:Dee,__importDefault:Nee,__classPrivateFieldGet:Ree,__classPrivateFieldSet:kee,__classPrivateFieldIn:Mee,__addDisposableResource:Lee,__disposeResources:Fee,__rewriteRelativeImportExtension:$ee},Xot=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Lee,get __assign(){return fI},__asyncDelegator:xee,__asyncGenerator:Iee,__asyncValues:Pee,__await:Sv,__awaiter:bee,__classPrivateFieldGet:Ree,__classPrivateFieldIn:Mee,__classPrivateFieldSet:kee,__createBinding:HP,__decorate:pee,__disposeResources:Fee,__esDecorate:gee,__exportStar:Aee,__extends:fee,__generator:Eee,__importDefault:Nee,__importStar:Dee,__makeTemplateObject:Oee,__metadata:_ee,__param:mee,__propKey:vee,__read:mU,__rest:l1,__rewriteRelativeImportExtension:$ee,__runInitializers:yee,__setFunctionName:wee,__spread:Cee,__spreadArray:See,__spreadArrays:Tee,__values:pI,default:uRe},Symbol.toStringTag,{value:"Module"}));function Uee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dRe=Uee,jee=new Rm("auth","Firebase",Uee());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new SP("@firebase/auth");function hRe(t,...e){mI.logLevel<=dn.WARN&&mI.warn(`Auth (${nw}): ${t}`,...e)}function yT(t,...e){mI.logLevel<=dn.ERROR&&mI.error(`Auth (${nw}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,...e){throw yU(t,...e)}function Pc(t,...e){return yU(t,...e)}function gU(t,e,n){const r=Object.assign(Object.assign({},dRe()),{[e]:n});return new Rm("auth","Firebase",r).create(e,{appName:t.name})}function Uu(t){return gU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fRe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wa(t,"argument-error"),gU(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yU(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jee.create(t,...e)}function Et(t,e,...n){if(!t)throw yU(e,...n)}function Iu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yT(e),new Error(e)}function nd(t,e){t||Iu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pRe(){return Yz()==="http:"||Yz()==="https:"}function Yz(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mRe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pRe()||QZ()||"connection"in navigator)?navigator.onLine:!0}function gRe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.shortDelay=e,this.longDelay=n,nd(n>e,"Short delay should be less than long delay!"),this.isMobile=iIe()||aIe()}get(){return mRe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e){nd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yRe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vRe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wRe=new u1(3e4,6e4);function md(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gd(t,e,n,r,i={}){return zee(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=n1(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:c},s);return oIe()||(l.referrerPolicy="no-referrer"),Bee.fetch()(await Vee(t,t.config.apiHost,n,a),l)})}async function zee(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yRe),e);try{const i=new bRe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw JA(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw JA(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw JA(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw JA(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gU(t,u,l);Wa(t,u)}}catch(i){if(i instanceof Bc)throw i;Wa(t,"network-request-failed",{message:String(i)})}}async function d1(t,e,n,r,i={}){const s=await gd(t,e,n,r,i);return"mfaPendingCredential"in s&&Wa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Vee(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?vU(t.config,i):`${t.config.apiScheme}://${i}`;return vRe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function _Re(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bRe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pc(this.auth,"network-request-failed")),wRe.get())})}}function JA(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pc(t,e,r);return i.customData._tokenResponse=n,i}function Qz(t){return t!==void 0&&t.enterprise!==void 0}class ERe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _Re(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ARe(t,e){return gd(t,"GET","/v2/recaptchaConfig",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CRe(t,e){return gd(t,"POST","/v1/accounts:delete",e)}async function gI(t,e){return gd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TRe(t,e=!1){const n=Yi(t),r=await n.getIdToken(e),i=wU(r);Et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:C_(vN(i.auth_time)),issuedAtTime:C_(vN(i.iat)),expirationTime:C_(vN(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vN(t){return Number(t)*1e3}function wU(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yT("JWT malformed, contained fewer than 3 sections"),null;try{const i=qZ(n);return i?JSON.parse(i):(yT("Failed to decode base64 JWT payload"),null)}catch(i){return yT("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Zz(t){const e=wU(t);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bc&&SRe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SRe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IRe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=C_(this.lastLoginAt),this.creationTime=C_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xb(t,gI(n,{idToken:r}));Et(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Hee(s.providerUserInfo):[],a=PRe(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oM(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function xRe(t){const e=Yi(t);await yI(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PRe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Hee(t){return t.map(e=>{var{providerId:n}=e,r=l1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ORe(t,e){const n=await zee(t,{},async()=>{const r=n1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Vee(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bee.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DRe(t,e){return gd(t,"POST","/v2/accounts:revokeToken",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const n=Zz(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ORe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Dy;return r&&(Et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Et(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Et(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dy,this.toJSON())}_performRefresh(){return Iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t,e){Et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ec{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=l1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IRe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oM(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xb(this,this.stsTokenManager.getToken(this.auth,e));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TRe(this,e)}reload(){return xRe(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ec(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xo(this.auth.app))return Promise.reject(Uu(this.auth));const e=await this.getIdToken();return await xb(this,CRe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:A,emailVerified:S,isAnonymous:P,providerData:D,stsTokenManager:C}=n;Et(A&&C,e,"internal-error");const I=Dy.fromJSON(this.name,C);Et(typeof A=="string",e,"internal-error"),Nd(h,e.name),Nd(f,e.name),Et(typeof S=="boolean",e,"internal-error"),Et(typeof P=="boolean",e,"internal-error"),Nd(p,e.name),Nd(g,e.name),Nd(y,e.name),Nd(v,e.name),Nd(b,e.name),Nd(w,e.name);const x=new Ec({uid:A,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:P,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:b,lastLoginAt:w});return D&&Array.isArray(D)&&(x.providerData=D.map(N=>Object.assign({},N))),v&&(x._redirectEventId=v),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dy;i.updateFromServerResponse(n);const s=new Ec({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yI(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Et(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Hee(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Dy;a.updateFromIdToken(r);const c=new Ec({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oM(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=new Map;function xu(t){nd(t instanceof Function,"Expected a class definition");let e=Jz.get(t);return e?(nd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jz.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Wee.type="NONE";const Xz=Wee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e,n){return`firebase:${t}:${e}:${n}`}class Ny{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vT(this.userKey,i.apiKey,s),this.fullPersistenceKey=vT("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gI(this.auth,{idToken:e}).catch(()=>{});return n?Ec._fromGetAccountInfoResponse(this.auth,n,e):null}return Ec._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ny(xu(Xz),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||xu(Xz);const o=vT(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){let h;if(typeof u=="string"){const f=await gI(e,{idToken:u}).catch(()=>{});if(!f)break;h=await Ec._fromGetAccountInfoResponse(e,f,u)}else h=Ec._fromJSON(e,u);l!==s&&(a=h),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ny(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Ny(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yee(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qee(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zee(e))return"Blackberry";if(Jee(e))return"Webos";if(Gee(e))return"Safari";if((e.includes("chrome/")||Kee(e))&&!e.includes("edge/"))return"Chrome";if(Qee(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qee(t=Us()){return/firefox\//i.test(t)}function Gee(t=Us()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kee(t=Us()){return/crios\//i.test(t)}function Yee(t=Us()){return/iemobile/i.test(t)}function Qee(t=Us()){return/android/i.test(t)}function Zee(t=Us()){return/blackberry/i.test(t)}function Jee(t=Us()){return/webos/i.test(t)}function _U(t=Us()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NRe(t=Us()){var e;return _U(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RRe(){return cIe()&&document.documentMode===10}function Xee(t=Us()){return _U(t)||Qee(t)||Jee(t)||Zee(t)||/windows phone/i.test(t)||Yee(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t,e=[]){let n;switch(t){case"Browser":n=e9(Us());break;case"Worker":n=`${e9(Us())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nw}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kRe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MRe(t,e={}){return gd(t,"GET","/v2/passwordPolicy",md(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LRe=6;class FRe{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LRe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Re{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t9(this),this.idTokenSubscription=new t9(this),this.beforeStateQueue=new kRe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jee,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xu(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ny.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gI(this,{idToken:e}),r=await Ec._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yI(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gRe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xo(this.app))return Promise.reject(Uu(this));const n=e?Yi(e):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xo(this.app)?Promise.reject(Uu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xo(this.app)?Promise.reject(Uu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MRe(this),n=new FRe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DRe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xu(e)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Ny.create(this,[xu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ete(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Xo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hRe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yd(t){return Yi(t)}class t9{constructor(e){this.auth=e,this.observer=null,this.addObserver=mIe(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function URe(t){WP=t}function tte(t){return WP.loadJS(t)}function jRe(){return WP.recaptchaEnterpriseScript}function BRe(){return WP.gapiScript}function zRe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class VRe{constructor(){this.enterprise=new HRe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HRe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WRe="recaptcha-enterprise",nte="NO_RECAPTCHA";class qRe{constructor(e){this.type=WRe,this.auth=yd(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ARe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new ERe(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;Qz(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(nte)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VRe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Qz(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=jRe();c.length!==0&&(c+=a),tte(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function f0(t,e,n,r=!1,i=!1){const s=new qRe(t);let o;if(i)o=nte;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vI(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await f0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await f0(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await f0(t,e,n);return r(t,a).catch(async c=>{var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await f0(t,e,n,!1,!0);return r(t,u)}return Promise.reject(c)})}else{const a=await f0(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GRe(t,e){const n=km(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sf(s,e??{}))return i;Wa(i,"already-initialized")}return n.initialize({options:e})}function KRe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YRe(t,e,n){const r=yd(t);Et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=rte(e),{host:o,port:a}=QRe(e),c=a===null?"":`:${a}`,l={url:`${s}//${o}${c}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(sf(l,r.config.emulator)&&sf(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||ZRe()}function rte(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QRe(t){const e=rte(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:n9(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:n9(o)}}}function n9(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZRe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Iu("not implemented")}_getIdTokenResponse(e){return Iu("not implemented")}_linkToIdToken(e,n){return Iu("not implemented")}_getReauthenticationResolver(e){return Iu("not implemented")}}async function JRe(t,e){return gd(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XRe(t,e){return d1(t,"POST","/v1/accounts:signInWithPassword",md(t,e))}async function ite(t,e){return gd(t,"POST","/v1/accounts:sendOobCode",md(t,e))}async function eke(t,e){return ite(t,e)}async function tke(t,e){return ite(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nke(t,e){return d1(t,"POST","/v1/accounts:signInWithEmailLink",md(t,e))}async function rke(t,e){return d1(t,"POST","/v1/accounts:signInWithEmailLink",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends bU{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pb(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pb(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vI(e,n,"signInWithPassword",XRe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nke(e,{email:this._email,oobCode:this._password});default:Wa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vI(e,r,"signUpPassword",JRe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rke(e,{idToken:n,email:this._email,oobCode:this._password});default:Wa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(t,e){return d1(t,"POST","/v1/accounts:signInWithIdp",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ike="http://localhost";class tm extends bU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=l1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new tm(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ry(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ry(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ry(e,n)}buildRequest(){const e={requestUri:ike,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=n1(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ske(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oke(t){const e=W0(q0(t)).link,n=e?W0(q0(e)).deep_link_id:null,r=W0(q0(t)).deep_link_id;return(r?W0(q0(r)).link:null)||r||n||e||t}class EU{constructor(e){var n,r,i,s,o,a;const c=W0(q0(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=ske((i=c.mode)!==null&&i!==void 0?i:null);Et(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oke(e);try{return new EU(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.providerId=cw.PROVIDER_ID}static credential(e,n){return Pb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=EU.parseLink(n);return Et(r,"argument-error"),Pb._fromEmailAndCode(e,r.code,r.tenantId)}}cw.PROVIDER_ID="password";cw.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends AU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends h1{constructor(){super("facebook.com")}static credential(e){return tm._fromParams({providerId:th.PROVIDER_ID,signInMethod:th.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return th.credentialFromTaggedObject(e)}static credentialFromError(e){return th.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return th.credential(e.oauthAccessToken)}catch{return null}}}th.FACEBOOK_SIGN_IN_METHOD="facebook.com";th.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends h1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tm._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Eu.credentialFromTaggedObject(e)}static credentialFromError(e){return Eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Eu.credential(n,r)}catch{return null}}}Eu.GOOGLE_SIGN_IN_METHOD="google.com";Eu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends h1{constructor(){super("github.com")}static credential(e){return tm._fromParams({providerId:nh.PROVIDER_ID,signInMethod:nh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nh.credentialFromTaggedObject(e)}static credentialFromError(e){return nh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nh.credential(e.oauthAccessToken)}catch{return null}}}nh.GITHUB_SIGN_IN_METHOD="github.com";nh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends h1{constructor(){super("twitter.com")}static credential(e,n){return tm._fromParams({providerId:rh.PROVIDER_ID,signInMethod:rh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rh.credentialFromTaggedObject(e)}static credentialFromError(e){return rh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rh.credential(n,r)}catch{return null}}}rh.TWITTER_SIGN_IN_METHOD="twitter.com";rh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ake(t,e){return d1(t,"POST","/v1/accounts:signUp",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ec._fromIdTokenResponse(e,r,i),o=r9(r);return new nm({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=r9(r);return new nm({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function r9(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Bc{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wI.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wI(e,n,r,i)}}function ste(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wI._fromErrorAndOperation(t,s,e,r):s})}async function cke(t,e,n=!1){const r=await xb(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nm._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lke(t,e,n=!1){const{auth:r}=t;if(Xo(r.app))return Promise.reject(Uu(r));const i="reauthenticate";try{const s=await xb(t,ste(r,i,e,t),n);Et(s.idToken,r,"internal-error");const o=wU(s.idToken);Et(o,r,"internal-error");const{sub:a}=o;return Et(t.uid===a,r,"user-mismatch"),nm._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ote(t,e,n=!1){if(Xo(t.app))return Promise.reject(Uu(t));const r="signIn",i=await ste(t,r,e),s=await nm._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function uke(t,e){return ote(yd(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(t,e,n){var r;Et(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Et(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Et(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Et(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Et(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cte(t){const e=yd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dke(t,e,n){const r=yd(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&ate(r,i,n),await vI(r,i,"getOobCode",tke,"EMAIL_PASSWORD_PROVIDER")}async function hke(t,e,n){if(Xo(t.app))return Promise.reject(Uu(t));const r=yd(t),o=await vI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ake,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cte(t),c}),a=await nm._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function fke(t,e,n){return Xo(t.app)?Promise.reject(Uu(t)):uke(Yi(t),cw.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cte(t),r})}async function i9(t,e){const n=Yi(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&ate(n.auth,i,e);const{email:s}=await eke(n.auth,i);s!==t.email&&await t.reload()}function pke(t,e,n,r){return Yi(t).onIdTokenChanged(e,n,r)}function mke(t,e,n){return Yi(t).beforeAuthStateChanged(e,n)}function lte(t,e,n,r){return Yi(t).onAuthStateChanged(e,n,r)}function aM(t){return Yi(t).signOut()}const _I="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_I,"1"),this.storage.removeItem(_I),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gke=1e3,yke=10;class dte extends ute{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xee(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RRe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yke):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gke)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dte.type="LOCAL";const vke=dte;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte extends ute{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hte.type="SESSION";const fte=hte;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wke(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qP(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),c=await wke(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ke{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const l=CU("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(){return window}function bke(t){xl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(){return typeof xl().WorkerGlobalScope<"u"&&typeof xl().importScripts=="function"}async function Eke(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ake(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Cke(){return pte()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte="firebaseLocalStorageDb",Tke=1,bI="firebaseLocalStorage",gte="fbase_key";class f1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function GP(t,e){return t.transaction([bI],e?"readwrite":"readonly").objectStore(bI)}function Ske(){const t=indexedDB.deleteDatabase(mte);return new f1(t).toPromise()}function cM(){const t=indexedDB.open(mte,Tke);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bI,{keyPath:gte})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bI)?e(r):(r.close(),await Ske(),e(await cM()))})})}async function s9(t,e,n){const r=GP(t,!0).put({[gte]:e,value:n});return new f1(r).toPromise()}async function Ike(t,e){const n=GP(t,!1).get(e),r=await new f1(n).toPromise();return r===void 0?null:r.value}function o9(t,e){const n=GP(t,!0).delete(e);return new f1(n).toPromise()}const xke=800,Pke=3;class yte{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cM(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Pke)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pte()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qP._getInstance(Cke()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Eke(),!this.activeServiceWorker)return;this.sender=new _ke(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ake()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cM();return await s9(e,_I,"1"),await o9(e,_I),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>s9(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ike(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o9(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=GP(i,!1).getAll();return new f1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xke)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yte.type="LOCAL";const Oke=yte;new u1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(t,e){return e?xu(e):(Et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU extends bU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ry(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ry(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ry(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dke(t){return ote(t.auth,new TU(t),t.bypassAuthState)}function Nke(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),lke(n,new TU(t),t.bypassAuthState)}async function Rke(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),cke(n,new TU(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dke;case"linkViaPopup":case"linkViaRedirect":return Rke;case"reauthViaPopup":case"reauthViaRedirect":return Nke;default:Wa(this.auth,"internal-error")}}resolve(e){nd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kke=new u1(2e3,1e4);async function _te(t,e,n){if(Xo(t.app))return Promise.reject(Pc(t,"operation-not-supported-in-this-environment"));const r=yd(t);fRe(t,e,AU);const i=vte(r,n);return new up(r,"signInViaPopup",e,i).executeNotNull()}class up extends wte{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,up.currentPopupAction&&up.currentPopupAction.cancel(),up.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){nd(this.filter.length===1,"Popup operations only handle one event");const e=CU();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,up.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kke.get())};e()}}up.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mke="pendingRedirect",wT=new Map;class Lke extends wte{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wT.get(this.auth._key());if(!e){try{const r=await Fke(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wT.set(this.auth._key(),e)}return this.bypassAuthState||wT.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fke(t,e){const n=jke(e),r=Uke(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $ke(t,e){wT.set(t._key(),e)}function Uke(t){return xu(t._redirectPersistence)}function jke(t){return vT(Mke,t.config.apiKey,t.name)}async function Bke(t,e,n=!1){if(Xo(t.app))return Promise.reject(Uu(t));const r=yd(t),i=vte(r,e),o=await new Lke(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zke=10*60*1e3;class Vke{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hke(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bte(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zke&&this.cachedEventUids.clear(),this.cachedEventUids.has(a9(e))}saveEventToCache(e){this.cachedEventUids.add(a9(e)),this.lastProcessedEventTime=Date.now()}}function a9(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bte({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hke(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bte(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wke(t,e={}){return gd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qke=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gke=/^https?/;async function Kke(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Wke(t);for(const n of e)try{if(Yke(n))return}catch{}Wa(t,"unauthorized-domain")}function Yke(t){const e=sM(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Gke.test(n))return!1;if(qke.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qke=new u1(3e4,6e4);function c9(){const t=xl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Zke(t){return new Promise((e,n)=>{var r,i,s;function o(){c9(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c9(),n(Pc(t,"network-request-failed"))},timeout:Qke.get()})}if(!((i=(r=xl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xl().gapi)===null||s===void 0)&&s.load)o();else{const a=zRe("iframefcb");return xl()[a]=()=>{gapi.load?o():n(Pc(t,"network-request-failed"))},tte(`${BRe()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw _T=null,e})}let _T=null;function Jke(t){return _T=_T||Zke(t),_T}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xke=new u1(5e3,15e3),e2e="__/auth/iframe",t2e="emulator/auth/iframe",n2e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2e(t){const e=t.config;Et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vU(e,t2e):`https://${t.config.authDomain}/${e2e}`,r={apiKey:e.apiKey,appName:t.name,v:nw},i=r2e.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${n1(r).slice(1)}`}async function s2e(t){const e=await Jke(t),n=xl().gapi;return Et(n,t,"internal-error"),e.open({where:document.body,url:i2e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2e,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pc(t,"network-request-failed"),a=xl().setTimeout(()=>{s(o)},Xke.get());function c(){xl().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2e=500,c2e=600,l2e="_blank",u2e="http://localhost";class l9{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d2e(t,e,n,r=a2e,i=c2e){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},o2e),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Us().toLowerCase();n&&(a=Kee(l)?l2e:n),qee(l)&&(e=e||u2e,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(NRe(l)&&a!=="_self")return h2e(e||"",a),new l9(null);const h=window.open(e||"",a,u);Et(h,t,"popup-blocked");try{h.focus()}catch{}return new l9(h)}function h2e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2e="__/auth/handler",p2e="emulator/auth/handler",m2e=encodeURIComponent("fac");async function u9(t,e,n,r,i,s){Et(t.config.authDomain,t,"auth-domain-config-required"),Et(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nw,eventId:i};if(e instanceof AU){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pIe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof h1){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${m2e}=${encodeURIComponent(c)}`:"";return`${g2e(t)}?${n1(a).slice(1)}${l}`}function g2e({config:t}){return t.emulator?vU(t,p2e):`https://${t.authDomain}/${f2e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="webStorageSupport";class y2e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fte,this._completeRedirectFn=Bke,this._overrideRedirectResult=$ke}async _openPopup(e,n,r,i){var s;nd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await u9(e,n,r,sM(),i);return d2e(e,o,CU())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await u9(e,n,r,sM(),i);return bke(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(nd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s2e(e),r=new Vke(e);return n.register("authEvent",i=>(Et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wN,{type:wN},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wN];o!==void 0&&n(!!o),Wa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kke(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xee()||Gee()||_U()}}const v2e=y2e;var d9="@firebase/auth",h9="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b2e(t){kl(new Fc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ete(t)},l=new $Re(r,i,s,c);return KRe(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kl(new Fc("auth-internal",e=>{const n=yd(e.getProvider("auth").getImmediate());return(r=>new w2e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(d9,h9,_2e(t)),ja(d9,h9,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2e=5*60,A2e=YZ("authIdTokenMaxAge")||E2e;let f9=null;const C2e=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A2e)return;const i=n==null?void 0:n.token;f9!==i&&(f9=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ete(t=C$()){const e=km(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GRe(t,{popupRedirectResolver:v2e,persistence:[Oke,vke,fte]}),r=YZ("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=C2e(s.toString());mke(n,o,()=>o(n.currentUser)),pke(n,a=>o(a))}}const i=GZ("auth");return i&&YRe(n,`http://${i}`),n}function T2e(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}URe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",T2e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b2e("Browser");const S2e={apiKey:"AIzaSyDOm6tbDKYpR_Kfx_iRaCU2MtsZn3Cl9gw",authDomain:"travel-booking-8b898.firebaseapp.com",projectId:"travel-booking-8b898",storageBucket:"travel-booking-8b898.firebasestorage.app",messagingSenderId:"837714192379",appId:"1:837714192379:web:72f2befc6bf988cf284d5e",measurementId:"G-XQ1H5WJ04T"},SU=nJ(S2e),Oo=Ete(SU),rd=ADe(SU),Ate=new Eu;iRe(SU);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function I2e(t,e,n){return(e=P2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p9(Object(n),!0).forEach(function(r){I2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P2e(t){var e=x2e(t,"string");return typeof e=="symbol"?e:e+""}const m9=()=>{};let IU={},Cte={},Tte=null,Ste={mark:m9,measure:m9};try{typeof window<"u"&&(IU=window),typeof document<"u"&&(Cte=document),typeof MutationObserver<"u"&&(Tte=MutationObserver),typeof performance<"u"&&(Ste=performance)}catch{}const{userAgent:g9=""}=IU.navigator||{},hf=IU,Tr=Cte,y9=Tte,XA=Ste;hf.document;const vd=!!Tr.documentElement&&!!Tr.head&&typeof Tr.addEventListener=="function"&&typeof Tr.createElement=="function",Ite=~g9.indexOf("MSIE")||~g9.indexOf("Trident/");var O2e=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,D2e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,xte={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},N2e={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Pte=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],js="classic",KP="duotone",R2e="sharp",k2e="sharp-duotone",Ote=[js,KP,R2e,k2e],M2e={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},L2e={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},F2e=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),$2e={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},U2e=["fak","fa-kit","fakd","fa-kit-duotone"],v9={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},j2e=["kit"],B2e={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},z2e=["fak","fakd"],V2e={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},w9={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},eC={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},H2e=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],W2e=["fak","fa-kit","fakd","fa-kit-duotone"],q2e={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},G2e={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},K2e={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},lM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Y2e=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],uM=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...H2e,...Y2e],Q2e=["solid","regular","light","thin","duotone","brands"],Dte=[1,2,3,4,5,6,7,8,9,10],Z2e=Dte.concat([11,12,13,14,15,16,17,18,19,20]),J2e=[...Object.keys(K2e),...Q2e,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",eC.GROUP,eC.SWAP_OPACITY,eC.PRIMARY,eC.SECONDARY].concat(Dte.map(t=>"".concat(t,"x"))).concat(Z2e.map(t=>"w-".concat(t))),X2e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const id="___FONT_AWESOME___",dM=16,Nte="fa",Rte="svg-inline--fa",rm="data-fa-i2svg",hM="data-fa-pseudo-element",eMe="data-fa-pseudo-element-pending",xU="data-prefix",PU="data-icon",_9="fontawesome-i2svg",tMe="async",nMe=["HTML","HEAD","STYLE","SCRIPT"],kte=(()=>{try{return!0}catch{return!1}})();function p1(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[js]}})}const Mte=Ae({},xte);Mte[js]=Ae(Ae(Ae(Ae({},{"fa-duotone":"duotone"}),xte[js]),v9.kit),v9["kit-duotone"]);const rMe=p1(Mte),fM=Ae({},$2e);fM[js]=Ae(Ae(Ae(Ae({},{duotone:"fad"}),fM[js]),w9.kit),w9["kit-duotone"]);const b9=p1(fM),pM=Ae({},lM);pM[js]=Ae(Ae({},pM[js]),V2e.kit);const OU=p1(pM),mM=Ae({},G2e);mM[js]=Ae(Ae({},mM[js]),B2e.kit);p1(mM);const iMe=O2e,Lte="fa-layers-text",sMe=D2e,oMe=Ae({},M2e);p1(oMe);const aMe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],_N=N2e,cMe=[...j2e,...J2e],T_=hf.FontAwesomeConfig||{};function lMe(t){var e=Tr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function uMe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Tr&&typeof Tr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=uMe(lMe(n));i!=null&&(T_[r]=i)});const Fte={styleDefault:"solid",familyDefault:js,cssPrefix:Nte,replacementClass:Rte,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};T_.familyPrefix&&(T_.cssPrefix=T_.familyPrefix);const Iv=Ae(Ae({},Fte),T_);Iv.autoReplaceSvg||(Iv.observeMutations=!1);const vt={};Object.keys(Fte).forEach(t=>{Object.defineProperty(vt,t,{enumerable:!0,set:function(e){Iv[t]=e,S_.forEach(n=>n(vt))},get:function(){return Iv[t]}})});Object.defineProperty(vt,"familyPrefix",{enumerable:!0,set:function(t){Iv.cssPrefix=t,S_.forEach(e=>e(vt))},get:function(){return Iv.cssPrefix}});hf.FontAwesomeConfig=vt;const S_=[];function dMe(t){return S_.push(t),()=>{S_.splice(S_.indexOf(t),1)}}const Rd=dM,wl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function hMe(t){if(!t||!vd)return;const e=Tr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Tr.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Tr.head.insertBefore(e,r),t}const fMe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ob(){let t=12,e="";for(;t-- >0;)e+=fMe[Math.random()*62|0];return e}function lw(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function DU(t){return t.classList?lw(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function $te(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pMe(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat($te(t[n]),'" '),"").trim()}function YP(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function NU(t){return t.size!==wl.size||t.x!==wl.x||t.y!==wl.y||t.rotate!==wl.rotate||t.flipX||t.flipY}function mMe(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(o," ").concat(a)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:l}}function gMe(t){let{transform:e,width:n=dM,height:r=dM,startCentered:i=!1}=t,s="";return i&&Ite?s+="translate(".concat(e.x/Rd-n/2,"em, ").concat(e.y/Rd-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Rd,"em), calc(-50% + ").concat(e.y/Rd,"em)) "):s+="translate(".concat(e.x/Rd,"em, ").concat(e.y/Rd,"em) "),s+="scale(".concat(e.size/Rd*(e.flipX?-1:1),", ").concat(e.size/Rd*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var yMe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Ute(){const t=Nte,e=Rte,n=vt.cssPrefix,r=vt.replacementClass;let i=yMe;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let E9=!1;function bN(){vt.autoAddCss&&!E9&&(hMe(Ute()),E9=!0)}var vMe={mixout(){return{dom:{css:Ute,insertCss:bN}}},hooks(){return{beforeDOMElementCreation(){bN()},beforeI2svg(){bN()}}}};const sd=hf||{};sd[id]||(sd[id]={});sd[id].styles||(sd[id].styles={});sd[id].hooks||(sd[id].hooks={});sd[id].shims||(sd[id].shims=[]);var _l=sd[id];const jte=[],Bte=function(){Tr.removeEventListener("DOMContentLoaded",Bte),EI=1,jte.map(t=>t())};let EI=!1;vd&&(EI=(Tr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Tr.readyState),EI||Tr.addEventListener("DOMContentLoaded",Bte));function wMe(t){vd&&(EI?setTimeout(t,0):jte.push(t))}function m1(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?$te(t):"<".concat(e," ").concat(pMe(n),">").concat(r.map(m1).join(""),"</").concat(e,">")}function A9(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var _Me=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},EN=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?_Me(n,i):n,c,l,u;for(r===void 0?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)l=s[c],u=a(u,e[l],l,e);return u};function bMe(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function gM(t){const e=bMe(t);return e.length===1?e[0].toString(16):null}function EMe(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function C9(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function yM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=C9(e);typeof _l.hooks.addPack=="function"&&!r?_l.hooks.addPack(t,C9(e)):_l.styles[t]=Ae(Ae({},_l.styles[t]||{}),i),t==="fas"&&yM("fa",e)}const{styles:Db,shims:AMe}=_l,zte=Object.keys(OU),CMe=zte.reduce((t,e)=>(t[e]=Object.keys(OU[e]),t),{});let RU=null,Vte={},Hte={},Wte={},qte={},Gte={};function TMe(t){return~cMe.indexOf(t)}function SMe(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!TMe(i)?i:null}const Kte=()=>{const t=r=>EN(Db,(i,s,o)=>(i[o]=EN(s,r,{}),i),{});Vte=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),Hte=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),Gte=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in Db||vt.autoFetchSvg,n=EN(AMe,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});Wte=n.names,qte=n.unicodes,RU=QP(vt.styleDefault,{family:vt.familyDefault})};dMe(t=>{RU=QP(t.styleDefault,{family:vt.familyDefault})});Kte();function kU(t,e){return(Vte[t]||{})[e]}function IMe(t,e){return(Hte[t]||{})[e]}function dp(t,e){return(Gte[t]||{})[e]}function Yte(t){return Wte[t]||{prefix:null,iconName:null}}function xMe(t){const e=qte[t],n=kU("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ff(){return RU}const Qte=()=>({prefix:null,iconName:null,rest:[]});function PMe(t){let e=js;const n=zte.reduce((r,i)=>(r[i]="".concat(vt.cssPrefix,"-").concat(i),r),{});return Ote.forEach(r=>{(t.includes(n[r])||t.some(i=>CMe[r].includes(i)))&&(e=r)}),e}function QP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=js}=e,r=rMe[n][t];if(n===KP&&!t)return"fad";const i=b9[n][t]||b9[n][r],s=t in _l.styles?t:null;return i||s||null}function OMe(t){let e=[],n=null;return t.forEach(r=>{const i=SMe(vt.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function T9(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function ZP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=uM.concat(W2e),s=T9(t.filter(h=>i.includes(h))),o=T9(t.filter(h=>!uM.includes(h))),a=s.filter(h=>(r=h,!Pte.includes(h))),[c=null]=a,l=PMe(s),u=Ae(Ae({},OMe(o)),{},{prefix:QP(c,{family:l})});return Ae(Ae(Ae({},u),kMe({values:t,family:l,styles:Db,config:vt,canonical:u,givenPrefix:r})),DMe(n,r,u))}function DMe(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const s=e==="fa"?Yte(i):{},o=dp(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!Db.far&&Db.fas&&!vt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const NMe=Ote.filter(t=>t!==js||t!==KP),RMe=Object.keys(lM).filter(t=>t!==js).map(t=>Object.keys(lM[t])).flat();function kMe(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,a=n===KP,c=e.includes("fa-duotone")||e.includes("fad"),l=o.familyDefault==="duotone",u=r.prefix==="fad"||r.prefix==="fa-duotone";if(!a&&(c||l||u)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&NMe.includes(n)&&(Object.keys(s).find(f=>RMe.includes(f))||o.autoFetchSvg)){const f=F2e.get(n).defaultShortPrefixId;r.prefix=f,r.iconName=dp(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=ff()||"fas"),r}class MMe{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=Ae(Ae({},this.definitions[s]||{}),i[s]),yM(s,i[s]);const o=OU[js][s];o&&yM(o,i[s]),Kte()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],c=a[2];e[s]||(e[s]={}),c.length>0&&c.forEach(l=>{typeof l=="string"&&(e[s][l]=a)}),e[s][o]=a}),e}}let S9=[],fy={};const ky={},LMe=Object.keys(ky);function FMe(t,e){let{mixoutsTo:n}=e;return S9=t,fy={},Object.keys(ky).forEach(r=>{LMe.indexOf(r)===-1&&delete ky[r]}),S9.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{fy[o]||(fy[o]=[]),fy[o].push(s[o])})}r.provides&&r.provides(ky)}),n}function vM(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(fy[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function im(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(fy[t]||[]).forEach(s=>{s.apply(null,n)})}function pf(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return ky[t]?ky[t].apply(null,e):void 0}function wM(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||ff();if(e)return e=dp(n,e)||e,A9(Zte.definitions,n,e)||A9(_l.styles,n,e)}const Zte=new MMe,$Me=()=>{vt.autoReplaceSvg=!1,vt.observeMutations=!1,im("noAuto")},UMe={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vd?(im("beforeI2svg",t),pf("pseudoElements2svg",t),pf("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;vt.autoReplaceSvg===!1&&(vt.autoReplaceSvg=!0),vt.observeMutations=!0,wMe(()=>{BMe({autoReplaceSvgRoot:e}),im("watch",t)})}},jMe={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:dp(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=QP(t[0]);return{prefix:n,iconName:dp(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(vt.cssPrefix,"-"))>-1||t.match(iMe))){const e=ZP(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||ff(),iconName:dp(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=ff();return{prefix:e,iconName:dp(e,t)||t}}}},da={noAuto:$Me,config:vt,dom:UMe,parse:jMe,library:Zte,findIconDefinition:wM,toHtml:m1},BMe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Tr}=t;(Object.keys(_l.styles).length>0||vt.autoFetchSvg)&&vd&&vt.autoReplaceSvg&&da.dom.i2svg({node:e})};function JP(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>m1(n))}}),Object.defineProperty(t,"node",{get:function(){if(!vd)return;const n=Tr.createElement("div");return n.innerHTML=t.html,n.children}}),t}function zMe(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(NU(o)&&n.found&&!r.found){const{width:a,height:c}=n,l={x:a/c/2,y:.5};i.style=YP(Ae(Ae({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function VMe(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(vt.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ae(Ae({},i),{},{id:o}),children:r}]}]}function MU(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:c,titleId:l,extra:u,watchable:h=!1}=t,{width:f,height:p}=n.found?n:e,g=z2e.includes(r),y=[vt.replacementClass,i?"".concat(vt.cssPrefix,"-").concat(i):""].filter(P=>u.classes.indexOf(P)===-1).filter(P=>P!==""||!!P).concat(u.classes).join(" ");let v={children:[],attributes:Ae(Ae({},u.attributes),{},{"data-prefix":r,"data-icon":i,class:y,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)})};const b=g&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/p*16*.0625,"em")}:{};h&&(v.attributes[rm]=""),a&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(l||Ob())},children:[a]}),delete v.attributes.title);const w=Ae(Ae({},v),{},{prefix:r,iconName:i,main:e,mask:n,maskId:c,transform:s,symbol:o,styles:Ae(Ae({},b),u.styles)}),{children:A,attributes:S}=n.found&&e.found?pf("generateAbstractMask",w)||{children:[],attributes:{}}:pf("generateAbstractIcon",w)||{children:[],attributes:{}};return w.children=A,w.attributes=S,o?VMe(w):zMe(w)}function I9(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,c=Ae(Ae(Ae({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});a&&(c[rm]="");const l=Ae({},o.styles);NU(i)&&(l.transform=gMe({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);const u=YP(l);u.length>0&&(c.style=u);const h=[];return h.push({tag:"span",attributes:c,children:[e]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function HMe(t){const{content:e,title:n,extra:r}=t,i=Ae(Ae(Ae({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=YP(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:AN}=_l;function _M(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(vt.cssPrefix,"-").concat(_N.GROUP)},children:[{tag:"path",attributes:{class:"".concat(vt.cssPrefix,"-").concat(_N.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(vt.cssPrefix,"-").concat(_N.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const WMe={found:!1,width:512,height:512};function qMe(t,e){!kte&&!vt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function bM(t,e){let n=e;return e==="fa"&&vt.styleDefault!==null&&(e=ff()),new Promise((r,i)=>{if(n==="fa"){const s=Yte(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&AN[e]&&AN[e][t]){const s=AN[e][t];return r(_M(s))}qMe(t,e),r(Ae(Ae({},WMe),{},{icon:vt.showMissingIcons&&t?pf("missingIconAbstract")||{}:{}}))})}const x9=()=>{},EM=vt.measurePerformance&&XA&&XA.mark&&XA.measure?XA:{mark:x9,measure:x9},Z0='FA "6.7.2"',GMe=t=>(EM.mark("".concat(Z0," ").concat(t," begins")),()=>Jte(t)),Jte=t=>{EM.mark("".concat(Z0," ").concat(t," ends")),EM.measure("".concat(Z0," ").concat(t),"".concat(Z0," ").concat(t," begins"),"".concat(Z0," ").concat(t," ends"))};var LU={begin:GMe,end:Jte};const bT=()=>{};function P9(t){return typeof(t.getAttribute?t.getAttribute(rm):null)=="string"}function KMe(t){const e=t.getAttribute?t.getAttribute(xU):null,n=t.getAttribute?t.getAttribute(PU):null;return e&&n}function YMe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(vt.replacementClass)}function QMe(){return vt.autoReplaceSvg===!0?ET.replace:ET[vt.autoReplaceSvg]||ET.replace}function ZMe(t){return Tr.createElementNS("http://www.w3.org/2000/svg",t)}function JMe(t){return Tr.createElement(t)}function Xte(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?ZMe:JMe}=e;if(typeof t=="string")return Tr.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(Xte(s,{ceFn:n}))}),r}function XMe(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const ET={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Xte(n),e)}),e.getAttribute(rm)===null&&vt.keepOriginalSource){let n=Tr.createComment(XMe(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~DU(e).indexOf(vt.replacementClass))return ET.replace(t);const r=new RegExp("".concat(vt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===vt.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>m1(s)).join(`
`);e.setAttribute(rm,""),e.innerHTML=i}};function O9(t){t()}function ene(t,e){const n=typeof e=="function"?e:bT;if(t.length===0)n();else{let r=O9;vt.mutateApproach===tMe&&(r=hf.requestAnimationFrame||O9),r(()=>{const i=QMe(),s=LU.begin("mutate");t.map(i),s(),n()})}}let FU=!1;function tne(){FU=!0}function AM(){FU=!1}let AI=null;function D9(t){if(!y9||!vt.observeMutations)return;const{treeCallback:e=bT,nodeCallback:n=bT,pseudoElementsCallback:r=bT,observeMutationsRoot:i=Tr}=t;AI=new y9(s=>{if(FU)return;const o=ff();lw(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!P9(a.addedNodes[0])&&(vt.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&vt.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&P9(a.target)&&~aMe.indexOf(a.attributeName))if(a.attributeName==="class"&&KMe(a.target)){const{prefix:c,iconName:l}=ZP(DU(a.target));a.target.setAttribute(xU,c||o),l&&a.target.setAttribute(PU,l)}else YMe(a.target)&&n(a.target)})}),vd&&AI.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function eLe(){AI&&AI.disconnect()}function tLe(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function nLe(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=ZP(DU(t));return i.prefix||(i.prefix=ff()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=IMe(i.prefix,t.innerText)||kU(i.prefix,gM(t.innerText))),!i.iconName&&vt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function rLe(t){const e=lw(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return vt.autoA11y&&(n?e["aria-labelledby"]="".concat(vt.replacementClass,"-title-").concat(r||Ob()):(e["aria-hidden"]="true",e.focusable="false")),e}function iLe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:wl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function N9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=nLe(t),s=rLe(t),o=vM("parseNodeAttributes",{},t);let a=e.styleParser?tLe(t):[];return Ae({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:wl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}const{styles:sLe}=_l;function nne(t){const e=vt.autoReplaceSvg==="nest"?N9(t,{styleParser:!1}):N9(t);return~e.extra.classes.indexOf(Lte)?pf("generateLayersText",t,e):pf("generateSvgReplacementMutation",t,e)}function oLe(){return[...U2e,...uM]}function R9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!vd)return Promise.resolve();const n=Tr.documentElement.classList,r=u=>n.add("".concat(_9,"-").concat(u)),i=u=>n.remove("".concat(_9,"-").concat(u)),s=vt.autoFetchSvg?oLe():Pte.concat(Object.keys(sLe));s.includes("fa")||s.push("fa");const o=[".".concat(Lte,":not([").concat(rm,"])")].concat(s.map(u=>".".concat(u,":not([").concat(rm,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=lw(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const c=LU.begin("onTree"),l=a.reduce((u,h)=>{try{const f=nne(h);f&&u.push(f)}catch(f){kte||f.name==="MissingIcon"&&console.error(f)}return u},[]);return new Promise((u,h)=>{Promise.all(l).then(f=>{ene(f,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),u()})}).catch(f=>{c(),h(f)})})}function aLe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;nne(t).then(n=>{n&&ene([n],e)})}function cLe(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:wM(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:wM(i||{})),t(r,Ae(Ae({},n),{},{mask:i}))}}const lLe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=wl,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:c=[],attributes:l={},styles:u={}}=e;if(!t)return;const{prefix:h,iconName:f,icon:p}=t;return JP(Ae({type:"icon"},t),()=>(im("beforeDOMElementCreation",{iconDefinition:t,params:e}),vt.autoA11y&&(o?l["aria-labelledby"]="".concat(vt.replacementClass,"-title-").concat(a||Ob()):(l["aria-hidden"]="true",l.focusable="false")),MU({icons:{main:_M(p),mask:i?_M(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:f,transform:Ae(Ae({},wl),n),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:l,styles:u,classes:c}})))};var uLe={mixout(){return{icon:cLe(lLe)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=R9,t.nodeCallback=aLe,t}}},provides(t){t.i2svg=function(e){const{node:n=Tr,callback:r=()=>{}}=e;return R9(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:c,mask:l,maskId:u,extra:h}=n;return new Promise((f,p)=>{Promise.all([bM(r,o),l.iconName?bM(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(g=>{let[y,v]=g;f([e,MU({icons:{main:y,mask:v},prefix:o,iconName:r,transform:a,symbol:c,maskId:u,title:i,titleId:s,extra:h,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=YP(o);a.length>0&&(r.style=a);let c;return NU(s)&&(c=pf("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(c||i.icon),{children:n,attributes:r}}}},dLe={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return JP({type:"layer"},()=>{im("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(vt.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},hLe={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return JP({type:"counter",content:t},()=>(im("beforeDOMElementCreation",{content:t,params:e}),HMe({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(vt.cssPrefix,"-layers-counter"),...r]}})))}}}},fLe={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=wl,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return JP({type:"text",content:t},()=>(im("beforeDOMElementCreation",{content:t,params:e}),I9({content:t,transform:Ae(Ae({},wl),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(vt.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(Ite){const c=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/c,a=l.height/c}return vt.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,I9({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const pLe=new RegExp('"',"ug"),k9=[1105920,1112319],M9=Ae(Ae(Ae(Ae({},{FontAwesome:{normal:"fas",400:"fas"}}),L2e),X2e),q2e),CM=Object.keys(M9).reduce((t,e)=>(t[e.toLowerCase()]=M9[e],t),{}),mLe=Object.keys(CM).reduce((t,e)=>{const n=CM[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function gLe(t){const e=t.replace(pLe,""),n=EMe(e,0),r=n>=k9[0]&&n<=k9[1],i=e.length===2?e[0]===e[1]:!1;return{value:gM(i?e[0]:e),isSecondary:r||i}}function yLe(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(CM[n]||{})[i]||mLe[n]}function L9(t,e){const n="".concat(eMe).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=lw(t.children).filter(f=>f.getAttribute(hM)===e)[0],a=hf.getComputedStyle(t,e),c=a.getPropertyValue("font-family"),l=c.match(sMe),u=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&h!=="none"&&h!==""){const f=a.getPropertyValue("content");let p=yLe(c,u);const{value:g,isSecondary:y}=gLe(f),v=l[0].startsWith("FontAwesome");let b=kU(p,g),w=b;if(v){const A=xMe(g);A.iconName&&A.prefix&&(b=A.iconName,p=A.prefix)}if(b&&!y&&(!o||o.getAttribute(xU)!==p||o.getAttribute(PU)!==w)){t.setAttribute(n,w),o&&t.removeChild(o);const A=iLe(),{extra:S}=A;S.attributes[hM]=e,bM(b,p).then(P=>{const D=MU(Ae(Ae({},A),{},{icons:{main:P,mask:Qte()},prefix:p,iconName:w,extra:S,watchable:!0})),C=Tr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(C,t.firstChild):t.appendChild(C),C.outerHTML=D.map(I=>m1(I)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function vLe(t){return Promise.all([L9(t,"::before"),L9(t,"::after")])}function wLe(t){return t.parentNode!==document.head&&!~nMe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(hM)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function F9(t){if(vd)return new Promise((e,n)=>{const r=lw(t.querySelectorAll("*")).filter(wLe).map(vLe),i=LU.begin("searchPseudoElements");tne(),Promise.all(r).then(()=>{i(),AM(),e()}).catch(()=>{i(),AM(),n()})})}var _Le={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=F9,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Tr}=e;vt.searchPseudoElements&&F9(n)}}};let $9=!1;var bLe={mixout(){return{dom:{unwatch(){tne(),$9=!0}}}},hooks(){return{bootstrap(){D9(vM("mutationObserverCallbacks",{}))},noAuto(){eLe()},watch(t){const{observeMutationsRoot:e}=t;$9?AM():D9(vM("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const U9=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var ELe={mixout(){return{parse:{transform:t=>U9(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=U9(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),u={transform:"".concat(a," ").concat(c," ").concat(l)},h={transform:"translate(".concat(s/2*-1," -256)")},f={outer:o,inner:u,path:h};return{tag:"g",attributes:Ae({},f.outer),children:[{tag:"g",attributes:Ae({},f.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Ae(Ae({},n.icon.attributes),f.path)}]}]}}}};const CN={x:0,y:0,width:"100%",height:"100%"};function j9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ALe(t){return t.tag==="g"?t.children:[t]}var CLe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?ZP(n.split(" ").map(i=>i.trim())):Qte();return r.prefix||(r.prefix=ff()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:c,icon:l}=i,{width:u,icon:h}=s,f=mMe({transform:a,containerWidth:u,iconWidth:c}),p={tag:"rect",attributes:Ae(Ae({},CN),{},{fill:"white"})},g=l.children?{children:l.children.map(j9)}:{},y={tag:"g",attributes:Ae({},f.inner),children:[j9(Ae({tag:l.tag,attributes:Ae(Ae({},l.attributes),f.path)},g))]},v={tag:"g",attributes:Ae({},f.outer),children:[y]},b="mask-".concat(o||Ob()),w="clip-".concat(o||Ob()),A={tag:"mask",attributes:Ae(Ae({},CN),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:ALe(h)},A]};return n.push(S,{tag:"rect",attributes:Ae({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(b,")")},CN)}),{children:n,attributes:r}}}},TLe={provides(t){let e=!1;hf.matchMedia&&(e=hf.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Ae(Ae({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=Ae(Ae({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Ae(Ae({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:Ae(Ae({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ae(Ae({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:Ae(Ae({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Ae(Ae({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:Ae(Ae({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ae(Ae({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},SLe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},ILe=[vMe,uLe,dLe,hLe,fLe,_Le,bLe,ELe,CLe,TLe,SLe];FMe(ILe,{mixoutsTo:da});da.noAuto;da.config;da.library;da.dom;const TM=da.parse;da.findIconDefinition;da.toHtml;const xLe=da.icon;da.layer;da.text;da.counter;function B9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(n),!0).forEach(function(r){py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CI(t){"@babel/helpers - typeof";return CI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CI(t)}function py(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PLe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OLe(t,e){if(t==null)return{};var n=PLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SM(t){return DLe(t)||NLe(t)||RLe(t)||kLe()}function DLe(t){if(Array.isArray(t))return IM(t)}function NLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RLe(t,e){if(t){if(typeof t=="string")return IM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(t,e)}}function IM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MLe(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,c=t.spin,l=t.spinPulse,u=t.spinReverse,h=t.pulse,f=t.fixedWidth,p=t.inverse,g=t.border,y=t.listItem,v=t.flip,b=t.size,w=t.rotation,A=t.pull,S=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":h,"fa-fw":f,"fa-inverse":p,"fa-border":g,"fa-li":y,"fa-flip":v===!0,"fa-flip-horizontal":v==="horizontal"||v==="both","fa-flip-vertical":v==="vertical"||v==="both"},py(e,"fa-".concat(b),typeof b<"u"&&b!==null),py(e,"fa-rotate-".concat(w),typeof w<"u"&&w!==null&&w!==0),py(e,"fa-pull-".concat(A),typeof A<"u"&&A!==null),py(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(S).map(function(P){return S[P]?P:null}).filter(function(P){return P})}function LLe(t){return t=t-0,t===t}function rne(t){return LLe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var FLe=["style"];function $Le(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ULe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=rne(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[$Le(i)]=s:e[i]=s,e},{})}function ine(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return ine(t,c)}),i=Object.keys(e.attributes||{}).reduce(function(c,l){var u=e.attributes[l];switch(l){case"class":c.attrs.className=u,delete e.attributes.class;break;case"style":c.attrs.style=ULe(u);break;default:l.indexOf("aria-")===0||l.indexOf("data-")===0?c.attrs[l.toLowerCase()]=u:c.attrs[rne(l)]=u}return c},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=OLe(n,FLe);return i.attrs.style=dl(dl({},i.attrs.style),o),t.apply(void 0,[e.tag,dl(dl({},i.attrs),a)].concat(SM(r)))}var sne=!1;try{sne=!0}catch{}function jLe(){if(!sne&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function z9(t){if(t&&CI(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(TM.icon)return TM.icon(t);if(t===null)return null;if(t&&CI(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function TN(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?py({},t,e):{}}var V9={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},$U=ae.forwardRef(function(t,e){var n=dl(dl({},V9),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,c=n.titleId,l=n.maskId,u=z9(r),h=TN("classes",[].concat(SM(MLe(n)),SM((o||"").split(" ")))),f=TN("transform",typeof n.transform=="string"?TM.transform(n.transform):n.transform),p=TN("mask",z9(i)),g=xLe(u,dl(dl(dl(dl({},h),f),p),{},{symbol:s,title:a,titleId:c,maskId:l}));if(!g)return jLe("Could not find icon",u),null;var y=g.abstract,v={ref:e};return Object.keys(n).forEach(function(b){V9.hasOwnProperty(b)||(v[b]=n[b])}),BLe(y[0],v)});$U.displayName="FontAwesomeIcon";$U.propTypes={beat:Ve.bool,border:Ve.bool,beatFade:Ve.bool,bounce:Ve.bool,className:Ve.string,fade:Ve.bool,flash:Ve.bool,mask:Ve.oneOfType([Ve.object,Ve.array,Ve.string]),maskId:Ve.string,fixedWidth:Ve.bool,inverse:Ve.bool,flip:Ve.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ve.oneOfType([Ve.object,Ve.array,Ve.string]),listItem:Ve.bool,pull:Ve.oneOf(["right","left"]),pulse:Ve.bool,rotation:Ve.oneOf([0,90,180,270]),shake:Ve.bool,size:Ve.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ve.bool,spinPulse:Ve.bool,spinReverse:Ve.bool,symbol:Ve.oneOfType([Ve.bool,Ve.string]),title:Ve.string,titleId:Ve.string,transform:Ve.oneOfType([Ve.string,Ve.object]),swapOpacity:Ve.bool};var BLe=ine.bind(null,ae.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const zLe={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]};function UU({cityName:t,countryName:e,tourName:n,tourImage:r,tourRating:i,tourReview:s,tourPrice:o,tourDuration:a,slugValue:c}){const[l,u]=F.useState(!1),h=Oo.currentUser;F.useEffect(()=>{(async()=>{if(h){const g=Ib(rd,"favorites",`${h.uid}_${c}`),y=await zX(g);u(y.exists())}})()},[h,c]);const f=async()=>{if(!h){wt("Please log in to save favorites");return}const p=Ib(rd,"favorites",`${h.uid}_${c}`);try{l?(await $De(p),u(!1)):(await tM(p,{userId:h.uid,tourSlug:c,tourName:n,cityName:t,countryName:e,tourImage:r,tourRating:i,tourReview:s,tourPrice:o,tourDuration:a,timestamp:new Date}),u(!0))}catch(g){console.error("Error updating favorite:",g)}};return T.jsx(fs,{to:Ue.TOURS_DETAIL.path.replace(":slugId",c),className:"link-class",children:T.jsxs("div",{className:"tour-card-container",children:[T.jsxs("div",{className:"tour-image-container",children:[T.jsx("img",{src:r,alt:n}),T.jsx("button",{className:"favorite-button",onClick:p=>{p.preventDefault(),f()},children:T.jsx($U,{icon:zLe,className:l?"heart-icon favorite":"heart-icon"})})]}),T.jsxs("div",{className:"tour-info-container",children:[T.jsxs("p",{className:"project-theme-color",children:[t,", ",e]}),T.jsx(fs,{className:"link-class",to:Ue.TOURS_DETAIL.path.replace(":slugId",c),children:T.jsx("h4",{children:n})}),T.jsxs("div",{className:"tour-additional-info",children:[T.jsxs("div",{className:"rating-reviews",children:[T.jsxs("span",{className:"rating-star-class",children:[T.jsx("i",{className:"fa fa-star"})," ",i]}),T.jsxs("span",{className:"tour-additional-info-text",children:[s," reviews"]})]}),T.jsx("span",{className:"tour-additional-info-text",children:a})]}),T.jsxs("div",{className:"tour-price",children:[T.jsx("p",{children:"Starting From"}),T.jsx("span",{className:"tour-price-text",children:o})]})]})]})})}function one(){return T.jsxs("div",{className:"tour-card-container skeleton",children:[T.jsx("div",{className:"tour-image-container skeleton-box"}),T.jsxs("div",{className:"tour-info-container",children:[T.jsx("div",{className:"skeleton-line short"}),T.jsx("div",{className:"skeleton-line medium"}),T.jsxs("div",{className:"tour-additional-info",children:[T.jsxs("div",{className:"rating-reviews",children:[T.jsx("div",{className:"skeleton-badge"}),T.jsx("div",{className:"skeleton-line tiny"})]}),T.jsx("div",{className:"skeleton-line tiny"})]}),T.jsxs("div",{className:"tour-price",children:[T.jsx("div",{className:"skeleton-line tiny"}),T.jsx("div",{className:"skeleton-line short"})]})]})]})}function ane(){var v,b;const t="eyJwaW5uZWRQcm9kdWN0IjoiUFJpSEhIVjB1TGJPIiwidWZpIjoyMDA4ODMyNX0=",{data:n,isLoading:r}=VZ({destinationId:t,currentPage:1}),i=((b=(v=n==null?void 0:n.data)==null?void 0:v.products)==null?void 0:b.slice(1,9))||[],s=4,o=i.length-s+1,[a,c]=F.useState(0),[l,u]=F.useState(null),p=BZ({onSwipedLeft:()=>{c(w=>w+1<i.length?w+1:0)},onSwipedRight:()=>{c(w=>w-1>=0?w-1:i.length-s)},trackMouse:!0}),g=w=>{c(w)},y=()=>{let w=i.slice(a,a+s);if(w.length<s){const A=s-w.length;w=[...w,...i.slice(0,A)]}return w};return F.useEffect(()=>{(async()=>{var A;try{const P=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json(),D=(A=P==null?void 0:P.ethereum)==null?void 0:A.usd;u(D)}catch(S){console.error("Failed to fetch Current Eth Price:",S)}})()},[]),T.jsxs("div",{className:"tour-slider-container",...p,children:[T.jsx("div",{className:"tour-slider-content",children:r?Array.from({length:4}).map((w,A)=>T.jsx(one,{},A)):y().map((w,A)=>{var U,Y,z,j,q,V,Q,K,ee;const S=(z=(Y=(U=w==null?void 0:w.ufiDetails)==null?void 0:U.url)==null?void 0:Y.country)==null?void 0:z.toUpperCase(),P=(j=w==null?void 0:w.ufiDetails)==null?void 0:j.bCityName,D=w==null?void 0:w.name,C=(q=w==null?void 0:w.primaryPhoto)==null?void 0:q.small,I=(Q=(V=w==null?void 0:w.reviewsStats)==null?void 0:V.combinedNumericStats)==null?void 0:Q.average,x=(K=w==null?void 0:w.reviewsStats)==null?void 0:K.combinedNumericStats.total,N=(ee=w==null?void 0:w.representativePrice)==null?void 0:ee.chargeAmount,R=l?`${(N/l).toFixed(5)} ETH`:"Loading...",$=w==null?void 0:w.slug;return T.jsx(UU,{cityName:P,countryName:S,tourName:D,tourImage:C,tourRating:I,tourReview:x,tourPrice:R,tourDuration:"2 days",slugValue:$},`${$}-${A}`)})}),T.jsx("div",{className:"navigation-dots",children:Array.from({length:o}).map((w,A)=>T.jsx("div",{className:`dot ${a===A?"active":""}`,onClick:()=>g(A)},A))})]})}function VLe({tourType:t,numberOfTours:e,startingPrice:n,categoryIcon:r}){return T.jsxs("div",{className:"tour-category-card",children:[T.jsx("img",{src:r}),T.jsx("h6",{children:t}),T.jsxs("p",{children:[e," Tours+"]}),T.jsxs("div",{className:"category-card-price",children:[T.jsx("p",{children:"From"}),T.jsxs("h5",{className:"cursive-text",children:["$",n]})]})]})}function cne(){const t=[{categoryIcon:bt.ADVENTURE,tourType:"Adventure",numberOfTours:10,startingPrice:250},{categoryIcon:bt.HIKING_TOURS,tourType:"Beaches",numberOfTours:15,startingPrice:200},{categoryIcon:bt.FOOD_TOURS,tourType:"Boat Tours",numberOfTours:10,startingPrice:250},{categoryIcon:bt.BOAT_TOURS,tourType:"City Tours",numberOfTours:20,startingPrice:200},{categoryIcon:bt.BEACHES,tourType:"Food",numberOfTours:25,startingPrice:350},{categoryIcon:bt.CITY_TOURS,tourType:"Hiking",numberOfTours:20,startingPrice:300}];return F.useEffect(()=>{window.scrollTo(0,0)},[]),T.jsxs("div",{children:[T.jsxs("div",{className:"homepage-banner",children:[T.jsx("img",{src:bt.HomePageBanner,alt:"home-page-banner"}),T.jsx("div",{className:"banner-text-container",children:T.jsxs("div",{className:"banner-text-content",children:[T.jsx("h3",{className:"kaushan-text",children:"Save 15% off in Worldwide"}),T.jsx("h1",{className:"",children:"Travel & Adventures"}),T.jsx("p",{className:"project-normal-font",children:"Find awesome hotel, tour, car and activities in London"})]})})]}),T.jsx(E$,{searchAreaData:()=>{}}),T.jsxs("div",{className:"tour-container",children:[T.jsxs("div",{className:"section-headers",children:[T.jsx("h4",{className:"kaushan-text cursive-normal",children:"Tours"}),T.jsx("h2",{className:"section-heading",children:"Most Popular Tours"})]}),T.jsx("div",{className:"tour-content-container",children:T.jsx("div",{className:"tour-content",children:T.jsx(ane,{})})})]}),T.jsx(Tve,{}),T.jsx(lQ,{}),T.jsxs("div",{className:"browse-by-category-wrapper",children:[T.jsx("h4",{className:"cursive-text",children:"Browse By Category"}),T.jsx("h2",{children:"Pick a Tour Type"}),T.jsx("div",{className:"browse-by-category",children:t.map(e=>T.jsx(VLe,{categoryIcon:e.categoryIcon,tourType:e.tourType,numberOfTours:e.numberOfTours,startingPrice:e.startingPrice}))})]}),T.jsx("div",{className:"testimonial-section",children:T.jsx(zZ,{})})]})}function HLe(){const t=Yx();function e(){t(kS({token:null}))}return T.jsx("button",{onClick:e,children:"Logout"})}function lne(t,e){const n=F.useRef(e);F.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const WLe=1;function qLe(t){return Object.freeze({__version:WLe,map:t})}function GLe(t,e){return Object.freeze({...t,...e})}const une=F.createContext(null),dne=une.Provider;function hne(){const t=F.useContext(une);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function KLe(t){function e(n,r){const{instance:i,context:s}=t(n).current;return F.useImperativeHandle(r,()=>i),n.children==null?null:ae.createElement(dne,{value:s},n.children)}return F.forwardRef(e)}function YLe(t){function e(n,r){const[i,s]=F.useState(!1),{instance:o}=t(n,s).current;F.useImperativeHandle(r,()=>o),F.useEffect(function(){i&&o.update()},[o,i,n.children]);const a=o._contentNode;return a?Af.createPortal(n.children,a):null}return F.forwardRef(e)}function QLe(t){function e(n,r){const{instance:i}=t(n).current;return F.useImperativeHandle(r,()=>i),null}return F.forwardRef(e)}function fne(t,e){const n=F.useRef();F.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function jU(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function ZLe(t,e){return function(r,i){const s=hne(),o=t(jU(r,s),s);return lne(s.map,r.attribution),fne(o.current,r.eventHandlers),e(o.current,s,r,i),o}}var xM={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Zs,function(n){var r="1.9.4";function i(d){var m,E,O,M;for(E=1,O=arguments.length;E<O;E++){M=arguments[E];for(m in M)d[m]=M[m]}return d}var s=Object.create||function(){function d(){}return function(m){return d.prototype=m,new d}}();function o(d,m){var E=Array.prototype.slice;if(d.bind)return d.bind.apply(d,E.call(arguments,1));var O=E.call(arguments,2);return function(){return d.apply(m,O.length?O.concat(E.call(arguments)):arguments)}}var a=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++a),d._leaflet_id}function l(d,m,E){var O,M,H,J;return J=function(){O=!1,M&&(H.apply(E,M),M=!1)},H=function(){O?M=arguments:(d.apply(E,arguments),setTimeout(J,m),O=!0)},H}function u(d,m,E){var O=m[1],M=m[0],H=O-M;return d===O&&E?d:((d-M)%H+H)%H+M}function h(){return!1}function f(d,m){if(m===!1)return d;var E=Math.pow(10,m===void 0?6:m);return Math.round(d*E)/E}function p(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function g(d){return p(d).split(/\s+/)}function y(d,m){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?s(d.options):{});for(var E in m)d.options[E]=m[E];return d.options}function v(d,m,E){var O=[];for(var M in d)O.push(encodeURIComponent(E?M.toUpperCase():M)+"="+encodeURIComponent(d[M]));return(!m||m.indexOf("?")===-1?"?":"&")+O.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function w(d,m){return d.replace(b,function(E,O){var M=m[O];if(M===void 0)throw new Error("No value provided for variable "+E);return typeof M=="function"&&(M=M(m)),M})}var A=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function S(d,m){for(var E=0;E<d.length;E++)if(d[E]===m)return E;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var C=0;function I(d){var m=+new Date,E=Math.max(0,16-(m-C));return C=m+E,window.setTimeout(d,E)}var x=window.requestAnimationFrame||D("RequestAnimationFrame")||I,N=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function R(d,m,E){if(E&&x===I)d.call(m);else return x.call(window,o(d,m))}function $(d){d&&N.call(window,d)}var U={__proto__:null,extend:i,create:s,bind:o,get lastId(){return a},stamp:c,throttle:l,wrapNum:u,falseFn:h,formatNum:f,trim:p,splitWords:g,setOptions:y,getParamString:v,template:w,isArray:A,indexOf:S,emptyImageUrl:P,requestFn:x,cancelFn:N,requestAnimFrame:R,cancelAnimFrame:$};function Y(){}Y.extend=function(d){var m=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=m.__super__=this.prototype,O=s(E);O.constructor=m,m.prototype=O;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(m[M]=this[M]);return d.statics&&i(m,d.statics),d.includes&&(z(d.includes),i.apply(null,[O].concat(d.includes))),i(O,d),delete O.statics,delete O.includes,O.options&&(O.options=E.options?s(E.options):{},i(O.options,d.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,J=O._initHooks.length;H<J;H++)O._initHooks[H].call(this)}},m},Y.include=function(d){var m=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=m,this.mergeOptions(d.options)),this},Y.mergeOptions=function(d){return i(this.prototype.options,d),this},Y.addInitHook=function(d){var m=Array.prototype.slice.call(arguments,1),E=typeof d=="function"?d:function(){this[d].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function z(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=A(d)?d:[d];for(var m=0;m<d.length;m++)d[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var j={on:function(d,m,E){if(typeof d=="object")for(var O in d)this._on(O,d[O],m);else{d=g(d);for(var M=0,H=d.length;M<H;M++)this._on(d[M],m,E)}return this},off:function(d,m,E){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var O in d)this._off(O,d[O],m);else{d=g(d);for(var M=arguments.length===1,H=0,J=d.length;H<J;H++)M?this._off(d[H]):this._off(d[H],m,E)}return this},_on:function(d,m,E,O){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(d,m,E)===!1){E===this&&(E=void 0);var M={fn:m,ctx:E};O&&(M.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(M)}},_off:function(d,m,E){var O,M,H;if(this._events&&(O=this._events[d],!!O)){if(arguments.length===1){if(this._firingCount)for(M=0,H=O.length;M<H;M++)O[M].fn=h;delete this._events[d];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var J=this._listens(d,m,E);if(J!==!1){var oe=O[J];this._firingCount&&(oe.fn=h,this._events[d]=O=O.slice()),O.splice(J,1)}}},fire:function(d,m,E){if(!this.listens(d,E))return this;var O=i({},m,{type:d,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var M=this._events[d];if(M){this._firingCount=this._firingCount+1||1;for(var H=0,J=M.length;H<J;H++){var oe=M[H],he=oe.fn;oe.once&&this.off(d,he,oe.ctx),he.call(oe.ctx||this,O)}this._firingCount--}}return E&&this._propagateEvent(O),this},listens:function(d,m,E,O){typeof d!="string"&&console.warn('"string" type argument expected');var M=m;typeof m!="function"&&(O=!!m,M=void 0,E=void 0);var H=this._events&&this._events[d];if(H&&H.length&&this._listens(d,M,E)!==!1)return!0;if(O){for(var J in this._eventParents)if(this._eventParents[J].listens(d,m,E,O))return!0}return!1},_listens:function(d,m,E){if(!this._events)return!1;var O=this._events[d]||[];if(!m)return!!O.length;E===this&&(E=void 0);for(var M=0,H=O.length;M<H;M++)if(O[M].fn===m&&O[M].ctx===E)return M;return!1},once:function(d,m,E){if(typeof d=="object")for(var O in d)this._on(O,d[O],m,!0);else{d=g(d);for(var M=0,H=d.length;M<H;M++)this._on(d[M],m,E,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var m in this._eventParents)this._eventParents[m].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};j.addEventListener=j.on,j.removeEventListener=j.clearAllEventListeners=j.off,j.addOneTimeEventListener=j.once,j.fireEvent=j.fire,j.hasEventListeners=j.listens;var q=Y.extend(j);function V(d,m,E){this.x=E?Math.round(d):d,this.y=E?Math.round(m):m}var Q=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(d){return this.clone()._add(K(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(K(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new V(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new V(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(d){d=K(d);var m=d.x-this.x,E=d.y-this.y;return Math.sqrt(m*m+E*E)},equals:function(d){return d=K(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=K(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function K(d,m,E){return d instanceof V?d:A(d)?new V(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new V(d.x,d.y):new V(d,m,E)}function ee(d,m){if(d)for(var E=m?[d,m]:d,O=0,M=E.length;O<M;O++)this.extend(E[O])}ee.prototype={extend:function(d){var m,E;if(!d)return this;if(d instanceof V||typeof d[0]=="number"||"x"in d)m=E=K(d);else if(d=ne(d),m=d.min,E=d.max,!m||!E)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=E.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(d){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var m,E;return typeof d[0]=="number"||d instanceof V?d=K(d):d=ne(d),d instanceof ee?(m=d.min,E=d.max):m=E=d,m.x>=this.min.x&&E.x<=this.max.x&&m.y>=this.min.y&&E.y<=this.max.y},intersects:function(d){d=ne(d);var m=this.min,E=this.max,O=d.min,M=d.max,H=M.x>=m.x&&O.x<=E.x,J=M.y>=m.y&&O.y<=E.y;return H&&J},overlaps:function(d){d=ne(d);var m=this.min,E=this.max,O=d.min,M=d.max,H=M.x>m.x&&O.x<E.x,J=M.y>m.y&&O.y<E.y;return H&&J},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var m=this.min,E=this.max,O=Math.abs(m.x-E.x)*d,M=Math.abs(m.y-E.y)*d;return ne(K(m.x-O,m.y-M),K(E.x+O,E.y+M))},equals:function(d){return d?(d=ne(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function ne(d,m){return!d||d instanceof ee?d:new ee(d,m)}function le(d,m){if(d)for(var E=m?[d,m]:d,O=0,M=E.length;O<M;O++)this.extend(E[O])}le.prototype={extend:function(d){var m=this._southWest,E=this._northEast,O,M;if(d instanceof re)O=d,M=d;else if(d instanceof le){if(O=d._southWest,M=d._northEast,!O||!M)return this}else return d?this.extend(de(d)||ce(d)):this;return!m&&!E?(this._southWest=new re(O.lat,O.lng),this._northEast=new re(M.lat,M.lng)):(m.lat=Math.min(O.lat,m.lat),m.lng=Math.min(O.lng,m.lng),E.lat=Math.max(M.lat,E.lat),E.lng=Math.max(M.lng,E.lng)),this},pad:function(d){var m=this._southWest,E=this._northEast,O=Math.abs(m.lat-E.lat)*d,M=Math.abs(m.lng-E.lng)*d;return new le(new re(m.lat-O,m.lng-M),new re(E.lat+O,E.lng+M))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof re||"lat"in d?d=de(d):d=ce(d);var m=this._southWest,E=this._northEast,O,M;return d instanceof le?(O=d.getSouthWest(),M=d.getNorthEast()):O=M=d,O.lat>=m.lat&&M.lat<=E.lat&&O.lng>=m.lng&&M.lng<=E.lng},intersects:function(d){d=ce(d);var m=this._southWest,E=this._northEast,O=d.getSouthWest(),M=d.getNorthEast(),H=M.lat>=m.lat&&O.lat<=E.lat,J=M.lng>=m.lng&&O.lng<=E.lng;return H&&J},overlaps:function(d){d=ce(d);var m=this._southWest,E=this._northEast,O=d.getSouthWest(),M=d.getNorthEast(),H=M.lat>m.lat&&O.lat<E.lat,J=M.lng>m.lng&&O.lng<E.lng;return H&&J},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,m){return d?(d=ce(d),this._southWest.equals(d.getSouthWest(),m)&&this._northEast.equals(d.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(d,m){return d instanceof le?d:new le(d,m)}function re(d,m,E){if(isNaN(d)||isNaN(m))throw new Error("Invalid LatLng object: ("+d+", "+m+")");this.lat=+d,this.lng=+m,E!==void 0&&(this.alt=+E)}re.prototype={equals:function(d,m){if(!d)return!1;d=de(d);var E=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return E<=(m===void 0?1e-9:m)},toString:function(d){return"LatLng("+f(this.lat,d)+", "+f(this.lng,d)+")"},distanceTo:function(d){return Ne.distance(this,de(d))},wrap:function(){return Ne.wrapLatLng(this)},toBounds:function(d){var m=180*d/40075017,E=m/Math.cos(Math.PI/180*this.lat);return ce([this.lat-m,this.lng-E],[this.lat+m,this.lng+E])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function de(d,m,E){return d instanceof re?d:A(d)&&typeof d[0]!="object"?d.length===3?new re(d[0],d[1],d[2]):d.length===2?new re(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new re(d.lat,"lng"in d?d.lng:d.lon,d.alt):m===void 0?null:new re(d,m,E)}var ve={latLngToPoint:function(d,m){var E=this.projection.project(d),O=this.scale(m);return this.transformation._transform(E,O)},pointToLatLng:function(d,m){var E=this.scale(m),O=this.transformation.untransform(d,E);return this.projection.unproject(O)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var m=this.projection.bounds,E=this.scale(d),O=this.transformation.transform(m.min,E),M=this.transformation.transform(m.max,E);return new ee(O,M)},infinite:!1,wrapLatLng:function(d){var m=this.wrapLng?u(d.lng,this.wrapLng,!0):d.lng,E=this.wrapLat?u(d.lat,this.wrapLat,!0):d.lat,O=d.alt;return new re(E,m,O)},wrapLatLngBounds:function(d){var m=d.getCenter(),E=this.wrapLatLng(m),O=m.lat-E.lat,M=m.lng-E.lng;if(O===0&&M===0)return d;var H=d.getSouthWest(),J=d.getNorthEast(),oe=new re(H.lat-O,H.lng-M),he=new re(J.lat-O,J.lng-M);return new le(oe,he)}},Ne=i({},ve,{wrapLng:[-180,180],R:6371e3,distance:function(d,m){var E=Math.PI/180,O=d.lat*E,M=m.lat*E,H=Math.sin((m.lat-d.lat)*E/2),J=Math.sin((m.lng-d.lng)*E/2),oe=H*H+Math.cos(O)*Math.cos(M)*J*J,he=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*he}}),Fe=6378137,Ge={R:Fe,MAX_LATITUDE:85.0511287798,project:function(d){var m=Math.PI/180,E=this.MAX_LATITUDE,O=Math.max(Math.min(E,d.lat),-E),M=Math.sin(O*m);return new V(this.R*d.lng*m,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(d){var m=180/Math.PI;return new re((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*m,d.x*m/this.R)},bounds:function(){var d=Fe*Math.PI;return new ee([-d,-d],[d,d])}()};function ot(d,m,E,O){if(A(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=m,this._c=E,this._d=O}ot.prototype={transform:function(d,m){return this._transform(d.clone(),m)},_transform:function(d,m){return m=m||1,d.x=m*(this._a*d.x+this._b),d.y=m*(this._c*d.y+this._d),d},untransform:function(d,m){return m=m||1,new V((d.x/m-this._b)/this._a,(d.y/m-this._d)/this._c)}};function Me(d,m,E,O){return new ot(d,m,E,O)}var ut=i({},Ne,{code:"EPSG:3857",projection:Ge,transformation:function(){var d=.5/(Math.PI*Ge.R);return Me(d,.5,-d,.5)}()}),ht=i({},ut,{code:"EPSG:900913"});function Xt(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Rt(d,m){var E="",O,M,H,J,oe,he;for(O=0,H=d.length;O<H;O++){for(oe=d[O],M=0,J=oe.length;M<J;M++)he=oe[M],E+=(M?"L":"M")+he.x+" "+he.y;E+=m?pe.svg?"z":"x":""}return E||"M0 0"}var Dn=document.documentElement.style,Un="ActiveXObject"in window,yn=Un&&!document.addEventListener,Sr="msLaunchUri"in navigator&&!("documentMode"in document),fn=ge("webkit"),se=ge("android"),Ie=ge("android 2")||ge("android 3"),xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$e=se&&ge("Google")&&xe<537&&!("AudioNode"in window),pt=!!window.opera,nt=!Sr&&ge("chrome"),yt=ge("gecko")&&!fn&&!pt&&!Un,Ft=!nt&&ge("safari"),Ir=ge("phantom"),gr="OTransition"in Dn,Ja=navigator.platform.indexOf("Win")===0,Zn=Un&&"transition"in Dn,Ji="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ie,Vs="MozPerspective"in Dn,Ts=!window.L_DISABLE_3D&&(Zn||Ji||Vs)&&!gr&&!Ir,Hs=typeof orientation<"u"||ge("mobile"),fa=Hs&&fn,Ws=Hs&&Ji,li=!window.PointerEvent&&window.MSPointerEvent,Bo=!!(window.PointerEvent||li),Nn="ontouchstart"in window||!!window.TouchEvent,jn=!window.L_NO_TOUCH&&(Nn||Bo),Jn=Hs&&pt,_i=Hs&&yt,bn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xr=function(){var d=!1;try{var m=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",h,m),window.removeEventListener("testPassiveEventSupport",h,m)}catch{}return d}(),Xi=function(){return!!document.createElement("canvas").getContext}(),Di=!!(document.createElementNS&&Xt("svg").createSVGRect),Xa=!!Di&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Z=!Di&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var m=d.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),te=navigator.platform.indexOf("Mac")===0,ue=navigator.platform.indexOf("Linux")===0;function ge(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var pe={ie:Un,ielt9:yn,edge:Sr,webkit:fn,android:se,android23:Ie,androidStock:$e,opera:pt,chrome:nt,gecko:yt,safari:Ft,phantom:Ir,opera12:gr,win:Ja,ie3d:Zn,webkit3d:Ji,gecko3d:Vs,any3d:Ts,mobile:Hs,mobileWebkit:fa,mobileWebkit3d:Ws,msPointer:li,pointer:Bo,touch:jn,touchNative:Nn,mobileOpera:Jn,mobileGecko:_i,retina:bn,passiveEvents:xr,canvas:Xi,svg:Di,vml:Z,inlineSvg:Xa,mac:te,linux:ue},at=pe.msPointer?"MSPointerDown":"pointerdown",mt=pe.msPointer?"MSPointerMove":"pointermove",je=pe.msPointer?"MSPointerUp":"pointerup",He=pe.msPointer?"MSPointerCancel":"pointercancel",Le={touchstart:at,touchmove:mt,touchend:je,touchcancel:He},Je={touchstart:dt,touchmove:kt,touchend:kt,touchcancel:kt},Te={},Ke=!1;function _t(d,m,E){return m==="touchstart"&&uo(),Je[m]?(E=Je[m].bind(this,E),d.addEventListener(Le[m],E,!1),E):(console.warn("wrong event specified:",m),h)}function $t(d,m,E){if(!Le[m]){console.warn("wrong event specified:",m);return}d.removeEventListener(Le[m],E,!1)}function St(d){Te[d.pointerId]=d}function pn(d){Te[d.pointerId]&&(Te[d.pointerId]=d)}function Ni(d){delete Te[d.pointerId]}function uo(){Ke||(document.addEventListener(at,St,!0),document.addEventListener(mt,pn,!0),document.addEventListener(je,Ni,!0),document.addEventListener(He,Ni,!0),Ke=!0)}function kt(d,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var E in Te)m.touches.push(Te[E]);m.changedTouches=[m],d(m)}}function dt(d,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&hi(m),kt(d,m)}function rn(d){var m={},E,O;for(O in d)E=d[O],m[O]=E&&E.bind?E.bind(d):E;return d=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var vn=200;function Sn(d,m){d.addEventListener("dblclick",m);var E=0,O;function M(H){if(H.detail!==1){O=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var J=Ad(H);if(!(J.some(function(he){return he instanceof HTMLLabelElement&&he.attributes.for})&&!J.some(function(he){return he instanceof HTMLInputElement||he instanceof HTMLSelectElement}))){var oe=Date.now();oe-E<=vn?(O++,O===2&&m(rn(H))):O=1,E=oe}}}return d.addEventListener("click",M),{dblclick:m,simDblclick:M}}function Qr(d,m){d.removeEventListener("dblclick",m.dblclick),d.removeEventListener("click",m.simDblclick)}var cr=Kl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tt=Kl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),cn=Tt==="webkitTransition"||Tt==="OTransition"?Tt+"End":"transitionend";function ui(d){return typeof d=="string"?document.getElementById(d):d}function Zr(d,m){var E=d.style[m]||d.currentStyle&&d.currentStyle[m];if((!E||E==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(d,null);E=O?O[m]:null}return E==="auto"?null:E}function ct(d,m,E){var O=document.createElement(d);return O.className=m||"",E&&E.appendChild(O),O}function en(d){var m=d.parentNode;m&&m.removeChild(d)}function ho(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function ec(d){var m=d.parentNode;m&&m.lastChild!==d&&m.appendChild(d)}function Gl(d){var m=d.parentNode;m&&m.firstChild!==d&&m.insertBefore(d,m.firstChild)}function Tw(d,m){if(d.classList!==void 0)return d.classList.contains(m);var E=Zm(d);return E.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(E)}function Gt(d,m){if(d.classList!==void 0)for(var E=g(m),O=0,M=E.length;O<M;O++)d.classList.add(E[O]);else if(!Tw(d,m)){var H=Zm(d);Qm(d,(H?H+" ":"")+m)}}function Pr(d,m){d.classList!==void 0?d.classList.remove(m):Qm(d,p((" "+Zm(d)+" ").replace(" "+m+" "," ")))}function Qm(d,m){d.className.baseVal===void 0?d.className=m:d.className.baseVal=m}function Zm(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function di(d,m){"opacity"in d.style?d.style.opacity=m:"filter"in d.style&&tc(d,m)}function tc(d,m){var E=!1,O="DXImageTransform.Microsoft.Alpha";try{E=d.filters.item(O)}catch{if(m===1)return}m=Math.round(m*100),E?(E.Enabled=m!==100,E.Opacity=m):d.style.filter+=" progid:"+O+"(opacity="+m+")"}function Kl(d){for(var m=document.documentElement.style,E=0;E<d.length;E++)if(d[E]in m)return d[E];return!1}function pa(d,m,E){var O=m||new V(0,0);d.style[cr]=(pe.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(E?" scale("+E+")":"")}function Fr(d,m){d._leaflet_pos=m,pe.any3d?pa(d,m):(d.style.left=m.x+"px",d.style.top=m.y+"px")}function En(d){return d._leaflet_pos||new V(0,0)}var Vc,nc,Yl;if("onselectstart"in document)Vc=function(){Ut(window,"selectstart",hi)},nc=function(){Xn(window,"selectstart",hi)};else{var Pf=Kl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vc=function(){if(Pf){var d=document.documentElement.style;Yl=d[Pf],d[Pf]="none"}},nc=function(){Pf&&(document.documentElement.style[Pf]=Yl,Yl=void 0)}}function Jm(){Ut(window,"dragstart",hi)}function Sw(){Xn(window,"dragstart",hi)}var Xm,Iw;function xw(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Hc(),Xm=d,Iw=d.style.outlineStyle,d.style.outlineStyle="none",Ut(window,"keydown",Hc))}function Hc(){Xm&&(Xm.style.outlineStyle=Iw,Xm=void 0,Iw=void 0,Xn(window,"keydown",Hc))}function rc(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function eg(d){var m=d.getBoundingClientRect();return{x:m.width/d.offsetWidth||1,y:m.height/d.offsetHeight||1,boundingClientRect:m}}var K1={__proto__:null,TRANSFORM:cr,TRANSITION:Tt,TRANSITION_END:cn,get:ui,getStyle:Zr,create:ct,remove:en,empty:ho,toFront:ec,toBack:Gl,hasClass:Tw,addClass:Gt,removeClass:Pr,setClass:Qm,getClass:Zm,setOpacity:di,testProp:Kl,setTransform:pa,setPosition:Fr,getPosition:En,get disableTextSelection(){return Vc},get enableTextSelection(){return nc},disableImageDrag:Jm,enableImageDrag:Sw,preventOutline:xw,restoreOutline:Hc,getSizedParentNode:rc,getScale:eg};function Ut(d,m,E,O){if(m&&typeof m=="object")for(var M in m)ma(d,M,m[M],E);else{m=g(m);for(var H=0,J=m.length;H<J;H++)ma(d,m[H],E,O)}return this}var es="_leaflet_events";function Xn(d,m,E,O){if(arguments.length===1)Y1(d),delete d[es];else if(m&&typeof m=="object")for(var M in m)Ow(d,M,m[M],E);else if(m=g(m),arguments.length===2)Y1(d,function(oe){return S(m,oe)!==-1});else for(var H=0,J=m.length;H<J;H++)Ow(d,m[H],E,O);return this}function Y1(d,m){for(var E in d[es]){var O=E.split(/\d/)[0];(!m||m(O))&&Ow(d,O,null,null,E)}}var Pw={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ma(d,m,E,O){var M=m+c(E)+(O?"_"+c(O):"");if(d[es]&&d[es][M])return this;var H=function(oe){return E.call(O||d,oe||window.event)},J=H;!pe.touchNative&&pe.pointer&&m.indexOf("touch")===0?H=_t(d,m,H):pe.touch&&m==="dblclick"?H=Sn(d,H):"addEventListener"in d?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?d.addEventListener(Pw[m]||m,H,pe.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(H=function(oe){oe=oe||window.event,Rw(d,oe)&&J(oe)},d.addEventListener(Pw[m],H,!1)):d.addEventListener(m,J,!1):d.attachEvent("on"+m,H),d[es]=d[es]||{},d[es][M]=H}function Ow(d,m,E,O,M){M=M||m+c(E)+(O?"_"+c(O):"");var H=d[es]&&d[es][M];if(!H)return this;!pe.touchNative&&pe.pointer&&m.indexOf("touch")===0?$t(d,m,H):pe.touch&&m==="dblclick"?Qr(d,H):"removeEventListener"in d?d.removeEventListener(Pw[m]||m,H,!1):d.detachEvent("on"+m,H),d[es][M]=null}function Ql(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Ed(d){return ma(d,"wheel",Ql),this}function Wc(d){return Ut(d,"mousedown touchstart dblclick contextmenu",Ql),d._leaflet_disable_click=!0,this}function hi(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function zo(d){return hi(d),Ql(d),this}function Ad(d){if(d.composedPath)return d.composedPath();for(var m=[],E=d.target;E;)m.push(E),E=E.parentNode;return m}function Dw(d,m){if(!m)return new V(d.clientX,d.clientY);var E=eg(m),O=E.boundingClientRect;return new V((d.clientX-O.left)/E.x-m.clientLeft,(d.clientY-O.top)/E.y-m.clientTop)}var Nw=pe.linux&&pe.chrome?window.devicePixelRatio:pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yr(d){return pe.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Nw:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Rw(d,m){var E=m.relatedTarget;if(!E)return!0;try{for(;E&&E!==d;)E=E.parentNode}catch{return!1}return E!==d}var HO={__proto__:null,on:Ut,off:Xn,stopPropagation:Ql,disableScrollPropagation:Ed,disableClickPropagation:Wc,preventDefault:hi,stop:zo,getPropagationPath:Ad,getMousePosition:Dw,getWheelDelta:yr,isExternalTarget:Rw,addListener:Ut,removeListener:Xn},kw=q.extend({run:function(d,m,E,O){this.stop(),this._el=d,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=En(d),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(d){var m=+new Date-this._startTime,E=this._duration*1e3;m<E?this._runFrame(this._easeOut(m/E),d):(this._runFrame(1),this._complete())},_runFrame:function(d,m){var E=this._startPos.add(this._offset.multiplyBy(d));m&&E._round(),Fr(this._el,E),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ln=q.extend({options:{crs:ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,m){m=y(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(de(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tt&&pe.any3d&&!pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,cn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,m,E){if(m=m===void 0?this._zoom:this._limitZoom(m),d=this._limitCenter(de(d),m,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var O=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,m,E.zoom):this._tryAnimatedPan(d,E.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(d,m,E.pan&&E.pan.noMoveStart),this},setZoom:function(d,m){return this._loaded?this.setView(this.getCenter(),d,{zoom:m}):(this._zoom=d,this)},zoomIn:function(d,m){return d=d||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,m)},zoomOut:function(d,m){return d=d||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,m)},setZoomAround:function(d,m,E){var O=this.getZoomScale(m),M=this.getSize().divideBy(2),H=d instanceof V?d:this.latLngToContainerPoint(d),J=H.subtract(M).multiplyBy(1-1/O),oe=this.containerPointToLatLng(M.add(J));return this.setView(oe,m,{zoom:E})},_getBoundsCenterZoom:function(d,m){m=m||{},d=d.getBounds?d.getBounds():ce(d);var E=K(m.paddingTopLeft||m.padding||[0,0]),O=K(m.paddingBottomRight||m.padding||[0,0]),M=this.getBoundsZoom(d,!1,E.add(O));if(M=typeof m.maxZoom=="number"?Math.min(m.maxZoom,M):M,M===1/0)return{center:d.getCenter(),zoom:M};var H=O.subtract(E).divideBy(2),J=this.project(d.getSouthWest(),M),oe=this.project(d.getNorthEast(),M),he=this.unproject(J.add(oe).divideBy(2).add(H),M);return{center:he,zoom:M}},fitBounds:function(d,m){if(d=ce(d),!d.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(d,m);return this.setView(E.center,E.zoom,m)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,m){return this.setView(d,this._zoom,{pan:m})},panBy:function(d,m){if(d=K(d).round(),m=m||{},!d.x&&!d.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new kw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Gt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,E,m.duration||.25,m.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,m,E){if(E=E||{},E.animate===!1||!pe.any3d)return this.setView(d,m,E);this._stop();var O=this.project(this.getCenter()),M=this.project(d),H=this.getSize(),J=this._zoom;d=de(d),m=m===void 0?J:m;var oe=Math.max(H.x,H.y),he=oe*this.getZoomScale(J,m),_e=M.distanceTo(O)||1,We=1.42,xt=We*We;function sn(fi){var fA=fi?-1:1,Lce=fi?he:oe,Fce=he*he-oe*oe+fA*xt*xt*_e*_e,$ce=2*Lce*xt*_e,YO=Fce/$ce,N5=Math.sqrt(YO*YO+1)-YO,Uce=N5<1e-9?-18:Math.log(N5);return Uce}function qs(fi){return(Math.exp(fi)-Math.exp(-fi))/2}function ki(fi){return(Math.exp(fi)+Math.exp(-fi))/2}function va(fi){return qs(fi)/ki(fi)}var fo=sn(0);function lg(fi){return oe*(ki(fo)/ki(fo+We*fi))}function Nce(fi){return oe*(ki(fo)*va(fo+We*fi)-qs(fo))/xt}function Rce(fi){return 1-Math.pow(1-fi,1.5)}var kce=Date.now(),O5=(sn(1)-fo)/We,Mce=E.duration?1e3*E.duration:1e3*O5*.8;function D5(){var fi=(Date.now()-kce)/Mce,fA=Rce(fi)*O5;fi<=1?(this._flyToFrame=R(D5,this),this._move(this.unproject(O.add(M.subtract(O).multiplyBy(Nce(fA)/_e)),J),this.getScaleZoom(oe/lg(fA),J),{flyTo:!0})):this._move(d,m)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),D5.call(this),this},flyToBounds:function(d,m){var E=this._getBoundsCenterZoom(d,m);return this.flyTo(E.center,E.zoom,m)},setMaxBounds:function(d){return d=ce(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var m=this.options.minZoom;return this.options.minZoom=d,this._loaded&&m!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var m=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&m!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,m){this._enforcingBounds=!0;var E=this.getCenter(),O=this._limitCenter(E,this._zoom,ce(d));return E.equals(O)||this.panTo(O,m),this._enforcingBounds=!1,this},panInside:function(d,m){m=m||{};var E=K(m.paddingTopLeft||m.padding||[0,0]),O=K(m.paddingBottomRight||m.padding||[0,0]),M=this.project(this.getCenter()),H=this.project(d),J=this.getPixelBounds(),oe=ne([J.min.add(E),J.max.subtract(O)]),he=oe.getSize();if(!oe.contains(H)){this._enforcingBounds=!0;var _e=H.subtract(oe.getCenter()),We=oe.extend(H).getSize().subtract(he);M.x+=_e.x<0?-We.x:We.x,M.y+=_e.y<0?-We.y:We.y,this.panTo(this.unproject(M),m),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),O=m.divideBy(2).round(),M=E.divideBy(2).round(),H=O.subtract(M);return!H.x&&!H.y?this:(d.animate&&d.pan?this.panBy(H):(d.pan&&this._rawPanBy(H),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,E,d):navigator.geolocation.getCurrentPosition(m,E,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var m=d.code,E=d.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var m=d.coords.latitude,E=d.coords.longitude,O=new re(m,E),M=O.toBounds(d.coords.accuracy*2),H=this._locateOptions;if(H.setView){var J=this.getBoundsZoom(M);this.setView(O,H.maxZoom?Math.min(J,H.maxZoom):J)}var oe={latlng:O,bounds:M,timestamp:d.timestamp};for(var he in d.coords)typeof d.coords[he]=="number"&&(oe[he]=d.coords[he]);this.fire("locationfound",oe)}},addHandler:function(d,m){if(!m)return this;var E=this[d]=new m(this);return this._handlers.push(E),this.options[d]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),en(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)en(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,m){var E="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),O=ct("div",E,m||this._mapPane);return d&&(this._panes[d]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),m=this.unproject(d.getBottomLeft()),E=this.unproject(d.getTopRight());return new le(m,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,m,E){d=ce(d),E=K(E||[0,0]);var O=this.getZoom()||0,M=this.getMinZoom(),H=this.getMaxZoom(),J=d.getNorthWest(),oe=d.getSouthEast(),he=this.getSize().subtract(E),_e=ne(this.project(oe,O),this.project(J,O)).getSize(),We=pe.any3d?this.options.zoomSnap:1,xt=he.x/_e.x,sn=he.y/_e.y,qs=m?Math.max(xt,sn):Math.min(xt,sn);return O=this.getScaleZoom(qs,O),We&&(O=Math.round(O/(We/100))*(We/100),O=m?Math.ceil(O/We)*We:Math.floor(O/We)*We),Math.max(M,Math.min(H,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,m){var E=this._getTopLeftPoint(d,m);return new ee(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,m){var E=this.options.crs;return m=m===void 0?this._zoom:m,E.scale(d)/E.scale(m)},getScaleZoom:function(d,m){var E=this.options.crs;m=m===void 0?this._zoom:m;var O=E.zoom(d*E.scale(m));return isNaN(O)?1/0:O},project:function(d,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(de(d),m)},unproject:function(d,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(K(d),m)},layerPointToLatLng:function(d){var m=K(d).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(d){var m=this.project(de(d))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(de(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(ce(d))},distance:function(d,m){return this.options.crs.distance(de(d),de(m))},containerPointToLayerPoint:function(d){return K(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return K(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var m=this.containerPointToLayerPoint(K(d));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(d)))},mouseEventToContainerPoint:function(d){return Dw(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var m=this._container=ui(d);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(m,"scroll",this._onScroll,this),this._containerId=c(m)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&pe.any3d,Gt(d,"leaflet-container"+(pe.touch?" leaflet-touch":"")+(pe.retina?" leaflet-retina":"")+(pe.ielt9?" leaflet-oldie":"")+(pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Zr(d,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fr(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Gt(d.markerPane,"leaflet-zoom-hide"),Gt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,m,E){Fr(this._mapPane,new V(0,0));var O=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var M=this._zoom!==m;this._moveStart(M,E)._move(d,m)._moveEnd(M),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(d,m){return d&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(d,m,E,O){m===void 0&&(m=this._zoom);var M=this._zoom!==m;return this._zoom=m,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),O?E&&E.pinch&&this.fire("zoom",E):((M||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Fr(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var m=d?Xn:Ut;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),pe.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,m){for(var E=[],O,M=m==="mouseout"||m==="mouseover",H=d.target||d.srcElement,J=!1;H;){if(O=this._targets[c(H)],O&&(m==="click"||m==="preclick")&&this._draggableMoved(O)){J=!0;break}if(O&&O.listens(m,!0)&&(M&&!Rw(H,d)||(E.push(O),M))||H===this._container)break;H=H.parentNode}return!E.length&&!J&&!M&&this.listens(m,!0)&&(E=[this]),E},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var m=d.target||d.srcElement;if(!(!this._loaded||m._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(m))){var E=d.type;E==="mousedown"&&xw(m),this._fireDOMEvent(d,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,m,E){if(d.type==="click"){var O=i({},d);O.type="preclick",this._fireDOMEvent(O,O.type,E)}var M=this._findEventTargets(d,m);if(E){for(var H=[],J=0;J<E.length;J++)E[J].listens(m,!0)&&H.push(E[J]);M=H.concat(M)}if(M.length){m==="contextmenu"&&hi(d);var oe=M[0],he={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var _e=oe.getLatLng&&(!oe._radius||oe._radius<=10);he.containerPoint=_e?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(d),he.layerPoint=this.containerPointToLayerPoint(he.containerPoint),he.latlng=_e?oe.getLatLng():this.layerPointToLatLng(he.layerPoint)}for(J=0;J<M.length;J++)if(M[J].fire(m,he,!0),he.originalEvent._stopped||M[J].options.bubblingMouseEvents===!1&&S(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,m=this._handlers.length;d<m;d++)this._handlers[d].disable()},whenReady:function(d,m){return this._loaded?d.call(m||this,{target:this}):this.on("load",d,m),this},_getMapPanePos:function(){return En(this._mapPane)||new V(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,m){var E=d&&m!==void 0?this._getNewPixelOrigin(d,m):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,m){var E=this.getSize()._divideBy(2);return this.project(d,m)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,m,E){var O=this._getNewPixelOrigin(E,m);return this.project(d,m)._subtract(O)},_latLngBoundsToNewLayerBounds:function(d,m,E){var O=this._getNewPixelOrigin(E,m);return ne([this.project(d.getSouthWest(),m)._subtract(O),this.project(d.getNorthWest(),m)._subtract(O),this.project(d.getSouthEast(),m)._subtract(O),this.project(d.getNorthEast(),m)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,m,E){if(!E)return d;var O=this.project(d,m),M=this.getSize().divideBy(2),H=new ee(O.subtract(M),O.add(M)),J=this._getBoundsOffset(H,E,m);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?d:this.unproject(O.add(J),m)},_limitOffset:function(d,m){if(!m)return d;var E=this.getPixelBounds(),O=new ee(E.min.add(d),E.max.add(d));return d.add(this._getBoundsOffset(O,m))},_getBoundsOffset:function(d,m,E){var O=ne(this.project(m.getNorthEast(),E),this.project(m.getSouthWest(),E)),M=O.min.subtract(d.min),H=O.max.subtract(d.max),J=this._rebound(M.x,-H.x),oe=this._rebound(M.y,-H.y);return new V(J,oe)},_rebound:function(d,m){return d+m>0?Math.round(d-m)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(m))},_limitZoom:function(d){var m=this.getMinZoom(),E=this.getMaxZoom(),O=pe.any3d?this.options.zoomSnap:1;return O&&(d=Math.round(d/O)*O),Math.max(m,Math.min(E,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,m){var E=this._getCenterOffset(d)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,m),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(m){var E=cr,O=this._proxy.style[E];pa(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),O===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){en(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),m=this.getZoom();pa(this._proxy,this.project(d,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,m,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(m),M=this._getCenterOffset(d)._divideBy(1-1/O);return E.animate!==!0&&!this.getSize().contains(M)?!1:(R(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(d,m,!0)},this),!0)},_animateZoom:function(d,m,E,O){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=m,Gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:m,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Q1(d,m){return new ln(d,m)}var Ss=Y.extend({options:{position:"topright"},initialize:function(d){y(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var m=this._map;return m&&m.removeControl(this),this.options.position=d,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var m=this._container=this.onAdd(d),E=this.getPosition(),O=d._controlCorners[E];return Gt(m,"leaflet-control"),E.indexOf("bottom")!==-1?O.insertBefore(m,O.firstChild):O.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(en(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Cd=function(d){return new Ss(d)};ln.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},m="leaflet-",E=this._controlContainer=ct("div",m+"control-container",this._container);function O(M,H){var J=m+M+" "+m+H;d[M+H]=ct("div",J,E)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)en(this._controlCorners[d]);en(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ga=Ss.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,m,E,O){return E<O?-1:O<E?1:0}},initialize:function(d,m,E){y(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in d)this._addLayer(d[O],O);for(O in m)this._addLayer(m[O],O,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Ss.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,m){return this._addLayer(d,m),this._map?this._update():this},addOverlay:function(d,m){return this._addLayer(d,m,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var m=this._getLayer(c(d));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(Gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Pr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",m=this._container=ct("div",d),E=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Wc(m),Ed(m);var O=this._section=ct("section",d+"-list");E&&(this._map.on("click",this.collapse,this),Ut(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=ct("a",d+"-toggle",m);M.href="#",M.title="Layers",M.setAttribute("role","button"),Ut(M,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){hi(H),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=ct("div",d+"-base",O),this._separator=ct("div",d+"-separator",O),this._overlaysList=ct("div",d+"-overlays",O),m.appendChild(O)},_getLayer:function(d){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&c(this._layers[m].layer)===d)return this._layers[m]},_addLayer:function(d,m,E){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:m,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(O,M){return this.options.sortFunction(O.layer,M.layer,O.name,M.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ho(this._baseLayersList),ho(this._overlaysList),this._layerControlInputs=[];var d,m,E,O,M=0;for(E=0;E<this._layers.length;E++)O=this._layers[E],this._addItem(O),m=m||O.overlay,d=d||!O.overlay,M+=O.overlay?0:1;return this.options.hideSingleBase&&(d=d&&M>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=m&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var m=this._getLayer(c(d.target)),E=m.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;E&&this._map.fire(E,m)},_createRadioElement:function(d,m){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(m?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=E,O.firstChild},_addItem:function(d){var m=document.createElement("label"),E=this._map.hasLayer(d.layer),O;d.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=E):O=this._createRadioElement("leaflet-base-layers_"+c(this),E),this._layerControlInputs.push(O),O.layerId=c(d.layer),Ut(O,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+d.name;var H=document.createElement("span");m.appendChild(H),H.appendChild(O),H.appendChild(M);var J=d.overlay?this._overlaysList:this._baseLayersList;return J.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,m,E,O=[],M=[];this._handlingClick=!0;for(var H=d.length-1;H>=0;H--)m=d[H],E=this._getLayer(m.layerId).layer,m.checked?O.push(E):m.checked||M.push(E);for(H=0;H<M.length;H++)this._map.hasLayer(M[H])&&this._map.removeLayer(M[H]);for(H=0;H<O.length;H++)this._map.hasLayer(O[H])||this._map.addLayer(O[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,m,E,O=this._map.getZoom(),M=d.length-1;M>=0;M--)m=d[M],E=this._getLayer(m.layerId).layer,m.disabled=E.options.minZoom!==void 0&&O<E.options.minZoom||E.options.maxZoom!==void 0&&O>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Ut(d,"click",hi),this.expand();var m=this;setTimeout(function(){Xn(d,"click",hi),m._preventClick=!1})}}),Z1=function(d,m,E){return new ga(d,m,E)},Mw=Ss.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var m="leaflet-control-zoom",E=ct("div",m+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,m+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,m+"-out",E,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,m,E,O,M){var H=ct("a",E,O);return H.innerHTML=d,H.href="#",H.title=m,H.setAttribute("role","button"),H.setAttribute("aria-label",m),Wc(H),Ut(H,"click",zo),Ut(H,"click",M,this),Ut(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var d=this._map,m="leaflet-disabled";Pr(this._zoomInButton,m),Pr(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(Gt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(Gt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});ln.mergeOptions({zoomControl:!0}),ln.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mw,this.addControl(this.zoomControl))});var Of=function(d){return new Mw(d)},Lw=Ss.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var m="leaflet-control-scale",E=ct("div",m),O=this.options;return this._addScales(O,m+"-line",E),d.on(O.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),E},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,m,E){d.metric&&(this._mScale=ct("div",m,E)),d.imperial&&(this._iScale=ct("div",m,E))},_update:function(){var d=this._map,m=d.getSize().y/2,E=d.distance(d.containerPointToLatLng([0,m]),d.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(E)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var m=this._getRoundNum(d),E=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,E,m/d)},_updateImperial:function(d){var m=d*3.2808399,E,O,M;m>5280?(E=m/5280,O=this._getRoundNum(E),this._updateScale(this._iScale,O+" mi",O/E)):(M=this._getRoundNum(m),this._updateScale(this._iScale,M+" ft",M/m))},_updateScale:function(d,m,E){d.style.width=Math.round(this.options.maxWidth*E)+"px",d.innerHTML=m},_getRoundNum:function(d){var m=Math.pow(10,(Math.floor(d)+"").length-1),E=d/m;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,m*E}}),Fw=function(d){return new Lw(d)},tg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ng=Ss.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pe.inlineSvg?tg+" ":"")+"Leaflet</a>"},initialize:function(d){y(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Wc(this._container);for(var m in d._layers)d._layers[m].getAttribution&&this.addAttribution(d._layers[m].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var m in this._attributions)this._attributions[m]&&d.push(m);var E=[];this.options.prefix&&E.push(this.options.prefix),d.length&&E.push(d.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});ln.mergeOptions({attributionControl:!0}),ln.addInitHook(function(){this.options.attributionControl&&new ng().addTo(this)});var rg=function(d){return new ng(d)};Ss.Layers=ga,Ss.Zoom=Mw,Ss.Scale=Lw,Ss.Attribution=ng,Cd.layers=Z1,Cd.zoom=Of,Cd.scale=Fw,Cd.attribution=rg;var ya=Y.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ya.addTo=function(d,m){return d.addHandler(m,this),this};var J1={Events:j},Td=pe.touch?"touchstart mousedown":"mousedown",ic=q.extend({options:{clickTolerance:3},initialize:function(d,m,E,O){y(this,O),this._element=d,this._dragStartTarget=m||d,this._preventOutline=E},enable:function(){this._enabled||(Ut(this._dragStartTarget,Td,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ic._dragging===this&&this.finishDrag(!0),Xn(this._dragStartTarget,Td,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Tw(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){ic._dragging===this&&this.finishDrag();return}if(!(ic._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(ic._dragging=this,this._preventOutline&&xw(this._element),Jm(),Vc(),!this._moving)){this.fire("down");var m=d.touches?d.touches[0]:d,E=rc(this._element);this._startPoint=new V(m.clientX,m.clientY),this._startPos=En(this._element),this._parentScale=eg(E);var O=d.type==="mousedown";Ut(document,O?"mousemove":"touchmove",this._onMove,this),Ut(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var m=d.touches&&d.touches.length===1?d.touches[0]:d,E=new V(m.clientX,m.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,hi(d),this._moved||(this.fire("dragstart"),this._moved=!0,Gt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Fr(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Pr(document.body,"leaflet-dragging"),this._lastTarget&&(Pr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xn(document,"mousemove touchmove",this._onMove,this),Xn(document,"mouseup touchend touchcancel",this._onUp,this),Sw(),nc();var m=this._moved&&this._moving;this._moving=!1,ic._dragging=!1,m&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function $w(d,m,E){var O,M=[1,4,2,8],H,J,oe,he,_e,We,xt,sn;for(H=0,We=d.length;H<We;H++)d[H]._code=Jr(d[H],m);for(oe=0;oe<4;oe++){for(xt=M[oe],O=[],H=0,We=d.length,J=We-1;H<We;J=H++)he=d[H],_e=d[J],he._code&xt?_e._code&xt||(sn=Jl(_e,he,xt,m,E),sn._code=Jr(sn,m),O.push(sn)):(_e._code&xt&&(sn=Jl(_e,he,xt,m,E),sn._code=Jr(sn,m),O.push(sn)),O.push(he));d=O}return d}function ig(d,m){var E,O,M,H,J,oe,he,_e,We;if(!d||d.length===0)throw new Error("latlngs not passed");bi(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var xt=de([0,0]),sn=ce(d),qs=sn.getNorthWest().distanceTo(sn.getSouthWest())*sn.getNorthEast().distanceTo(sn.getNorthWest());qs<1700&&(xt=Df(d));var ki=d.length,va=[];for(E=0;E<ki;E++){var fo=de(d[E]);va.push(m.project(de([fo.lat-xt.lat,fo.lng-xt.lng])))}for(oe=he=_e=0,E=0,O=ki-1;E<ki;O=E++)M=va[E],H=va[O],J=M.y*H.x-H.y*M.x,he+=(M.x+H.x)*J,_e+=(M.y+H.y)*J,oe+=J*3;oe===0?We=va[0]:We=[he/oe,_e/oe];var lg=m.unproject(K(We));return de([lg.lat+xt.lat,lg.lng+xt.lng])}function Df(d){for(var m=0,E=0,O=0,M=0;M<d.length;M++){var H=de(d[M]);m+=H.lat,E+=H.lng,O++}return de([m/O,E/O])}var X1={__proto__:null,clipPolygon:$w,polygonCenter:ig,centroid:Df};function Nf(d,m){if(!m||!d.length)return d.slice();var E=m*m;return d=tA(d,E),d=Zl(d,E),d}function Uw(d,m,E){return Math.sqrt(Sd(d,m,E,!0))}function eA(d,m,E){return Sd(d,m,E)}function Zl(d,m){var E=d.length,O=typeof Uint8Array!=void 0+""?Uint8Array:Array,M=new O(E);M[0]=M[E-1]=1,sg(d,M,m,0,E-1);var H,J=[];for(H=0;H<E;H++)M[H]&&J.push(d[H]);return J}function sg(d,m,E,O,M){var H=0,J,oe,he;for(oe=O+1;oe<=M-1;oe++)he=Sd(d[oe],d[O],d[M],!0),he>H&&(J=oe,H=he);H>E&&(m[J]=1,sg(d,m,E,O,J),sg(d,m,E,J,M))}function tA(d,m){for(var E=[d[0]],O=1,M=0,H=d.length;O<H;O++)nA(d[O],d[M])>m&&(E.push(d[O]),M=O);return M<H-1&&E.push(d[H-1]),E}var jw;function Bw(d,m,E,O,M){var H=O?jw:Jr(d,E),J=Jr(m,E),oe,he,_e;for(jw=J;;){if(!(H|J))return[d,m];if(H&J)return!1;oe=H||J,he=Jl(d,m,oe,E,M),_e=Jr(he,E),oe===H?(d=he,H=_e):(m=he,J=_e)}}function Jl(d,m,E,O,M){var H=m.x-d.x,J=m.y-d.y,oe=O.min,he=O.max,_e,We;return E&8?(_e=d.x+H*(he.y-d.y)/J,We=he.y):E&4?(_e=d.x+H*(oe.y-d.y)/J,We=oe.y):E&2?(_e=he.x,We=d.y+J*(he.x-d.x)/H):E&1&&(_e=oe.x,We=d.y+J*(oe.x-d.x)/H),new V(_e,We,M)}function Jr(d,m){var E=0;return d.x<m.min.x?E|=1:d.x>m.max.x&&(E|=2),d.y<m.min.y?E|=4:d.y>m.max.y&&(E|=8),E}function nA(d,m){var E=m.x-d.x,O=m.y-d.y;return E*E+O*O}function Sd(d,m,E,O){var M=m.x,H=m.y,J=E.x-M,oe=E.y-H,he=J*J+oe*oe,_e;return he>0&&(_e=((d.x-M)*J+(d.y-H)*oe)/he,_e>1?(M=E.x,H=E.y):_e>0&&(M+=J*_e,H+=oe*_e)),J=d.x-M,oe=d.y-H,O?J*J+oe*oe:new V(M,H)}function bi(d){return!A(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function _(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bi(d)}function k(d,m){var E,O,M,H,J,oe,he,_e;if(!d||d.length===0)throw new Error("latlngs not passed");bi(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var We=de([0,0]),xt=ce(d),sn=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());sn<1700&&(We=Df(d));var qs=d.length,ki=[];for(E=0;E<qs;E++){var va=de(d[E]);ki.push(m.project(de([va.lat-We.lat,va.lng-We.lng])))}for(E=0,O=0;E<qs-1;E++)O+=ki[E].distanceTo(ki[E+1])/2;if(O===0)_e=ki[0];else for(E=0,H=0;E<qs-1;E++)if(J=ki[E],oe=ki[E+1],M=J.distanceTo(oe),H+=M,H>O){he=(H-O)/M,_e=[oe.x-he*(oe.x-J.x),oe.y-he*(oe.y-J.y)];break}var fo=m.unproject(K(_e));return de([fo.lat+We.lat,fo.lng+We.lng])}var B={__proto__:null,simplify:Nf,pointToSegmentDistance:Uw,closestPointOnSegment:eA,clipSegment:Bw,_getEdgeIntersection:Jl,_getBitCode:Jr,_sqClosestPointOnSegment:Sd,isFlat:bi,_flat:_,polylineCenter:k},W={project:function(d){return new V(d.lng,d.lat)},unproject:function(d){return new re(d.y,d.x)},bounds:new ee([-180,-90],[180,90])},ie={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var m=Math.PI/180,E=this.R,O=d.lat*m,M=this.R_MINOR/E,H=Math.sqrt(1-M*M),J=H*Math.sin(O),oe=Math.tan(Math.PI/4-O/2)/Math.pow((1-J)/(1+J),H/2);return O=-E*Math.log(Math.max(oe,1e-10)),new V(d.lng*m*E,O)},unproject:function(d){for(var m=180/Math.PI,E=this.R,O=this.R_MINOR/E,M=Math.sqrt(1-O*O),H=Math.exp(-d.y/E),J=Math.PI/2-2*Math.atan(H),oe=0,he=.1,_e;oe<15&&Math.abs(he)>1e-7;oe++)_e=M*Math.sin(J),_e=Math.pow((1-_e)/(1+_e),M/2),he=Math.PI/2-2*Math.atan(H*_e)-J,J+=he;return new re(J*m,d.x*m/E)}},fe={__proto__:null,LonLat:W,Mercator:ie,SphericalMercator:Ge},Re=i({},Ne,{code:"EPSG:3395",projection:ie,transformation:function(){var d=.5/(Math.PI*ie.R);return Me(d,.5,-d,.5)}()}),kn=i({},Ne,{code:"EPSG:4326",projection:W,transformation:Me(1/180,1,-1/180,.5)}),Ei=i({},ve,{projection:W,transformation:Me(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,m){var E=m.lng-d.lng,O=m.lat-d.lat;return Math.sqrt(E*E+O*O)},infinite:!0});ve.Earth=Ne,ve.EPSG3395=Re,ve.EPSG3857=ut,ve.EPSG900913=ht,ve.EPSG4326=kn,ve.Simple=Ei;var zt=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var m=d.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var E=this.getEvents();m.on(E,this),this.once("remove",function(){m.off(E,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});ln.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var m=c(d);return this._layers[m]?this:(this._layers[m]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var m=c(d);return this._layers[m]?(this._loaded&&d.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,m){for(var E in this._layers)d.call(m,this._layers[E]);return this},_addLayers:function(d){d=d?A(d)?d:[d]:[];for(var m=0,E=d.length;m<E;m++)this.addLayer(d[m])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var m=c(d);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,m=-1/0,E=this._getZoomSpan();for(var O in this._zoomBoundLayers){var M=this._zoomBoundLayers[O].options;d=M.minZoom===void 0?d:Math.min(d,M.minZoom),m=M.maxZoom===void 0?m:Math.max(m,M.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=d===1/0?void 0:d,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $r=zt.extend({initialize:function(d,m){y(this,m),this._layers={};var E,O;if(d)for(E=0,O=d.length;E<O;E++)this.addLayer(d[E])},addLayer:function(d){var m=this.getLayerId(d);return this._layers[m]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var m=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(d){var m=typeof d=="number"?d:this.getLayerId(d);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var m=Array.prototype.slice.call(arguments,1),E,O;for(E in this._layers)O=this._layers[E],O[d]&&O[d].apply(O,m);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,m){for(var E in this._layers)d.call(m,this._layers[E]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),Ri=function(d,m){return new $r(d,m)},Is=$r.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),$r.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),$r.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new le;for(var m in this._layers){var E=this._layers[m];d.extend(E.getBounds?E.getBounds():E.getLatLng())}return d}}),Vo=function(d,m){return new Is(d,m)},sc=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){y(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,m){var E=this._getIconUrl(d);if(!E){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(E,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(O,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(d,m){var E=this.options,O=E[m+"Size"];typeof O=="number"&&(O=[O,O]);var M=K(O),H=K(m==="shadow"&&E.shadowAnchor||E.iconAnchor||M&&M.divideBy(2,!0));d.className="leaflet-marker-"+m+" "+(E.className||""),H&&(d.style.marginLeft=-H.x+"px",d.style.marginTop=-H.y+"px"),M&&(d.style.width=M.x+"px",d.style.height=M.y+"px")},_createImg:function(d,m){return m=m||document.createElement("img"),m.src=d,m},_getIconUrl:function(d){return pe.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function zw(d){return new sc(d)}var Vw=sc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Vw.imagePath!="string"&&(Vw.imagePath=this._detectIconPath()),(this.options.imagePath||Vw.imagePath)+sc.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var m=function(E,O,M){var H=O.exec(E);return H&&H[M]};return d=m(d,/^url\((['"])?(.+)\1\)$/,2),d&&m(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),m=Zr(d,"background-image")||Zr(d,"backgroundImage");if(document.body.removeChild(d),m=this._stripUrl(m),m)return m;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),d5=ya.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new ic(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Gt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var m=this._marker,E=m._map,O=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,H=En(m._icon),J=E.getPixelBounds(),oe=E.getPixelOrigin(),he=ne(J.min._subtract(oe).add(M),J.max._subtract(oe).subtract(M));if(!he.contains(H)){var _e=K((Math.max(he.max.x,H.x)-he.max.x)/(J.max.x-he.max.x)-(Math.min(he.min.x,H.x)-he.min.x)/(J.min.x-he.min.x),(Math.max(he.max.y,H.y)-he.max.y)/(J.max.y-he.max.y)-(Math.min(he.min.y,H.y)-he.min.y)/(J.min.y-he.min.y)).multiplyBy(O);E.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),Fr(m._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=R(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,d)))},_onDrag:function(d){var m=this._marker,E=m._shadow,O=En(m._icon),M=m._map.layerPointToLatLng(O);E&&Fr(E,O),m._latlng=M,d.latlng=M,d.oldLatLng=this._oldLatLng,m.fire("move",d).fire("drag",d)},_onDragEnd:function(d){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),rA=zt.extend({options:{icon:new Vw,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,m){y(this,m),this._latlng=de(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var m=this._latlng;return this._latlng=de(d),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=d.icon.createIcon(this._icon),O=!1;E!==this._icon&&(this._icon&&this._removeIcon(),O=!0,d.title&&(E.title=d.title),E.tagName==="IMG"&&(E.alt=d.alt||"")),Gt(E,m),d.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(E,"focus",this._panOnFocus,this);var M=d.icon.createShadow(this._shadow),H=!1;M!==this._shadow&&(this._removeShadow(),H=!0),M&&(Gt(M,m),M.alt=""),this._shadow=M,d.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&H&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xn(this._icon,"focus",this._panOnFocus,this),en(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&en(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Fr(this._icon,d),this._shadow&&Fr(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var m=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),d5)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new d5(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&di(this._icon,d),this._shadow&&di(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var m=this.options.icon.options,E=m.iconSize?K(m.iconSize):K(0,0),O=m.iconAnchor?K(m.iconAnchor):K(0,0);d.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:E.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pce(d,m){return new rA(d,m)}var Id=zt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return y(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),iA=Id.extend({options:{fill:!0,radius:10},initialize:function(d,m){y(this,m),this._latlng=de(d),this._radius=this.options.radius},setLatLng:function(d){var m=this._latlng;return this._latlng=de(d),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var m=d&&d.radius||this._radius;return Id.prototype.setStyle.call(this,d),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,m=this._radiusY||d,E=this._clickTolerance(),O=[d+E,m+E];this._pxBounds=new ee(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mce(d,m){return new iA(d,m)}var WO=iA.extend({initialize:function(d,m,E){if(typeof m=="number"&&(m=i({},E,{radius:m})),y(this,m),this._latlng=de(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Id.prototype.setStyle,_project:function(){var d=this._latlng.lng,m=this._latlng.lat,E=this._map,O=E.options.crs;if(O.distance===Ne.distance){var M=Math.PI/180,H=this._mRadius/Ne.R/M,J=E.project([m+H,d]),oe=E.project([m-H,d]),he=J.add(oe).divideBy(2),_e=E.unproject(he).lat,We=Math.acos((Math.cos(H*M)-Math.sin(m*M)*Math.sin(_e*M))/(Math.cos(m*M)*Math.cos(_e*M)))/M;(isNaN(We)||We===0)&&(We=H/Math.cos(Math.PI/180*m)),this._point=he.subtract(E.getPixelOrigin()),this._radius=isNaN(We)?0:he.x-E.project([_e,d-We]).x,this._radiusY=he.y-J.y}else{var xt=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(xt).x}this._updateBounds()}});function gce(d,m,E){return new WO(d,m,E)}var Xl=Id.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,m){y(this,m),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var m=1/0,E=null,O=Sd,M,H,J=0,oe=this._parts.length;J<oe;J++)for(var he=this._parts[J],_e=1,We=he.length;_e<We;_e++){M=he[_e-1],H=he[_e];var xt=O(d,M,H,!0);xt<m&&(m=xt,E=O(d,M,H))}return E&&(E.distance=Math.sqrt(m)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,m){return m=m||this._defaultShape(),d=de(d),m.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new le,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return bi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var m=[],E=bi(d),O=0,M=d.length;O<M;O++)E?(m[O]=de(d[O]),this._bounds.extend(m[O])):m[O]=this._convertLatLngs(d[O]);return m},_project:function(){var d=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),m=new V(d,d);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(d,m,E){var O=d[0]instanceof re,M=d.length,H,J;if(O){for(J=[],H=0;H<M;H++)J[H]=this._map.latLngToLayerPoint(d[H]),E.extend(J[H]);m.push(J)}else for(H=0;H<M;H++)this._projectLatlngs(d[H],m,E)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,E,O,M,H,J,oe,he;for(E=0,M=0,H=this._rings.length;E<H;E++)for(he=this._rings[E],O=0,J=he.length;O<J-1;O++)oe=Bw(he[O],he[O+1],d,O,!0),oe&&(m[M]=m[M]||[],m[M].push(oe[0]),(oe[1]!==he[O+1]||O===J-2)&&(m[M].push(oe[1]),M++))}},_simplifyPoints:function(){for(var d=this._parts,m=this.options.smoothFactor,E=0,O=d.length;E<O;E++)d[E]=Nf(d[E],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,m){var E,O,M,H,J,oe,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(E=0,H=this._parts.length;E<H;E++)for(oe=this._parts[E],O=0,J=oe.length,M=J-1;O<J;M=O++)if(!(!m&&O===0)&&Uw(d,oe[M],oe[O])<=he)return!0;return!1}});function yce(d,m){return new Xl(d,m)}Xl._flat=_;var og=Xl.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ig(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var m=Xl.prototype._convertLatLngs.call(this,d),E=m.length;return E>=2&&m[0]instanceof re&&m[0].equals(m[E-1])&&m.pop(),m},_setLatLngs:function(d){Xl.prototype._setLatLngs.call(this,d),bi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,m=this.options.weight,E=new V(m,m);if(d=new ee(d.min.subtract(E),d.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,M=this._rings.length,H;O<M;O++)H=$w(this._rings[O],d,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var m=!1,E,O,M,H,J,oe,he,_e;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(H=0,he=this._parts.length;H<he;H++)for(E=this._parts[H],J=0,_e=E.length,oe=_e-1;J<_e;oe=J++)O=E[J],M=E[oe],O.y>d.y!=M.y>d.y&&d.x<(M.x-O.x)*(d.y-O.y)/(M.y-O.y)+O.x&&(m=!m);return m||Xl.prototype._containsPoint.call(this,d,!0)}});function vce(d,m){return new og(d,m)}var eu=Is.extend({initialize:function(d,m){y(this,m),this._layers={},d&&this.addData(d)},addData:function(d){var m=A(d)?d:d.features,E,O,M;if(m){for(E=0,O=m.length;E<O;E++)M=m[E],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var H=this.options;if(H.filter&&!H.filter(d))return this;var J=sA(d,H);return J?(J.feature=cA(d),J.defaultOptions=J.options,this.resetStyle(J),H.onEachFeature&&H.onEachFeature(d,J),this.addLayer(J)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(m){this._setLayerStyle(m,d)},this)},_setLayerStyle:function(d,m){d.setStyle&&(typeof m=="function"&&(m=m(d.feature)),d.setStyle(m))}});function sA(d,m){var E=d.type==="Feature"?d.geometry:d,O=E?E.coordinates:null,M=[],H=m&&m.pointToLayer,J=m&&m.coordsToLatLng||qO,oe,he,_e,We;if(!O&&!E)return null;switch(E.type){case"Point":return oe=J(O),h5(H,d,oe,m);case"MultiPoint":for(_e=0,We=O.length;_e<We;_e++)oe=J(O[_e]),M.push(h5(H,d,oe,m));return new Is(M);case"LineString":case"MultiLineString":return he=oA(O,E.type==="LineString"?0:1,J),new Xl(he,m);case"Polygon":case"MultiPolygon":return he=oA(O,E.type==="Polygon"?1:2,J),new og(he,m);case"GeometryCollection":for(_e=0,We=E.geometries.length;_e<We;_e++){var xt=sA({geometry:E.geometries[_e],type:"Feature",properties:d.properties},m);xt&&M.push(xt)}return new Is(M);case"FeatureCollection":for(_e=0,We=E.features.length;_e<We;_e++){var sn=sA(E.features[_e],m);sn&&M.push(sn)}return new Is(M);default:throw new Error("Invalid GeoJSON object.")}}function h5(d,m,E,O){return d?d(m,E):new rA(E,O&&O.markersInheritOptions&&O)}function qO(d){return new re(d[1],d[0],d[2])}function oA(d,m,E){for(var O=[],M=0,H=d.length,J;M<H;M++)J=m?oA(d[M],m-1,E):(E||qO)(d[M]),O.push(J);return O}function GO(d,m){return d=de(d),d.alt!==void 0?[f(d.lng,m),f(d.lat,m),f(d.alt,m)]:[f(d.lng,m),f(d.lat,m)]}function aA(d,m,E,O){for(var M=[],H=0,J=d.length;H<J;H++)M.push(m?aA(d[H],bi(d[H])?0:m-1,E,O):GO(d[H],O));return!m&&E&&M.length>0&&M.push(M[0].slice()),M}function ag(d,m){return d.feature?i({},d.feature,{geometry:m}):cA(m)}function cA(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var KO={toGeoJSON:function(d){return ag(this,{type:"Point",coordinates:GO(this.getLatLng(),d)})}};rA.include(KO),WO.include(KO),iA.include(KO),Xl.include({toGeoJSON:function(d){var m=!bi(this._latlngs),E=aA(this._latlngs,m?1:0,!1,d);return ag(this,{type:(m?"Multi":"")+"LineString",coordinates:E})}}),og.include({toGeoJSON:function(d){var m=!bi(this._latlngs),E=m&&!bi(this._latlngs[0]),O=aA(this._latlngs,E?2:m?1:0,!0,d);return m||(O=[O]),ag(this,{type:(E?"Multi":"")+"Polygon",coordinates:O})}}),$r.include({toMultiPoint:function(d){var m=[];return this.eachLayer(function(E){m.push(E.toGeoJSON(d).geometry.coordinates)}),ag(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(d){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(d);var E=m==="GeometryCollection",O=[];return this.eachLayer(function(M){if(M.toGeoJSON){var H=M.toGeoJSON(d);if(E)O.push(H.geometry);else{var J=cA(H);J.type==="FeatureCollection"?O.push.apply(O,J.features):O.push(J)}}}),E?ag(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function f5(d,m){return new eu(d,m)}var wce=f5,lA=zt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,m,E){this._url=d,this._bounds=ce(m),y(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){en(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&ec(this._image),this},bringToBack:function(){return this._map&&Gl(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=ce(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",m=this._image=d?this._url:ct("img");if(Gt(m,"leaflet-image-layer"),this._zoomAnimated&&Gt(m,"leaflet-zoom-animated"),this.options.className&&Gt(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onload=o(this.fire,this,"load"),m.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(d){var m=this._map.getZoomScale(d.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;pa(this._image,E,m)},_reset:function(){var d=this._image,m=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=m.getSize();Fr(d,m.min),d.style.width=E.x+"px",d.style.height=E.y+"px"},_updateOpacity:function(){di(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),_ce=function(d,m,E){return new lA(d,m,E)},p5=lA.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",m=this._image=d?this._url:ct("video");if(Gt(m,"leaflet-image-layer"),this._zoomAnimated&&Gt(m,"leaflet-zoom-animated"),this.options.className&&Gt(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onloadeddata=o(this.fire,this,"load"),d){for(var E=m.getElementsByTagName("source"),O=[],M=0;M<E.length;M++)O.push(E[M].src);this._url=E.length>0?O:[m.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var J=ct("source");J.src=this._url[H],m.appendChild(J)}}});function bce(d,m,E){return new p5(d,m,E)}var m5=lA.extend({_initImage:function(){var d=this._image=this._url;Gt(d,"leaflet-image-layer"),this._zoomAnimated&&Gt(d,"leaflet-zoom-animated"),this.options.className&&Gt(d,this.options.className),d.onselectstart=h,d.onmousemove=h}});function Ece(d,m,E){return new m5(d,m,E)}var qc=zt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,m){d&&(d instanceof re||A(d))?(this._latlng=de(d),y(this,m)):(y(this,d),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&di(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&di(this._container,1),this.bringToFront(),this.options.interactive&&(Gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(di(this._container,0),this._removeTimeout=setTimeout(o(en,void 0,this._container),200)):en(this._container),this.options.interactive&&(Pr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=de(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ec(this._container),this},bringToBack:function(){return this._map&&Gl(this._container),this},_prepareOpen:function(d){var m=this._source;if(!m._map)return!1;if(m instanceof Is){m=null;var E=this._source._layers;for(var O in E)if(E[O]._map){m=E[O];break}if(!m)return!1;this._source=m}if(!d)if(m.getCenter)d=m.getCenter();else if(m.getLatLng)d=m.getLatLng();else if(m.getBounds)d=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")d.innerHTML=m;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),m=K(this.options.offset),E=this._getAnchor();this._zoomAnimated?Fr(this._container,d.add(E)):m=m.add(d).add(E);var O=this._containerBottom=-m.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=O+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});ln.include({_initOverlay:function(d,m,E,O){var M=m;return M instanceof d||(M=new d(O).setContent(m)),E&&M.setLatLng(E),M}}),zt.include({_initOverlay:function(d,m,E,O){var M=E;return M instanceof d?(y(M,O),M._source=this):(M=m&&!O?m:new d(O,this),M.setContent(E)),M}});var uA=qc.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,qc.prototype.openOn.call(this,d)},onAdd:function(d){qc.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Id||this._source.on("preclick",Ql))},onRemove:function(d){qc.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Id||this._source.off("preclick",Ql))},getEvents:function(){var d=qc.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",m=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=ct("div",d+"-content-wrapper",m);if(this._contentNode=ct("div",d+"-content",E),Wc(m),Ed(this._contentNode),Ut(m,"contextmenu",Ql),this._tipContainer=ct("div",d+"-tip-container",m),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=ct("a",d+"-close-button",m);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(O,"click",function(M){hi(M),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,m=d.style;m.width="",m.whiteSpace="nowrap";var E=d.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),m.width=E+1+"px",m.whiteSpace="",m.height="";var O=d.offsetHeight,M=this.options.maxHeight,H="leaflet-popup-scrolled";M&&O>M?(m.height=M+"px",Gt(d,H)):Pr(d,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var m=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),E=this._getAnchor();Fr(this._container,m.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,m=parseInt(Zr(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+m,O=this._containerWidth,M=new V(this._containerLeft,-E-this._containerBottom);M._add(En(this._container));var H=d.layerPointToContainerPoint(M),J=K(this.options.autoPanPadding),oe=K(this.options.autoPanPaddingTopLeft||J),he=K(this.options.autoPanPaddingBottomRight||J),_e=d.getSize(),We=0,xt=0;H.x+O+he.x>_e.x&&(We=H.x+O-_e.x+he.x),H.x-We-oe.x<0&&(We=H.x-oe.x),H.y+E+he.y>_e.y&&(xt=H.y+E-_e.y+he.y),H.y-xt-oe.y<0&&(xt=H.y-oe.y),(We||xt)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([We,xt]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ace=function(d,m){return new uA(d,m)};ln.mergeOptions({closePopupOnClick:!0}),ln.include({openPopup:function(d,m,E){return this._initOverlay(uA,d,m,E).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),zt.include({bindPopup:function(d,m){return this._popup=this._initOverlay(uA,this._popup,d,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Is||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){zo(d);var m=d.layer||d.target;if(this._popup._source===m&&!(m instanceof Id)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=m,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var dA=qc.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){qc.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){qc.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=qc.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",m=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var m,E,O=this._map,M=this._container,H=O.latLngToContainerPoint(O.getCenter()),J=O.layerPointToContainerPoint(d),oe=this.options.direction,he=M.offsetWidth,_e=M.offsetHeight,We=K(this.options.offset),xt=this._getAnchor();oe==="top"?(m=he/2,E=_e):oe==="bottom"?(m=he/2,E=0):oe==="center"?(m=he/2,E=_e/2):oe==="right"?(m=0,E=_e/2):oe==="left"?(m=he,E=_e/2):J.x<H.x?(oe="right",m=0,E=_e/2):(oe="left",m=he+(We.x+xt.x)*2,E=_e/2),d=d.subtract(K(m,E,!0)).add(We).add(xt),Pr(M,"leaflet-tooltip-right"),Pr(M,"leaflet-tooltip-left"),Pr(M,"leaflet-tooltip-top"),Pr(M,"leaflet-tooltip-bottom"),Gt(M,"leaflet-tooltip-"+oe),Fr(M,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&di(this._container,d)},_animateZoom:function(d){var m=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(m)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cce=function(d,m){return new dA(d,m)};ln.include({openTooltip:function(d,m,E){return this._initOverlay(dA,d,m,E).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),zt.include({bindTooltip:function(d,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dA,this._tooltip,d,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var m=d?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[m](E),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Is||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var m=typeof d.getElement=="function"&&d.getElement();m&&(Ut(m,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Ut(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var m=typeof d.getElement=="function"&&d.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var m=d.latlng,E,O;this._tooltip.options.sticky&&d.originalEvent&&(E=this._map.mouseEventToContainerPoint(d.originalEvent),O=this._map.containerPointToLayerPoint(E),m=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(m)}});var g5=sc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var m=d&&d.tagName==="DIV"?d:document.createElement("div"),E=this.options;if(E.html instanceof Element?(ho(m),m.appendChild(E.html)):m.innerHTML=E.html!==!1?E.html:"",E.bgPos){var O=K(E.bgPos);m.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Tce(d){return new g5(d)}sc.Default=Vw;var Hw=zt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){y(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),en(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ec(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof V?d:new V(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var m=this.getPane().children,E=-d(-1/0,1/0),O=0,M=m.length,H;O<M;O++)H=m[O].style.zIndex,m[O]!==this._container&&H&&(E=d(E,+H));isFinite(E)&&(this.options.zIndex=E+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pe.ielt9){di(this._container,this.options.opacity);var d=+new Date,m=!1,E=!1;for(var O in this._tiles){var M=this._tiles[O];if(!(!M.current||!M.loaded)){var H=Math.min(1,(d-M.loaded)/200);di(M.el,H),H<1?m=!0:(M.active?E=!0:this._onOpaqueTile(M),M.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),m&&($(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,m=this.options.maxZoom;if(d!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===d?(this._levels[E].el.style.zIndex=m-Math.abs(d-E),this._onUpdateLevel(E)):(en(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var O=this._levels[d],M=this._map;return O||(O=this._levels[d]={},O.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=m,O.origin=M.project(M.unproject(M.getPixelOrigin()),d).round(),O.zoom=d,this._setZoomTransform(O,M.getCenter(),M.getZoom()),h(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var d,m,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)m=this._tiles[d],m.retain=m.current;for(d in this._tiles)if(m=this._tiles[d],m.current&&!m.active){var O=m.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var m in this._tiles)this._tiles[m].coords.z===d&&this._removeTile(m)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)en(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,m,E,O){var M=Math.floor(d/2),H=Math.floor(m/2),J=E-1,oe=new V(+M,+H);oe.z=+J;var he=this._tileCoordsToKey(oe),_e=this._tiles[he];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),J>O?this._retainParent(M,H,J,O):!1)},_retainChildren:function(d,m,E,O){for(var M=2*d;M<2*d+2;M++)for(var H=2*m;H<2*m+2;H++){var J=new V(M,H);J.z=E+1;var oe=this._tileCoordsToKey(J),he=this._tiles[oe];if(he&&he.active){he.retain=!0;continue}else he&&he.loaded&&(he.retain=!0);E+1<O&&this._retainChildren(M,H,E+1,O)}},_resetView:function(d){var m=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var m=this.options;return m.minNativeZoom!==void 0&&d<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<d?m.maxNativeZoom:d},_setView:function(d,m,E,O){var M=Math.round(m);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var H=this.options.updateWhenZooming&&M!==this._tileZoom;(!O||H)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(d),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(d,m)},_setZoomTransforms:function(d,m){for(var E in this._levels)this._setZoomTransform(this._levels[E],d,m)},_setZoomTransform:function(d,m,E){var O=this._map.getZoomScale(E,d.zoom),M=d.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(m,E)).round();pe.any3d?pa(d.el,M,O):Fr(d.el,M)},_resetGrid:function(){var d=this._map,m=d.options.crs,E=this._tileSize=this.getTileSize(),O=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,m.wrapLng[0]],O).x/E.x),Math.ceil(d.project([0,m.wrapLng[1]],O).x/E.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([m.wrapLat[0],0],O).y/E.x),Math.ceil(d.project([m.wrapLat[1],0],O).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var m=this._map,E=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),O=m.getZoomScale(E,this._tileZoom),M=m.project(d,this._tileZoom).floor(),H=m.getSize().divideBy(O*2);return new ee(M.subtract(H),M.add(H))},_update:function(d){var m=this._map;if(m){var E=this._clampZoom(m.getZoom());if(d===void 0&&(d=m.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(d),M=this._pxBoundsToTileRange(O),H=M.getCenter(),J=[],oe=this.options.keepBuffer,he=new ee(M.getBottomLeft().subtract([oe,-oe]),M.getTopRight().add([oe,-oe]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var We=this._tiles[_e].coords;(We.z!==this._tileZoom||!he.contains(new V(We.x,We.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(d,E);return}for(var xt=M.min.y;xt<=M.max.y;xt++)for(var sn=M.min.x;sn<=M.max.x;sn++){var qs=new V(sn,xt);if(qs.z=this._tileZoom,!!this._isValidTile(qs)){var ki=this._tiles[this._tileCoordsToKey(qs)];ki?ki.current=!0:J.push(qs)}}if(J.sort(function(fo,lg){return fo.distanceTo(H)-lg.distanceTo(H)}),J.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var va=document.createDocumentFragment();for(sn=0;sn<J.length;sn++)this._addTile(J[sn],va);this._level.el.appendChild(va)}}}},_isValidTile:function(d){var m=this._map.options.crs;if(!m.infinite){var E=this._globalTileRange;if(!m.wrapLng&&(d.x<E.min.x||d.x>E.max.x)||!m.wrapLat&&(d.y<E.min.y||d.y>E.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(d);return ce(this.options.bounds).overlaps(O)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var m=this._map,E=this.getTileSize(),O=d.scaleBy(E),M=O.add(E),H=m.unproject(O,d.z),J=m.unproject(M,d.z);return[H,J]},_tileCoordsToBounds:function(d){var m=this._tileCoordsToNwSe(d),E=new le(m[0],m[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var m=d.split(":"),E=new V(+m[0],+m[1]);return E.z=+m[2],E},_removeTile:function(d){var m=this._tiles[d];m&&(en(m.el),delete this._tiles[d],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){Gt(d,"leaflet-tile");var m=this.getTileSize();d.style.width=m.x+"px",d.style.height=m.y+"px",d.onselectstart=h,d.onmousemove=h,pe.ielt9&&this.options.opacity<1&&di(d,this.options.opacity)},_addTile:function(d,m){var E=this._getTilePos(d),O=this._tileCoordsToKey(d),M=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(M),this.createTile.length<2&&R(o(this._tileReady,this,d,null,M)),Fr(M,E),this._tiles[O]={el:M,coords:d,current:!0},m.appendChild(M),this.fire("tileloadstart",{tile:M,coords:d})},_tileReady:function(d,m,E){m&&this.fire("tileerror",{error:m,tile:E,coords:d});var O=this._tileCoordsToKey(d);E=this._tiles[O],E&&(E.loaded=+new Date,this._map._fadeAnimated?(di(E.el,0),$(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),m||(Gt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pe.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var m=new V(this._wrapX?u(d.x,this._wrapX):d.x,this._wrapY?u(d.y,this._wrapY):d.y);return m.z=d.z,m},_pxBoundsToTileRange:function(d){var m=this.getTileSize();return new ee(d.min.unscaleBy(m).floor(),d.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Sce(d){return new Hw(d)}var cg=Hw.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,m){this._url=d,m=y(this,m),m.detectRetina&&pe.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,m){return this._url===d&&m===void 0&&(m=!0),this._url=d,m||this.redraw(),this},createTile:function(d,m){var E=document.createElement("img");return Ut(E,"load",o(this._tileOnLoad,this,m,E)),Ut(E,"error",o(this._tileOnError,this,m,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(d),E},getTileUrl:function(d){var m={r:pe.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-d.y;this.options.tms&&(m.y=E),m["-y"]=E}return w(this._url,i(m,this.options))},_tileOnLoad:function(d,m){pe.ielt9?setTimeout(o(d,this,null,m),0):d(null,m)},_tileOnError:function(d,m,E){var O=this.options.errorTileUrl;O&&m.getAttribute("src")!==O&&(m.src=O),d(E,m)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,m=this.options.maxZoom,E=this.options.zoomReverse,O=this.options.zoomOffset;return E&&(d=m-d),d+O},_getSubdomain:function(d){var m=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var d,m;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(m=this._tiles[d].el,m.onload=h,m.onerror=h,!m.complete)){m.src=P;var E=this._tiles[d].coords;en(m),delete this._tiles[d],this.fire("tileabort",{tile:m,coords:E})}},_removeTile:function(d){var m=this._tiles[d];if(m)return m.el.setAttribute("src",P),Hw.prototype._removeTile.call(this,d)},_tileReady:function(d,m,E){if(!(!this._map||E&&E.getAttribute("src")===P))return Hw.prototype._tileReady.call(this,d,m,E)}});function y5(d,m){return new cg(d,m)}var v5=cg.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,m){this._url=d;var E=i({},this.defaultWmsParams);for(var O in m)O in this.options||(E[O]=m[O]);m=y(this,m);var M=m.detectRetina&&pe.retina?2:1,H=this.getTileSize();E.width=H.x*M,E.height=H.y*M,this.wmsParams=E},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,cg.prototype.onAdd.call(this,d)},getTileUrl:function(d){var m=this._tileCoordsToNwSe(d),E=this._crs,O=ne(E.project(m[0]),E.project(m[1])),M=O.min,H=O.max,J=(this._wmsVersion>=1.3&&this._crs===kn?[M.y,M.x,H.y,H.x]:[M.x,M.y,H.x,H.y]).join(","),oe=cg.prototype.getTileUrl.call(this,d);return oe+v(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(d,m){return i(this.wmsParams,d),m||this.redraw(),this}});function Ice(d,m){return new v5(d,m)}cg.WMS=v5,y5.wms=Ice;var tu=zt.extend({options:{padding:.1},initialize:function(d){y(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,m){var E=this._map.getZoomScale(m,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,m),H=O.multiplyBy(-E).add(M).subtract(this._map._getNewPixelOrigin(d,m));pe.any3d?pa(this._container,H,E):Fr(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,m=this._map.getSize(),E=this._map.containerPointToLayerPoint(m.multiplyBy(-d)).round();this._bounds=new ee(E,E.add(m.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),w5=tu.extend({options:{tolerance:0},getEvents:function(){var d=tu.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){tu.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Ut(d,"mousemove",this._onMouseMove,this),Ut(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,en(this._container),Xn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var m in this._layers)d=this._layers[m],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tu.prototype._update.call(this);var d=this._bounds,m=this._container,E=d.getSize(),O=pe.retina?2:1;Fr(m,d.min),m.width=O*E.x,m.height=O*E.y,m.style.width=E.x+"px",m.style.height=E.y+"px",pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){tu.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var m=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var m=d._order,E=m.next,O=m.prev;E?E.prev=O:this._drawLast=O,O?O.next=E:this._drawFirst=E,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var m=d.options.dashArray.split(/[, ]+/),E=[],O,M;for(M=0;M<m.length;M++){if(O=Number(m[M]),isNaN(O))return;E.push(O)}d.options._dashArray=E}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var m=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(d._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(d._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var m=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,m=this._redrawBounds;if(this._ctx.save(),m){var E=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)d=O.layer,(!m||d._pxBounds&&d._pxBounds.intersects(m))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,m){if(this._drawing){var E,O,M,H,J=d._parts,oe=J.length,he=this._ctx;if(oe){for(he.beginPath(),E=0;E<oe;E++){for(O=0,M=J[E].length;O<M;O++)H=J[E][O],he[O?"lineTo":"moveTo"](H.x,H.y);m&&he.closePath()}this._fillStroke(he,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var m=d._point,E=this._ctx,O=Math.max(Math.round(d._radius),1),M=(Math.max(Math.round(d._radiusY),1)||O)/O;M!==1&&(E.save(),E.scale(1,M)),E.beginPath(),E.arc(m.x,m.y/M,O,0,Math.PI*2,!1),M!==1&&E.restore(),this._fillStroke(E,d)}},_fillStroke:function(d,m){var E=m.options;E.fill&&(d.globalAlpha=E.fillOpacity,d.fillStyle=E.fillColor||E.color,d.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(d.setLineDash&&d.setLineDash(m.options&&m.options._dashArray||[]),d.globalAlpha=E.opacity,d.lineWidth=E.weight,d.strokeStyle=E.color,d.lineCap=E.lineCap,d.lineJoin=E.lineJoin,d.stroke())},_onClick:function(d){for(var m=this._map.mouseEventToLayerPoint(d),E,O,M=this._drawFirst;M;M=M.next)E=M.layer,E.options.interactive&&E._containsPoint(m)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(E))&&(O=E);this._fireEvent(O?[O]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,m)}},_handleMouseOut:function(d){var m=this._hoveredLayer;m&&(Pr(this._container,"leaflet-interactive"),this._fireEvent([m],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,m){if(!this._mouseHoverThrottled){for(var E,O,M=this._drawFirst;M;M=M.next)E=M.layer,E.options.interactive&&E._containsPoint(m)&&(O=E);O!==this._hoveredLayer&&(this._handleMouseOut(d),O&&(Gt(this._container,"leaflet-interactive"),this._fireEvent([O],d,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,m,E){this._map._fireDOMEvent(m,E||m.type,d)},_bringToFront:function(d){var m=d._order;if(m){var E=m.next,O=m.prev;if(E)E.prev=O;else return;O?O.next=E:E&&(this._drawFirst=E),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(d)}},_bringToBack:function(d){var m=d._order;if(m){var E=m.next,O=m.prev;if(O)O.next=E;else return;E?E.prev=O:O&&(this._drawLast=O),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(d)}}});function _5(d){return pe.canvas?new w5(d):null}var Ww=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xce={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(tu.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var m=d._container=Ww("shape");Gt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",d._path=Ww("path"),m.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var m=d._container;this._container.appendChild(m),d.options.interactive&&d.addInteractiveTarget(m)},_removePath:function(d){var m=d._container;en(m),d.removeInteractiveTarget(m),delete this._layers[c(d)]},_updateStyle:function(d){var m=d._stroke,E=d._fill,O=d.options,M=d._container;M.stroked=!!O.stroke,M.filled=!!O.fill,O.stroke?(m||(m=d._stroke=Ww("stroke")),M.appendChild(m),m.weight=O.weight+"px",m.color=O.color,m.opacity=O.opacity,O.dashArray?m.dashStyle=A(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=O.lineCap.replace("butt","flat"),m.joinstyle=O.lineJoin):m&&(M.removeChild(m),d._stroke=null),O.fill?(E||(E=d._fill=Ww("fill")),M.appendChild(E),E.color=O.fillColor||O.color,E.opacity=O.fillOpacity):E&&(M.removeChild(E),d._fill=null)},_updateCircle:function(d){var m=d._point.round(),E=Math.round(d._radius),O=Math.round(d._radiusY||E);this._setPath(d,d._empty()?"M0 0":"AL "+m.x+","+m.y+" "+E+","+O+" 0,"+65535*360)},_setPath:function(d,m){d._path.v=m},_bringToFront:function(d){ec(d._container)},_bringToBack:function(d){Gl(d._container)}},hA=pe.vml?Ww:Xt,qw=tu.extend({_initContainer:function(){this._container=hA("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hA("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){en(this._container),Xn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tu.prototype._update.call(this);var d=this._bounds,m=d.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,E.setAttribute("width",m.x),E.setAttribute("height",m.y)),Fr(E,d.min),E.setAttribute("viewBox",[d.min.x,d.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(d){var m=d._path=hA("path");d.options.className&&Gt(m,d.options.className),d.options.interactive&&Gt(m,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){en(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var m=d._path,E=d.options;m&&(E.stroke?(m.setAttribute("stroke",E.color),m.setAttribute("stroke-opacity",E.opacity),m.setAttribute("stroke-width",E.weight),m.setAttribute("stroke-linecap",E.lineCap),m.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?m.setAttribute("stroke-dasharray",E.dashArray):m.removeAttribute("stroke-dasharray"),E.dashOffset?m.setAttribute("stroke-dashoffset",E.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),E.fill?(m.setAttribute("fill",E.fillColor||E.color),m.setAttribute("fill-opacity",E.fillOpacity),m.setAttribute("fill-rule",E.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(d,m){this._setPath(d,Rt(d._parts,m))},_updateCircle:function(d){var m=d._point,E=Math.max(Math.round(d._radius),1),O=Math.max(Math.round(d._radiusY),1)||E,M="a"+E+","+O+" 0 1,0 ",H=d._empty()?"M0 0":"M"+(m.x-E)+","+m.y+M+E*2+",0 "+M+-E*2+",0 ";this._setPath(d,H)},_setPath:function(d,m){d._path.setAttribute("d",m)},_bringToFront:function(d){ec(d._path)},_bringToBack:function(d){Gl(d._path)}});pe.vml&&qw.include(xce);function b5(d){return pe.svg||pe.vml?new qw(d):null}ln.include({getRenderer:function(d){var m=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var m=this._paneRenderers[d];return m===void 0&&(m=this._createRenderer({pane:d}),this._paneRenderers[d]=m),m},_createRenderer:function(d){return this.options.preferCanvas&&_5(d)||b5(d)}});var E5=og.extend({initialize:function(d,m){og.prototype.initialize.call(this,this._boundsToLatLngs(d),m)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=ce(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Pce(d,m){return new E5(d,m)}qw.create=hA,qw.pointsToPath=Rt,eu.geometryToLayer=sA,eu.coordsToLatLng=qO,eu.coordsToLatLngs=oA,eu.latLngToCoords=GO,eu.latLngsToCoords=aA,eu.getFeature=ag,eu.asFeature=cA,ln.mergeOptions({boxZoom:!0});var A5=ya.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){en(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vc(),Jm(),this._startPoint=this._map.mouseEventToContainerPoint(d),Ut(document,{contextmenu:zo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),Gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var m=new ee(this._point,this._startPoint),E=m.getSize();Fr(this._box,m.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(en(this._box),Pr(this._container,"leaflet-crosshair")),nc(),Sw(),Xn(document,{contextmenu:zo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var m=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ln.addInitHook("addHandler","boxZoom",A5),ln.mergeOptions({doubleClickZoom:!0});var C5=ya.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var m=this._map,E=m.getZoom(),O=m.options.zoomDelta,M=d.originalEvent.shiftKey?E-O:E+O;m.options.doubleClickZoom==="center"?m.setZoom(M):m.setZoomAround(d.containerPoint,M)}});ln.addInitHook("addHandler","doubleClickZoom",C5),ln.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var T5=ya.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new ic(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}Gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pr(this._map._container,"leaflet-grab"),Pr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=ce(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var m=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(m),this._prunePositions(m)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,m){return d-(d-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;d.x<m.min.x&&(d.x=this._viscousLimit(d.x,m.min.x)),d.y<m.min.y&&(d.y=this._viscousLimit(d.y,m.min.y)),d.x>m.max.x&&(d.x=this._viscousLimit(d.x,m.max.x)),d.y>m.max.y&&(d.y=this._viscousLimit(d.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,m=Math.round(d/2),E=this._initialWorldOffset,O=this._draggable._newPos.x,M=(O-m+E)%d+m-E,H=(O+m+E)%d-m-E,J=Math.abs(M+E)<Math.abs(H+E)?M:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(d){var m=this._map,E=m.options,O=!E.inertia||d.noInertia||this._times.length<2;if(m.fire("dragend",d),O)m.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,J=E.easeLinearity,oe=M.multiplyBy(J/H),he=oe.distanceTo([0,0]),_e=Math.min(E.inertiaMaxSpeed,he),We=oe.multiplyBy(_e/he),xt=_e/(E.inertiaDeceleration*J),sn=We.multiplyBy(-xt/2).round();!sn.x&&!sn.y?m.fire("moveend"):(sn=m._limitOffset(sn,m.options.maxBounds),R(function(){m.panBy(sn,{duration:xt,easeLinearity:J,noMoveStart:!0,animate:!0})}))}}});ln.addInitHook("addHandler","dragging",T5),ln.mergeOptions({keyboard:!0,keyboardPanDelta:80});var S5=ya.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Ut(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,m=document.documentElement,E=d.scrollTop||m.scrollTop,O=d.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(O,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var m=this._panKeys={},E=this.keyCodes,O,M;for(O=0,M=E.left.length;O<M;O++)m[E.left[O]]=[-1*d,0];for(O=0,M=E.right.length;O<M;O++)m[E.right[O]]=[d,0];for(O=0,M=E.down.length;O<M;O++)m[E.down[O]]=[0,d];for(O=0,M=E.up.length;O<M;O++)m[E.up[O]]=[0,-1*d]},_setZoomDelta:function(d){var m=this._zoomKeys={},E=this.keyCodes,O,M;for(O=0,M=E.zoomIn.length;O<M;O++)m[E.zoomIn[O]]=d;for(O=0,M=E.zoomOut.length;O<M;O++)m[E.zoomOut[O]]=-d},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var m=d.keyCode,E=this._map,O;if(m in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(O=this._panKeys[m],d.shiftKey&&(O=K(O).multiplyBy(3)),E.options.maxBounds&&(O=E._limitOffset(K(O),E.options.maxBounds)),E.options.worldCopyJump){var M=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(O)));E.panTo(M)}else E.panBy(O)}else if(m in this._zoomKeys)E.setZoom(E.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;zo(d)}}});ln.addInitHook("addHandler","keyboard",S5),ln.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var I5=ya.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var m=yr(d),E=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var O=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),O),zo(d)},_performZoom:function(){var d=this._map,m=d.getZoom(),E=this._map.options.zoomSnap||0;d._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,H=E?Math.ceil(M/E)*E:M,J=d._limitZoom(m+(this._delta>0?H:-H))-m;this._delta=0,this._startTime=null,J&&(d.options.scrollWheelZoom==="center"?d.setZoom(m+J):d.setZoomAround(this._lastMousePos,m+J))}});ln.addInitHook("addHandler","scrollWheelZoom",I5);var Oce=600;ln.mergeOptions({tapHold:pe.touchNative&&pe.safari&&pe.mobile,tapTolerance:15});var x5=ya.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var m=d.touches[0];this._startPos=this._newPos=new V(m.clientX,m.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",hi),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),Oce),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Xn(document,"touchend",hi),Xn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Xn(document,"touchend touchcancel contextmenu",this._cancel,this),Xn(document,"touchmove",this._onMove,this)},_onMove:function(d){var m=d.touches[0];this._newPos=new V(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,m){var E=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});E._simulated=!0,m.target.dispatchEvent(E)}});ln.addInitHook("addHandler","tapHold",x5),ln.mergeOptions({touchZoom:pe.touch,bounceAtZoomLimits:!0});var P5=ya.extend({addHooks:function(){Gt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pr(this._map._container,"leaflet-touch-zoom"),Xn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var m=this._map;if(!(!d.touches||d.touches.length!==2||m._animatingZoom||this._zooming)){var E=m.mouseEventToContainerPoint(d.touches[0]),O=m.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(E.add(O)._divideBy(2))),this._startDist=E.distanceTo(O),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),hi(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var m=this._map,E=m.mouseEventToContainerPoint(d.touches[0]),O=m.mouseEventToContainerPoint(d.touches[1]),M=E.distanceTo(O)/this._startDist;if(this._zoom=m.getScaleZoom(M,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&M<1||this._zoom>m.getMaxZoom()&&M>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var H=E._add(O)._divideBy(2)._subtract(this._centerPoint);if(M===1&&H.x===0&&H.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var J=o(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(J,this,!0),hi(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Xn(document,"touchmove",this._onTouchMove,this),Xn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ln.addInitHook("addHandler","touchZoom",P5),ln.BoxZoom=A5,ln.DoubleClickZoom=C5,ln.Drag=T5,ln.Keyboard=S5,ln.ScrollWheelZoom=I5,ln.TapHold=x5,ln.TouchZoom=P5,n.Bounds=ee,n.Browser=pe,n.CRS=ve,n.Canvas=w5,n.Circle=WO,n.CircleMarker=iA,n.Class=Y,n.Control=Ss,n.DivIcon=g5,n.DivOverlay=qc,n.DomEvent=HO,n.DomUtil=K1,n.Draggable=ic,n.Evented=q,n.FeatureGroup=Is,n.GeoJSON=eu,n.GridLayer=Hw,n.Handler=ya,n.Icon=sc,n.ImageOverlay=lA,n.LatLng=re,n.LatLngBounds=le,n.Layer=zt,n.LayerGroup=$r,n.LineUtil=B,n.Map=ln,n.Marker=rA,n.Mixin=J1,n.Path=Id,n.Point=V,n.PolyUtil=X1,n.Polygon=og,n.Polyline=Xl,n.Popup=uA,n.PosAnimation=kw,n.Projection=fe,n.Rectangle=E5,n.Renderer=tu,n.SVG=qw,n.SVGOverlay=m5,n.TileLayer=cg,n.Tooltip=dA,n.Transformation=ot,n.Util=U,n.VideoOverlay=p5,n.bind=o,n.bounds=ne,n.canvas=_5,n.circle=gce,n.circleMarker=mce,n.control=Cd,n.divIcon=Tce,n.extend=i,n.featureGroup=Vo,n.geoJSON=f5,n.geoJson=wce,n.gridLayer=Sce,n.icon=zw,n.imageOverlay=_ce,n.latLng=de,n.latLngBounds=ce,n.layerGroup=Ri,n.map=Q1,n.marker=pce,n.point=K,n.polygon=vce,n.polyline=yce,n.popup=Ace,n.rectangle=Pce,n.setOptions=y,n.stamp=c,n.svg=b5,n.svgOverlay=Ece,n.tileLayer=y5,n.tooltip=Cce,n.transformation=Me,n.version=r,n.videoOverlay=bce;var Dce=window.L;n.noConflict=function(){return window.L=Dce,this},window.L=n})})(xM,xM.exports);var XP=xM.exports;function BU(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function zU(t,e){return e==null?function(r,i){const s=F.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=F.useRef();s.current||(s.current=t(r,i));const o=F.useRef(r),{instance:a}=s.current;return F.useEffect(function(){o.current!==r&&(e(a,r,o.current),o.current=r)},[a,r,i]),s}}function JLe(t,e){F.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function pne(t){return function(n){const r=hne(),i=t(jU(n,r),r);return lne(r.map,n.attribution),fne(i.current,n.eventHandlers),JLe(i.current,r),i}}function XLe(t,e){const n=zU(t,e),r=pne(n);return KLe(r)}function eFe(t,e){const n=zU(t),r=ZLe(n,e);return YLe(r)}function tFe(t,e){const n=zU(t,e),r=pne(n);return QLe(r)}function nFe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function PM(){return PM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PM.apply(this,arguments)}function rFe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:o,style:a,whenReady:c,zoom:l,...u},h){const[f]=F.useState({className:i,id:s,style:a}),[p,g]=F.useState(null);F.useImperativeHandle(h,()=>(p==null?void 0:p.map)??null,[p]);const y=F.useCallback(b=>{if(b!==null&&p===null){const w=new XP.Map(b,u);n!=null&&l!=null?w.setView(n,l):t!=null&&w.fitBounds(t,e),c!=null&&w.whenReady(c),g(qLe(w))}},[]);F.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const v=p?ae.createElement(dne,{value:p},r):o??null;return ae.createElement("div",PM({},f,{ref:y}),v)}const iFe=F.forwardRef(rFe),sFe=XLe(function({position:e,...n},r){const i=new XP.Marker(e,n);return BU(i,GLe(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),oFe=eFe(function(e,n){const r=new XP.Popup(e,n.overlayContainer);return BU(r,n)},function(e,n,{position:r},i){F.useEffect(function(){const{instance:o}=e;function a(l){l.popup===o&&(o.update(),i(!0))}function c(l){l.popup===o&&i(!1)}return n.map.on({popupopen:a,popupclose:c}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var u;n.map.off({popupopen:a,popupclose:c}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(o)}},[e,n,i,r])}),aFe=tFe(function({url:e,...n},r){const i=new XP.TileLayer(e,jU(n,r));return BU(i,r)},function(e,n,r){nFe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});function VU({cityName:t,mapHeadingText:e}){const[n,r]=F.useState(null);return F.useEffect(()=>{(async()=>{try{const o=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${t}`)).json(),{lat:a,lon:c}=o[0];r([parseFloat(a),parseFloat(c)])}catch(s){console.log(s)}})()},[t]),n?T.jsxs("div",{className:"map-container-div",children:[e&&T.jsx("h5",{className:"detail-page-minor-title",children:e}),T.jsxs(iFe,{center:n,zoom:3,style:{height:"100%",width:"100%"},children:[T.jsx(aFe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),T.jsx(sFe,{position:n,children:T.jsx(oFe,{children:"Location..."})})]},n.toString())]}):T.jsx("p",{children:"Loading Map..."})}function cFe({sendDateTime:t,selectedCalendarDate:e}){var g;const[n,r]=F.useState(null),[i,s]=F.useState(null),{slugId:o}=nP(),a=o,{data:c,isFetching:l,isLoading:u}=zSe({slugValue:a,date:n},{skip:!n}),h=((g=c==null?void 0:c.data)==null?void 0:g.map(y=>{var v;return(v=y==null?void 0:y.start)==null?void 0:v.slice(11,16)}))||[];F.useEffect(()=>{r(e)},[e]),F.useEffect(()=>{if(n&&h.length>0){const y=h[0];s(y),t([n,y])}else n&&h.length===0&&t([n,""])},[h,n]);function f(y){const v=y?HS(y,"yyyy-MM-dd"):null;r(v),s(null)}function p(y){const v=y.target.value;s(v),n&&t([n,v])}return T.jsxs("div",{className:"bookNow-date-time-container",children:[T.jsx(jZ,{className:"book-now-date-time",selected:n?new Date(n):null,onChange:f,minDate:new Date,dateFormat:"yyyy-MM-dd",placeholderText:"Choose date",showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("span",{className:"book-now-minor-heading",children:"Time"}),T.jsx("br",{}),u||l?T.jsx("p",{className:"available-time-loading",children:"Loading available time slots..."}):h.length===0?T.jsx("p",{className:"available-time-loading no-time-available",children:"No time slots available for this date."}):T.jsxs("select",{className:"book-now-date-time",value:i||"choose time",onChange:p,children:[T.jsx("option",{value:"choose time",disabled:!0,children:"choose time"}),h.map((y,v)=>T.jsx("option",{value:y,children:y},v))]})]})}const mne="2.28.0";let p0={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${mne}`},Ee=class OM extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof OM?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=(()=>n.cause instanceof OM&&n.cause.docsPath||n.docsPath)(),s=(a=p0.getDocsUrl)==null?void 0:a.call(p0,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...p0.version?[`Version: ${p0.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=mne}walk(e){return gne(this,e)}};function gne(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?gne(t.cause,e):e?null:t}let yne=class extends Ee{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class lFe extends Ee{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class uFe extends Ee{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let dFe=class extends Ee{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class vne extends Ee{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let wne=class extends Ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class H9 extends Ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function uw(t,{dir:e,size:n=32}={}){return typeof t=="string"?Bh(t,{dir:e,size:n}):hFe(t,{dir:e,size:n})}function Bh(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new wne({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function hFe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new wne({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}function od(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Hi(t){return od(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function ju(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const fFe=new TextEncoder;function g1(t,e={}){return typeof t=="number"||typeof t=="bigint"?mFe(t,e):typeof t=="boolean"?pFe(t,e):od(t)?Uc(t,e):Np(t,e)}function pFe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ga(n,{size:e.size}),uw(n,{size:e.size})):n}const iu={zero:48,nine:57,A:65,F:70,a:97,f:102};function W9(t){if(t>=iu.zero&&t<=iu.nine)return t-iu.zero;if(t>=iu.A&&t<=iu.F)return t-(iu.A-10);if(t>=iu.a&&t<=iu.f)return t-(iu.a-10)}function Uc(t,e={}){let n=t;e.size&&(Ga(n,{size:e.size}),n=uw(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=W9(r.charCodeAt(a++)),l=W9(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Ee(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function mFe(t,e){const n=an(t,e);return Uc(n)}function Np(t,e={}){const n=fFe.encode(t);return typeof e.size=="number"?(Ga(n,{size:e.size}),uw(n,{dir:"right",size:e.size})):n}function Ga(t,{size:e}){if(Hi(t)>e)throw new dFe({givenSize:Hi(t),maxSize:e})}function rat(t,e){const n=typeof e=="string"?{to:e}:e,r=n.to;return r==="number"?mf(t,n):r==="bigint"?sm(t,n):r==="string"?HU(t,n):r==="boolean"?gFe(t,n):Uc(t,n)}function sm(t,e={}){const{signed:n}=e;e.size&&Ga(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function gFe(t,e={}){let n=t;if(e.size&&(Ga(n,{size:e.size}),n=ju(n)),ju(n)==="0x00")return!1;if(ju(n)==="0x01")return!0;throw new uFe(n)}function mf(t,e={}){return Number(sm(t,e))}function HU(t,e={}){let n=Uc(t);return e.size&&(Ga(n,{size:e.size}),n=ju(n,{dir:"right"})),new TextDecoder().decode(n)}const yFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ll(t,e={}){return typeof t=="number"||typeof t=="bigint"?an(t,e):typeof t=="string"?eO(t,e):typeof t=="boolean"?_ne(t,e):bs(t,e)}function _ne(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ga(n,{size:e.size}),uw(n,{size:e.size})):n}function bs(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=yFe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Ga(r,{size:e.size}),uw(r,{dir:"right",size:e.size})):r}function an(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new yne({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?uw(a,{size:r}):a}const vFe=new TextEncoder;function eO(t,e={}){const n=vFe.encode(t);return bs(n,e)}function Fl(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new OFe(t.type);return`${t.name}(${tO(t.inputs,{includeName:e})})`}function tO(t,{includeName:e=!1}={}){return t?t.map(n=>wFe(n,{includeName:e})).join(e?", ":","):""}function wFe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${tO(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class _Fe extends Ee{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class q9 extends Ee{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class bne extends Ee{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${tO(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class nO extends Ee{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class bFe extends Ee{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class EFe extends Ee{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Hi(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class AFe extends Ee{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class CFe extends Ee{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class G9 extends Ee{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ene extends Ee{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class TFe extends Ee{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Ane extends Ee{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class xv extends Ee{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Cne extends Ee{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class SFe extends Ee{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class IFe extends Ee{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Fl(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Fl(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class iat extends Ee{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class DM extends Ee{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${tO(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class Tne extends Ee{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Fl(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class xFe extends Ee{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class PFe extends Ee{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Sne extends Ee{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class OFe extends Ee{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function om(t){return typeof t[0]=="string"?y1(t):DFe(t)}function DFe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function y1(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class am extends Ee{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let rO=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};function TI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function NFe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function iO(t,...e){if(!NFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function oat(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");TI(t.outputLen),TI(t.blockLen)}function SI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ine(t,e){iO(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const tC=BigInt(2**32-1),K9=BigInt(32);function RFe(t,e=!1){return e?{h:Number(t&tC),l:Number(t>>K9&tC)}:{h:Number(t>>K9&tC)|0,l:Number(t&tC)|0}}function kFe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=RFe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const MFe=(t,e,n)=>t<<n|e>>>32-n,LFe=(t,e,n)=>e<<n|t>>>32-n,FFe=(t,e,n)=>e<<n-32|t>>>64-n,$Fe=(t,e,n)=>t<<n-32|e>>>64-n,mg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function UFe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function SN(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Kc(t,e){return t<<32-e|t>>>e}const Y9=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function jFe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Q9(t){for(let e=0;e<t.length;e++)t[e]=jFe(t[e])}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function BFe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function WU(t){return typeof t=="string"&&(t=BFe(t)),iO(t),t}function aat(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];iO(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let xne=class{clone(){return this._cloneInto()}};function Pne(t){const e=r=>t().update(WU(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function lat(t=32){if(mg&&typeof mg.getRandomValues=="function")return mg.getRandomValues(new Uint8Array(t));if(mg&&typeof mg.randomBytes=="function")return Uint8Array.from(mg.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const One=[],Dne=[],Nne=[],zFe=BigInt(0),m0=BigInt(1),VFe=BigInt(2),HFe=BigInt(7),WFe=BigInt(256),qFe=BigInt(113);for(let t=0,e=m0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],One.push(2*(5*r+n)),Dne.push((t+1)*(t+2)/2%64);let i=zFe;for(let s=0;s<7;s++)e=(e<<m0^(e>>HFe)*qFe)%WFe,e&VFe&&(i^=m0<<(m0<<BigInt(s))-m0);Nne.push(i)}const[GFe,KFe]=kFe(Nne,!0),Z9=(t,e,n)=>n>32?FFe(t,e,n):MFe(t,e,n),J9=(t,e,n)=>n>32?$Fe(t,e,n):LFe(t,e,n);function YFe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=Z9(l,u,1)^n[a],f=J9(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Dne[o],c=Z9(i,s,a),l=J9(i,s,a),u=One[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=GFe[r],t[1]^=KFe[r]}n.fill(0)}let QFe=class Rne extends xne{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,TI(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=UFe(this.state)}keccak(){Y9||Q9(this.state32),YFe(this.state32,this.rounds),Y9||Q9(this.state32),this.posOut=0,this.pos=0}update(e){SI(this);const{blockLen:n,state:r}=this;e=WU(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){SI(this,!1),iO(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return TI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ine(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Rne(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ZFe=(t,e,n)=>Pne(()=>new QFe(e,t,n)),JFe=ZFe(1,136,256/8);function gf(t,e){const n=e||"hex",r=JFe(od(t,{strict:!1})?g1(t):t);return n==="bytes"?r:Ll(r)}const IN=new rO(8192);function sO(t,e){if(IN.has(`${t}.${e}`))return IN.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=gf(Np(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return IN.set(`${t}.${e}`,s),s}function hp(t,e){if(!$l(t,{strict:!1}))throw new am({address:t});return sO(t,e)}const XFe=/^0x[a-fA-F0-9]{40}$/,xN=new rO(8192);function $l(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(xN.has(r))return xN.get(r);const i=(()=>XFe.test(t)?t.toLowerCase()===t?!0:n?sO(t)===t:!0:!1)();return xN.set(r,i),i}function Pv(t,e,n,{strict:r}={}){return od(t,{strict:!1})?e3e(t,e,n,{strict:r}):Lne(t,e,n,{strict:r})}function kne(t,e){if(typeof e=="number"&&e>0&&e>Hi(t)-1)throw new vne({offset:e,position:"start",size:Hi(t)})}function Mne(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Hi(t)!==n-e)throw new vne({offset:n,position:"end",size:Hi(t)})}function Lne(t,e,n,{strict:r}={}){kne(t,e);const i=t.slice(e,n);return r&&Mne(i,e,n),i}function e3e(t,e,n,{strict:r}={}){kne(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&Mne(i,e,n),i}const uat=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,t3e=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function oO(t,e){if(t.length!==e.length)throw new AFe({expectedLength:t.length,givenLength:e.length});const n=n3e({params:t,values:e}),r=GU(n);return r.length===0?"0x":r}function n3e({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(qU({param:t[r],value:e[r]}));return n}function qU({param:t,value:e}){const n=KU(t.type);if(n){const[r,i]=n;return i3e(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return l3e(e,{param:t});if(t.type==="address")return r3e(e);if(t.type==="bool")return o3e(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=t3e.exec(t.type)??[];return a3e(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return s3e(e,{param:t});if(t.type==="string")return c3e(e);throw new xFe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function GU(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Hi(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(an(e+i,{size:32})),r.push(a),i+=Hi(a)):n.push(a)}return om([...n,...r])}function r3e(t){if(!$l(t))throw new am({address:t});return{dynamic:!1,encoded:Bh(t.toLowerCase())}}function i3e(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Sne(t);if(!r&&t.length!==e)throw new bFe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=qU({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=GU(s);if(r){const a=an(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?om([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:om(s.map(({encoded:o})=>o))}}function s3e(t,{param:e}){const[,n]=e.type.split("bytes"),r=Hi(t);if(!n){let i=t;return r%32!==0&&(i=Bh(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:om([Bh(an(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new EFe({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Bh(t,{dir:"right"})}}function o3e(t){if(typeof t!="boolean")throw new Ee(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Bh(_ne(t))}}function a3e(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new yne({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:an(t,{size:32,signed:e})}}function c3e(t){const e=eO(t),n=Math.ceil(Hi(e)/32),r=[];for(let i=0;i<n;i++)r.push(Bh(Pv(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:om([Bh(an(Hi(e),{size:32})),...r])}}function l3e(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=qU({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?GU(r):om(r.map(({encoded:i})=>i))}}function KU(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const PN="/docs/contract/encodeDeployData";function Fne(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new _Fe({docsPath:PN});if(!("inputs"in i))throw new q9({docsPath:PN});if(!i.inputs||i.inputs.length===0)throw new q9({docsPath:PN});const s=oO(i.inputs,n);return y1([r,s])}function ql(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class YU extends Ee{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class ON extends Ee{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function u3e(t){const e=gf(`0x${t.substring(4)}`).substring(26);return sO(`0x${e}`)}const d3e="modulepreload",h3e=function(t){return"/"+t},X9={},Ao=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=h3e(s),s in X9)return;X9[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":d3e,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};async function f3e({hash:t,signature:e}){const n=od(t)?t:Ll(t),{secp256k1:r}=await Ao(()=>import("./secp256k1-94ecc27c.js"),[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:h,yParity:f}=e,p=Number(f??h),g=eV(p);return new r.Signature(sm(l),sm(u)).addRecoveryBit(g)}const o=od(e)?e:Ll(e),a=mf(`0x${o.slice(130)}`),c=eV(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function eV(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function p3e({hash:t,signature:e}){return u3e(await f3e({hash:t,signature:e}))}class tV extends Ee{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class $ne extends Ee{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class m3e extends Ee{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const g3e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new m3e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new $ne({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new tV({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new tV({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function QU(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(g3e);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function y3e(t,e="hex"){const n=Une(t),r=QU(new Uint8Array(n.length));return n.encode(r),e==="hex"?bs(r.bytes):r.bytes}function Une(t){return Array.isArray(t)?v3e(t.map(e=>Une(e))):w3e(t)}function v3e(t){const e=t.reduce((i,s)=>i+s.length,0),n=jne(e);return{length:(()=>e<=55?1+e:1+n+e)(),encode(i){e<=55?i.pushByte(192+e):(i.pushByte(192+55+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function w3e(t){const e=typeof t=="string"?Uc(t):t,n=jne(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length)(),encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(128+55+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function jne(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ee("Length is too large.")}function _3e(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=gf(y1(["0x05",y3e([e?an(e):"0x",i,n?an(n):"0x"])]));return r==="bytes"?Uc(s):s}async function Bne(t){const{authorization:e,signature:n}=t;return p3e({hash:_3e(e),signature:n??e})}class NM extends Ee{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class b3e extends Ee{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class E3e extends Ee{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class zne extends Ee{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function A3e({chain:t,currentChainId:e}){if(!t)throw new E3e;if(e!==t.id)throw new b3e({chain:t,currentChainId:e})}const Vne={gwei:9,wei:18},C3e={ether:-9,wei:9},T3e={ether:-18,gwei:-9};function dw(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function Fo(t,e="wei"){return dw(t,C3e[e])}class fp extends Ee{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(fp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class II extends Ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Fo(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(II,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class RM extends Ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Fo(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(RM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class kM extends Ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(kM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class MM extends Ee{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(MM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class LM extends Ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(LM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class FM extends Ee{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(FM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class $M extends Ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty($M,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class UM extends Ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(UM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class jM extends Ee{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(jM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class xI extends Ee{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Fo(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Fo(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(xI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class aO extends Ee{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function ZU(t,e="wei"){return dw(t,Vne[e])}function v1(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class S3e extends Ee{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class I3e extends Ee{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",v1(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class x3e extends Ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:f}){var g;const p=v1({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${ZU(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Fo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Fo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Fo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Hne extends Ee{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Wne extends Ee{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class P3e extends Ee{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Ba=(t,e,n)=>JSON.stringify(t,(r,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(r,s):s},n),O3e=t=>t,JU=t=>t;class I_ extends Ee{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${JU(o)}`,e&&`Request body: ${Ba(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class XU extends Ee{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${JU(r)}`,`Request body: ${Ba(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class nV extends Ee{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${JU(n)}`,`Request body: ${Ba(e)}`],name:"TimeoutError"})}}const D3e=-1;class Uo extends Ee{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof XU?e.code:n??D3e}}class ha extends Uo{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Nb extends Uo{constructor(e){super(e,{code:Nb.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Nb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Rb extends Uo{constructor(e){super(e,{code:Rb.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Rb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class kb extends Uo{constructor(e,{method:n}={}){super(e,{code:kb.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(kb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Mb extends Uo{constructor(e){super(e,{code:Mb.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Mb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class cm extends Uo{constructor(e){super(e,{code:cm.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Lb extends Uo{constructor(e){super(e,{code:Lb.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Lb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Fb extends Uo{constructor(e){super(e,{code:Fb.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Fb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class zh extends Uo{constructor(e){super(e,{code:zh.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ov extends Uo{constructor(e){super(e,{code:Ov.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ov,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class pp extends Uo{constructor(e,{method:n}={}){super(e,{code:pp.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(pp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Dv extends Uo{constructor(e){super(e,{code:Dv.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Dv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class $b extends Uo{constructor(e){super(e,{code:$b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty($b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ti extends ha{constructor(e){super(e,{code:Ti.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ub extends ha{constructor(e){super(e,{code:Ub.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ub,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class jb extends ha{constructor(e,{method:n}={}){super(e,{code:jb.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(jb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Bb extends ha{constructor(e){super(e,{code:Bb.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Bb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class zb extends ha{constructor(e){super(e,{code:zb.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(zb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ul extends ha{constructor(e){super(e,{code:Ul.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ul,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Vb extends ha{constructor(e){super(e,{code:Vb.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Vb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Hb extends ha{constructor(e){super(e,{code:Hb.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Hb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Wb extends ha{constructor(e){super(e,{code:Wb.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Wb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class qb extends ha{constructor(e){super(e,{code:qb.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(qb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Gb extends ha{constructor(e){super(e,{code:Gb.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Gb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Kb extends ha{constructor(e){super(e,{code:Kb.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Kb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Yb extends ha{constructor(e){super(e,{code:Yb.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Yb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class N3e extends Uo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function ej(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Ee?t.walk(i=>(i==null?void 0:i.code)===fp.code):t;return r instanceof Ee?new fp({cause:t,message:r.details}):fp.nodeMessage.test(n)?new fp({cause:t,message:t.details}):II.nodeMessage.test(n)?new II({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):RM.nodeMessage.test(n)?new RM({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):kM.nodeMessage.test(n)?new kM({cause:t,nonce:e==null?void 0:e.nonce}):MM.nodeMessage.test(n)?new MM({cause:t,nonce:e==null?void 0:e.nonce}):LM.nodeMessage.test(n)?new LM({cause:t,nonce:e==null?void 0:e.nonce}):FM.nodeMessage.test(n)?new FM({cause:t}):$M.nodeMessage.test(n)?new $M({cause:t,gas:e==null?void 0:e.gas}):UM.nodeMessage.test(n)?new UM({cause:t,gas:e==null?void 0:e.gas}):jM.nodeMessage.test(n)?new jM({cause:t}):xI.nodeMessage.test(n)?new xI({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new aO({cause:t})}function R3e(t,{docsPath:e,...n}){const r=(()=>{const i=ej(t,n);return i instanceof aO?t:i})();return new x3e(r,{docsPath:e,...n})}function tj(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const k3e={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function nj(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=M3e(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>bs(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=an(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=an(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=an(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=an(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=an(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=an(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=k3e[t.type]),typeof t.value<"u"&&(e.value=an(t.value)),e}function M3e(t){return t.map(e=>({address:e.address,r:e.r?an(BigInt(e.r)):e.r,s:e.s?an(BigInt(e.s)):e.s,chainId:an(e.chainId),nonce:an(e.nonce),...typeof e.yParity<"u"?{yParity:an(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:an(e.v)}:{}}))}function nr(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}const L3e=2n**256n-1n;function cO(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?ql(e):void 0;if(o&&!$l(o.address))throw new am({address:o.address});if(s&&!$l(s))throw new am({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new S3e;if(r&&r>L3e)throw new II({maxFeePerGas:r});if(i&&r&&i>r)throw new xI({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function qne(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return mf(e)}class F3e extends Ee{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class rj extends Ee{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class $3e extends Ee{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Fo(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Gne extends Ee{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Kne={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Yne(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?mf(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?mf(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Kne[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=U3e(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function U3e(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function j3e(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Yne(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Qb(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){var u,h,f;const s=r??"latest",o=i??!1,a=n!==void 0?an(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!c)throw new Gne({blockHash:e,blockNumber:n});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.block)==null?void 0:f.format)||j3e)(c)}async function Qne(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function B3e(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await nr(t,Qb,"getBlock")({}),u=await a({block:l,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return sm(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):nr(t,Qb,"getBlock")({}),nr(t,Qne,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new rj;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function rV(t,e){var f,p;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var g,y;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new F3e;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),l=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await nr(t,Qb,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new rj;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await B3e(t,{block:u,chain:r,request:i}),y=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await nr(t,Qne,"getGasPrice")({}))}}class z3e extends Ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:f}){var g;const p=v1({from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${ZU(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Fo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Fo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Fo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function V3e(t,{docsPath:e,...n}){const r=(()=>{const i=ej(t,n);return i instanceof aO?t:i})();return new z3e(r,{docsPath:e,...n})}class H3e extends Ee{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class W3e extends Ee{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function iV(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function q3e(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=iV(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=iV(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function sV(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new H9({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new H9({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function G3e(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=an(e)),n!==void 0&&(o.nonce=an(n)),r!==void 0&&(o.state=sV(r)),i!==void 0){if(o.state)throw new W3e;o.stateDiff=sV(i)}return o}function Zne(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!$l(n,{strict:!1}))throw new am({address:n});if(e[n])throw new H3e({address:n});e[n]=G3e(r)}return e}async function Jne(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n?an(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function Xne(t,e){var i,s,o;const{account:n=t.account}=e,r=n?ql(n):void 0;try{let Y=function(j){const{block:q,request:V,rpcStateOverride:Q}=j;return t.request({method:"eth_estimateGas",params:Q?[V,q??"latest",Q]:q?[V,q]:[V]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:A,value:S,stateOverride:P,...D}=await sj(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),I=(h?an(h):void 0)||f,x=Zne(P),N=await(async()=>{if(D.to)return D.to;if(c&&c.length>0)return await Bne({authorization:c[0]}).catch(()=>{throw new Ee("`to` is required. Could not infer from `authorizationList`")})})();cO(e);const R=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,U=(R||nj)({...tj(D,{format:R}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:p,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:A,to:N,value:S});let z=BigInt(await Y({block:I,request:U,rpcStateOverride:x}));if(c){const j=await Jne(t,{address:U.from}),q=await Promise.all(c.map(async V=>{const{address:Q}=V,K=await Y({block:I,request:{authorizationList:void 0,data:p,from:r==null?void 0:r.address,to:Q,value:an(j)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(K)}));z+=q.reduce((V,Q)=>V+Q,0n)}return z}catch(a){throw V3e(a,{...e,account:r,chain:t.chain})}}async function K3e(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,r?an(r):n]},{dedupe:!!r});return mf(i)}function ere(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Uc(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>bs(s))}function tre(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Uc(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Uc(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>bs(o))}function Y3e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Q3e(t,e,n){return t&e^~t&n}function Z3e(t,e,n){return t&e^t&n^e&n}class J3e extends xne{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=SN(this.buffer)}update(e){SI(this);const{view:n,buffer:r,blockLen:i}=this;e=WU(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=SN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){SI(this),Ine(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Y3e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=SN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const X3e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Md=new Uint32Array(64);class e$e extends J3e{constructor(e=32){super(64,e,8,!1),this.A=kd[0]|0,this.B=kd[1]|0,this.C=kd[2]|0,this.D=kd[3]|0,this.E=kd[4]|0,this.F=kd[5]|0,this.G=kd[6]|0,this.H=kd[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Md[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=Md[h-15],p=Md[h-2],g=Kc(f,7)^Kc(f,18)^f>>>3,y=Kc(p,17)^Kc(p,19)^p>>>10;Md[h]=y+Md[h-7]+g+Md[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const f=Kc(a,6)^Kc(a,11)^Kc(a,25),p=u+f+Q3e(a,c,l)+X3e[h]+Md[h]|0,y=(Kc(r,2)^Kc(r,13)^Kc(r,22))+Z3e(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Md.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const t$e=Pne(()=>new e$e);function n$e(t,e){const n=e||"hex",r=t$e(od(t,{strict:!1})?g1(t):t);return n==="bytes"?r:Ll(r)}function r$e(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=n$e(e,"bytes");return i.set([n],0),r==="bytes"?i:bs(i)}function i$e(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(r$e({commitment:s,to:r,version:n}));return i}const oV=6,nre=32,ij=4096,rre=nre*ij,aV=rre*oV-1-1*ij*oV;class s$e extends Ee{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class o$e extends Ee{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function a$e(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Uc(t.data):t.data,r=Hi(n);if(!r)throw new o$e;if(r>aV)throw new s$e({maxSize:aV,size:r});const i=[];let s=!0,o=0;for(;s;){const a=QU(new Uint8Array(rre));let c=0;for(;c<ij;){const l=n.slice(o,o+(nre-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>bs(a.bytes))}function c$e(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??a$e({data:e,to:r}),s=t.commitments??ere({blobs:i,kzg:n,to:r}),o=t.proofs??tre({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function l$e(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new I3e({transaction:t})}const ire=["blobVersionedHashes","chainId","fees","gas","nonce","type"],cV=new Map;async function sj(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:l=ire,type:u}=e,h=n&&ql(n),f={...e,...h?{from:h==null?void 0:h.address}:{}};let p;async function g(){return p||(p=await nr(t,Qb,"getBlock")({blockTag:"latest"}),p)}let y;async function v(){return y||(i?i.id:typeof e.chainId<"u"?e.chainId:(y=await nr(t,qne,"getChainId")({}),y))}if(l.includes("nonce")&&typeof a>"u"&&h)if(c){const b=await v();f.nonce=await c.consume({address:h.address,chainId:b,client:t})}else f.nonce=await nr(t,K3e,"getTransactionCount")({address:h.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const b=ere({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const w=i$e({commitments:b,to:"hex"});f.blobVersionedHashes=w}if(l.includes("sidecars")){const w=tre({blobs:r,commitments:b,kzg:o}),A=c$e({blobs:r,commitments:b,proofs:w,to:"hex"});f.sidecars=A}}if(l.includes("chainId")&&(f.chainId=await v()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=l$e(f)}catch{let b=cV.get(t.uid);if(typeof b>"u"){const w=await g();b=typeof(w==null?void 0:w.baseFeePerGas)=="bigint",cV.set(t.uid,b)}f.type=b?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const b=await g(),{maxFeePerGas:w,maxPriorityFeePerGas:A}=await rV(t,{block:b,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<A)throw new $3e({maxPriorityFeePerGas:A});f.maxPriorityFeePerGas=A,f.maxFeePerGas=w}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new rj;if(typeof e.gasPrice>"u"){const b=await g(),{gasPrice:w}=await rV(t,{block:b,chain:i,request:f,type:"legacy"});f.gasPrice=w}}return l.includes("gas")&&typeof s>"u"&&(f.gas=await nr(t,Xne,"estimateGas")({...f,account:h&&{address:h.address,type:"json-rpc"}})),cO(f),delete f.parameters,f}async function u$e(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const DN=new rO(128);async function sre(t,e){var b,w,A,S;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,value:g,...y}=e;if(typeof n>"u")throw new YU({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?ql(n):null;try{cO(e);const P=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await Bne({authorization:s[0]}).catch(()=>{throw new Ee("`to` is required. Could not infer from `authorizationList`.")})})();if((v==null?void 0:v.type)==="json-rpc"||v===null){let D;r!==null&&(D=await nr(t,qne,"getChainId")({}),A3e({currentChainId:D,chain:r}));const C=(A=(w=(b=t.chain)==null?void 0:b.formatters)==null?void 0:w.transactionRequest)==null?void 0:A.format,x=(C||nj)({...tj(y,{format:C}),accessList:i,authorizationList:s,blobs:o,chainId:D,data:a,from:v==null?void 0:v.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:P,value:g}),N=DN.get(t.uid),R=N?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:R,params:[x]},{retryCount:0})}catch($){if(N===!1)throw $;const U=$;if(U.name==="InvalidInputRpcError"||U.name==="InvalidParamsRpcError"||U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[x]},{retryCount:0}).then(Y=>(DN.set(t.uid,!0),Y)).catch(Y=>{const z=Y;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(DN.set(t.uid,!1),U):z});throw U}}if((v==null?void 0:v.type)==="local"){const D=await nr(t,sj,"prepareTransactionRequest")({account:v,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:v.nonceManager,parameters:[...ire,"sidecars"],value:g,...y,to:P}),C=(S=r==null?void 0:r.serializers)==null?void 0:S.transaction,I=await v.signTransaction(D,{serializer:C});return await nr(t,u$e,"sendRawTransaction")({serializedTransaction:I})}throw(v==null?void 0:v.type)==="smart"?new ON({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new ON({docsPath:"/docs/actions/wallet/sendTransaction",type:v==null?void 0:v.type})}catch(P){throw P instanceof ON?P:R3e(P,{...e,account:v,chain:e.chain||void 0})}}const BM=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],zM=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ore=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],are=[...ore,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],d$e=[...ore,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],lV=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],uV=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];function h$e(t,e={}){typeof e.size<"u"&&Ga(t,{size:e.size});const n=bs(t,e);return sm(n,e)}function f$e(t,e={}){let n=t;if(typeof e.size<"u"&&(Ga(n,{size:e.size}),n=ju(n)),n.length>1||n[0]>1)throw new lFe(n);return!!n[0]}function Bu(t,e={}){typeof e.size<"u"&&Ga(t,{size:e.size});const n=bs(t,e);return mf(n,e)}function p$e(t,e={}){let n=t;return typeof e.size<"u"&&(Ga(n,{size:e.size}),n=ju(n,{dir:"right"})),new TextDecoder().decode(n)}function w1(t,e){const n=typeof e=="string"?Uc(e):e,r=QU(n);if(Hi(n)===0&&t.length>0)throw new nO;if(Hi(e)&&Hi(e)<32)throw new bne({data:typeof e=="string"?e:bs(e),params:t,size:Hi(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,l]=My(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function My(t,e,{staticPosition:n}){const r=KU(e.type);if(r){const[i,s]=r;return g$e(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return _$e(t,e,{staticPosition:n});if(e.type==="address")return m$e(t);if(e.type==="bool")return y$e(t);if(e.type.startsWith("bytes"))return v$e(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return w$e(t,e);if(e.type==="string")return b$e(t,{staticPosition:n});throw new PFe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const dV=32,VM=32;function m$e(t){const e=t.readBytes(32);return[sO(bs(Lne(e,-20))),32]}function g$e(t,e,{length:n,staticPosition:r}){if(!n){const o=Bu(t.readBytes(VM)),a=r+o,c=a+dV;t.setPosition(a);const l=Bu(t.readBytes(dV)),u=Zb(e);let h=0;const f=[];for(let p=0;p<l;++p){t.setPosition(c+(u?p*32:h));const[g,y]=My(t,e,{staticPosition:c});h+=y,f.push(g)}return t.setPosition(r+32),[f,32]}if(Zb(e)){const o=Bu(t.readBytes(VM)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=My(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=My(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function y$e(t){return[f$e(t.readBytes(32),{size:32}),32]}function v$e(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Bu(t.readBytes(32));t.setPosition(n+o);const a=Bu(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[bs(c),32]}return[bs(t.readBytes(Number.parseInt(i),32)),32]}function w$e(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?h$e(i,{signed:n}):Bu(i,{signed:n}),32]}function _$e(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(Zb(e)){const o=Bu(t.readBytes(VM)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+s);const[u,h]=My(t,l,{staticPosition:a});s+=h,i[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=My(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function b$e(t,{staticPosition:e}){const n=Bu(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Bu(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=p$e(ju(s));return t.setPosition(e+32),[o,32]}function Zb(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Zb);const n=KU(t.type);return!!(n&&Zb({...t,type:n[1]}))}const E$e=t=>gf(g1(t));function A$e(t){return E$e(t)}const C$e="1.0.8";let Ka=class HM extends Error{constructor(e,n={}){var o;const r=n.cause instanceof HM?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof HM&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${C$e}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function wd(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const cre=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lre=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ure=/^\(.+?\).*?$/,hV=/^tuple(?<array>(\[(\d*)\])*)$/;function WM(t){let e=t.type;if(hV.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=WM(s),i<n-1&&(e+=", ")}const r=wd(hV,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,WM({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function g0(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=WM(i),r!==n-1&&(e+=", ")}return e}function T$e(t){var e;return t.type==="function"?`function ${t.name}(${g0(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${g0(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${g0(t.inputs)})`:t.type==="error"?`error ${t.name}(${g0(t.inputs)})`:t.type==="constructor"?`constructor(${g0(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const dre=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function S$e(t){return dre.test(t)}function I$e(t){return wd(dre,t)}const hre=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function x$e(t){return hre.test(t)}function P$e(t){return wd(hre,t)}const fre=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function O$e(t){return fre.test(t)}function D$e(t){return wd(fre,t)}const pre=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function mre(t){return pre.test(t)}function N$e(t){return wd(pre,t)}const gre=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function R$e(t){return gre.test(t)}function k$e(t){return wd(gre,t)}const yre=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function M$e(t){return yre.test(t)}function L$e(t){return wd(yre,t)}const F$e=/^receive\(\) external payable$/;function $$e(t){return F$e.test(t)}const U$e=new Set(["indexed"]),qM=new Set(["calldata","memory","storage"]);class j$e extends Ka{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class B$e extends Ka{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class z$e extends Ka{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class V$e extends Ka{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class H$e extends Ka{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class W$e extends Ka{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class q$e extends Ka{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class hw extends Ka{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class G$e extends Ka{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class K$e extends Ka{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Y$e extends Ka{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Q$e extends Ka{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Z$e(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const NN=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function J$e(t,e={}){if(O$e(t))return X$e(t,e);if(x$e(t))return eUe(t,e);if(S$e(t))return tUe(t,e);if(R$e(t))return nUe(t,e);if(M$e(t))return rUe(t);if($$e(t))return{type:"receive",stateMutability:"payable"};throw new G$e({signature:t})}function X$e(t,e={}){const n=D$e(t);if(!n)throw new hw({signature:t,type:"function"});const r=_c(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(lm(r[a],{modifiers:qM,structs:e,type:"function"}));const o=[];if(n.returns){const a=_c(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(lm(a[l],{modifiers:qM,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function eUe(t,e={}){const n=P$e(t);if(!n)throw new hw({signature:t,type:"event"});const r=_c(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(lm(r[o],{modifiers:U$e,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function tUe(t,e={}){const n=I$e(t);if(!n)throw new hw({signature:t,type:"error"});const r=_c(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(lm(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function nUe(t,e={}){const n=k$e(t);if(!n)throw new hw({signature:t,type:"constructor"});const r=_c(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(lm(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function rUe(t){const e=L$e(t);if(!e)throw new hw({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const iUe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sUe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,oUe=/^u?int$/;function lm(t,e){var h,f;const n=Z$e(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(NN.has(n))return NN.get(n);const r=ure.test(t),i=wd(r?sUe:iUe,t);if(!i)throw new z$e({param:t});if(i.name&&cUe(i.name))throw new V$e({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const p=_c(i.type),g=[],y=p.length;for(let v=0;v<y;v++)g.push(lm(p[v],{structs:a}));l={components:g}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(oUe.test(i.type))c=`${i.type}256`;else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!vre(c))throw new B$e({type:c});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new H$e({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(qM.has(i.modifier)&&!lUe(c,!!i.array))throw new W$e({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return NN.set(n,u),u}function _c(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?_c(a,[...e,n.trim()]):_c(a,e,`${n}${o}`,r);case"(":return _c(a,e,`${n}${o}`,r+1);case")":return _c(a,e,`${n}${o}`,r-1);default:return _c(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new Q$e({current:n,depth:r});return e.push(n.trim()),e}function vre(t){return t==="address"||t==="bool"||t==="function"||t==="string"||cre.test(t)||lre.test(t)}const aUe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function cUe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||cre.test(t)||lre.test(t)||aUe.test(t)}function lUe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function uUe(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!mre(a))continue;const c=N$e(a);if(!c)throw new hw({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],h=l.length;for(let f=0;f<h;f++){const g=l[f].trim();if(!g)continue;const y=lm(g,{type:"struct"});u.push(y)}if(!u.length)throw new K$e({signature:a});e[c.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=wre(c,e)}return r}const dUe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function wre(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(ure.test(o.type))r.push(o);else{const c=wd(dUe,o.type);if(!(c!=null&&c.type))throw new q$e({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new Y$e({type:u});r.push({...o,type:`tuple${l??""}`,components:wre(e[u]??[],e,new Set([...n,u]))})}else if(vre(u))r.push(o);else throw new j$e({type:u})}}return r}function _re(t){const e=uUe(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];mre(s)||n.push(J$e(s,e))}return n}function hUe(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Ee("Unable to normalize signature.");return i}const fUe=t=>{const e=(()=>typeof t=="string"?t:T$e(t))();return hUe(e)};function bre(t){return A$e(fUe(t))}const oj=bre,_1=t=>Pv(bre(t),0,4);function b1(t){const{abi:e,args:n=[],name:r}=t,i=od(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?_1(a)===r:a.type==="event"?oj(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const h="inputs"in a&&a.inputs[u];return h?GM(l,h):!1})){if(o&&"inputs"in o&&o.inputs){const l=Ere(a.inputs,o.inputs,n);if(l)throw new IFe({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function GM(t,e){const n=typeof t,r=e.type;switch(r){case"address":return $l(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>GM(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>GM(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ere(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Ere(i.components,s.components,n[r]);const o=[i.type,s.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?$l(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?$l(n[r],{strict:!1}):!1)())return o}}const RN="/docs/contract/decodeFunctionResult";function E1(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=b1({abi:e,args:n,name:r});if(!a)throw new xv(r,{docsPath:RN});s=a}if(s.type!=="function")throw new xv(void 0,{docsPath:RN});if(!s.outputs)throw new Cne(s.name,{docsPath:RN});const o=w1(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const fV="/docs/contract/encodeFunctionData";function pUe(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=b1({abi:e,args:n,name:r});if(!s)throw new xv(r,{docsPath:fV});i=s}if(i.type!=="function")throw new xv(void 0,{docsPath:fV});return{abi:[i],functionName:_1(Fl(i))}}function fw(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:pUe(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?oO(i.inputs,e??[]):void 0;return y1([s,o??"0x"])}function A1({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new NM({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new NM({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Are={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Cre={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},mUe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function gUe(t){const{abi:e,data:n}=t,r=Pv(n,0,4);if(r==="0x")throw new nO;const s=[...e||[],Cre,mUe].find(o=>o.type==="error"&&r===_1(Fl(o)));if(!s)throw new Ene(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?w1(s.inputs,Pv(n,4)):void 0,errorName:s.name}}function Tre({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Ba(e[s]):e[s]}`).join(", ")})`}class yUe extends Ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:f,stateOverride:p}){var v;const g=n?ql(n):void 0;let y=v1({from:g==null?void 0:g.address,to:h,value:typeof f<"u"&&`${ZU(f)} ${((v=i==null?void 0:i.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Fo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Fo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Fo(l)} gwei`,nonce:u});p&&(y+=`
${q3e(p)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Sre extends Ee{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=b1({abi:n,args:r,name:o}),l=c?Tre({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Fl(c,{includeName:!0}):void 0,h=v1({address:i&&O3e(i),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class KM extends Ee{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=gUe({abi:e,data:n});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")c=f[0];else if(h==="Panic"){const[p]=f;c=Are[p]}else{const p=u?Fl(u,{includeName:!0}):void 0,g=u&&f?Tre({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",g&&g!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof Ene&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class vUe extends Ee{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class wUe extends Ee{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class aj extends Ee{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function cj(t,e){var r,i,s,o,a,c;if(!(t instanceof Ee))return!1;const n=t.walk(l=>l instanceof KM);return n instanceof KM?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===Are[50]):!1}function _Ue(t){const{abi:e,data:n}=t,r=Pv(n,0,4),i=e.find(s=>s.type==="function"&&r===_1(Fl(s)));if(!i)throw new SFe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?w1(i.inputs,Pv(n,4)):void 0}}const kN="/docs/contract/encodeErrorResult";function pV(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=b1({abi:e,args:r,name:n});if(!c)throw new G9(n,{docsPath:kN});i=c}if(i.type!=="error")throw new G9(void 0,{docsPath:kN});const s=Fl(i),o=_1(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new CFe(i.name,{docsPath:kN});a=oO(i.inputs,r)}return y1([o,a])}const MN="/docs/contract/encodeFunctionResult";function bUe(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=b1({abi:e,name:n});if(!o)throw new xv(n,{docsPath:MN});i=o}if(i.type!=="function")throw new xv(void 0,{docsPath:MN});if(!i.outputs)throw new Cne(i.name,{docsPath:MN});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Sne(r)})();return oO(i.outputs,s)}const Ire="x-batch-gateway:true";async function dat(t){const{data:e,ccipRequest:n}=t,{args:[r]}=_Ue({abi:zM,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=EUe(c)}})),bUe({abi:zM,functionName:"query",result:[i,s]})}function EUe(t){return t.name==="HttpRequestError"&&t.status?pV({abi:zM,errorName:"HttpError",args:[t.status,t.shortMessage]}):pV({abi:[Cre],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function xre(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return od(e)?e:null}function AT(t){let e=new Uint8Array(32).fill(0);if(!t)return bs(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=xre(n[r]),s=i?g1(i):gf(Np(n[r]),"bytes");e=gf(om([e,s]),"bytes")}return bs(e)}function AUe(t){return`[${t.slice(2)}]`}function CUe(t){const e=new Uint8Array(32).fill(0);return t?xre(t)||gf(Np(t)):bs(e)}function lj(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Np(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=Np(i[s]);o.byteLength>255&&(o=Np(AUe(CUe(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const TUe=3;function PI(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof aj?t:t instanceof Ee?t.walk(g=>"data"in g)||t.walk():{},{code:c,data:l,details:u,message:h,shortMessage:f}=a,p=(()=>t instanceof nO?new vUe({functionName:s}):[TUe,cm.code].includes(c)&&(l||u||h||f)?new KM({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:a instanceof XU?u:f??h}):t)();return new Sre(p,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}const SUe="0x82ad56cb",IUe="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",xUe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function PUe(t,{docsPath:e,...n}){const r=(()=>{const i=ej(t,n);return i instanceof aO?t:i})();return new yUe(r,{docsPath:e,...n})}function Pre(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const LN=new Map;function Ore({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:g}=u[p];g==null||g([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:g}=u[p];g==null||g(f)}})},o=()=>LN.delete(e),a=()=>c().map(({args:u})=>u),c=()=>LN.get(e)||[],l=u=>LN.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=Pre();return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,resolve:f,reject:p}),h):(l({args:u,resolve:f,reject:p}),setTimeout(s,r),h)}}}async function Dre(t,e){var R,$,U,Y;const{account:n=t.account,batch:r=!!((R=t.batch)!=null&&R.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:c,data:l,factory:u,factoryData:h,gas:f,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:b,to:w,value:A,stateOverride:S,...P}=e,D=n?ql(n):void 0;if(c&&(u||h))throw new Ee("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&w)throw new Ee("Cannot provide both `code` & `to` as parameters.");const C=c&&l,I=u&&h&&w&&l,x=C||I,N=(()=>C?NUe({code:c,data:l}):I?RUe({data:l,factory:u,factoryData:h,to:w}):l)();try{cO(e);const j=(i?an(i):void 0)||s,q=Zne(S),V=(Y=(U=($=t.chain)==null?void 0:$.formatters)==null?void 0:U.transactionRequest)==null?void 0:Y.format,K=(V||nj)({...tj(P,{format:V}),from:D==null?void 0:D.address,accessList:o,blobs:a,data:N,gas:f,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:b,to:x?void 0:w,value:A});if(r&&OUe({request:K})&&!q)try{return await DUe(t,{...K,blockNumber:i,blockTag:s})}catch(ne){if(!(ne instanceof zne)&&!(ne instanceof NM))throw ne}const ee=await t.request({method:"eth_call",params:q?[K,j,q]:[K,j]});return ee==="0x"?{data:void 0}:{data:ee}}catch(z){const j=kUe(z),{offchainLookup:q,offchainLookupSignature:V}=await Ao(()=>import("./ccip-34be155e.js"),[]);if(t.ccipRead!==!1&&(j==null?void 0:j.slice(0,10))===V&&w)return{data:await q(t,{data:j,to:w})};throw x&&(j==null?void 0:j.slice(0,10))==="0x101bb98d"?new wUe({factory:u}):PUe(z,{...e,account:D,chain:t.chain})}}function OUe({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(SUe)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function DUe(t,e){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=t.batch)==null?void 0:y.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new zne;l=A1({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=(i?an(i):void 0)||s,{schedule:f}=Ore({id:`${t.uid}.${h}`,wait:r,shouldSplitBatch(v){return v.reduce((w,{data:A})=>w+(A.length-2),0)>n*2},fn:async v=>{const b=v.map(S=>({allowFailure:!0,callData:S.data,target:S.to})),w=fw({abi:BM,args:[b],functionName:"aggregate3"}),A=await t.request({method:"eth_call",params:[{data:w,to:l},h]});return E1({abi:BM,args:[b],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:p,success:g}]=await f({data:o,to:c});if(!g)throw new aj({data:p});return p==="0x"?{data:void 0}:{data:p}}function NUe(t){const{code:e,data:n}=t;return Fne({abi:_re(["constructor(bytes, bytes)"]),bytecode:IUe,args:[e,n]})}function RUe(t){const{data:e,factory:n,factoryData:r,to:i}=t;return Fne({abi:_re(["constructor(address, bytes, address, bytes)"]),bytecode:xUe,args:[i,e,n,r]})}function kUe(t){var n;if(!(t instanceof Ee))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function um(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=fw({abi:n,args:i,functionName:s});try{const{data:c}=await nr(t,Dre,"call")({...o,data:a,to:r});return E1({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw PI(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function MUe(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return A1({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h=fw({abi:uV,functionName:"addr",...i!=null?{args:[AT(s),BigInt(i)]}:{args:[AT(s)]}}),f={address:l,abi:are,functionName:"resolve",args:[Ll(lj(s)),h,o??[Ire]],blockNumber:n,blockTag:r},g=await nr(t,um,"readContract")(f);if(g[0]==="0x")return null;const y=E1({abi:uV,args:i!=null?[AT(s),BigInt(i)]:void 0,functionName:"addr",data:g[0]});return y==="0x"||ju(y)==="0x00"?null:y}catch(h){if(a)throw h;if(cj(h,"resolve"))return null;throw h}}class LUe extends Ee{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class y0 extends Ee{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class uj extends Ee{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class FUe extends Ee{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const $Ue=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,UUe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,jUe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,BUe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function zUe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function mV(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function Nre({uri:t,gatewayUrls:e}){const n=jUe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=mV(e==null?void 0:e.ipfs,"https://ipfs.io"),i=mV(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match($Ue),{protocol:o,subpath:a,target:c,subtarget:l=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||UUe.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(BUe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new uj({uri:t})}function Rre(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new LUe({data:t});return t.image||t.image_url||t.image_data}async function VUe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await dj({gatewayUrls:t,uri:Rre(n)})}catch{throw new uj({uri:e})}}async function dj({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=Nre({uri:e,gatewayUrls:t});if(r||await zUe(n))return n;throw new uj({uri:e})}function HUe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new y0({reason:"Only EIP-155 supported"});if(!o)throw new y0({reason:"Chain ID not found"});if(!c)throw new y0({reason:"Contract address not found"});if(!i)throw new y0({reason:"Token ID not found"});if(!a)throw new y0({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function WUe(t,{nft:e}){if(e.namespace==="erc721")return um(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return um(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new FUe({namespace:e.namespace})}async function qUe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?GUe(t,{gatewayUrls:e,record:n}):dj({uri:n,gatewayUrls:e})}async function GUe(t,{gatewayUrls:e,record:n}){const r=HUe(n),i=await WUe(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=Nre({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return dj({uri:Rre(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),VUe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function KUe(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return A1({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:l,abi:are,functionName:"resolve",args:[Ll(lj(s)),fw({abi:lV,functionName:"text",args:[AT(s),i]}),o??[Ire]],blockNumber:n,blockTag:r},p=await nr(t,um,"readContract")(h);if(p[0]==="0x")return null;const g=E1({abi:lV,functionName:"text",data:p[0]});return g===""?null:g}catch(h){if(a)throw h;if(cj(h,"resolve"))return null;throw h}}async function YUe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await nr(t,KUe,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await qUe(t,{record:c,gatewayUrls:r})}catch{return null}}async function QUe(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=A1({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:d$e,functionName:"reverse",args:[Ll(lj(c))],blockNumber:n,blockTag:r},u=nr(t,um,"readContract"),[h,f]=i?await u({...l,args:[...l.args,i]}):await u(l);return e.toLowerCase()!==f.toLowerCase()?null:h}catch(l){if(s)throw l;if(cj(l,"reverse"))return null;throw l}}function ZUe(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(n[o]=c.request)})),s=>n[s]||t.request}async function JUe(t){const e=ZUe(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const XUe=new Map,eje=new Map;function tje(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,XUe),r=e(t,eje);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function nje(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=tje(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const rje=t=>`blockNumber.${t}`;async function ije(t,{cacheTime:e=t.cacheTime}={}){const n=await nje(()=>t.request({method:"eth_blockNumber"}),{cacheKey:rje(t.uid),cacheTime:e});return BigInt(n)}function sje(t,e){if(!$l(t,{strict:!1}))throw new am({address:t});if(!$l(e,{strict:!1}))throw new am({address:e});return t.toLowerCase()===e.toLowerCase()}const gV="/docs/contract/decodeEventLog";function oje(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new TFe({docsPath:gV});const c=(()=>e.length===1?e[0]:e.find(y=>y.type==="event"&&o===oj(Fl(y))))();if(!(c&&"name"in c)||c.type!=="event")throw new Ane(o,{docsPath:gV});const{name:l,inputs:u}=c,h=u==null?void 0:u.some(y=>!("name"in y&&y.name));let f=h?[]:{};const p=u.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<p.length;y++){const v=p[y],b=a[y];if(!b)throw new Tne({abiItem:c,param:v});f[h?y:v.name||y]=aje({param:v,value:b})}const g=u.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(n&&n!=="0x")try{const y=w1(g,n);if(y)if(h)f=[...f,...y];else for(let v=0;v<g.length;v++)f[g[v].name]=y[v]}catch(y){if(s)throw y instanceof bne||y instanceof $ne?new DM({abiItem:c,data:n,params:g,size:Hi(n)}):y}else if(s)throw new DM({abiItem:c,data:"0x",params:g,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function aje({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(w1([t],e)||[])[0]}function cje(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===oj(u));if(!c)return null;const l=oje({...o,abi:[c],strict:i});return s&&!s.includes(l.eventName)||!lje({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof Ane)return null;if(c instanceof DM||c instanceof Tne){if(i)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function lje(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?sje(o,a):s.type==="string"||s.type==="bytes"?gf(g1(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}function kre(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function uje(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>kre(s));return!("abi"in e)||!e.abi?i:cje({abi:e.abi,logs:i,strict:n})}async function Mre(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var u,h,f;const o=r||"latest",a=n!==void 0?an(n):void 0;let c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,an(s)]},{dedupe:!0}):(a||o)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,an(s)]},{dedupe:!!a})),!c)throw new Hne({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||Yne)(c)}const dje={"0x0":"reverted","0x1":"success"};function hje(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>kre(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?mf(t.transactionIndex):null,status:t.status?dje[t.status]:null,type:t.type?Kne[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function yV(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new Wne({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||hje)(n)}async function fje(t,e){var v;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,c=e.contracts,l=r??(typeof((v=t.batch)==null?void 0:v.multicall)=="object"&&t.batch.multicall.batchSize||1024);let u=o;if(!u){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");u=A1({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let b=0;b<c.length;b++){const{abi:w,address:A,args:S,functionName:P}=c[b];try{const D=fw({abi:w,args:S,functionName:P});p+=(D.length-2)/2,l>0&&p>l&&h[f].length>0&&(f++,p=(D.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:D,target:A}]}catch(D){const C=PI(D,{abi:w,address:A,args:S,docsPath:"/docs/contract/multicall",functionName:P});if(!n)throw C;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:A}]}}const g=await Promise.allSettled(h.map(b=>nr(t,um,"readContract")({abi:BM,address:u,args:[b],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),y=[];for(let b=0;b<g.length;b++){const w=g[b];if(w.status==="rejected"){if(!n)throw w.reason;for(let S=0;S<h[b].length;S++)y.push({status:"failure",error:w.reason,result:void 0});continue}const A=w.value;for(let S=0;S<A.length;S++){const{returnData:P,success:D}=A[S],{callData:C}=h[b][S],{abi:I,address:x,functionName:N,args:R}=c[y.length];try{if(C==="0x")throw new nO;if(!D)throw new aj({data:P});const $=E1({abi:I,args:R,data:P,functionName:N});y.push(n?{result:$,status:"success"}:$)}catch($){const U=PI($,{abi:I,address:x,args:R,docsPath:"/docs/contract/multicall",functionName:N});if(!n)throw U;y.push({error:U,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new Ee("multicall results mismatch");return y}const nC=new rO(8192);function pje(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(nC.get(n))return nC.get(n);const r=t().finally(()=>nC.delete(n));return nC.set(n,r),r}async function OI(t){return new Promise(e=>setTimeout(e,t))}function DI(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await OI(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function mje(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(l))throw new pp(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new pp(new Error("method not supported"),{method:l});const u=i?eO(`${c}.${Ba(n)}`):void 0;return pje(()=>DI(async()=>{try{return await t(n)}catch(f){const p=f;switch(p.code){case Nb.code:throw new Nb(p);case Rb.code:throw new Rb(p);case kb.code:throw new kb(p,{method:n.method});case Mb.code:throw new Mb(p);case cm.code:throw new cm(p);case Lb.code:throw new Lb(p);case Fb.code:throw new Fb(p);case zh.code:throw new zh(p);case Ov.code:throw new Ov(p);case pp.code:throw new pp(p,{method:n.method});case Dv.code:throw new Dv(p);case $b.code:throw new $b(p);case Ti.code:throw new Ti(p);case Ub.code:throw new Ub(p);case jb.code:throw new jb(p);case Bb.code:throw new Bb(p);case zb.code:throw new zb(p);case Ul.code:throw new Ul(p);case Vb.code:throw new Vb(p);case Hb.code:throw new Hb(p);case Wb.code:throw new Wb(p);case qb.code:throw new qb(p);case Gb.code:throw new Gb(p);case Kb.code:throw new Kb(p);case Yb.code:throw new Yb(p);case 5e3:throw new Ti(p);default:throw f instanceof Ee?f:new N3e(p)}}},{delay:({count:f,error:p})=>{var g;if(p&&p instanceof I_){const y=(g=p==null?void 0:p.headers)==null?void 0:g.get("Retry-After");if(y!=null&&y.match(/\d/))return Number.parseInt(y)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>gje(f)}),{enabled:i,id:u})}}function gje(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Dv.code||t.code===cm.code:t instanceof I_&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function hj(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Lre(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function yje(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const vV=yje();function vje(t,e={}){return{async request(n){var h;const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const f=await Lre(async({signal:g})=>{const y={...a,body:Array.isArray(r)?Ba(r.map(A=>({jsonrpc:"2.0",id:A.id??vV.take(),...A}))):Ba({jsonrpc:"2.0",id:r.id??vV.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?g:null)},v=new Request(t,y),b=await(i==null?void 0:i(v,y))??{...y,url:t};return await fetch(b.url??t,b)},{errorInstance:new nV({body:r,url:t}),timeout:o,signal:!0});s&&await s(f);let p;if((h=f.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))p=await f.json();else{p=await f.text();try{p=JSON.parse(p||"{}")}catch(g){if(f.ok)throw g;p={error:p}}}if(!f.ok)throw new I_({body:r,details:Ba(p.error)||f.statusText,headers:f.headers,status:f.status,url:t});return p}catch(f){throw f instanceof I_||f instanceof nV?f:new I_({body:r,cause:f,url:t})}}}}class wje extends Ee{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Fre(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new wje({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function _je(t,e="wei"){return Fre(t,Vne[e])}const FN=new Map,wV=new Map;let bje=0;function NI(t,e,n){const r=++bje,i=()=>FN.get(t)||[],s=()=>{const u=i();FN.set(t,u.filter(h=>h.id!==r))},o=()=>{const u=i();if(!u.some(f=>f.id===r))return;const h=wV.get(t);u.length===1&&h&&h(),s()},a=i();if(FN.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...h)=>{var p,g;const f=i();if(f.length!==0)for(const y of f)(g=(p=y.fns)[u])==null||g.call(p,...h)};const l=n(c);return typeof l=="function"&&wV.set(t,l),o}function $re(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await OI(c);const l=async()=>{i&&(await t({unpoll:s}),await OI(r),l())};l()})(),s}function Eje(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=(()=>typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))();let c;return a?(()=>{const h=Ba(["watchBlockNumber",t.uid,e,n,o]);return NI(h,{onBlockNumber:r,onError:i},f=>$re(async()=>{var p;try{const g=await nr(t,ije,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&n)for(let y=c+1n;y<g;y++)f.onBlockNumber(y,c),c=y}(!c||g>c)&&(f.onBlockNumber(g,c),c=g)}catch(g){(p=f.onError)==null||p.call(f,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=Ba(["watchBlockNumber",t.uid,e,n]);return NI(h,{onBlockNumber:r,onError:i},f=>{let p=!0,g=()=>p=!1;return(async()=>{try{const y=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(w=>w.config.type==="webSocket");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],onData(b){var A;if(!p)return;const w=sm((A=b.result)==null?void 0:A.number);f.onBlockNumber(w,c),c=w},onError(b){var w;(w=f.onError)==null||w.call(f,b)}});g=v,p||g()}catch(y){i==null||i(y)}})(),()=>g()})})()}async function Aje(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Cje(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const l=Ba(["watchPendingTransactions",t.uid,e,s]);return NI(l,{onTransactions:r,onError:n},u=>{let h;const f=$re(async()=>{var p;try{if(!h)try{h=await nr(t,JUe,"createPendingTransactionFilter")({});return}catch(y){throw f(),y}const g=await nr(t,uje,"getFilterChanges")({filter:h});if(g.length===0)return;if(e)u.onTransactions(g);else for(const y of g)u.onTransactions([y])}catch(g){(p=u.onError)==null||p.call(u,g)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await nr(t,Aje,"uninstallFilter")({filter:h}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const p=f.result;r([p])},onError(f){n==null||n(f)}});u=h,l||u()}catch(h){n==null||n(h)}})(),()=>u()})()}async function Tje(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=Ba(["waitForTransactionReceipt",t.uid,n]);let l,u,h,f=!1;const{promise:p,resolve:g,reject:y}=Pre(),v=a?setTimeout(()=>y(new P3e({hash:n})),a):void 0,b=NI(c,{onReplaced:r,resolve:g,reject:y},w=>{const A=nr(t,Eje,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(S){const P=C=>{clearTimeout(v),A(),C(),b()};let D=S;if(!f)try{if(h){if(e>1&&(!h.blockNumber||D-h.blockNumber+1n<e))return;P(()=>w.resolve(h));return}if(l||(f=!0,await DI(async()=>{l=await nr(t,Mre,"getTransaction")({hash:n}),l.blockNumber&&(D=l.blockNumber)},{delay:o,retryCount:s}),f=!1),h=await nr(t,yV,"getTransactionReceipt")({hash:n}),e>1&&(!h.blockNumber||D-h.blockNumber+1n<e))return;P(()=>w.resolve(h))}catch(C){if(C instanceof Hne||C instanceof Wne){if(!l){f=!1;return}try{u=l,f=!0;const I=await DI(()=>nr(t,Qb,"getBlock")({blockNumber:D,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:R})=>R instanceof Gne});f=!1;const x=I.transactions.find(({from:R,nonce:$})=>R===u.from&&$===u.nonce);if(!x||(h=await nr(t,yV,"getTransactionReceipt")({hash:x.hash}),e>1&&(!h.blockNumber||D-h.blockNumber+1n<e)))return;let N="replaced";x.to===u.to&&x.value===u.value&&x.input===u.input?N="repriced":x.from===x.to&&x.value===0n&&(N="cancelled"),P(()=>{var R;(R=w.onReplaced)==null||R.call(w,{reason:N,replacedTransaction:u,transaction:x,transactionReceipt:h}),w.resolve(h)})}catch(I){P(()=>w.reject(I))}}else P(()=>w.reject(C))}}})});return p}async function Sje(t,{account:e=t.account,message:n}){if(!e)throw new YU({docsPath:"/docs/actions/wallet/signMessage"});const r=ql(e);if(r.signMessage)return r.signMessage({message:n});const i=(()=>typeof n=="string"?eO(n):n.raw instanceof Uint8Array?Ll(n.raw):n.raw)();return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function Ije(t,e){const{abi:n,account:r=t.account,address:i,args:s,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new YU({docsPath:"/docs/contract/writeContract"});const l=r?ql(r):null,u=fw({abi:n,args:s,functionName:a});try{return await nr(t,sre,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:i,account:l,...c})}catch(h){throw PI(h,{abi:n,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function no(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}const CT="2.16.7",xje=()=>`@wagmi/core@${CT}`;var Ure=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},RI,jre;let _d=class YM extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return xje()}constructor(e,n={}){var s;super(),RI.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof YM?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof YM&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return Ure(this,RI,"m",jre).call(this,this,e)}};RI=new WeakSet,jre=function t(e,n){return n!=null&&n(e)?e:e.cause?Ure(this,RI,"m",t).call(this,e.cause,n):e};class Jb extends _d{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Pje extends _d{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Oje extends _d{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Dje extends _d{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Nje extends _d{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Rje extends _d{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function _V(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new Pje;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:i,...s}=e,o=await n.connect(s),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}const QM=256;let rC=QM,iC;function Bre(t=11){if(!iC||rC+t>QM*2){iC="",rC=0;for(let e=0;e<QM;e++)iC+=(256+Math.random()*256|0).toString(16).substring(1)}return iC.substring(rC,rC+++t)}function zre(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,c=t.chain,l=t.account?ql(t.account):void 0,{config:u,request:h,value:f}=t.transport({chain:c,pollingInterval:o}),p={...u,...f},g={account:l,batch:e,cacheTime:n,ccipRead:r,chain:c,key:i,name:s,pollingInterval:o,request:h,transport:p,type:a,uid:Bre()};function y(v){return b=>{const w=b(v);for(const S in g)delete w[S];const A={...v,...w};return Object.assign(A,{extend:y(A)})}}return Object.assign(g,{extend:y(g)})}function fj({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=Bre();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:mje(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function kje(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>fj({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function bV(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=Mje,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...h})=>{let f=t,p=()=>{};const g=fj({key:n,name:r,async request({method:y,params:v}){let b;const w=async(A=0)=>{const S=f[A]({...h,chain:c,retryCount:0,timeout:u});try{const P=await S.request({method:y,params:v});return p({method:y,params:v,response:P,transport:S,status:"success"}),P}catch(P){if(p({error:P,method:y,params:v,transport:S,status:"error"}),s(P)||A===f.length-1||(b??(b=f.slice(A+1).some(D=>{const{include:C,exclude:I}=D({chain:c}).config.methods||{};return C?C.includes(y):I?!I.includes(y):!0})),!b))throw P;return w(A+1)}};return w()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:y=>p=y,transports:f.map(y=>y({chain:c,retryCount:0}))});if(i){const y=typeof i=="object"?i:{};Lje({chain:c,interval:y.interval??l,onTransports:v=>f=v,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:f,weights:y.weights})}return g}}function Mje(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Ov.code||t.code===Ti.code||fp.nodeMessage.test(t.message)||t.code===5e3))}function Lje({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],h=async()=>{const f=await Promise.all(o.map(async y=>{const v=y({chain:t,retryCount:0,timeout:s}),b=Date.now();let w,A;try{await(r?r({transport:v}):v.request({method:"net_listening"})),A=1}catch{A=0}finally{w=Date.now()}return{latency:w-b,success:A}}));u.push(f),u.length>i&&u.shift();const p=Math.max(...u.map(y=>Math.max(...y.map(({latency:v})=>v)))),g=o.map((y,v)=>{const b=u.map(D=>D[v].latency),A=1-b.reduce((D,C)=>D+C,0)/b.length/p,S=u.map(D=>D[v].success),P=S.reduce((D,C)=>D+C,0)/S.length;return P===0?[0,v]:[l*A+c*P,v]}).sort((y,v)=>v[0]-y[0]);n(g.map(([,y])=>o[y])),await OI(e),h()};h()}class Fje extends Ee{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function sC(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:h,retryCount:f,timeout:p})=>{const{batchSize:g=1e3,wait:y=0}=typeof n=="object"?n:{},v=e.retryCount??f,b=p??e.timeout??1e4,w=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!w)throw new Fje;const A=vje(w,{fetchOptions:r,onRequest:a,onResponse:c,timeout:b});return fj({key:i,methods:s,name:o,async request({method:S,params:P}){const D={method:S,params:P},{schedule:C}=Ore({id:w,wait:y,shouldSplitBatch(R){return R.length>g},fn:R=>A.request({body:R}),sort:(R,$)=>R.id-$.id}),I=async R=>n?C(R):[await A.request({body:R})],[{error:x,result:N}]=await I(D);if(u)return{error:x,result:N};if(x)throw new XU({body:D,error:x,url:w});return N},retryCount:v,retryDelay:l,timeout:b,type:"http"},{fetchOptions:r,url:w})}}async function lO(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new Rje({connector:l});const[u,h]=await Promise.all([l.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),l.getChainId()]);n={accounts:u,chainId:h,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new Oje;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new Nje({connectionChainId:n.chainId,connectorChainId:i});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const o=ql(e.account??n.accounts[0]);if(o&&(o.address=hp(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new Dje({address:o.address,connector:s});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return zre({account:o,chain:a,name:"Connector Client",transport:l=>kje(c)({...l,retryCount:0})})}async function $je(t,e={}){var i,s;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}async function Uje(t,e){const{chainId:n,connector:r,...i}=e;let s;e.account?s=e.account:s=(await lO(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return no(o,Xne,"estimateGas")({...i,account:s})}function Vre(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(T3e[t])}function kI(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],s=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function jje(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...s}=e,o=t.getClient({chainId:r});return no(o,fje,"multicall")({allowFailure:n,contracts:i,...s})}function Bje(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return no(i,um,"readContract")(r)}async function zje(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:i,...s}=e,o=e.contracts;try{const c={};for(const[f,p]of o.entries()){const g=p.chainId??t.state.chainId;c[g]||(c[g]=[]),(a=c[g])==null||a.push({contract:p,index:f})}const l=()=>Object.entries(c).map(([f,p])=>jje(t,{...s,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(f),contracts:p.map(({contract:g})=>g)})),u=(await Promise.all(l())).flat(),h=Object.values(c).flatMap(f=>f.map(({index:p})=>p));return u.reduce((f,p,g)=>(f&&(f[h[g]]=p),f),[])}catch(c){if(c instanceof Sre)throw c;const l=()=>o.map(u=>Bje(t,{...u,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function Vje(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:s,token:o,unit:a="ether"}=e;if(o)try{return await EV(t,{balanceAddress:n,chainId:s,symbolType:"string",tokenAddress:o})}catch(f){if(f.name==="ContractFunctionExecutionError"){const p=await EV(t,{balanceAddress:n,chainId:s,symbolType:"bytes32",tokenAddress:o}),g=HU(ju(p.symbol,{dir:"right"}));return{...p,symbol:g}}throw f}const c=t.getClient({chainId:s}),u=await no(c,Jne,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),h=t.chains.find(f=>f.id===s)??c.chain;return{decimals:h.nativeCurrency.decimals,formatted:dw(u,Vre(a)),symbol:h.nativeCurrency.symbol,value:u}}async function EV(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:s,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[c,l,u]=await zje(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),h=dw(c??"0",Vre(o??l));return{decimals:l,formatted:h,symbol:u,value:c}}function MI(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!MI(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(s&&!MI(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let oC=[];function gg(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||MI(oC,e)?oC:(oC=e,e)}function Hje(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return no(i,MUe,"getEnsAddress")(r)}function Wje(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return no(i,YUe,"getEnsAvatar")(r)}function qje(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return no(i,QUe,"getEnsName")(r)}async function Gje(t,e){const{account:n,chainId:r,...i}=e,s=n??kI(t).address,o=t.getClient({chainId:r});return no(o,sj,"prepareTransactionRequest")({...i,...s?{account:s}:{}})}let $N=!1;async function Hre(t,e={}){var l,u;if($N)return[];$N=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const h of e.connectors){let f;typeof h=="function"?f=t._internal.connectors.setup(h):f=h,n.push(f)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of t.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...n].sort((h,f)=>(i[h.id]??10)-(i[f.id]??10)):n;let o=!1;const a=[],c=[];for(const h of s){const f=await h.getProvider().catch(()=>{});if(!f||c.some(y=>y===f)||!await h.isAuthorized())continue;const g=await h.connect({isReconnecting:!0}).catch(()=>null);g&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(y=>{const v=new Map(o?y.connections:new Map).set(h.uid,{accounts:g.accounts,chainId:g.chainId,connector:h});return{...y,current:o?y.current:h.uid,connections:v}}),a.push({accounts:g.accounts,chainId:g.chainId,connector:h}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),$N=!1,a}async function Kje(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await lO(t,{account:n??void 0,chainId:r,connector:i}),await no(o,sre,"sendTransaction")({...s,...n?{account:n}:{},chain:r?{id:r}:null,gas:s.gas??void 0})}async function Yje(t,e){const{account:n,connector:r,...i}=e;let s;return typeof n=="object"&&n.type==="local"?s=t.getClient():s=await lO(t,{account:n,connector:r}),no(s,Sje,"signMessage")({...i,...n?{account:n}:{}})}class Kd extends _d{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class Qje extends _d{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function AV(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new Qje({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const s=t.chains.find(a=>a.id===r);if(!s)throw new Jb;return t.setState(a=>({...a,chainId:r})),s}function Zje(t,e){const{onChange:n}=e;return t.subscribe(()=>kI(t),n,{equalityFn(r,i){const{connector:s,...o}=r,{connector:a,...c}=i;return MI(o,c)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function Jje(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function Xje(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let i;const s=c=>{i&&i();const l=t.getClient({chainId:c});return i=no(l,Cje,"watchPendingTransactions")(r),i},o=s(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>s(c))),()=>{o==null||o(),a==null||a()}}async function e5e(t,e){const{chainId:n,timeout:r=0,...i}=e,s=t.getClient({chainId:n}),a=await no(s,Tje,"waitForTransactionReceipt")({...i,timeout:r});if(a.status==="reverted"){const l=await no(s,Mre,"getTransaction")({hash:a.transactionHash}),h=await no(s,Dre,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),f=h!=null&&h.data?HU(`0x${h.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:s.chain.id}}async function Wre(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await lO(t,{account:n??void 0,chainId:r,connector:i}),await no(o,Ije,"writeContract")({...s,...n?{account:n}:{},chain:r?{id:r}:null})}function hat(t){return t}uO.type="injected";function uO(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...t5e[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let i,s,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:uO.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:u}={}){var p,g,y,v,b,w;const h=await this.getProvider();if(!h)throw new Kd;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(v=(y=(g=(p=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:g[0])==null?void 0:y.value)==null?void 0:v.map(S=>hp(S)),f.length>0&&(f=await this.getAccounts())}catch(A){const S=A;if(S.code===Ti.code)throw new Ti(S);if(S.code===zh.code)throw S}try{!(f!=null&&f.length)&&!u&&(f=(await h.request({method:"eth_requestAccounts"})).map(P=>hp(P))),o&&(h.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a));let A=await this.getChainId();if(l&&A!==l){const S=await this.switchChain({chainId:l}).catch(P=>{if(P.code===Ti.code)throw P;return{id:A}});A=(S==null?void 0:S.id)??A}return e&&await((b=c.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),t.target||await((w=c.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:f,chainId:A}}catch(A){const S=A;throw S.code===Ti.code?new Ti(S):S.code===zh.code?new zh(S):S}},async disconnect(){var u,h;const l=await this.getProvider();if(!l)throw new Kd;s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await Lre(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=c.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Kd;return(await l.request({method:"eth_accounts"})).map(h=>hp(h))},async getChainId(){const l=await this.getProvider();if(!l)throw new Kd;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=TT(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),y=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(b=>window.addEventListener("ethereum#initialized",()=>b(g()),{once:!0}))]:[],new Promise(b=>setTimeout(()=>b(g()),y))]))return!0}throw new Kd}return!!(await DI(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var g,y,v,b;const h=await this.getProvider();if(!h)throw new Kd;const f=c.chains.find(w=>w.id===u);if(!f)throw new Ul(new Jb);const p=new Promise(w=>{const A=S=>{"chainId"in S&&S.chainId===u&&(c.emitter.off("change",A),w())};c.emitter.on("change",A)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:an(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),p]),f}catch(w){const A=w;if(A.code===4902||((y=(g=A==null?void 0:A.data)==null?void 0:g.originalError)==null?void 0:y.code)===4902)try{const{default:S,...P}=f.blockExplorers??{};let D;l!=null&&l.blockExplorerUrls?D=l.blockExplorerUrls:S&&(D=[S.url,...Object.values(P).map(x=>x.url)]);let C;(v=l==null?void 0:l.rpcUrls)!=null&&v.length?C=l.rpcUrls:C=[((b=f.rpcUrls.default)==null?void 0:b.http[0])??""];const I={blockExplorerUrls:D,chainId:an(u),chainName:(l==null?void 0:l.chainName)??f.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??f.nativeCurrency,rpcUrls:C};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[I]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Ti(new Error("User rejected switch after adding network."))}),p]),f}catch(S){throw new Ti(S)}throw A.code===Ti.code?new Ti(A):new Ul(A)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(h=>hp(h))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const h=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:h});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const t5e={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:TT(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return TT(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:TT(t,"isPhantom")}}};function TT(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function n5e(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function r5e(){const t=new Set;let e=[];const n=()=>n5e(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const i5e=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let h=o(r.getState());l=f=>{const p=o(f);if(!u(h,p)){const g=h;a(h=p,g)}},c!=null&&c.fireImmediately&&a(h,h)}return i(l)},t(e,n,r)},s5e=i5e;function o5e(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>n.removeItem(i)}}const ZM=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ZM(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ZM(r)(n)}}}},a5e=(t,e)=>(n,r,i)=>{let s={storage:o5e(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const u=()=>{const y=s.partialize({...r()});return l.setItem(s.name,{state:y,version:s.version})},h=i.setState;i.setState=(y,v)=>{h(y,v),u()};const f=t((...y)=>{n(...y),u()},r,i);i.getInitialState=()=>f;let p;const g=()=>{var y,v;if(!l)return;o=!1,a.forEach(w=>{var A;return w((A=r())!=null?A:f)});const b=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(y=r())!=null?y:f))||void 0;return ZM(l.getItem.bind(l))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return[!0,s.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var A;const[S,P]=w;if(p=s.merge(P,(A=r())!=null?A:f),n(p,!0),S)return u()}).then(()=>{b==null||b(p,void 0),p=r(),o=!0,c.forEach(w=>w(p))}).catch(w=>{b==null||b(void 0,w)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||g(),p||f},c5e=a5e,CV=t=>{let e;const n=new Set,r=(l,u)=>{const h=typeof l=="function"?l(e):l;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},UN=t=>t?CV(t):CV;var qre={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||c,f),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)e.call(u,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},a.prototype.listenerCount=function(l){var u=n?n+l:l,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,u,h,f,p,g){var y=n?n+l:l;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,A;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,f),!0;case 5:return v.fn.call(v.context,u,h,f,p),!0;case 6:return v.fn.call(v.context,u,h,f,p,g),!0}for(A=1,w=new Array(b-1);A<b;A++)w[A-1]=arguments[A];v.fn.apply(v.context,w)}else{var S=v.length,P;for(A=0;A<S;A++)switch(v[A].once&&this.removeListener(l,v[A].fn,void 0,!0),b){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,u);break;case 3:v[A].fn.call(v[A].context,u,h);break;case 4:v[A].fn.call(v[A].context,u,h,f);break;default:if(!w)for(P=1,w=new Array(b-1);P<b;P++)w[P-1]=arguments[P];v[A].fn.apply(v[A].context,w)}}return!0},a.prototype.on=function(l,u,h){return s(this,l,u,h,!1)},a.prototype.once=function(l,u,h){return s(this,l,u,h,!0)},a.prototype.removeListener=function(l,u,h,f){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==u||f&&!g[y].once||h&&g[y].context!==h)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(qre);var l5e=qre.exports;const u5e=oo(l5e);class d5e{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new u5e})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function h5e(t){return new d5e(t)}function f5e(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function TV(t,e){return t.slice(0,e).join(".")||"."}function SV(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function p5e(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const l=SV(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const u=SV(i,c);if(u!==0)return r?e.call(this,a,c,TV(s,u)):`[ref=${TV(s,u)}]`}else i[0]=c,s[0]=a;return n?t.call(this,a,c):c}}function m5e(t,e,n,r){return JSON.stringify(t,p5e((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),n??void 0)}function g5e(t){const{deserialize:e=f5e,key:n="wagmi",serialize:r=m5e,storage:i=Gre}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:n,async getItem(o,a){const c=i.getItem(`${n}.${o}`),l=await s(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,r(a)))},async removeItem(o){await s(i.removeItem(`${n}.${o}`))}}}const Gre={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function y5e(){const t=(()=>typeof window<"u"&&window.localStorage?window.localStorage:Gre)();return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const JM=256;let aC=JM,cC;function v5e(t=11){if(!cC||aC+t>JM*2){cC="",aC=0;for(let e=0;e<JM;e++)cC+=(256+Math.random()*256|0).toString(16).substring(1)}return cC.substring(aC,aC+++t)}function w5e(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=g5e({storage:y5e()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?r5e():void 0,a=UN(()=>s.chains),c=UN(()=>{const P=[],D=new Set;for(const C of s.connectors??[]){const I=l(C);if(P.push(I),!i&&I.rdns){const x=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const N of x)D.add(N)}}if(!i&&o){const C=o.getProviders();for(const I of C)D.has(I.info.rdns)||P.push(l(u(I)))}return P});function l(P){var I;const D=h5e(v5e()),C={...P({emitter:D,chains:a.getState(),storage:n,transports:s.transports}),emitter:D,uid:D.uid};return D.on("connect",A),(I=C.setup)==null||I.call(C),C}function u(P){const{info:D}=P,C=P.provider;return uO({target:{...D,id:D.rdns,provider:C}})}const h=new Map;function f(P={}){const D=P.chainId??v.getState().chainId,C=a.getState().find(x=>x.id===D);if(P.chainId&&!C)throw new Jb;{const x=h.get(v.getState().chainId);if(x&&!C)return x;if(!C)throw new Jb}{const x=h.get(D);if(x)return x}let I;if(s.client)I=s.client({chain:C});else{const x=C.id,N=a.getState().map(U=>U.id),R={},$=Object.entries(s);for(const[U,Y]of $)if(!(U==="chains"||U==="client"||U==="connectors"||U==="transports"))if(typeof Y=="object")if(x in Y)R[U]=Y[x];else{if(N.some(j=>j in Y))continue;R[U]=Y}else R[U]=Y;I=zre({...R,chain:C,batch:R.batch??{multicall:!0},transport:U=>s.transports[x]({...U,connectors:c})})}return h.set(D,I),I}function p(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const y="0.0.0-canary-";CT.startsWith(y)?g=Number.parseInt(CT.replace(y,"")):g=Number.parseInt(CT.split(".")[0]??"0");const v=UN(s5e(n?c5e(p,{migrate(P,D){if(D===g)return P;const C=p(),I=b(P,C.chainId);return{...C,chainId:I}},name:"store",partialize(P){return{connections:{__type:"Map",value:Array.from(P.connections.entries()).map(([D,C])=>{const{id:I,name:x,type:N,uid:R}=C.connector;return[D,{...C,connector:{id:I,name:x,type:N,uid:R}}]})},chainId:P.chainId,current:P.current}},merge(P,D){typeof P=="object"&&P&&"status"in P&&delete P.status;const C=b(P,D.chainId);return{...D,...P,chainId:C}},skipHydration:i,storage:n,version:g}):p));v.setState(p());function b(P,D){return P&&typeof P=="object"&&"chainId"in P&&typeof P.chainId=="number"&&a.getState().some(C=>C.id===P.chainId)?P.chainId:D}r&&v.subscribe(({connections:P,current:D})=>{var C;return D?(C=P.get(D))==null?void 0:C.chainId:void 0},P=>{if(a.getState().some(C=>C.id===P))return v.setState(C=>({...C,chainId:P??C.chainId}))}),o==null||o.subscribe(P=>{const D=new Set,C=new Set;for(const x of c.getState())if(D.add(x.id),x.rdns){const N=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const R of N)C.add(R)}const I=[];for(const x of P){if(C.has(x.info.rdns))continue;const N=l(u(x));D.has(N.id)||I.push(N)}n&&!v.persist.hasHydrated()||c.setState(x=>[...x,...I],!0)});function w(P){v.setState(D=>{const C=D.connections.get(P.uid);return C?{...D,connections:new Map(D.connections).set(P.uid,{accounts:P.accounts??C.accounts,chainId:P.chainId??C.chainId,connector:C.connector})}:D})}function A(P){v.getState().status==="connecting"||v.getState().status==="reconnecting"||v.setState(D=>{const C=c.getState().find(I=>I.uid===P.uid);return C?(C.emitter.listenerCount("connect")&&C.emitter.off("connect",w),C.emitter.listenerCount("change")||C.emitter.on("change",w),C.emitter.listenerCount("disconnect")||C.emitter.on("disconnect",S),{...D,connections:new Map(D.connections).set(P.uid,{accounts:P.accounts,chainId:P.chainId,connector:C}),current:P.uid,status:"connected"}):D})}function S(P){v.setState(D=>{const C=D.connections.get(P.uid);if(C){const x=C.connector;x.emitter.listenerCount("change")&&C.connector.emitter.off("change",w),x.emitter.listenerCount("disconnect")&&C.connector.emitter.off("disconnect",S),x.emitter.listenerCount("connect")||C.connector.emitter.on("connect",A)}if(D.connections.delete(P.uid),D.connections.size===0)return{...D,connections:new Map,current:null,status:"disconnected"};const I=D.connections.values().next().value;return{...D,connections:new Map(D.connections),current:I.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return v.getState()},setState(P){let D;typeof P=="function"?D=P(v.getState()):D=P;const C=p();typeof D!="object"&&(D=C),Object.keys(C).some(x=>!(x in D))&&(D=C),v.setState(D,!0)},subscribe(P,D,C){return v.subscribe(P,D,C?{...C,fireImmediately:C.emitImmediately}:void 0)},_internal:{mipd:o,store:v,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(P){const D=typeof P=="function"?P(a.getState()):P;if(D.length!==0)return a.setState(D,!0)},subscribe(P){return a.subscribe(P)}},connectors:{providerDetailToConnector:u,setup:l,setState(P){return c.setState(typeof P=="function"?P(c.getState()):P,!0)},subscribe(P){return c.subscribe(P)}},events:{change:w,connect:A,disconnect:S}}}}function _5e(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var c;const s=new Set;for(const l of i??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const h of u)s.add(h)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(s.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),h=t._internal.connectors.setup(u);o.push(h)}return[...i,...o]})),r?Hre(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function b5e(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:s}=_5e(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||s();const o=F.useRef(!0);return F.useEffect(()=>{if(o.current&&n._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const Kre=F.createContext(void 0);function E5e(t){const{children:e,config:n}=t,r={value:n};return F.createElement(b5e,t,F.createElement(Kre.Provider,r,e))}const A5e="2.14.16",C5e=()=>`wagmi@${A5e}`;let T5e=class extends _d{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return C5e()}};class S5e extends T5e{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function I5e(t={}){const e=t.config??F.useContext(Kre);if(!e)throw new S5e;return e}var C1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dO=typeof window>"u"||"Deno"in globalThis;function fc(){}function x5e(t,e){return typeof t=="function"?t(e):t}function P5e(t){return typeof t=="number"&&t>=0&&t!==1/0}function O5e(t,e){return Math.max(t+(e||0)-Date.now(),0)}function IV(t,e){return typeof t=="function"?t(e):t}function D5e(t,e){return typeof t=="function"?t(e):t}function xV(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==pj(o,e.options))return!1}else if(!Xb(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function PV(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(dm(e.options.mutationKey)!==dm(s))return!1}else if(!Xb(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function pj(t,e){return((e==null?void 0:e.queryKeyHashFn)||dm)(t)}function dm(t){return JSON.stringify(t,(e,n)=>XM(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Xb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xb(t[n],e[n])):!1}function Yre(t,e){if(t===e)return t;const n=OV(t)&&OV(e);if(n||XM(t)&&XM(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:s[l];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=Yre(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function N5e(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function OV(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function XM(t){if(!DV(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!DV(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function DV(t){return Object.prototype.toString.call(t)==="[object Object]"}function R5e(t){return new Promise(e=>{setTimeout(e,t)})}function k5e(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Yre(t,e):e}function M5e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function L5e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var mj=Symbol();function Qre(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _p,ah,Hy,Aq,F5e=(Aq=class extends C1{constructor(){super();on(this,_p,void 0);on(this,ah,void 0);on(this,Hy,void 0);Mt(this,Hy,e=>{if(!dO&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){me(this,ah)||this.setEventListener(me(this,Hy))}onUnsubscribe(){var e;this.hasListeners()||((e=me(this,ah))==null||e.call(this),Mt(this,ah,void 0))}setEventListener(e){var n;Mt(this,Hy,e),(n=me(this,ah))==null||n.call(this),Mt(this,ah,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){me(this,_p)!==e&&(Mt(this,_p,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof me(this,_p)=="boolean"?me(this,_p):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_p=new WeakMap,ah=new WeakMap,Hy=new WeakMap,Aq),Zre=new F5e,Wy,ch,qy,Cq,$5e=(Cq=class extends C1{constructor(){super();on(this,Wy,!0);on(this,ch,void 0);on(this,qy,void 0);Mt(this,qy,e=>{if(!dO&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){me(this,ch)||this.setEventListener(me(this,qy))}onUnsubscribe(){var e;this.hasListeners()||((e=me(this,ch))==null||e.call(this),Mt(this,ch,void 0))}setEventListener(e){var n;Mt(this,qy,e),(n=me(this,ch))==null||n.call(this),Mt(this,ch,e(this.setOnline.bind(this)))}setOnline(e){me(this,Wy)!==e&&(Mt(this,Wy,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return me(this,Wy)}},Wy=new WeakMap,ch=new WeakMap,qy=new WeakMap,Cq),LI=new $5e;function U5e(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function j5e(t){return Math.min(1e3*2**t,3e4)}function Jre(t){return(t??"online")==="online"?LI.isOnline():!0}var Xre=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jN(t){return t instanceof Xre}function eie(t){let e=!1,n=0,r=!1,i;const s=U5e(),o=y=>{var v;r||(f(new Xre(y)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>Zre.isFocused()&&(t.networkMode==="always"||LI.isOnline())&&t.canRun(),u=()=>Jre(t.networkMode)&&t.canRun(),h=y=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,y),i==null||i(),s.resolve(y))},f=y=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,y),i==null||i(),s.reject(y))},p=()=>new Promise(y=>{var v;i=b=>{(r||l())&&y(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),g=()=>{if(r)return;let y;const v=n===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var D;if(r)return;const w=t.retry??(dO?0:3),A=t.retryDelay??j5e,S=typeof A=="function"?A(n,b):A,P=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!P){f(b);return}n++,(D=t.onFail)==null||D.call(t,n,b),R5e(S).then(()=>l()?void 0:p()).then(()=>{e?f(b):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),s)}}var B5e=t=>setTimeout(t,0);function z5e(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=B5e;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var hs=z5e(),bp,Tq,tie=(Tq=class{constructor(){on(this,bp,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P5e(this.gcTime)&&Mt(this,bp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dO?1/0:5*60*1e3))}clearGcTimeout(){me(this,bp)&&(clearTimeout(me(this,bp)),Mt(this,bp,void 0))}},bp=new WeakMap,Tq),Gy,Ky,xa,Ep,Ns,kE,Ap,pc,pu,Sq,V5e=(Sq=class extends tie{constructor(e){super();on(this,pc);on(this,Gy,void 0);on(this,Ky,void 0);on(this,xa,void 0);on(this,Ep,void 0);on(this,Ns,void 0);on(this,kE,void 0);on(this,Ap,void 0);Mt(this,Ap,!1),Mt(this,kE,e.defaultOptions),this.setOptions(e.options),this.observers=[],Mt(this,Ep,e.client),Mt(this,xa,me(this,Ep).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Mt(this,Gy,W5e(this.options)),this.state=e.state??me(this,Gy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=me(this,Ns))==null?void 0:e.promise}setOptions(e){this.options={...me(this,kE),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&me(this,xa).remove(this)}setData(e,n){const r=k5e(this.state.data,e,this.options);return Xr(this,pc,pu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Xr(this,pc,pu).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=me(this,Ns))==null?void 0:r.promise;return(i=me(this,Ns))==null||i.cancel(e),n?n.then(fc).catch(fc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(me(this,Gy))}isActive(){return this.observers.some(e=>D5e(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!O5e(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=me(this,Ns))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=me(this,Ns))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),me(this,xa).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(me(this,Ns)&&(me(this,Ap)?me(this,Ns).cancel({revert:!0}):me(this,Ns).cancelRetry()),this.scheduleGc()),me(this,xa).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xr(this,pc,pu).call(this,{type:"invalidate"})}fetch(e,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(me(this,Ns))return me(this,Ns).continueRetry(),me(this,Ns).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Mt(this,Ap,!0),r.signal)})},s=()=>{const h=Qre(this.options,n),f={client:me(this,Ep),queryKey:this.queryKey,meta:this.meta};return i(f),Mt(this,Ap,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:me(this,Ep),state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Mt(this,Ky,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&Xr(this,pc,pu).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var f,p,g,y;jN(h)&&h.silent||Xr(this,pc,pu).call(this,{type:"error",error:h}),jN(h)||((p=(f=me(this,xa).config).onError)==null||p.call(f,h,this),(y=(g=me(this,xa).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Mt(this,Ns,eie({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){a(v);return}(p=(f=me(this,xa).config).onSuccess)==null||p.call(f,h,this),(y=(g=me(this,xa).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{Xr(this,pc,pu).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Xr(this,pc,pu).call(this,{type:"pause"})},onContinue:()=>{Xr(this,pc,pu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),me(this,Ns).start()}},Gy=new WeakMap,Ky=new WeakMap,xa=new WeakMap,Ep=new WeakMap,Ns=new WeakMap,kE=new WeakMap,Ap=new WeakMap,pc=new WeakSet,pu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...H5e(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return jN(i)&&i.revert&&me(this,Ky)?{...me(this,Ky),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),hs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),me(this,xa).notify({query:this,type:"updated",action:e})})},Sq);function H5e(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jre(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function W5e(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var al,Iq,q5e=(Iq=class extends C1{constructor(e={}){super();on(this,al,void 0);this.config=e,Mt(this,al,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??pj(i,n);let o=this.get(s);return o||(o=new V5e({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){me(this,al).has(e.queryHash)||(me(this,al).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=me(this,al).get(e.queryHash);n&&(e.destroy(),n===e&&me(this,al).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return me(this,al).get(e)}getAll(){return[...me(this,al).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>xV(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>xV(e,r)):n}notify(e){hs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){hs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},al=new WeakMap,Iq),cl,Ks,Cp,ll,Vd,xq,G5e=(xq=class extends tie{constructor(e){super();on(this,ll);on(this,cl,void 0);on(this,Ks,void 0);on(this,Cp,void 0);this.mutationId=e.mutationId,Mt(this,Ks,e.mutationCache),Mt(this,cl,[]),this.state=e.state||nie(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){me(this,cl).includes(e)||(me(this,cl).push(e),this.clearGcTimeout(),me(this,Ks).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Mt(this,cl,me(this,cl).filter(n=>n!==e)),this.scheduleGc(),me(this,Ks).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){me(this,cl).length||(this.state.status==="pending"?this.scheduleGc():me(this,Ks).remove(this))}continue(){var e;return((e=me(this,Cp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,c,l,u,h,f,p,g,y,v,b,w,A,S,P,D,C,I;const n=()=>{Xr(this,ll,Vd).call(this,{type:"continue"})};Mt(this,Cp,eie({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(x,N)=>{Xr(this,ll,Vd).call(this,{type:"failed",failureCount:x,error:N})},onPause:()=>{Xr(this,ll,Vd).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>me(this,Ks).canRun(this)}));const r=this.state.status==="pending",i=!me(this,Cp).canStart();try{if(r)n();else{Xr(this,ll,Vd).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=me(this,Ks).config).onMutate)==null?void 0:o.call(s,e,this));const N=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));N!==this.state.context&&Xr(this,ll,Vd).call(this,{type:"pending",context:N,variables:e,isPaused:i})}const x=await me(this,Cp).start();return await((u=(l=me(this,Ks).config).onSuccess)==null?void 0:u.call(l,x,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,x,e,this.state.context)),await((g=(p=me(this,Ks).config).onSettled)==null?void 0:g.call(p,x,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,x,null,e,this.state.context)),Xr(this,ll,Vd).call(this,{type:"success",data:x}),x}catch(x){try{throw await((w=(b=me(this,Ks).config).onError)==null?void 0:w.call(b,x,e,this.state.context,this)),await((S=(A=this.options).onError)==null?void 0:S.call(A,x,e,this.state.context)),await((D=(P=me(this,Ks).config).onSettled)==null?void 0:D.call(P,void 0,x,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,x,e,this.state.context)),x}finally{Xr(this,ll,Vd).call(this,{type:"error",error:x})}}finally{me(this,Ks).runNext(this)}}},cl=new WeakMap,Ks=new WeakMap,Cp=new WeakMap,ll=new WeakSet,Vd=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),hs.batch(()=>{me(this,cl).forEach(r=>{r.onMutationUpdate(e)}),me(this,Ks).notify({mutation:this,type:"updated",action:e})})},xq);function nie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _u,mc,ME,Pq,K5e=(Pq=class extends C1{constructor(e={}){super();on(this,_u,void 0);on(this,mc,void 0);on(this,ME,void 0);this.config=e,Mt(this,_u,new Set),Mt(this,mc,new Map),Mt(this,ME,0)}build(e,n,r){const i=new G5e({mutationCache:this,mutationId:++pA(this,ME)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){me(this,_u).add(e);const n=lC(e);if(typeof n=="string"){const r=me(this,mc).get(n);r?r.push(e):me(this,mc).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(me(this,_u).delete(e)){const n=lC(e);if(typeof n=="string"){const r=me(this,mc).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&me(this,mc).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=lC(e);if(typeof n=="string"){const r=me(this,mc).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=lC(e);if(typeof n=="string"){const i=(r=me(this,mc).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hs.batch(()=>{me(this,_u).forEach(e=>{this.notify({type:"removed",mutation:e})}),me(this,_u).clear(),me(this,mc).clear()})}getAll(){return Array.from(me(this,_u))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>PV(n,r))}findAll(e={}){return this.getAll().filter(n=>PV(e,n))}notify(e){hs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return hs.batch(()=>Promise.all(e.map(n=>n.continue().catch(fc))))}},_u=new WeakMap,mc=new WeakMap,ME=new WeakMap,Pq);function lC(t){var e;return(e=t.options.scope)==null?void 0:e.id}function NV(t){return{onFetch:(e,n)=>{var u,h,f,p,g;const r=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let y=!1;const v=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=Qre(e.options,e.fetchOptions),w=async(A,S,P)=>{if(y)return Promise.reject();if(S==null&&A.pages.length)return Promise.resolve(A);const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:P?"backward":"forward",meta:e.options.meta};v(D);const C=await b(D),{maxPages:I}=e.options,x=P?L5e:M5e;return{pages:x(A.pages,C,I),pageParams:x(A.pageParams,S,I)}};if(i&&s.length){const A=i==="backward",S=A?Y5e:RV,P={pages:s,pageParams:o},D=S(r,P);a=await w(P,D,A)}else{const A=t??s.length;do{const S=c===0?o[0]??r.initialPageParam:RV(r,a);if(c>0&&S==null)break;a=await w(a,S),c++}while(c<A)}return a};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function RV(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Y5e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qr,lh,uh,Yy,Qy,dh,Zy,Jy,Oq,Q5e=(Oq=class{constructor(t={}){on(this,qr,void 0);on(this,lh,void 0);on(this,uh,void 0);on(this,Yy,void 0);on(this,Qy,void 0);on(this,dh,void 0);on(this,Zy,void 0);on(this,Jy,void 0);Mt(this,qr,t.queryCache||new q5e),Mt(this,lh,t.mutationCache||new K5e),Mt(this,uh,t.defaultOptions||{}),Mt(this,Yy,new Map),Mt(this,Qy,new Map),Mt(this,dh,0)}mount(){pA(this,dh)._++,me(this,dh)===1&&(Mt(this,Zy,Zre.subscribe(async t=>{t&&(await this.resumePausedMutations(),me(this,qr).onFocus())})),Mt(this,Jy,LI.subscribe(async t=>{t&&(await this.resumePausedMutations(),me(this,qr).onOnline())})))}unmount(){var t,e;pA(this,dh)._--,me(this,dh)===0&&((t=me(this,Zy))==null||t.call(this),Mt(this,Zy,void 0),(e=me(this,Jy))==null||e.call(this),Mt(this,Jy,void 0))}isFetching(t){return me(this,qr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return me(this,lh).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=me(this,qr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=me(this,qr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(IV(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return me(this,qr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=me(this,qr).get(r.queryHash),s=i==null?void 0:i.state.data,o=x5e(e,s);if(o!==void 0)return me(this,qr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return hs.batch(()=>me(this,qr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=me(this,qr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=me(this,qr);hs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=me(this,qr);return hs.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=hs.batch(()=>me(this,qr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fc).catch(fc)}invalidateQueries(t,e={}){return hs.batch(()=>(me(this,qr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=hs.batch(()=>me(this,qr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(fc)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(fc)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=me(this,qr).build(this,e);return n.isStaleByTime(IV(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fc).catch(fc)}fetchInfiniteQuery(t){return t.behavior=NV(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fc).catch(fc)}ensureInfiniteQueryData(t){return t.behavior=NV(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return LI.isOnline()?me(this,lh).resumePausedMutations():Promise.resolve()}getQueryCache(){return me(this,qr)}getMutationCache(){return me(this,lh)}getDefaultOptions(){return me(this,uh)}setDefaultOptions(t){Mt(this,uh,t)}setQueryDefaults(t,e){me(this,Yy).set(dm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...me(this,Yy).values()],n={};return e.forEach(r=>{Xb(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){me(this,Qy).set(dm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...me(this,Qy).values()],n={};return e.forEach(r=>{Xb(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...me(this,uh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...me(this,uh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){me(this,qr).clear(),me(this,lh).clear()}},qr=new WeakMap,lh=new WeakMap,uh=new WeakMap,Yy=new WeakMap,Qy=new WeakMap,dh=new WeakMap,Zy=new WeakMap,Jy=new WeakMap,Oq),hh,fh,bo,bu,Xy,ST,LE,eL,Dq,Z5e=(Dq=class extends C1{constructor(n,r){super();on(this,Xy);on(this,LE);on(this,hh,void 0);on(this,fh,void 0);on(this,bo,void 0);on(this,bu,void 0);Mt(this,hh,n),this.setOptions(r),this.bindMethods(),Xr(this,Xy,ST).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=me(this,hh).defaultMutationOptions(n),N5e(this.options,r)||me(this,hh).getMutationCache().notify({type:"observerOptionsUpdated",mutation:me(this,bo),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&dm(r.mutationKey)!==dm(this.options.mutationKey)?this.reset():((i=me(this,bo))==null?void 0:i.state.status)==="pending"&&me(this,bo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=me(this,bo))==null||n.removeObserver(this)}onMutationUpdate(n){Xr(this,Xy,ST).call(this),Xr(this,LE,eL).call(this,n)}getCurrentResult(){return me(this,fh)}reset(){var n;(n=me(this,bo))==null||n.removeObserver(this),Mt(this,bo,void 0),Xr(this,Xy,ST).call(this),Xr(this,LE,eL).call(this)}mutate(n,r){var i;return Mt(this,bu,r),(i=me(this,bo))==null||i.removeObserver(this),Mt(this,bo,me(this,hh).getMutationCache().build(me(this,hh),this.options)),me(this,bo).addObserver(this),me(this,bo).execute(n)}},hh=new WeakMap,fh=new WeakMap,bo=new WeakMap,bu=new WeakMap,Xy=new WeakSet,ST=function(){var r;const n=((r=me(this,bo))==null?void 0:r.state)??nie();Mt(this,fh,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},LE=new WeakSet,eL=function(n){hs.batch(()=>{var r,i,s,o,a,c,l,u;if(me(this,bu)&&this.hasListeners()){const h=me(this,fh).variables,f=me(this,fh).context;(n==null?void 0:n.type)==="success"?((i=(r=me(this,bu)).onSuccess)==null||i.call(r,n.data,h,f),(o=(s=me(this,bu)).onSettled)==null||o.call(s,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(a=me(this,bu)).onError)==null||c.call(a,n.error,h,f),(u=(l=me(this,bu)).onSettled)==null||u.call(l,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(me(this,fh))})})},Dq);function J5e(t){return{mutationFn(e){return Wre(t,e)},mutationKey:["writeContract"]}}var rie=F.createContext(void 0),X5e=t=>{const e=F.useContext(rie);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},e4e=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(rie.Provider,{value:t,children:e}));function t4e(t,e){return typeof t=="function"?t(...e):!!t}function n4e(){}function r4e(t,e){const n=X5e(e),[r]=F.useState(()=>new Z5e(n,t));F.useEffect(()=>{r.setOptions(t)},[r,t]);const i=F.useSyncExternalStore(F.useCallback(o=>r.subscribe(hs.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=F.useCallback((o,a)=>{r.mutate(o,a).catch(n4e)},[r]);if(i.error&&t4e(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function i4e(t={}){const{mutation:e}=t,n=I5e(t),r=J5e(n),{mutate:i,mutateAsync:s,...o}=r4e({...e,...r});return{...o,writeContract:i,writeContractAsync:s}}const s4e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ERC721EnumerableForbiddenBatchMint",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"ERC721OutOfBoundsIndex",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllBirdies",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBaseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintedBirdie",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"tokenURI",type:"string"}],name:"mintNFT",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"tokensOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],o4e="0xE32383aB1dbea75Fa416CB7cA200b0e1c89735AC",a4e=({makePayment:t,onSuccess:e,totalEthPrice:n})=>{const{writeContractAsync:r,isPending:i}=i4e(),s=async o=>{if(!window.ethereum){wt.error("Please install MetaMask first.");return}if(!t){wt.error("All fields are required.");return}try{await r({address:o4e,abi:s4e,functionName:"mintNFT",args:[""],value:_je(o.toString())}),e()}catch(a){wt.error("Error during transaction: "+(a.message||"Unknown error"))}};return T.jsx("div",{className:"wallet-btn-wrapper",children:T.jsx("button",{className:"button-hovering-color",onClick:()=>s(n),disabled:i,children:i?"Processing...":"Book Now"})})};function c4e({tourPrice:t,selectedCalendarDate:e,tourName:n,slugValue:r}){const[i,s]=F.useState(0),[o,a]=F.useState(0),[c,l]=F.useState(0),[u,h]=F.useState(0),[f,p]=F.useState([null,null]);function g(w){w=="Adults"&&i?s(A=>A-1):w=="Kids"&&o?a(A=>A-1):w=="Children"&&c&&l(A=>A-1)}function y(w){w=="Adults"?s(A=>A+1):w=="Kids"?a(A=>A+1):w=="Children"&&l(A=>A+1)}F.useEffect(()=>{const w=(c+o+i)*Number(t||0)||0;h(w)},[c,o,i,t]);const v=async()=>{const A=Ete().currentUser,S=i+o+c;if(!A){wt.error("Please login to book");return}if(!f[0]||!f[1]){wt.error("Please select both Date and Time");return}if(S<1){wt.error("At least one ticket must be selected");return}const P={userId:A.uid,tourName:n,slugValue:r,totalPrice:u,tickets:S,date:f[0],time:f[1],createdAt:jDe(),tourBookedAt:new Date().toISOString()};console.log(P);try{const D=await cU(c1(rd,"bookings"),P);wt.success("Booked successfully!"),console.log("Booked...",P),console.log(D)}catch(D){wt.error(`Error in booking: ${D}`)}};function b(w){p(w)}return T.jsxs(T.Fragment,{children:[T.jsxs("h3",{className:"tour-booking-price-title",children:[t!="NaN"?`${t} ETH`:"Loading... "," ",T.jsx("span",{children:"/ person"})]}),T.jsxs("div",{className:"tour-booking-input-details",children:[T.jsxs("div",{className:"",children:[T.jsx("label",{className:"book-now-minor-heading",children:"Date"}),T.jsx(cFe,{sendDateTime:b,selectedCalendarDate:e})," "]}),T.jsx("span",{className:"book-now-minor-heading ticket-heading",children:"Ticket"}),T.jsxs("div",{className:"booking-people-category",children:[T.jsx("label",{htmlFor:"adult",className:"ticket-label",children:"Adults (18+ years)"}),T.jsxs("div",{className:"booking-detail-btn-group",children:[T.jsx("button",{className:"increment-decrement-btn",onClick:()=>g("Adults"),children:"-"}),T.jsx("input",{className:"increment-decrement-btn",type:"text",value:i}),T.jsx("button",{className:"increment-decrement-btn",onClick:()=>y("Adults"),children:"+"})]})]}),T.jsxs("div",{className:"booking-people-category",children:[T.jsx("label",{htmlFor:"kids",className:"ticket-label",children:"Kids (12+ years)"}),T.jsxs("div",{className:"booking-detail-btn-group",children:[T.jsx("button",{className:"increment-decrement-btn",onClick:()=>g("Kids"),children:"-"}),T.jsx("input",{className:"increment-decrement-btn",type:"text",value:o}),T.jsx("button",{className:"increment-decrement-btn",onClick:()=>y("Kids"),children:"+"})]})]}),T.jsxs("div",{className:"booking-people-category",children:[T.jsx("label",{htmlFor:"Children",className:"ticket-label",children:"Children (3+ years)"}),T.jsxs("div",{className:"booking-detail-btn-group",children:[T.jsx("button",{className:"increment-decrement-btn",onClick:()=>g("Children"),children:"-"}),T.jsx("input",{className:"increment-decrement-btn",type:"text",value:c}),T.jsx("button",{className:"increment-decrement-btn",onClick:()=>y("Children"),children:"+"})]})]})]}),T.jsxs("div",{className:"booking-detail-total",children:[T.jsx("span",{className:"ticket-label",children:"Total"}),T.jsxs("span",{className:"project-theme-color book-now-total-price",children:[u.toFixed(5)," ETH"]})]}),T.jsx("br",{}),T.jsxs("div",{className:"wallet-btn",children:[T.jsx("span",{children:T.jsx(a4e,{onSuccess:v,totalEthPrice:u,makePayment:!!(f[0]&&f[1]&&(o||i||c))})}),T.jsx("span",{children:T.jsx("appkit-button",{})})]})]})}function gj(){async function t(e){console.log("submssion......",e.userName);const n={name:e.userName,email:e.emailAddress,textContent:e.textContent};try{await cU(c1(rd,"Comment"),n),wt.success("Submitted successfully! "),e.userName="",e.emailAddress="",e.textContent=""}catch(r){wt.error(`Error: ${r}`)}}return T.jsx("div",{className:"adding-comment-wrapper",children:T.jsx(QE,{initialValues:{userName:"",emailAddress:"",textContent:""},validationSchema:ew({userName:Po().required("Required"),emailAddress:Po().required("Required"),textContent:Po().required("Required")}),onSubmit:t,children:T.jsxs(Xv,{children:[T.jsxs("div",{className:"name-email-container",children:[T.jsx("div",{children:T.jsx(Iy,{labelText:"",labelClassName:"",name:"userName",type:"text",placeholder:"Your name",fieldClassName:"name-email-field",containerClass:"",min:1,max:""})}),T.jsx("div",{children:T.jsx(Iy,{labelText:"",labelClassName:"",name:"emailAddress",type:"email",placeholder:"Email address",fieldClassName:"name-email-field",containerClass:"",min:1,max:""})})]}),T.jsx(Iy,{labelText:"",labelClassName:"",name:"textContent",type:"textArea",placeholder:"Write Something",fieldClassName:"comment-field",containerClass:"",min:1,max:""}),T.jsx("br",{}),T.jsx("button",{type:"submit",className:"button-hovering-color",children:"Submit"})]})})})}function l4e(){return T.jsxs("div",{className:"add-review-container",children:[T.jsx("h5",{children:"Add a review"}),T.jsx("div",{className:"adding-tour-review",children:T.jsx(gj,{})})]})}function yg({tourRating:t,tourRatingName:e}){return T.jsxs("div",{className:"review-item-container",children:[T.jsx("p",{children:e}),T.jsxs("span",{children:[T.jsx("progress",{value:t,max:5})," ",T.jsxs("span",{children:[" ",t]})]})]})}function u4e({tourId:t}){var a,c;const{data:e}=VSe(t),n=e==null?void 0:e.data[0],r=((a=n==null?void 0:n.user)==null?void 0:a.name)||"Anonymous User",i=(n==null?void 0:n.numericRating)||0,s=n==null?void 0:n.content,o=(c=n==null?void 0:n.user)==null?void 0:c.avatar;return n?T.jsxs("div",{className:"showing-review-container",children:[T.jsx("h5",{children:"Showing 1 review"}),T.jsxs("div",{className:"showing-one-review",children:[T.jsx("div",{className:"showing-reviewer-image",children:o?T.jsx("img",{className:"reviewer-image",src:o}):T.jsx("img",{className:"reviewer-image",src:bt.BLANK_PROFILE})}),T.jsxs("div",{className:"showing-review-text-info",children:[T.jsx("span",{className:"review-date project-normal-font",children:"March 20, 2022"}),T.jsx("h6",{className:"reviewer-name project-heading-font",children:r}),T.jsxs("div",{className:"reviewer-rating",children:[T.jsxs("span",{className:"rating-star-class",children:[T.jsx("i",{className:"fa fa-star"})," ",i," ",T.jsx("br",{})]}),T.jsxs("span",{className:"tour-additional-info-text",children:["12 reviews ",T.jsx("br",{})]})]}),T.jsx("p",{className:"review-description project-normal-font",children:s})]})]})]}):""}function d4e({tourRating:t,tourId:e}){const n=typeof t=="number"?t.toString():t;function r(i){return typeof i=="number"?i>=4?"Excellent":i<3?"Bad":"Good":"N/A"}return T.jsxs("div",{className:"tour-review-section",children:[t?T.jsx(T.Fragment,{children:T.jsxs("div",{className:"average-review-section",children:[T.jsxs("div",{className:"total-average-reviews",children:[T.jsx("h2",{className:"project-heading-font",children:n}),T.jsxs("p",{children:[T.jsx("i",{className:"fa-solid fa-star"}),r(Number(n))]})]}),T.jsxs("div",{className:"review-item",children:[T.jsx(yg,{tourRating:n,tourRatingName:"Service"}),T.jsx(yg,{tourRating:n,tourRatingName:"Location"}),T.jsx(yg,{tourRating:n,tourRatingName:"Price"})]}),T.jsxs("div",{className:"review-item",children:[T.jsx(yg,{tourRating:n,tourRatingName:"Food"}),T.jsx(yg,{tourRating:n,tourRatingName:"Amenities"}),T.jsx(yg,{tourRating:n,tourRatingName:"Quality"})]})]})}):"",T.jsx(u4e,{tourId:e}),T.jsx(l4e,{})]})}function iie(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iie(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hO(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iie(t))&&(r&&(r+=" "),r+=e);return r}const h4e=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!f4e(i,s)&&r||Object.defineProperty(t,n,s)},f4e=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},p4e=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},m4e=(t,e)=>`/* Wrapped ${t}*/
${e}`,g4e=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),y4e=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),v4e=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=m4e.bind(null,r,e.toString());Object.defineProperty(i,"name",y4e),Object.defineProperty(t,"toString",{...g4e,value:i})},w4e=(t,e,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=t;for(const i of Reflect.ownKeys(e))h4e(t,e,i,n);return p4e(t,e),v4e(t,e,r),t};var _4e=w4e,tL={exports:{}},b4e=()=>{const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t};(function(t,e){var n=Zs&&Zs.__awaiter||function(o,a,c,l){return new(c||(c=Promise))(function(u,h){function f(y){try{g(l.next(y))}catch(v){h(v)}}function p(y){try{g(l.throw(y))}catch(v){h(v)}}function g(y){y.done?u(y.value):new c(function(v){v(y.value)}).then(f,p)}g((l=l.apply(o,a||[])).next())})},r=Zs&&Zs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(b4e);function s(o,a="maxAge"){let c,l,u;const h=()=>n(this,void 0,void 0,function*(){if(c!==void 0)return;const g=y=>n(this,void 0,void 0,function*(){u=i.default();const v=y[1][a]-Date.now();if(v<=0){o.delete(y[0]),u.resolve();return}return c=y[0],l=setTimeout(()=>{o.delete(y[0]),u&&u.resolve()},v),typeof l.unref=="function"&&l.unref(),u.promise});try{for(const y of o)yield g(y)}catch{}c=void 0}),f=()=>{c=void 0,l!==void 0&&(clearTimeout(l),l=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},p=o.set.bind(o);return o.set=(g,y)=>{o.has(g)&&o.delete(g);const v=p(g,y);return c&&c===g&&f(),h(),v},h(),o}e.default=s,t.exports=s,t.exports.default=s})(tL,tL.exports);var E4e=tL.exports;const A4e=_4e,C4e=E4e,BN=new WeakMap,sie=new WeakMap,FI=(t,{cacheKey:e,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&C4e(n);const i=function(...s){const o=e?e(s):s[0],a=n.get(o);if(a)return a.data;const c=t.apply(this,s);return n.set(o,{data:c,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),c};return A4e(i,t,{ignoreNonConfigurable:!0}),sie.set(i,n),i};FI.decorator=(t={})=>(e,n,r)=>{const i=e[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!BN.has(this)){const s=FI(i,t);return BN.set(this,s),s}return BN.get(this)}};FI.clear=t=>{const e=sie.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var T4e=FI;const oie=oo(T4e);function S4e(t){return typeof t=="string"}function I4e(t,e,n){return n.indexOf(t)===e}function x4e(t){return t.toLowerCase()===t}function kV(t){return t.indexOf(",")===-1?t:t.split(",")}function nL(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return nL(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return nL(n)}if(t.indexOf("-")===-1||!x4e(t))return t;var i=t.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function P4e(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],c=[],l=0,u=a;l<u.length;l++){var h=u[l];c=c.concat(kV(h))}var f=navigator.language,p=f&&kV(f);o=o.concat(c,p)}return r&&o.push(s),o.filter(S4e).map(nL).filter(I4e)}var O4e=oie(P4e,{cacheKey:JSON.stringify});function D4e(t){return O4e(t)[0]||null}var aie=oie(D4e,{cacheKey:JSON.stringify});function bd(t,e,n){return function(i,s){s===void 0&&(s=n);var o=t(i)+s;return e(o)}}function T1(t){return function(n){return new Date(t(n).getTime()-1)}}function S1(t,e){return function(r){return[t(r),e(r)]}}function Lr(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function Sf(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function fO(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function pw(t){var e=Lr(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var N4e=bd(Lr,pw,-100),cie=bd(Lr,pw,100),yj=T1(cie),R4e=bd(Lr,yj,-100),lie=S1(pw,yj);function If(t){var e=Lr(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var uie=bd(Lr,If,-10),vj=bd(Lr,If,10),pO=T1(vj),die=bd(Lr,pO,-10),hie=S1(If,pO);function mw(t){var e=Lr(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var fie=bd(Lr,mw,-1),wj=bd(Lr,mw,1),mO=T1(wj),pie=bd(Lr,mO,-1),k4e=S1(mw,mO);function _j(t,e){return function(r,i){i===void 0&&(i=e);var s=Lr(r),o=Sf(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),t(a)}}function Um(t){var e=Lr(t),n=Sf(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}var mie=_j(Um,-1),bj=_j(Um,1),I1=T1(bj),gie=_j(I1,-1),M4e=S1(Um,I1);function L4e(t,e){return function(r,i){i===void 0&&(i=e);var s=Lr(r),o=Sf(r),a=fO(r)+i,c=new Date;return c.setFullYear(s,o,a),c.setHours(0,0,0,0),t(c)}}function x1(t){var e=Lr(t),n=Sf(t),r=fO(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}var F4e=L4e(x1,1),Ej=T1(F4e),$4e=S1(x1,Ej);function yie(t){return fO(I1(t))}var gs={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},U4e={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Aj=[0,1,2,3,4,5,6],zN=new Map;function j4e(t){return function(n,r){var i=n||aie();zN.has(i)||zN.set(i,new Map);var s=zN.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function B4e(t){var e=new Date(t);return new Date(e.setHours(12))}function jm(t){return function(e,n){return j4e(t)(e,B4e(n))}}var z4e={day:"numeric"},V4e={day:"numeric",month:"long",year:"numeric"},H4e={month:"long"},W4e={month:"long",year:"numeric"},q4e={weekday:"short"},G4e={weekday:"long"},K4e={year:"numeric"},Y4e=jm(z4e),Q4e=jm(V4e),Z4e=jm(H4e),vie=jm(W4e),J4e=jm(q4e),X4e=jm(G4e),gO=jm(K4e),eBe=Aj[0],tBe=Aj[5],MV=Aj[6];function eE(t,e){e===void 0&&(e=gs.ISO_8601);var n=t.getDay();switch(e){case gs.ISO_8601:return(n+6)%7;case gs.ISLAMIC:return(n+1)%7;case gs.HEBREW:case gs.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function nBe(t){var e=pw(t);return Lr(e)}function rBe(t){var e=If(t);return Lr(e)}function rL(t,e){e===void 0&&(e=gs.ISO_8601);var n=Lr(t),r=Sf(t),i=t.getDate()-eE(t,e);return new Date(n,r,i)}function iBe(t,e){e===void 0&&(e=gs.ISO_8601);var n=e===gs.GREGORY?gs.GREGORY:gs.ISO_8601,r=rL(t,e),i=Lr(t)+1,s,o;do s=new Date(i,0,n===gs.ISO_8601?4:1),o=rL(s,e),i-=1;while(t<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function Rp(t,e){switch(t){case"century":return pw(e);case"decade":return If(e);case"year":return mw(e);case"month":return Um(e);case"day":return x1(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function sBe(t,e){switch(t){case"century":return N4e(e);case"decade":return uie(e);case"year":return fie(e);case"month":return mie(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wie(t,e){switch(t){case"century":return cie(e);case"decade":return vj(e);case"year":return wj(e);case"month":return bj(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function oBe(t,e){switch(t){case"decade":return uie(e,-100);case"year":return fie(e,-10);case"month":return mie(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function aBe(t,e){switch(t){case"decade":return vj(e,100);case"year":return wj(e,10);case"month":return bj(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function _ie(t,e){switch(t){case"century":return yj(e);case"decade":return pO(e);case"year":return mO(e);case"month":return I1(e);case"day":return Ej(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function cBe(t,e){switch(t){case"century":return R4e(e);case"decade":return die(e);case"year":return pie(e);case"month":return gie(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function lBe(t,e){switch(t){case"decade":return die(e,-100);case"year":return pie(e,-10);case"month":return gie(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function LV(t,e){switch(t){case"century":return lie(e);case"decade":return hie(e);case"year":return k4e(e);case"month":return M4e(e);case"day":return $4e(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function uBe(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[Rp(t,r[0]),_ie(t,r[1])]}function bie(t,e,n){return n.map(function(r){return(e||gO)(t,r)}).join(" – ")}function dBe(t,e,n){return bie(t,e,lie(n))}function Eie(t,e,n){return bie(t,e,hie(n))}function hBe(t){return t.getDay()===new Date().getDay()}function Aie(t,e){e===void 0&&(e=gs.ISO_8601);var n=t.getDay();switch(e){case gs.ISLAMIC:case gs.HEBREW:return n===tBe||n===MV;case gs.ISO_8601:case gs.GREGORY:return n===MV||n===eBe;default:throw new Error("Unsupported calendar type.")}}var Yc="react-calendar__navigation";function fBe(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?vie:r,s=t.formatYear,o=s===void 0?gO:s,a=t.locale,c=t.maxDate,l=t.minDate,u=t.navigationAriaLabel,h=u===void 0?"":u,f=t.navigationAriaLive,p=t.navigationLabel,g=t.next2AriaLabel,y=g===void 0?"":g,v=t.next2Label,b=v===void 0?"»":v,w=t.nextAriaLabel,A=w===void 0?"":w,S=t.nextLabel,P=S===void 0?"›":S,D=t.prev2AriaLabel,C=D===void 0?"":D,I=t.prev2Label,x=I===void 0?"«":I,N=t.prevAriaLabel,R=N===void 0?"":N,$=t.prevLabel,U=$===void 0?"‹":$,Y=t.setActiveStartDate,z=t.showDoubleView,j=t.view,q=t.views,V=q.indexOf(j)>0,Q=j!=="century",K=sBe(j,e),ee=Q?oBe(j,e):void 0,ne=wie(j,e),le=Q?aBe(j,e):void 0,ce=function(){if(K.getFullYear()<0)return!0;var ht=cBe(j,e);return l&&l>=ht}(),re=Q&&function(){if(ee.getFullYear()<0)return!0;var ht=lBe(j,e);return l&&l>=ht}(),de=c&&c<ne,ve=Q&&c&&c<le;function Ne(){Y(K,"prev")}function Fe(){Y(ee,"prev2")}function Ge(){Y(ne,"next")}function ot(){Y(le,"next2")}function Me(ht){var Xt=function(){switch(j){case"century":return dBe(a,o,ht);case"decade":return Eie(a,o,ht);case"year":return o(a,ht);case"month":return i(a,ht);default:throw new Error("Invalid view: ".concat(j,"."))}}();return p?p({date:ht,label:Xt,locale:a||aie()||void 0,view:j}):Xt}function ut(){var ht="".concat(Yc,"__label");return T.jsxs("button",{"aria-label":h,"aria-live":f,className:ht,disabled:!V,onClick:n,style:{flexGrow:1},type:"button",children:[T.jsx("span",{className:"".concat(ht,"__labelText ").concat(ht,"__labelText--from"),children:Me(e)}),z?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"".concat(ht,"__divider"),children:" – "}),T.jsx("span",{className:"".concat(ht,"__labelText ").concat(ht,"__labelText--to"),children:Me(ne)})]}):null]})}return T.jsxs("div",{className:Yc,children:[x!==null&&Q?T.jsx("button",{"aria-label":C,className:"".concat(Yc,"__arrow ").concat(Yc,"__prev2-button"),disabled:re,onClick:Fe,type:"button",children:x}):null,U!==null&&T.jsx("button",{"aria-label":R,className:"".concat(Yc,"__arrow ").concat(Yc,"__prev-button"),disabled:ce,onClick:Ne,type:"button",children:U}),ut(),P!==null&&T.jsx("button",{"aria-label":A,className:"".concat(Yc,"__arrow ").concat(Yc,"__next-button"),disabled:de,onClick:Ge,type:"button",children:P}),b!==null&&Q?T.jsx("button",{"aria-label":y,className:"".concat(Yc,"__arrow ").concat(Yc,"__next2-button"),disabled:ve,onClick:ot,type:"button",children:b}):null]})}var my=globalThis&&globalThis.__assign||function(){return my=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},my.apply(this,arguments)},pBe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function FV(t){return"".concat(t,"%")}function Cj(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,o=t.style,a=t.wrap,c=pBe(t,["children","className","count","direction","offset","style","wrap"]);return T.jsx("div",my({className:n,style:my({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},c,{children:F.Children.map(e,function(l,u){var h=s&&u===0?FV(100*s/r):null;return F.cloneElement(l,my(my({},l.props),{style:{flexBasis:FV(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function mBe(t,e,n){return e&&e>t?e:n&&n<t?n:t}function tE(t,e){return e[0]<=t&&e[1]>=t}function gBe(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function Cie(t,e){return tE(t[0],e)||tE(t[1],e)}function $V(t,e,n){var r=Cie(e,t),i=[];if(r){i.push(n);var s=tE(t[0],e),o=tE(t[1],e);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function yBe(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function vBe(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var p=t.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return LV(p,n)}();if(tE(o,a)&&s.push("".concat(i,"--now")),!e||!yBe(e))return s;var c=function(){if(Array.isArray(e))return e;var p=t.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return LV(p,e)}();gBe(c,a)?s.push("".concat(i,"--active")):Cie(c,a)&&s.push("".concat(i,"--hasActive"));var l=$V(c,a,"".concat(i,"--range"));s.push.apply(s,l);var u=Array.isArray(e)?e:[e];if(r&&u.length===1){var h=r>c[0]?[c[0],r]:[r,c[0]],f=$V(h,a,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function yO(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,o=t.end,a=t.hover,c=t.offset,l=t.renderTile,u=t.start,h=t.step,f=h===void 0?1:h,p=t.value,g=t.valueType,y=[],v=u;v<=o;v+=f){var b=i(v);y.push(l({classes:vBe({date:b,dateType:s,hover:a,value:p,valueType:g}),date:b}))}return T.jsx(Cj,{className:e,count:r,offset:c,wrap:!0,children:y})}function vO(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,o=t.locale,a=t.maxDate,c=t.maxDateTransform,l=t.minDate,u=t.minDateTransform,h=t.onClick,f=t.onMouseOver,p=t.style,g=t.tileClassName,y=t.tileContent,v=t.tileDisabled,b=t.view,w=F.useMemo(function(){var S={activeStartDate:e,date:i,view:b};return typeof g=="function"?g(S):g},[e,i,g,b]),A=F.useMemo(function(){var S={activeStartDate:e,date:i,view:b};return typeof y=="function"?y(S):y},[e,i,y,b]);return T.jsxs("button",{className:hO(r,w),disabled:l&&u(l)>i||a&&c(a)<i||(v==null?void 0:v({activeStartDate:e,date:i,view:b})),onClick:h?function(S){return h(i,S)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:p,type:"button",children:[s?T.jsx("abbr",{"aria-label":s(o,i),children:n}):n,A]})}var iL=globalThis&&globalThis.__assign||function(){return iL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},iL.apply(this,arguments)},wBe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},VN="react-calendar__century-view__decades__decade";function _Be(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?gO:i,o=wBe(t,["classes","currentCentury","formatYear"]),a=o.date,c=o.locale,l=[];return n&&l.push.apply(l,n),VN&&l.push(VN),pw(a).getFullYear()!==r&&l.push("".concat(VN,"--neighboringCentury")),T.jsx(vO,iL({},o,{classes:l,maxDateTransform:pO,minDateTransform:If,view:"century",children:Eie(c,s,a)}))}var sL=globalThis&&globalThis.__assign||function(){return sL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sL.apply(this,arguments)},UV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function bBe(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,o=UV(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=nBe(e),c=a+(r?119:99);return T.jsx(yO,{className:"react-calendar__century-view__decades",dateTransform:If,dateType:"decade",end:c,hover:n,renderTile:function(l){var u=l.date,h=UV(l,["date"]);return T.jsx(_Be,sL({},o,h,{activeStartDate:e,currentCentury:a,date:u}),u.getTime())},start:a,step:10,value:i,valueType:s})}var oL=globalThis&&globalThis.__assign||function(){return oL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oL.apply(this,arguments)};function EBe(t){function e(){return T.jsx(bBe,oL({},t))}return T.jsx("div",{className:"react-calendar__century-view",children:e()})}var aL=globalThis&&globalThis.__assign||function(){return aL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aL.apply(this,arguments)},ABe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},HN="react-calendar__decade-view__years__year";function CBe(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?gO:i,o=ABe(t,["classes","currentDecade","formatYear"]),a=o.date,c=o.locale,l=[];return n&&l.push.apply(l,n),HN&&l.push(HN),If(a).getFullYear()!==r&&l.push("".concat(HN,"--neighboringDecade")),T.jsx(vO,aL({},o,{classes:l,maxDateTransform:mO,minDateTransform:mw,view:"decade",children:s(c,a)}))}var cL=globalThis&&globalThis.__assign||function(){return cL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cL.apply(this,arguments)},jV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function TBe(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,o=jV(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=rBe(e),c=a+(r?11:9);return T.jsx(yO,{className:"react-calendar__decade-view__years",dateTransform:mw,dateType:"year",end:c,hover:n,renderTile:function(l){var u=l.date,h=jV(l,["date"]);return T.jsx(CBe,cL({},o,h,{activeStartDate:e,currentDecade:a,date:u}),u.getTime())},start:a,value:i,valueType:s})}var lL=globalThis&&globalThis.__assign||function(){return lL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lL.apply(this,arguments)};function SBe(t){function e(){return T.jsx(TBe,lL({},t))}return T.jsx("div",{className:"react-calendar__decade-view",children:e()})}var uL=globalThis&&globalThis.__assign||function(){return uL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uL.apply(this,arguments)},IBe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},BV=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},xBe="react-calendar__year-view__months__month";function PBe(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?Z4e:r,s=t.formatMonthYear,o=s===void 0?vie:s,a=IBe(t,["classes","formatMonth","formatMonthYear"]),c=a.date,l=a.locale;return T.jsx(vO,uL({},a,{classes:BV(BV([],n,!0),[xBe],!1),formatAbbr:o,maxDateTransform:I1,minDateTransform:Um,view:"year",children:i(l,c)}))}var dL=globalThis&&globalThis.__assign||function(){return dL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dL.apply(this,arguments)},zV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function OBe(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=zV(t,["activeStartDate","hover","value","valueType"]),o=0,a=11,c=Lr(e);return T.jsx(yO,{className:"react-calendar__year-view__months",dateTransform:function(l){var u=new Date;return u.setFullYear(c,l,1),Um(u)},dateType:"month",end:a,hover:n,renderTile:function(l){var u=l.date,h=zV(l,["date"]);return T.jsx(PBe,dL({},s,h,{activeStartDate:e,date:u}),u.getTime())},start:o,value:r,valueType:i})}var hL=globalThis&&globalThis.__assign||function(){return hL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hL.apply(this,arguments)};function DBe(t){function e(){return T.jsx(OBe,hL({},t))}return T.jsx("div",{className:"react-calendar__year-view",children:e()})}var fL=globalThis&&globalThis.__assign||function(){return fL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fL.apply(this,arguments)},NBe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},uC="react-calendar__month-view__days__day";function RBe(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,o=s===void 0?Y4e:s,a=t.formatLongDate,c=a===void 0?Q4e:a,l=NBe(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=l.date,h=l.locale,f=[];return r&&f.push.apply(f,r),uC&&f.push(uC),Aie(u,e)&&f.push("".concat(uC,"--weekend")),u.getMonth()!==i&&f.push("".concat(uC,"--neighboringMonth")),T.jsx(vO,fL({},l,{classes:f,formatAbbr:c,maxDateTransform:Ej,minDateTransform:x1,view:"month",children:o(h,u)}))}var pL=globalThis&&globalThis.__assign||function(){return pL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pL.apply(this,arguments)},VV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function kBe(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,o=t.value,a=t.valueType,c=VV(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),l=Lr(e),u=Sf(e),h=i||s,f=eE(e,n),p=h?0:f,g=(h?-f:0)+1,y=function(){if(i)return g+6*7-1;var v=yie(e);if(s){var b=new Date;b.setFullYear(l,u,v),b.setHours(0,0,0,0);var w=7-eE(b,n)-1;return v+w}return v}();return T.jsx(yO,{className:"react-calendar__month-view__days",count:7,dateTransform:function(v){var b=new Date;return b.setFullYear(l,u,v),x1(b)},dateType:"day",hover:r,end:y,renderTile:function(v){var b=v.date,w=VV(v,["date"]);return T.jsx(RBe,pL({},c,w,{activeStartDate:e,calendarType:n,currentMonthIndex:u,date:b}),b.getTime())},offset:p,start:g,value:o,valueType:a})}var Tie="react-calendar__month-view__weekdays",WN="".concat(Tie,"__weekday");function MBe(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?J4e:n,i=t.formatWeekday,s=i===void 0?X4e:i,o=t.locale,a=t.onMouseLeave,c=new Date,l=Um(c),u=Lr(l),h=Sf(l),f=[],p=1;p<=7;p+=1){var g=new Date(u,h,p-eE(l,e)),y=s(o,g);f.push(T.jsx("div",{className:hO(WN,hBe(g)&&"".concat(WN,"--current"),Aie(g,e)&&"".concat(WN,"--weekend")),children:T.jsx("abbr",{"aria-label":y,title:y,children:r(o,g).replace(".","")})},p))}return T.jsx(Cj,{className:Tie,count:7,onFocus:a,onMouseOver:a,children:f})}var $I=globalThis&&globalThis.__assign||function(){return $I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$I.apply(this,arguments)},HV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},WV="react-calendar__tile";function LBe(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=T.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,o=t.weekNumber,a=HV(t,["date","onClickWeekNumber","weekNumber"]);return T.jsx("button",$I({},a,{className:WV,onClick:function(c){return s(o,i,c)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var a=HV(t,["date","onClickWeekNumber","weekNumber"]);return T.jsx("div",$I({},a,{className:WV,children:r}))}}function FBe(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=function(){if(s)return 6;var l=yie(e),u=eE(e,n),h=l-(7-u);return 1+Math.ceil(h/7)}(),a=function(){for(var l=Lr(e),u=Sf(e),h=fO(e),f=[],p=0;p<o;p+=1)f.push(rL(new Date(l,u,h+p*7),n));return f}(),c=a.map(function(l){return iBe(l,n)});return T.jsx(Cj,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(l,u){var h=a[u];if(!h)throw new Error("date is not defined");return T.jsx(LBe,{date:h,onClickWeekNumber:r,weekNumber:l},l)})})}var mL=globalThis&&globalThis.__assign||function(){return mL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mL.apply(this,arguments)},$Be=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function UBe(t){if(t)for(var e=0,n=Object.entries(U4e);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return gs.ISO_8601}function jBe(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,o=s===void 0?UBe(n):s,a=t.formatShortWeekday,c=t.formatWeekday,l=t.onClickWeekNumber,u=t.showWeekNumbers,h=$Be(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return T.jsx(MBe,{calendarType:o,formatShortWeekday:a,formatWeekday:c,locale:n,onMouseLeave:r})}function p(){return u?T.jsx(FBe,{activeStartDate:e,calendarType:o,onClickWeekNumber:l,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function g(){return T.jsx(kBe,mL({calendarType:o},h))}var y="react-calendar__month-view";return T.jsx("div",{className:hO(y,u?"".concat(y,"--weekNumbers"):""),children:T.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[p(),T.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),g()]})]})})}var gy=globalThis&&globalThis.__assign||function(){return gy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gy.apply(this,arguments)},dC="react-calendar",IT=["century","decade","year","month"],BBe=["decade","year","month","day"],Tj=new Date;Tj.setFullYear(1,0,1);Tj.setHours(0,0,0,0);var zBe=new Date(864e13);function J0(t){return t instanceof Date?t:new Date(t)}function Sie(t,e){return IT.slice(IT.indexOf(t),IT.indexOf(e)+1)}function VBe(t,e,n){var r=Sie(e,n);return r.indexOf(t)!==-1}function Sj(t,e,n){return t&&VBe(t,e,n)?t:n}function Iie(t){var e=IT.indexOf(t);return BBe[e]}function HBe(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=J0(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function xie(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,o=HBe(n,e);if(!o)return null;var a=Iie(s),c=function(){switch(e){case 0:return Rp(a,o);case 1:return _ie(a,o);default:throw new Error("Invalid index value: ".concat(e))}}();return mBe(c,r,i)}var Ij=function(t){return xie(t,0)},Pie=function(t){return xie(t,1)},WBe=function(t){return[Ij,Pie].map(function(e){return e(t)})};function Oie(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,o=t.view,a=Sj(o,i,n),c=Ij({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return Rp(a,c)}function qBe(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,o=t.maxDetail,a=t.minDate,c=t.minDetail,l=t.value,u=t.view,h=Sj(u,c,o),f=e||n;return f?Rp(h,f):Oie({maxDate:s,maxDetail:o,minDate:a,minDetail:c,value:l||r,view:u||i})}function qN(t){return t&&(!Array.isArray(t)||t.length===1)}function hC(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var GBe=F.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,a=e.defaultActiveStartDate,c=e.defaultValue,l=e.defaultView,u=e.formatDay,h=e.formatLongDate,f=e.formatMonth,p=e.formatMonthYear,g=e.formatShortWeekday,y=e.formatWeekday,v=e.formatYear,b=e.goToRangeStartOnSelect,w=b===void 0?!0:b,A=e.inputRef,S=e.locale,P=e.maxDate,D=P===void 0?zBe:P,C=e.maxDetail,I=C===void 0?"month":C,x=e.minDate,N=x===void 0?Tj:x,R=e.minDetail,$=R===void 0?"century":R,U=e.navigationAriaLabel,Y=e.navigationAriaLive,z=e.navigationLabel,j=e.next2AriaLabel,q=e.next2Label,V=e.nextAriaLabel,Q=e.nextLabel,K=e.onActiveStartDateChange,ee=e.onChange,ne=e.onClickDay,le=e.onClickDecade,ce=e.onClickMonth,re=e.onClickWeekNumber,de=e.onClickYear,ve=e.onDrillDown,Ne=e.onDrillUp,Fe=e.onViewChange,Ge=e.prev2AriaLabel,ot=e.prev2Label,Me=e.prevAriaLabel,ut=e.prevLabel,ht=e.returnValue,Xt=ht===void 0?"start":ht,Rt=e.selectRange,Dn=e.showDoubleView,Un=e.showFixedNumberOfWeeks,yn=e.showNavigation,Sr=yn===void 0?!0:yn,fn=e.showNeighboringCentury,se=e.showNeighboringDecade,Ie=e.showNeighboringMonth,xe=Ie===void 0?!0:Ie,$e=e.showWeekNumbers,pt=e.tileClassName,nt=e.tileContent,yt=e.tileDisabled,Ft=e.value,Ir=e.view,gr=F.useState(a),Ja=gr[0],Zn=gr[1],Ji=F.useState(null),Vs=Ji[0],Ts=Ji[1],Hs=F.useState(Array.isArray(c)?c.map(function(Te){return Te!==null?J0(Te):null}):c!=null?J0(c):null),fa=Hs[0],Ws=Hs[1],li=F.useState(l),Bo=li[0],Nn=li[1],jn=r||Ja||qBe({activeStartDate:r,defaultActiveStartDate:a,defaultValue:c,defaultView:l,maxDate:D,maxDetail:I,minDate:N,minDetail:$,value:Ft,view:Ir}),Jn=function(){var Te=function(){return Rt&&qN(fa)?fa:Ft!==void 0?Ft:fa}();return Te?Array.isArray(Te)?Te.map(function(Ke){return Ke!==null?J0(Ke):null}):Te!==null?J0(Te):null:null}(),_i=Iie(I),bn=Sj(Ir||Bo,$,I),xr=Sie($,I),Xi=Rt?Vs:null,Di=xr.indexOf(bn)<xr.length-1,Xa=xr.indexOf(bn)>0,Z=F.useCallback(function(Te){var Ke=function(){switch(Xt){case"start":return Ij;case"end":return Pie;case"range":return WBe;default:throw new Error("Invalid returnValue.")}}();return Ke({maxDate:D,maxDetail:I,minDate:N,value:Te})},[D,I,N,Xt]),te=F.useCallback(function(Te,Ke){Zn(Te);var _t={action:Ke,activeStartDate:Te,value:Jn,view:bn};K&&!hC(jn,Te)&&K(_t)},[jn,K,Jn,bn]),ue=F.useCallback(function(Te,Ke){var _t=function(){switch(bn){case"century":return le;case"decade":return de;case"year":return ce;case"month":return ne;default:throw new Error("Invalid view: ".concat(bn,"."))}}();_t&&_t(Te,Ke)},[ne,le,ce,de,bn]),ge=F.useCallback(function(Te,Ke){if(Di){ue(Te,Ke);var _t=xr[xr.indexOf(bn)+1];if(!_t)throw new Error("Attempted to drill down from the lowest view.");Zn(Te),Nn(_t);var $t={action:"drillDown",activeStartDate:Te,value:Jn,view:_t};K&&!hC(jn,Te)&&K($t),Fe&&bn!==_t&&Fe($t),ve&&ve($t)}},[jn,Di,K,ue,ve,Fe,Jn,bn,xr]),pe=F.useCallback(function(){if(Xa){var Te=xr[xr.indexOf(bn)-1];if(!Te)throw new Error("Attempted to drill up from the highest view.");var Ke=Rp(Te,jn);Zn(Ke),Nn(Te);var _t={action:"drillUp",activeStartDate:Ke,value:Jn,view:Te};K&&!hC(jn,Ke)&&K(_t),Fe&&bn!==Te&&Fe(_t),Ne&&Ne(_t)}},[jn,Xa,K,Ne,Fe,Jn,bn,xr]),at=F.useCallback(function(Te,Ke){var _t=Jn;ue(Te,Ke);var $t=Rt&&!qN(_t),St;if(Rt)if($t)St=Rp(_i,Te);else{if(!_t)throw new Error("previousValue is required");if(Array.isArray(_t))throw new Error("previousValue must not be an array");St=uBe(_i,_t,Te)}else St=Z(Te);var pn=!Rt||$t||w?Oie({maxDate:D,maxDetail:I,minDate:N,minDetail:$,value:St,view:bn}):null;Ke.persist(),Zn(pn),Ws(St);var Ni={action:"onChange",activeStartDate:pn,value:St,view:bn};if(K&&!hC(jn,pn)&&K(Ni),ee)if(Rt){var uo=qN(St);if(!uo)ee(St||null,Ke);else if(i){if(Array.isArray(St))throw new Error("value must not be an array");ee([St||null,null],Ke)}}else ee(St||null,Ke)},[jn,i,Z,w,D,I,N,$,K,ee,ue,Rt,Jn,_i,bn]);function mt(Te){Ts(Te)}function je(){Ts(null)}F.useImperativeHandle(n,function(){return{activeStartDate:jn,drillDown:ge,drillUp:pe,onChange:at,setActiveStartDate:te,value:Jn,view:bn}},[jn,ge,pe,at,te,Jn,bn]);function He(Te){var Ke=Te?wie(bn,jn):Rp(bn,jn),_t=Di?ge:at,$t={activeStartDate:Ke,hover:Xi,locale:S,maxDate:D,minDate:N,onClick:_t,onMouseOver:Rt?mt:void 0,tileClassName:pt,tileContent:nt,tileDisabled:yt,value:Jn,valueType:_i};switch(bn){case"century":return T.jsx(EBe,gy({formatYear:v,showNeighboringCentury:fn},$t));case"decade":return T.jsx(SBe,gy({formatYear:v,showNeighboringDecade:se},$t));case"year":return T.jsx(DBe,gy({formatMonth:f,formatMonthYear:p},$t));case"month":return T.jsx(jBe,gy({calendarType:s,formatDay:u,formatLongDate:h,formatShortWeekday:g,formatWeekday:y,onClickWeekNumber:re,onMouseLeave:Rt?je:void 0,showFixedNumberOfWeeks:typeof Un<"u"?Un:Dn,showNeighboringMonth:xe,showWeekNumbers:$e},$t));default:throw new Error("Invalid view: ".concat(bn,"."))}}function Le(){return Sr?T.jsx(fBe,{activeStartDate:jn,drillUp:pe,formatMonthYear:p,formatYear:v,locale:S,maxDate:D,minDate:N,navigationAriaLabel:U,navigationAriaLive:Y,navigationLabel:z,next2AriaLabel:j,next2Label:q,nextAriaLabel:V,nextLabel:Q,prev2AriaLabel:Ge,prev2Label:ot,prevAriaLabel:Me,prevLabel:ut,setActiveStartDate:te,showDoubleView:Dn,view:bn,views:xr}):null}var Je=Array.isArray(Jn)?Jn:[Jn];return T.jsxs("div",{className:hO(dC,Rt&&Je.length===1&&"".concat(dC,"--selectRange"),Dn&&"".concat(dC,"--doubleView"),o),ref:A,children:[Le(),T.jsxs("div",{className:"".concat(dC,"__viewContainer"),onBlur:Rt?je:void 0,onMouseLeave:Rt?je:void 0,children:[He(),Dn?He(!0):null]})]})});const KBe=GBe;const YBe=({tourPrice:t,handleCalendarSelectedDate:e})=>{const[n,r]=F.useState(new Date);F.useEffect(()=>{const s=n?HS(n,"yyyy-MM-dd"):"date error";e(s)},[n]);const i=()=>T.jsx("div",{className:"price-container",children:T.jsxs("span",{className:"price-tag",children:[t," ETH"]})});return T.jsx("div",{className:"calendar-container",children:T.jsx(KBe,{onChange:s=>r(s),value:n,className:"full-size-calendar",tileContent:i,minDate:new Date})})};function QBe(t){var s,o,a,c,l,u,h,f;const e=(o=(s=t==null?void 0:t.itemsObj)==null?void 0:s.includedItemsObj)==null?void 0:o.includedItems,n=(c=(a=t==null?void 0:t.itemsObj)==null?void 0:a.includedItemsObj)==null?void 0:c.includedClassName,r=(u=(l=t==null?void 0:t.itemsObj)==null?void 0:l.excludedItemsObj)==null?void 0:u.excludedItems,i=(f=(h=t==null?void 0:t.itemsObj)==null?void 0:h.excludedItemsObj)==null?void 0:f.excludedClassName;return console.log(t),console.log("yoyo",e,n),console.log("gogo",r,i),T.jsxs("div",{className:"include-exclude",children:[T.jsx("div",{className:"included-items-container",children:T.jsx("ul",{children:e==null?void 0:e.map(p=>T.jsxs("li",{children:[T.jsx("i",{className:n})," ",T.jsx("span",{children:p})]}))})}),T.jsx("div",{className:"excluded-items-container",children:T.jsx("ul",{children:r==null?void 0:r.map(p=>T.jsxs("li",{children:[T.jsx("i",{className:i})," ",T.jsx("span",{children:p})]}))})})]})}function ZBe(){var U,Y,z,j,q,V,Q,K;const[t,e]=F.useState(),{slugId:n}=nP(),r=n||"",{data:i}=BSe(r),s=i==null?void 0:i.data,o=s==null?void 0:s.name,a=(U=s==null?void 0:s.ufiDetails)==null?void 0:U.bCityName,c=(z=(Y=s==null?void 0:s.ufiDetails)==null?void 0:Y.url)==null?void 0:z.country,l=(q=(j=s==null?void 0:s.reviewsStats)==null?void 0:j.combinedNumericStats)==null?void 0:q.average,u=(Q=(V=s==null?void 0:s.reviewsStats)==null?void 0:V.combinedNumericStats)==null?void 0:Q.total,h=((K=s==null?void 0:s.representativePrice)==null?void 0:K.chargeAmount)||"N/A",f=t?(h/t).toFixed(5):null,p=s==null?void 0:s.description,g=s==null?void 0:s.photos,y=g==null?void 0:g.find(ee=>ee==null?void 0:ee.isPrimary),v=(y==null?void 0:y.medium)||(y==null?void 0:y.small),b=s==null?void 0:s.id,w=s==null?void 0:s.whatsIncluded,A="fa-solid fa-check",S=s==null?void 0:s.notIncluded,I={includedItemsObj:{includedItems:w,includedClassName:A},excludedItemsObj:{excludedItems:S,excludedClassName:"fa-solid fa-xmark"}},[x,N]=F.useState("");function R(ee){N(ee)}function $(){const ee=window.location.href;navigator.clipboard.writeText(ee),wt.success("Copied")}return F.useEffect(()=>{window.scrollTo(0,0),(async()=>{var ne;try{const ce=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json(),re=(ne=ce==null?void 0:ce.ethereum)==null?void 0:ne.usd;e(re)}catch(le){console.error("Failed to fetch Current Eth Price:",le)}})()}),T.jsx(T.Fragment,{children:T.jsxs("section",{className:"tour-detail-section",children:[T.jsxs("div",{className:"tour-detail-container",children:[T.jsx("div",{className:"tour-detail-image-container",children:v?T.jsx("img",{className:"tour-image",src:v}):T.jsx("p",{})}),T.jsxs("div",{className:"tour-detail-location-share",children:[T.jsx("div",{className:"tour-detail-location",children:T.jsxs("p",{className:"project-normal-font",children:[" ",T.jsx("i",{className:"fa-solid fa-location-dot"})," ",a,","," ",c==null?void 0:c.toUpperCase()," ","  ",T.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a)}`,target:"_blank",rel:"noopener noreferrer",className:"project-theme-color",children:"view on map"})]})}),T.jsx("div",{className:"tour-detail-share",children:T.jsx("i",{className:"fa-solid fa-share-nodes share-icon",onClick:$})})]}),T.jsx("h3",{className:"tour-title-name project-heading-font",children:o}),T.jsxs("div",{className:"tour-features-container",children:[T.jsxs("div",{className:"tour-feature",children:[T.jsx("span",{className:"tour-feature-heading",children:"From"}),T.jsxs("span",{className:"tour-feature-value project-theme-color project-normal-font",children:[f," ETH"]})]}),T.jsxs("div",{className:"tour-feature",children:[T.jsx("span",{className:"tour-feature-heading",children:"Duration"}),T.jsx("span",{className:"tour-feature-value project-normal-font",children:"1 day"})]}),T.jsxs("div",{className:"tour-feature",children:[T.jsx("span",{className:"tour-feature-heading",children:"Max People"}),T.jsx("span",{className:"tour-feature-value project-normal-font",children:"10"})]}),T.jsxs("div",{className:"tour-feature",children:[T.jsx("span",{className:"tour-feature-heading",children:"Min Age"}),T.jsx("span",{className:"tour-feature-value project-normal-font",children:"3"})]}),T.jsxs("div",{className:"tour-feature",children:[T.jsx("span",{className:"tour-feature-heading",children:"Tour Type"}),T.jsx("span",{className:"tour-feature-value project-normal-font",children:"Adventure"})]}),T.jsxs("div",{className:"tour-feature",children:[T.jsx("span",{className:"tour-feature-heading",children:"Reviews"}),l?T.jsx(T.Fragment,{children:T.jsxs("span",{className:"tour-feature-value project-normal-font",children:[T.jsx("i",{className:"fa-solid fa-star project-theme-color"})," ",l," ",T.jsxs("span",{className:"project-normal-font",children:["(",u," reviews)"," "]})]})}):T.jsx("b",{children:"N/A"})]})]}),T.jsxs("div",{className:"tour-detail-overview",children:[T.jsx("h5",{className:"detail-page-minor-title",children:"Overview"}),T.jsxs("p",{className:"project-normal-font",children:[" ",p," "]})]}),T.jsxs("div",{className:"include-exclude-container",children:[T.jsx("h5",{className:"detail-page-minor-title",children:"Included / Exclude"}),T.jsx(QBe,{itemsObj:I})]}),T.jsxs("div",{className:"calendar-section",children:[T.jsx("h5",{className:"detail-page-minor-title",children:"Calendar & Prices"}),T.jsx(YBe,{tourPrice:f,handleCalendarSelectedDate:R})," "]}),T.jsx("div",{className:"tour-location-map",children:T.jsx(VU,{cityName:a,mapHeadingText:"Map"})}),T.jsxs("div",{className:"tour-detail-review",children:[l?T.jsx("h5",{className:"project-heading-font",children:"Average Reviews"}):"",T.jsx(d4e,{tourRating:l,tourId:b})]})]}),T.jsxs("div",{className:"tour-booking-detail",children:[" ",T.jsx(c4e,{tourPrice:String(f),selectedCalendarDate:x,tourName:o,slugValue:r})]})]})})}const GN={FILTER_DISPLAY:"tours-filter-and-display",FILTER_CONTAINER:"tours-filter-container",TOURS_CONTAINER:"tours-display-container"};function P1({normalText:t,coloredText:e,headingText:n,bannerImage:r}){return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"page-banner-container",children:[T.jsx("img",{src:r,alt:"page-banner"}),T.jsxs("div",{className:"pageBanner-text-content",children:[T.jsx("h1",{className:"project-heading-font",children:n}),T.jsxs("p",{children:[t," ",T.jsx("span",{className:"project-theme-color project-normal-font",children:e})]}),"   "]})]})})}function xT({type:t,id:e,labelText:n,value:r,checked:i,onChange:s}){return T.jsxs("li",{children:[T.jsx("input",{type:t,id:e,value:r,checked:i,onChange:()=>s(r)}),T.jsx("label",{htmlFor:e,children:n})]})}function JBe({handleDestinationData:t}){const[e,n]=F.useState(null);function r(a){n(c=>c===a?null:a)}console.log(e),F.useEffect(()=>{t(e||null)},[e]);const i=["Tokyo","Nepal","Mumbai","China"],s=["Paris","Italy","Greece"],o=["Brazil","Canada","New York"];return T.jsxs("div",{className:"filter-by-review-container",children:[T.jsx("h6",{children:"Destinations"}),T.jsxs("div",{className:"destination-continent-divs",children:[T.jsx("h6",{children:"Asia"}),T.jsx("ul",{children:i==null?void 0:i.map(a=>T.jsx(xT,{type:"checkbox",id:a,value:a,labelText:a,checked:e===a,onChange:r}))})]}),T.jsxs("div",{className:"destination-continent-divs",children:[T.jsx("h6",{children:"Europe"}),T.jsx("ul",{children:s==null?void 0:s.map(a=>T.jsx(xT,{type:"checkbox",id:a,value:a,labelText:a,checked:e===a,onChange:r}))})]}),T.jsxs("div",{className:"destination-continent-divs",children:[T.jsx("h6",{children:"America"}),T.jsx("ul",{children:o==null?void 0:o.map(a=>T.jsx(xT,{type:"checkbox",id:a,value:a,labelText:a,checked:e===a,onChange:r}))})]})]})}function XBe({handleRatingData:t}){const[e,n]=F.useState([]),r=[1,2,3,4,5];F.useEffect(()=>{t(e)},[e]);function i(s){n(o=>e.includes(s)?e.filter(a=>a!=s):[...o,s])}return T.jsxs("div",{className:"filter-by-review-container",children:[T.jsx("h6",{children:"Reviews"}),T.jsx("ul",{children:r.map(s=>T.jsx(xT,{type:"checkbox",id:s,value:s,checked:e==null?void 0:e.includes(s),onChange:()=>i(s),labelText:` ${s} stars`}))})]})}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e6e(t){if(Array.isArray(t))return gL(t)}function t6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Die(t,e){if(t){if(typeof t=="string")return gL(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gL(t,e):void 0}}function n6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Au(t){return e6e(t)||t6e(t)||Die(t)||n6e()}function r6e(t){if(Array.isArray(t))return t}function i6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function s6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ls(t,e){return r6e(t)||i6e(t,e)||Die(t,e)||s6e()}var Nie={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Nie);var o6e=Nie.exports;const hm=oo(o6e);function Ly(t){var e=F.useRef();e.current=t;var n=F.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return n}function a6e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qV=a6e()?F.useLayoutEffect:F.useEffect,Rie=function(e,n){var r=F.useRef(!0);qV(function(){return e(r.current)},n),qV(function(){return r.current=!1,function(){r.current=!0}},[])},GV=function(e,n){Rie(function(r){if(!r)return e()},n)};function KV(t){var e=F.useRef(!1),n=F.useState(t),r=ls(n,2),i=r[0],s=r[1];F.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,c){c&&e.current||s(a)}return[i,o]}function KN(t){return t!==void 0}function c6e(t,e){var n=e||{},r=n.defaultValue,i=n.value,s=n.onChange,o=n.postState,a=KV(function(){return KN(i)?i:KN(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),c=ls(a,2),l=c[0],u=c[1],h=i!==void 0?i:l,f=o?o(h):h,p=Ly(s),g=KV([h]),y=ls(g,2),v=y[0],b=y[1];GV(function(){var A=v[0];l!==A&&p(l,A)},[v]),GV(function(){KN(i)||u(i)},[i]);var w=Ly(function(A,S){u(A,S),b([h],S)});return[f,w]}var yL={},l6e=function(e){};function u6e(t,e){}function d6e(t,e){}function h6e(){yL={}}function kie(t,e,n){!e&&!yL[n]&&(t(!1,n),yL[n]=!0)}function Nv(t,e){kie(u6e,t,e)}function f6e(t,e){kie(d6e,t,e)}Nv.preMessage=l6e;Nv.resetWarned=h6e;Nv.noteOnce=f6e;function p6e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=r.has(s);if(Nv(!c,"Warning: There may be circular references"),c)return!1;if(s===o)return!0;if(n&&a>1)return!1;r.add(s);var l=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var u=0;u<s.length;u++)if(!i(s[u],o[u],l))return!1;return!0}if(s&&o&&Xh(s)==="object"&&Xh(o)==="object"){var h=Object.keys(s);return h.length!==Object.keys(o).length?!1:h.every(function(f){return i(s[f],o[f],l)})}return!1}return i(t,e)}function Mie(t,e){if(t==null)return{};var n,r,i=Bde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vL(t,e,n){return(t-e)/(n-e)}function xj(t,e,n,r){var i=vL(e,n,r),s={};switch(t){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function Qf(t,e){return Array.isArray(t)?t[e]:t}var rt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=rt.F1&&n<=rt.F12)return!1;switch(n){case rt.ALT:case rt.CAPS_LOCK:case rt.CONTEXT_MENU:case rt.CTRL:case rt.DOWN:case rt.END:case rt.ESC:case rt.HOME:case rt.INSERT:case rt.LEFT:case rt.MAC_FF_META:case rt.META:case rt.NUMLOCK:case rt.NUM_CENTER:case rt.PAGE_DOWN:case rt.PAGE_UP:case rt.PAUSE:case rt.PRINT_SCREEN:case rt.RIGHT:case rt.SHIFT:case rt.UP:case rt.WIN_KEY:case rt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=rt.ZERO&&e<=rt.NINE||e>=rt.NUM_ZERO&&e<=rt.NUM_MULTIPLY||e>=rt.A&&e<=rt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case rt.SPACE:case rt.QUESTION_MARK:case rt.NUM_PLUS:case rt.NUM_MINUS:case rt.NUM_PERIOD:case rt.NUM_DIVISION:case rt.SEMICOLON:case rt.DASH:case rt.EQUALS:case rt.COMMA:case rt.PERIOD:case rt.SLASH:case rt.APOSTROPHE:case rt.SINGLE_QUOTE:case rt.OPEN_SQUARE_BRACKET:case rt.BACKSLASH:case rt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Bm=F.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),m6e=F.createContext({}),g6e=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],YV=F.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,i=t.valueIndex,s=t.onStartMove,o=t.onDelete,a=t.style,c=t.render,l=t.dragging,u=t.draggingDelete,h=t.onOffsetChange,f=t.onChangeComplete,p=t.onFocus,g=t.onMouseEnter,y=Mie(t,g6e),v=F.useContext(Bm),b=v.min,w=v.max,A=v.direction,S=v.disabled,P=v.keyboard,D=v.range,C=v.tabIndex,I=v.ariaLabelForHandle,x=v.ariaLabelledByForHandle,N=v.ariaRequired,R=v.ariaValueTextFormatterForHandle,$=v.styles,U=v.classNames,Y="".concat(n,"-handle"),z=function(re){S||s(re,i)},j=function(re){p==null||p(re,i)},q=function(re){g(re,i)},V=function(re){if(!S&&P){var de=null;switch(re.which||re.keyCode){case rt.LEFT:de=A==="ltr"||A==="btt"?-1:1;break;case rt.RIGHT:de=A==="ltr"||A==="btt"?1:-1;break;case rt.UP:de=A!=="ttb"?1:-1;break;case rt.DOWN:de=A!=="ttb"?-1:1;break;case rt.HOME:de="min";break;case rt.END:de="max";break;case rt.PAGE_UP:de=2;break;case rt.PAGE_DOWN:de=-2;break;case rt.BACKSPACE:case rt.DELETE:o(i);break}de!==null&&(re.preventDefault(),h(de,i))}},Q=function(re){switch(re.which||re.keyCode){case rt.LEFT:case rt.RIGHT:case rt.UP:case rt.DOWN:case rt.HOME:case rt.END:case rt.PAGE_UP:case rt.PAGE_DOWN:f==null||f();break}},K=xj(A,r,b,w),ee={};if(i!==null){var ne;ee={tabIndex:S?null:Qf(C,i),role:"slider","aria-valuemin":b,"aria-valuemax":w,"aria-valuenow":r,"aria-disabled":S,"aria-label":Qf(I,i),"aria-labelledby":Qf(x,i),"aria-required":Qf(N,i),"aria-valuetext":(ne=Qf(R,i))===null||ne===void 0?void 0:ne(r),"aria-orientation":A==="ltr"||A==="rtl"?"horizontal":"vertical",onMouseDown:z,onTouchStart:z,onFocus:j,onMouseEnter:q,onKeyDown:V,onKeyUp:Q}}var le=F.createElement("div",tb({ref:e,className:hm(Y,Fa(Fa(Fa({},"".concat(Y,"-").concat(i+1),i!==null&&D),"".concat(Y,"-dragging"),l),"".concat(Y,"-dragging-delete"),u),U.handle),style:Vi(Vi(Vi({},K),a),$.handle)},ee,y));return c&&(le=c(le,{index:i,prefixCls:n,value:r,dragging:l,draggingDelete:u})),le}),y6e=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],v6e=F.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,s=t.onOffsetChange,o=t.values,a=t.handleRender,c=t.activeHandleRender,l=t.draggingIndex,u=t.draggingDelete,h=t.onFocus,f=Mie(t,y6e),p=F.useRef({}),g=F.useState(!1),y=ls(g,2),v=y[0],b=y[1],w=F.useState(-1),A=ls(w,2),S=A[0],P=A[1],D=function(R){P(R),b(!0)},C=function(R,$){D($),h==null||h(R)},I=function(R,$){D($)};F.useImperativeHandle(e,function(){return{focus:function(R){var $;($=p.current[R])===null||$===void 0||$.focus()},hideHelp:function(){Af.flushSync(function(){b(!1)})}}});var x=Vi({prefixCls:n,onStartMove:i,onOffsetChange:s,render:a,onFocus:C,onMouseEnter:I},f);return F.createElement(F.Fragment,null,o.map(function(N,R){var $=l===R;return F.createElement(YV,tb({ref:function(Y){Y?p.current[R]=Y:delete p.current[R]},dragging:$,draggingDelete:$&&u,style:Qf(r,R),key:R,value:N,valueIndex:R},x))}),c&&v&&F.createElement(YV,tb({key:"a11y"},x,{value:o[S],valueIndex:null,dragging:l!==-1,draggingDelete:u,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),w6e=function(e){var n=e.prefixCls,r=e.style,i=e.children,s=e.value,o=e.onClick,a=F.useContext(Bm),c=a.min,l=a.max,u=a.direction,h=a.includedStart,f=a.includedEnd,p=a.included,g="".concat(n,"-text"),y=xj(u,s,c,l);return F.createElement("span",{className:hm(g,Fa({},"".concat(g,"-active"),p&&h<=s&&s<=f)),style:Vi(Vi({},y),r),onMouseDown:function(b){b.stopPropagation()},onClick:function(){o(s)}},i)},_6e=function(e){var n=e.prefixCls,r=e.marks,i=e.onClick,s="".concat(n,"-mark");return r.length?F.createElement("div",{className:s},r.map(function(o){var a=o.value,c=o.style,l=o.label;return F.createElement(w6e,{key:a,prefixCls:s,style:c,value:a,onClick:i},l)})):null},b6e=function(e){var n=e.prefixCls,r=e.value,i=e.style,s=e.activeStyle,o=F.useContext(Bm),a=o.min,c=o.max,l=o.direction,u=o.included,h=o.includedStart,f=o.includedEnd,p="".concat(n,"-dot"),g=u&&h<=r&&r<=f,y=Vi(Vi({},xj(l,r,a,c)),typeof i=="function"?i(r):i);return g&&(y=Vi(Vi({},y),typeof s=="function"?s(r):s)),F.createElement("span",{className:hm(p,Fa({},"".concat(p,"-active"),g)),style:y})},E6e=function(e){var n=e.prefixCls,r=e.marks,i=e.dots,s=e.style,o=e.activeStyle,a=F.useContext(Bm),c=a.min,l=a.max,u=a.step,h=F.useMemo(function(){var f=new Set;if(r.forEach(function(g){f.add(g.value)}),i&&u!==null)for(var p=c;p<=l;)f.add(p),p+=u;return Array.from(f)},[c,l,u,i,r]);return F.createElement("div",{className:"".concat(n,"-step")},h.map(function(f){return F.createElement(b6e,{prefixCls:n,key:f,value:f,style:s,activeStyle:o})}))},QV=function(e){var n=e.prefixCls,r=e.style,i=e.start,s=e.end,o=e.index,a=e.onStartMove,c=e.replaceCls,l=F.useContext(Bm),u=l.direction,h=l.min,f=l.max,p=l.disabled,g=l.range,y=l.classNames,v="".concat(n,"-track"),b=vL(i,h,f),w=vL(s,h,f),A=function(C){!p&&a&&a(C,-1)},S={};switch(u){case"rtl":S.right="".concat(b*100,"%"),S.width="".concat(w*100-b*100,"%");break;case"btt":S.bottom="".concat(b*100,"%"),S.height="".concat(w*100-b*100,"%");break;case"ttb":S.top="".concat(b*100,"%"),S.height="".concat(w*100-b*100,"%");break;default:S.left="".concat(b*100,"%"),S.width="".concat(w*100-b*100,"%")}var P=c||hm(v,Fa(Fa({},"".concat(v,"-").concat(o+1),o!==null&&g),"".concat(n,"-track-draggable"),a),y.track);return F.createElement("div",{className:P,style:Vi(Vi({},S),r),onMouseDown:A,onTouchStart:A})},A6e=function(e){var n=e.prefixCls,r=e.style,i=e.values,s=e.startPoint,o=e.onStartMove,a=F.useContext(Bm),c=a.included,l=a.range,u=a.min,h=a.styles,f=a.classNames,p=F.useMemo(function(){if(!l){if(i.length===0)return[];var y=s??u,v=i[0];return[{start:Math.min(y,v),end:Math.max(y,v)}]}for(var b=[],w=0;w<i.length-1;w+=1)b.push({start:i[w],end:i[w+1]});return b},[i,l,s,u]);if(!c)return null;var g=p!=null&&p.length&&(f.tracks||h.tracks)?F.createElement(QV,{index:null,prefixCls:n,start:p[0].start,end:p[p.length-1].end,replaceCls:hm(f.tracks,"".concat(n,"-tracks")),style:h.tracks}):null;return F.createElement(F.Fragment,null,g,p.map(function(y,v){var b=y.start,w=y.end;return F.createElement(QV,{index:v,prefixCls:n,style:Vi(Vi({},Qf(r,v)),h.track),start:b,end:w,key:v,onStartMove:o})}))},C6e=130;function ZV(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function T6e(t,e,n,r,i,s,o,a,c,l,u){var h=F.useState(null),f=ls(h,2),p=f[0],g=f[1],y=F.useState(-1),v=ls(y,2),b=v[0],w=v[1],A=F.useState(!1),S=ls(A,2),P=S[0],D=S[1],C=F.useState(n),I=ls(C,2),x=I[0],N=I[1],R=F.useState(n),$=ls(R,2),U=$[0],Y=$[1],z=F.useRef(null),j=F.useRef(null),q=F.useRef(null),V=F.useContext(m6e),Q=V.onDragStart,K=V.onDragChange;Rie(function(){b===-1&&N(n)},[n,b]),F.useEffect(function(){return function(){document.removeEventListener("mousemove",z.current),document.removeEventListener("mouseup",j.current),q.current&&(q.current.removeEventListener("touchmove",z.current),q.current.removeEventListener("touchend",j.current))}},[]);var ee=function(de,ve,Ne){ve!==void 0&&g(ve),N(de);var Fe=de;Ne&&(Fe=de.filter(function(Ge,ot){return ot!==b})),o(Fe),K&&K({rawValues:de,deleteIndex:Ne?b:-1,draggingIndex:b,draggingValue:ve})},ne=Ly(function(re,de,ve){if(re===-1){var Ne=U[0],Fe=U[U.length-1],Ge=r-Ne,ot=i-Fe,Me=de*(i-r);Me=Math.max(Me,Ge),Me=Math.min(Me,ot);var ut=s(Ne+Me);Me=ut-Ne;var ht=U.map(function(Un){return Un+Me});ee(ht)}else{var Xt=(i-r)*de,Rt=Au(x);Rt[re]=U[re];var Dn=c(Rt,Xt,re,"dist");ee(Dn.values,Dn.value,ve)}}),le=function(de,ve,Ne){de.stopPropagation();var Fe=Ne||n,Ge=Fe[ve];w(ve),g(Ge),Y(Fe),N(Fe),D(!1);var ot=ZV(de),Me=ot.pageX,ut=ot.pageY,ht=!1;Q&&Q({rawValues:Fe,draggingIndex:ve,draggingValue:Ge});var Xt=function(Un){Un.preventDefault();var yn=ZV(Un),Sr=yn.pageX,fn=yn.pageY,se=Sr-Me,Ie=fn-ut,xe=t.current.getBoundingClientRect(),$e=xe.width,pt=xe.height,nt,yt;switch(e){case"btt":nt=-Ie/pt,yt=se;break;case"ttb":nt=Ie/pt,yt=se;break;case"rtl":nt=-se/$e,yt=Ie;break;default:nt=se/$e,yt=Ie}ht=l?Math.abs(yt)>C6e&&u<x.length:!1,D(ht),ne(ve,nt,ht)},Rt=function Dn(Un){Un.preventDefault(),document.removeEventListener("mouseup",Dn),document.removeEventListener("mousemove",Xt),q.current&&(q.current.removeEventListener("touchmove",z.current),q.current.removeEventListener("touchend",j.current)),z.current=null,j.current=null,q.current=null,a(ht),w(-1),D(!1)};document.addEventListener("mouseup",Rt),document.addEventListener("mousemove",Xt),de.currentTarget.addEventListener("touchend",Rt),de.currentTarget.addEventListener("touchmove",Xt),z.current=Xt,j.current=Rt,q.current=de.currentTarget},ce=F.useMemo(function(){var re=Au(n).sort(function(Ge,ot){return Ge-ot}),de=Au(x).sort(function(Ge,ot){return Ge-ot}),ve={};de.forEach(function(Ge){ve[Ge]=(ve[Ge]||0)+1}),re.forEach(function(Ge){ve[Ge]=(ve[Ge]||0)-1});var Ne=l?1:0,Fe=Object.values(ve).reduce(function(Ge,ot){return Ge+Math.abs(ot)},0);return Fe<=Ne?x:n},[n,x,l]);return[b,p,P,ce,le]}function S6e(t,e,n,r,i,s){var o=F.useCallback(function(p){return Math.max(t,Math.min(e,p))},[t,e]),a=F.useCallback(function(p){if(n!==null){var g=t+Math.round((o(p)-t)/n)*n,y=function(A){return(String(A).split(".")[1]||"").length},v=Math.max(y(n),y(e),y(t)),b=Number(g.toFixed(v));return t<=b&&b<=e?b:null}return null},[n,t,e,o]),c=F.useCallback(function(p){var g=o(p),y=r.map(function(w){return w.value});n!==null&&y.push(a(p)),y.push(t,e);var v=y[0],b=e-t;return y.forEach(function(w){var A=Math.abs(g-w);A<=b&&(v=w,b=A)}),v},[t,e,r,n,o,a]),l=function p(g,y,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof y=="number"){var w,A=g[v],S=A+y,P=[];r.forEach(function(N){P.push(N.value)}),P.push(t,e),P.push(a(A));var D=y>0?1:-1;b==="unit"?P.push(a(A+D*n)):P.push(a(S)),P=P.filter(function(N){return N!==null}).filter(function(N){return y<0?N<=A:N>=A}),b==="unit"&&(P=P.filter(function(N){return N!==A}));var C=b==="unit"?A:S;w=P[0];var I=Math.abs(w-C);if(P.forEach(function(N){var R=Math.abs(N-C);R<I&&(w=N,I=R)}),w===void 0)return y<0?t:e;if(b==="dist")return w;if(Math.abs(y)>1){var x=Au(g);return x[v]=w,p(x,y-D,v,b)}return w}else{if(y==="min")return t;if(y==="max")return e}},u=function(g,y,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=g[v],A=l(g,y,v,b);return{value:A,changed:A!==w}},h=function(g){return s===null&&g===0||typeof s=="number"&&g<s},f=function(g,y,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",w=g.map(c),A=w[v],S=l(w,y,v,b);if(w[v]=S,i===!1){var P=s||0;v>0&&w[v-1]!==A&&(w[v]=Math.max(w[v],w[v-1]+P)),v<w.length-1&&w[v+1]!==A&&(w[v]=Math.min(w[v],w[v+1]-P))}else if(typeof s=="number"||s===null){for(var D=v+1;D<w.length;D+=1)for(var C=!0;h(w[D]-w[D-1])&&C;){var I=u(w,1,D);w[D]=I.value,C=I.changed}for(var x=v;x>0;x-=1)for(var N=!0;h(w[x]-w[x-1])&&N;){var R=u(w,-1,x-1);w[x-1]=R.value,N=R.changed}for(var $=w.length-1;$>0;$-=1)for(var U=!0;h(w[$]-w[$-1])&&U;){var Y=u(w,-1,$-1);w[$-1]=Y.value,U=Y.changed}for(var z=0;z<w.length-1;z+=1)for(var j=!0;h(w[z+1]-w[z])&&j;){var q=u(w,1,z+1);w[z+1]=q.value,j=q.changed}}return{value:w[v],values:w}};return[c,f]}function I6e(t){return F.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,i=t.maxCount;return[!0,e,!e&&n,r||0,i]},[t])}var x6e=F.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,i=t.className,s=t.style,o=t.classNames,a=t.styles,c=t.id,l=t.disabled,u=l===void 0?!1:l,h=t.keyboard,f=h===void 0?!0:h,p=t.autoFocus,g=t.onFocus,y=t.onBlur,v=t.min,b=v===void 0?0:v,w=t.max,A=w===void 0?100:w,S=t.step,P=S===void 0?1:S,D=t.value,C=t.defaultValue,I=t.range,x=t.count,N=t.onChange,R=t.onBeforeChange,$=t.onAfterChange,U=t.onChangeComplete,Y=t.allowCross,z=Y===void 0?!0:Y,j=t.pushable,q=j===void 0?!1:j,V=t.reverse,Q=t.vertical,K=t.included,ee=K===void 0?!0:K,ne=t.startPoint,le=t.trackStyle,ce=t.handleStyle,re=t.railStyle,de=t.dotStyle,ve=t.activeDotStyle,Ne=t.marks,Fe=t.dots,Ge=t.handleRender,ot=t.activeHandleRender,Me=t.track,ut=t.tabIndex,ht=ut===void 0?0:ut,Xt=t.ariaLabelForHandle,Rt=t.ariaLabelledByForHandle,Dn=t.ariaRequired,Un=t.ariaValueTextFormatterForHandle,yn=F.useRef(null),Sr=F.useRef(null),fn=F.useMemo(function(){return Q?V?"ttb":"btt":V?"rtl":"ltr"},[V,Q]),se=I6e(I),Ie=ls(se,5),xe=Ie[0],$e=Ie[1],pt=Ie[2],nt=Ie[3],yt=Ie[4],Ft=F.useMemo(function(){return isFinite(b)?b:0},[b]),Ir=F.useMemo(function(){return isFinite(A)?A:100},[A]),gr=F.useMemo(function(){return P!==null&&P<=0?1:P},[P]),Ja=F.useMemo(function(){return typeof q=="boolean"?q?gr:!1:q>=0?q:!1},[q,gr]),Zn=F.useMemo(function(){return Object.keys(Ne||{}).map(function(kt){var dt=Ne[kt],rn={value:Number(kt)};return dt&&Xh(dt)==="object"&&!F.isValidElement(dt)&&("label"in dt||"style"in dt)?(rn.style=dt.style,rn.label=dt.label):rn.label=dt,rn}).filter(function(kt){var dt=kt.label;return dt||typeof dt=="number"}).sort(function(kt,dt){return kt.value-dt.value})},[Ne]),Ji=S6e(Ft,Ir,gr,Zn,z,Ja),Vs=ls(Ji,2),Ts=Vs[0],Hs=Vs[1],fa=c6e(C,{value:D}),Ws=ls(fa,2),li=Ws[0],Bo=Ws[1],Nn=F.useMemo(function(){var kt=li==null?[]:Array.isArray(li)?li:[li],dt=ls(kt,1),rn=dt[0],vn=rn===void 0?Ft:rn,Sn=li===null?[]:[vn];if(xe){if(Sn=Au(kt),x||li===void 0){var Qr=x>=0?x+1:2;for(Sn=Sn.slice(0,Qr);Sn.length<Qr;){var cr;Sn.push((cr=Sn[Sn.length-1])!==null&&cr!==void 0?cr:Ft)}}Sn.sort(function(Tt,cn){return Tt-cn})}return Sn.forEach(function(Tt,cn){Sn[cn]=Ts(Tt)}),Sn},[li,xe,Ft,x,Ts]),jn=function(dt){return xe?dt:dt[0]},Jn=Ly(function(kt){var dt=Au(kt).sort(function(rn,vn){return rn-vn});N&&!p6e(dt,Nn,!0)&&N(jn(dt)),Bo(dt)}),_i=Ly(function(kt){kt&&yn.current.hideHelp();var dt=jn(Nn);$==null||$(dt),Nv(!$,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),U==null||U(dt)}),bn=function(dt){if(!(u||!$e||Nn.length<=nt)){var rn=Au(Nn);rn.splice(dt,1),R==null||R(jn(rn)),Jn(rn);var vn=Math.max(0,dt-1);yn.current.hideHelp(),yn.current.focus(vn)}},xr=T6e(Sr,fn,Nn,Ft,Ir,Ts,Jn,_i,Hs,$e,nt),Xi=ls(xr,5),Di=Xi[0],Xa=Xi[1],Z=Xi[2],te=Xi[3],ue=Xi[4],ge=function(dt,rn){if(!u){var vn=Au(Nn),Sn=0,Qr=0,cr=Ir-Ft;Nn.forEach(function(ct,en){var ho=Math.abs(dt-ct);ho<=cr&&(cr=ho,Sn=en),ct<dt&&(Qr=en)});var Tt=Sn;$e&&cr!==0&&(!yt||Nn.length<yt)?(vn.splice(Qr+1,0,dt),Tt=Qr+1):vn[Sn]=dt,xe&&!Nn.length&&x===void 0&&vn.push(dt);var cn=jn(vn);if(R==null||R(cn),Jn(vn),rn){var ui,Zr;(ui=document.activeElement)===null||ui===void 0||(Zr=ui.blur)===null||Zr===void 0||Zr.call(ui),yn.current.focus(Tt),ue(rn,Tt,vn)}else $==null||$(cn),Nv(!$,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),U==null||U(cn)}},pe=function(dt){dt.preventDefault();var rn=Sr.current.getBoundingClientRect(),vn=rn.width,Sn=rn.height,Qr=rn.left,cr=rn.top,Tt=rn.bottom,cn=rn.right,ui=dt.clientX,Zr=dt.clientY,ct;switch(fn){case"btt":ct=(Tt-Zr)/Sn;break;case"ttb":ct=(Zr-cr)/Sn;break;case"rtl":ct=(cn-ui)/vn;break;default:ct=(ui-Qr)/vn}var en=Ft+ct*(Ir-Ft);ge(Ts(en),dt)},at=F.useState(null),mt=ls(at,2),je=mt[0],He=mt[1],Le=function(dt,rn){if(!u){var vn=Hs(Nn,dt,rn);R==null||R(jn(Nn)),Jn(vn.values),He(vn.value)}};F.useEffect(function(){if(je!==null){var kt=Nn.indexOf(je);kt>=0&&yn.current.focus(kt)}He(null)},[je]);var Je=F.useMemo(function(){return pt&&gr===null?!1:pt},[pt,gr]),Te=Ly(function(kt,dt){ue(kt,dt),R==null||R(jn(Nn))}),Ke=Di!==-1;F.useEffect(function(){if(!Ke){var kt=Nn.lastIndexOf(Xa);yn.current.focus(kt)}},[Ke]);var _t=F.useMemo(function(){return Au(te).sort(function(kt,dt){return kt-dt})},[te]),$t=F.useMemo(function(){return xe?[_t[0],_t[_t.length-1]]:[Ft,_t[0]]},[_t,xe,Ft]),St=ls($t,2),pn=St[0],Ni=St[1];F.useImperativeHandle(e,function(){return{focus:function(){yn.current.focus(0)},blur:function(){var dt,rn=document,vn=rn.activeElement;(dt=Sr.current)!==null&&dt!==void 0&&dt.contains(vn)&&(vn==null||vn.blur())}}}),F.useEffect(function(){p&&yn.current.focus(0)},[]);var uo=F.useMemo(function(){return{min:Ft,max:Ir,direction:fn,disabled:u,keyboard:f,step:gr,included:ee,includedStart:pn,includedEnd:Ni,range:xe,tabIndex:ht,ariaLabelForHandle:Xt,ariaLabelledByForHandle:Rt,ariaRequired:Dn,ariaValueTextFormatterForHandle:Un,styles:a||{},classNames:o||{}}},[Ft,Ir,fn,u,f,gr,ee,pn,Ni,xe,ht,Xt,Rt,Dn,Un,a,o]);return F.createElement(Bm.Provider,{value:uo},F.createElement("div",{ref:Sr,className:hm(r,i,Fa(Fa(Fa(Fa({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),Q),"".concat(r,"-horizontal"),!Q),"".concat(r,"-with-marks"),Zn.length)),style:s,onMouseDown:pe,id:c},F.createElement("div",{className:hm("".concat(r,"-rail"),o==null?void 0:o.rail),style:Vi(Vi({},re),a==null?void 0:a.rail)}),Me!==!1&&F.createElement(A6e,{prefixCls:r,style:le,values:Nn,startPoint:ne,onStartMove:Je?Te:void 0}),F.createElement(E6e,{prefixCls:r,marks:Zn,dots:Fe,style:de,activeStyle:ve}),F.createElement(v6e,{ref:yn,prefixCls:r,style:ce,values:te,draggingIndex:Di,draggingDelete:Z,onStartMove:Te,onOffsetChange:Le,onFocus:g,onBlur:y,handleRender:Ge,activeHandleRender:ot,onChangeComplete:_i,onDelete:$e?bn:void 0}),F.createElement(_6e,{prefixCls:r,marks:Zn,onClick:ge})))});function P6e({name:t,handleClick:e}){return T.jsxs("button",{className:"btn button-hovering-color",onClick:e,children:[" ",t]})}function O6e({handleSelectedPrice:t}){const[e,n]=F.useState([0,3]);return T.jsxs("div",{className:"filter-by-price-container",children:[T.jsx("h3",{children:"Filter By"}),T.jsxs("div",{style:{width:250,margin:"2rem auto"},children:[T.jsx(x6e,{range:!0,min:0,max:3,step:1e-5,value:e,onChange:r=>{Array.isArray(r)&&n(r)},allowCross:!1}),T.jsxs("div",{className:"slider-selected-price",children:[T.jsxs("span",{children:[e[0]," ETH"]}),T.jsxs("span",{children:[e[1]," ETH"]})]})]}),T.jsx(P6e,{name:"Submit",handleClick:()=>t(e)})]})}function D6e(){var U,Y,z;const[t,e]=F.useState(null),[n,r]=F.useState([]),[i,s]=F.useState(1),[o,a]=F.useState([]),[c,l]=F.useState([]),[u,h]=F.useState([]),[f,p]=F.useState(),y=Vl().state||"";F.useEffect(()=>{if(y!=null&&y.formattedData){const{destinationName:j,selectDate:q}=y.formattedData;e(j||null),h(q||[])}y&&e(y)},[]),F.useEffect(()=>{window.scrollTo(0,0)},[]);function v(j){h(j.selectDate),e(j.destinationName)}F.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),F.useEffect(()=>{(async()=>{var q;try{const Q=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json(),K=(q=Q==null?void 0:Q.ethereum)==null?void 0:q.usd;p(K)}catch(V){console.error("Failed to fetch Current Eth Price:",V)}})()},[]);function b(j){l(j)}function w(j){r([]),e(j||null),s(1)}const{data:A}=WSe(t||"",{skip:!t}),S=(z=(Y=(U=A==null?void 0:A.data)==null?void 0:U.products)==null?void 0:Y[0])==null?void 0:z.id,{data:P}=qSe({destinationId:S,selectedDate:u,currentPage:i},{skip:!S||u.length!==2}),{data:D}=VZ({destinationId:S,currentPage:i},{skip:!S||u.length>0}),{data:C}=HSe(i,{skip:!!t||u.length===2});F.useEffect(()=>{var j,q,V;if(t&&u.length===2&&((j=P==null?void 0:P.data)!=null&&j.products)){r(P.data.products);return}if(t&&((q=D==null?void 0:D.data)!=null&&q.products)){r(D.data.products);return}if(!t&&((V=C==null?void 0:C.data)!=null&&V.products)){r(C.data.products);return}r([])},[t,u,D,C,P]);function I(j){a(j)}let x=[...n];if(o.length>0){o.sort((V,Q)=>V-Q);const j=o[0],q=o[o.length-1];x=x.filter(V=>{var Q,K,ee,ne;return((K=(Q=V==null?void 0:V.reviewsStats)==null?void 0:Q.combinedNumericStats)==null?void 0:K.average)>=j&&((ne=(ee=V==null?void 0:V.reviewsStats)==null?void 0:ee.combinedNumericStats)==null?void 0:ne.average)<=q})}if((c==null?void 0:c.length)>0&&f!=null){const j=c[0],q=c[1];x=x.filter(V=>{var Q,K;return Math.ceil((Q=V==null?void 0:V.representativePrice)==null?void 0:Q.chargeAmount)/f<=q&&Math.ceil((K=V==null?void 0:V.representativePrice)==null?void 0:K.chargeAmount)/f>=j})}function N(j){j>0?s(q=>q+1):j<0&&i!==1&&s(q=>q-1)}const R=(y==null?void 0:y.formattedData)||{},$=t&&u.length===2&&!(P!=null&&P.data)||t&&u.length!==2&&!(D!=null&&D.data)||!t&&!(C!=null&&C.data);return T.jsxs(T.Fragment,{children:[T.jsx(P1,{headingText:"Tour Package",normalText:"Home /",coloredText:"Tour Package",bannerImage:bt.TOURPAGE_BANNER}),T.jsx(E$,{searchAreaData:v,initialSearchValues:R}),T.jsxs("div",{className:GN.FILTER_DISPLAY,children:[T.jsxs("div",{className:GN.FILTER_CONTAINER,children:[T.jsx("div",{className:"tour-filter-types",children:T.jsx(O6e,{handleSelectedPrice:b})}),T.jsx("div",{className:"tour-filter-types",children:T.jsx(JBe,{handleDestinationData:w})}),T.jsx("div",{className:"tour-filter-types",children:T.jsx(XBe,{handleRatingData:I})})]}),T.jsx("div",{className:GN.TOURS_CONTAINER,children:$?Array.from({length:9}).map((j,q)=>T.jsx(one,{},q)):x.map(j=>{var de,ve,Ne,Fe,Ge,ot,Me,ut,ht,Xt,Rt;const q=((Ne=(ve=(de=j==null?void 0:j.ufiDetails)==null?void 0:de.url)==null?void 0:ve.country)==null?void 0:Ne.toUpperCase())||"N/A",V=((Fe=j==null?void 0:j.ufiDetails)==null?void 0:Fe.bCityName)||"N/A",Q=(j==null?void 0:j.name)||"N/A",K=((Ge=j==null?void 0:j.primaryPhoto)==null?void 0:Ge.small)||"",ee=((ut=(Me=(ot=j==null?void 0:j.reviewsStats)==null?void 0:ot.combinedNumericStats)==null?void 0:Me.average)==null?void 0:ut.toString())||"N/A",ne=((Xt=(ht=j==null?void 0:j.reviewsStats)==null?void 0:ht.allReviewsCount)==null?void 0:Xt.toString())||"0",le=(Rt=j==null?void 0:j.representativePrice)==null?void 0:Rt.chargeAmount,ce=f?`${(le/f).toFixed(5)} ETH`:"Loading...",re=(j==null?void 0:j.slug)||j.id.toString();return T.jsx(UU,{cityName:V,countryName:q,tourName:Q,tourImage:K,tourRating:ee,tourReview:ne,tourPrice:ce,tourDuration:"2 days",slugValue:re},`${j.destinationId}-${re}`)})})]}),T.jsx("div",{className:"page-navigation-container",children:T.jsxs("div",{className:"pages-navigation",children:[T.jsx("span",{className:"page-number-container",onClick:()=>{N(-1)},children:T.jsx("i",{className:"fa-solid fa-chevron-left"})})," ",T.jsx("span",{className:"page-number-container colored-page-number",onClick:()=>s(j=>j+1),children:i}),T.jsx("span",{className:"page-number-container",onClick:()=>{N(1)},children:T.jsx("i",{className:"fa-solid fa-chevron-right"})})," "]})})]})}function N6e(){const t={section1:{firstGrouped:["United Kingdom","Canada","Switzerland"],secondGrouped:["Norway","Japan"],single:"France"},section2:{firstGrouped:["Italy","Thailand","Egypt"],secondGrouped:["Australia","India"],single:"New Zealand"}},e={"United Kingdom":bt.UNITED_KINGDOM,Canada:bt.CANADA,Switzerland:bt.SWITZERLAND,Thailand:bt.THAILAND,Australia:bt.AUSTRALIA,France:bt.FRANCE,Italy:bt.ITALY,Norway:bt.NORWAY,Egypt:bt.EGYPT,Japan:bt.JAPAN,India:bt.INDIA,"New Zealand":bt.NEWZEALAND};return T.jsxs(T.Fragment,{children:[T.jsx(P1,{headingText:"Destination",normalText:"Home /",coloredText:"Destination",bannerImage:bt.DESTINATION_BANNER}),T.jsx(E$,{searchAreaData:()=>{}}),T.jsx("div",{className:"destination-grid-wrapper",children:T.jsxs("div",{className:"destination-grid-container",children:[T.jsxs("div",{className:"grid-section",children:[T.jsxs("div",{className:"grouped-destinations-grid",children:[T.jsx("div",{className:"first-grouped-destinations",children:t.section1.firstGrouped.map(n=>T.jsx(vu,{countryName:n,countryImage:e[n]},n))}),T.jsx("div",{className:"second-grouped-destinations",children:t.section1.secondGrouped.map(n=>T.jsx(vu,{countryName:n,countryImage:e[n]},n))})]}),T.jsx("div",{className:"single-destinations-grid",children:T.jsx(vu,{countryName:t.section1.single,countryImage:e[t.section1.single]})})]}),T.jsxs("div",{className:"grid-section reversed",children:[T.jsx("div",{className:"single-destinations-grid",children:T.jsx(vu,{countryName:t.section2.single,countryImage:e[t.section2.single]})}),T.jsxs("div",{className:"grouped-destinations-grid",children:[T.jsx("div",{className:"first-grouped-destinations",children:t.section2.firstGrouped.map(n=>T.jsx(vu,{countryName:n,countryImage:e[n]},n))}),T.jsx("div",{className:"second-grouped-destinations",children:t.section2.secondGrouped.map(n=>T.jsx(vu,{countryName:n,countryImage:e[n]},n))})]})]})]})})]})}function R6e(){var b,w,A,S,P,D;const{countryName:t}=nP(),e="Gev3EvtXpErr8iA59qj7W9YSuAqSlpUduaRBB2f5fWaULYSB2k9d09Yn",[n,r]=F.useState([]),[i,s]=F.useState(0),[o,a]=F.useState([]),[c,l]=F.useState(),[u,h]=F.useState([]),[f,p]=F.useState([]),[g,y]=F.useState(),v=["Jan - Feb","Mar - Apr","May - June","July - Aug","Sep - Oct","Nov - Dec"];return F.useEffect(()=>{window.scrollTo(0,0);const C=async()=>{try{const $=await(await fetch(`https://api.pexels.com/v1/search?query=${t}&per_page=5`,{headers:{Authorization:e}})).json();r($.photos||[])}catch(R){console.error("Failed to fetch images:",R)}},I=async()=>{try{const $=await(await fetch(`https://restcountries.com/v3.1/name/${t}`)).json();h($),a($[0].timezones||[]),p($[0].languages?Object.values($[0].languages):[]),y($[0].capital||[])}catch(R){console.error("Failed to fetch country information: ",R)}},x=async()=>{try{const $=await(await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${t}`)).json();l($.extract)}catch(R){console.error("Failed to fetch country description: ",R)}};(async()=>{try{const $=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${t}`)).json(),{lat:U,lon:Y}=$[0],z=await fetch(`https://archive-api.open-meteo.com/v1/archive?latitude=${U}&longitude=${Y}&start_date=2020-01-01&end_date=2020-12-31&monthly=temperature_2m_mean&timezone=auto`);console.log("Weather data:",await z.json())}catch(R){console.error("Failed to fetch coordinates/weather:",R)}})(),x(),I(),C()},[t]),T.jsxs(T.Fragment,{children:[T.jsx(P1,{headingText:"Destination Details",normalText:"Home / Destination / ",coloredText:t==null?void 0:t.toUpperCase(),bannerImage:bt.DESTINATION_BANNER}),T.jsxs("div",{className:"destination-detail-wrapper",children:[T.jsxs("div",{className:"destination-detail-container",children:[T.jsx("div",{className:"destinaton-main-image",children:T.jsx("img",{src:(w=(b=n[i])==null?void 0:b.src)==null?void 0:w.large2x})}),T.jsx("div",{className:"destination-other-images",children:[...Array(5)].map((C,I)=>{var x,N;return T.jsx("span",{onClick:()=>s(I),className:"minor-images-container",children:T.jsx("img",{src:(N=(x=n[I])==null?void 0:x.src)==null?void 0:N.large2x,className:"minor-image"})},I)})}),T.jsxs("div",{className:"destination-description-container",children:[T.jsxs("h4",{children:["About ",t==null?void 0:t.toUpperCase()]}),T.jsx("p",{className:"project-normal-font",children:c})]}),T.jsxs("div",{className:"destination-basic-info-wrapper",children:[T.jsx("h4",{children:"Basic Information"}),T.jsx("div",{className:"destination-baisc-info-container",children:T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("p",{children:"Country"}),T.jsx("span",{children:t==null?void 0:t.toUpperCase()})]}),T.jsxs("li",{children:[T.jsx("p",{children:"Capital"}),g==null?void 0:g.map((C,I)=>T.jsxs("span",{children:[C,I===g.length-1?"":", "]},I))]}),T.jsxs("li",{children:[T.jsx("p",{children:"Language"}),f==null?void 0:f.map((C,I)=>T.jsxs("span",{children:[C,I===f.length-1?"":", "]},I))]}),T.jsxs("li",{children:[T.jsx("p",{children:"Currency"}),T.jsx("span",{children:((A=u[0])==null?void 0:A.currencies)&&((S=Object.values(u[0].currencies)[0])==null?void 0:S.name)})]}),T.jsxs("li",{children:[T.jsx("p",{children:"Area"}),T.jsxs("span",{children:[(P=u[0])==null?void 0:P.area," km²"]})]}),T.jsxs("li",{children:[T.jsx("p",{children:"Population"}),T.jsx("span",{children:(D=u[0])==null?void 0:D.population})]}),T.jsxs("li",{children:[T.jsx("p",{children:"Timezone"}),o==null?void 0:o.slice(0,4).map((C,I)=>T.jsxs("span",{children:[C,I===o.length-1?"":", "]},I))]})]})})]})]}),T.jsxs("div",{className:"weather-map-container",children:[T.jsx(VU,{cityName:t,mapHeadingText:"City Map"}),T.jsx("div",{className:"weather-wrapper",children:T.jsxs("div",{className:"weather-container",children:[T.jsx("h6",{children:"Weather"}),T.jsx("div",{className:"destination-baisc-info-container weather-report",children:T.jsx("ul",{children:v.map((C,I)=>T.jsxs("li",{children:[T.jsx("p",{children:C}),T.jsx("span",{children:"22°C - 32°C"}),T.jsx("div",{className:"create-line"})]},I))})})]})})]})]}),T.jsx("div",{className:"destination-tour-slider-wrapper",children:T.jsxs("div",{className:"destination-tour-slider",children:[T.jsx("h2",{children:"Popular Tours"}),T.jsx(ane,{})]})})]})}function YN({contactIcon:t,contactType:e,contactInfo:n}){return T.jsx("div",{className:"contact-element-wrapper",children:T.jsxs("div",{className:"contact-element-container",children:[T.jsx("i",{className:t}),T.jsx("p",{children:e}),T.jsx("span",{children:n})]})})}function Lie(){return F.useEffect(()=>{window.scrollTo(0,0)}),T.jsxs(T.Fragment,{children:[T.jsx(P1,{normalText:"Home / ",coloredText:"Contact",headingText:"Contact Us",bannerImage:bt.DESTINATION_BANNER}),T.jsx("div",{className:"contact-page-wrapper",children:T.jsxs("div",{className:"contact-page-container",children:[T.jsxs("div",{className:"contact-info-tabs",children:[T.jsx(YN,{contactIcon:"fa-solid fa-location-dot",contactType:"Location",contactInfo:"Chandigarh, India"}),T.jsx(YN,{contactIcon:"fa fa-phone",contactType:"Phone",contactInfo:"987654321"}),T.jsx(YN,{contactIcon:"fa-regular fa-envelope",contactType:"Email",contactInfo:"support@trisog.com"})]}),T.jsxs("div",{className:"question-map-section",children:[T.jsxs("div",{className:"question-wrapper",children:[T.jsx("h4",{className:"cursive-text",children:"Have any question?"}),T.jsx("h2",{children:"Get in Touch"}),T.jsx("div",{className:"asking-question-wrapper",children:T.jsx(gj,{})})]}),T.jsx("div",{className:"map__wrapper",children:T.jsx(VU,{cityName:"Chandigarh",mapHeadingText:""})})]})]})})]})}function k6e({blog:t}){return T.jsxs("div",{className:"blog-card-wrapper",children:[T.jsx("div",{className:"blog-image-container",children:T.jsx("img",{src:t.image,className:"blog-card-image",alt:t.title})}),T.jsx("div",{className:"blog-date-part",children:T.jsxs("p",{children:[t.date," • Admin"]})}),T.jsx(fs,{to:`/blog/${t.id}`,className:"link-class",children:T.jsx("h4",{children:t.title})}),T.jsx("p",{className:"project-normal-font",children:t.shortDescription}),T.jsxs(fs,{to:`/blog/${t.id}`,className:"read-more",children:["Read More ",T.jsx("span",{children:T.jsx("i",{className:"fa-solid fa-long-arrow-right"})})]})]})}const qg=[{id:1,title:"Trekking the Trails of Patagonia",date:"Sep 26, 2025",image:bt.TRAIL,shortDescription:"Patagonia’s rugged trails offer breathtaking views and thrilling adventures. From glaciers to peaks, discover why this region is a hiker’s paradise.",content:["Patagonia, spanning Chile and Argentina, is a dream for adventure seekers. Its trails, like the W Trek in Torres del Paine, weave through turquoise lakes, glaciers, and granite spires. The park’s unpredictable weather adds a thrill—pack layers and sturdy boots.","Beyond hiking, spot guanacos and condors, or kayak near icebergs. Refugios (mountain huts) provide cozy rest stops with hearty meals. For a lighter trek, try Laguna Azul’s scenic loop. Patagonia’s raw beauty demands respect—stick to marked paths to preserve its wilderness.","This destination suits those craving nature’s untamed side. A week here feels like a lifetime of stories."],category:"Adventure",tag:"Hiking"},{id:2,title:"Uncovering Marrakech’s Cultural Souks",date:"Oct 5, 2025",image:bt.TOURPAGE_BANNER,shortDescription:"Marrakech’s vibrant souks pulse with history and color. Dive into Morocco’s cultural heart for spices, crafts, and timeless tales.",content:["Marrakech, Morocco, is a sensory overload. Its souks, narrow alleys in the medina, brim with leather bags, lanterns, and saffron piles. Jemaa el-Fnaa square buzzes with snake charmers and storytellers at dusk. Bargaining is an art here—smile, sip mint tea, and haggle politely.","Beyond shopping, visit the Bahia Palace for intricate tilework or the Saadian Tombs for royal history. Locals are warm but firm—respect their pace. A guided tour helps navigate the maze without getting lost. Try a tagine cooking class for a taste of tradition.","Marrakech blends chaos and charm, perfect for culture lovers. Two days feel like a whirlwind of discovery."],category:"Culture",tag:"History"},{id:3,title:"Serenity Over Santorini’s Caldera",date:"Oct 12, 2025",image:bt.SANTORINI,shortDescription:"Santorini’s whitewashed cliffs and blue domes frame stunning sunsets. Explore Greece’s volcanic gem for peace and beauty.",content:["Santorini, Greece, is a postcard come alive. Its caldera, formed by a volcanic eruption, cradles villages like Oia and Fira. Stroll cobblestone paths for jaw-dropping views, especially at sunset when crowds hush. The island’s black-sand beaches, like Perissa, add raw contrast.","Skip overpriced restaurants—local tavernas serve fresh calamari and fava beans. Rent a scooter to explore Akrotiri’s ancient ruins or sail to hot springs. Summer’s busy, so book early or visit in fall for quieter vibes. Santorini’s magic lies in its serene, timeless feel.","Ideal for couples or solo travelers, a few days here recharge the soul. Bring a camera—you’ll need it."],category:"Nature",tag:"Scenic"},{id:4,title:"Savoring Street Food in Bangkok",date:"Oct 20, 2025",image:bt.TOURPAGE_BANNER,shortDescription:"Bangkok’s street food is a flavor explosion. From spicy som tam to sweet mango sticky rice, taste Thailand’s soul.",content:["Bangkok’s streets are a foodie’s playground. At Yaowarat (Chinatown), stalls dish out crispy duck and peppery crab. Sukhumvit Soi 38 offers som tam (papaya salad) that bites back—ask for mild if you’re spice-shy. Don’t skip mango sticky rice; it’s pure joy.","Vendors cook fresh, but check for busy stalls to avoid tummy troubles. Pair meals with iced Thai tea. For a break, visit Chatuchak Market to snack while browsing. Night markets blend food and vibe—go hungry. A street food tour maximizes variety in one evening.","Bangkok’s flavors are bold yet balanced, perfect for culinary explorers. You’ll leave craving more."],category:"Food",tag:"Cuisine"}];function M6e(){const t=[...new Set(qg.map(r=>r.category))].map(r=>({name:r,count:qg.filter(i=>i.category===r).length})),e=[...new Set(qg.map(r=>r.tag))],n=qg.slice(0,3);return T.jsxs(T.Fragment,{children:[T.jsx(P1,{normalText:"Home / ",coloredText:"Blog",headingText:"Our Blog",bannerImage:bt.TOURPAGE_BANNER}),T.jsx("div",{className:"blog-page-wrapper",children:T.jsxs("div",{className:"blog-page-container",children:[T.jsx("div",{className:"blog-main-content",children:qg.map(r=>T.jsx(k6e,{blog:r},r.id))}),T.jsxs("div",{className:"blog-side-bar",children:[T.jsxs("div",{className:"sidebar-section",children:[T.jsx("h4",{children:"Categories"}),T.jsx("ul",{className:"category-list",children:t.map(r=>T.jsx("li",{children:T.jsxs("span",{className:"project-normal-font",children:[r.name," (",r.count,")"]})},r.name))})]}),T.jsxs("div",{className:"sidebar-section",children:[T.jsx("h4",{children:"Recent Posts"}),T.jsx("ul",{className:"recent-posts-list",children:n.map(r=>T.jsx("li",{children:T.jsxs("div",{className:"recent-post-item",children:[T.jsx(fs,{to:`/blog/${r.id}`,className:"link-class",children:T.jsx("h5",{children:r.title})}),T.jsxs("p",{children:[r.date," • Admin"]})]})},r.id))})]}),T.jsxs("div",{className:"sidebar-section",children:[T.jsx("h4",{children:"Tags"}),T.jsx("div",{className:"tags-list",children:e.map(r=>T.jsx("span",{className:"tag-item",children:r},r))})]})]})]})})]})}function L6e(){const{id:t}=nP(),e=qg.find(n=>n.id===parseInt(t||""));return e?(F.useEffect(()=>{window.scrollTo(0,0)}),T.jsx("div",{className:"blog-detail-page-wrapper",children:T.jsxs("div",{className:"blog-detail-page-container",children:[T.jsx("div",{className:"blog-detail-image-container",children:T.jsx("img",{src:e.image,className:"blog-detail-image",alt:e.title})}),T.jsxs("div",{className:"blog-detail-content-wrapper",children:[T.jsx("div",{className:"blog-detail-date",children:T.jsxs("p",{children:[e.date," • Admin"]})}),T.jsx("h3",{className:"blog-detail-title",children:e.title}),T.jsx("p",{className:"blog__description project-normal-font",children:e.content.map((n,r)=>T.jsxs("span",{children:[n,T.jsx("br",{}),T.jsx("br",{})]},r))})]}),T.jsxs("div",{className:"blog-details-tag-share-wrapper",children:[T.jsxs("div",{className:"blog-share-tag-container",children:[T.jsxs("div",{className:"blog-share-container",children:[T.jsx("span",{children:"Share: "}),T.jsxs("span",{className:"social-share-icons",children:[T.jsx("i",{className:"fa-brands fa-facebook-f"}),T.jsx("i",{className:"fa-brands fa-x-twitter"}),T.jsx("i",{className:"fa-brands fa-whatsapp"}),T.jsx("i",{className:"fa-brands fa-linkedin-in"}),T.jsx("i",{className:"fa-solid fa-link"})]})]}),T.jsx("div",{className:"blog-detail-page-tags",children:T.jsx("span",{children:e.tag})})]}),T.jsx("div",{className:"blog-tags"})]}),T.jsxs("div",{className:"author-section",children:[T.jsx("div",{className:"author-image-wrapper",children:T.jsx("div",{className:"author-image-container",children:T.jsx("img",{src:bt.BLANK_PROFILE,alt:"Author"})})}),T.jsxs("div",{className:"author-information-container",children:[T.jsx("h6",{children:"Simmons"}),T.jsx("span",{children:"Author"}),T.jsx("p",{className:"project-normal-font",children:"Objectively productivate just in time information with dynamic channels. Energistically exploit seamless growth strategies after 24/7 experiences."})]})]}),T.jsx("div",{className:"blog-reply-container",children:T.jsx(gj,{})})]})})):T.jsx("div",{className:"blog-detail-page-wrapper",children:"Blog not found"})}function F6e(){const[t,e]=F.useState([]),[n,r]=F.useState(!0);return F.useEffect(()=>{const i=lte(Oo,async s=>{if(s)try{const o=FX(c1(rd,"bookings"),$X("userId","==",s.uid)),c=(await HX(o)).docs.map(l=>({id:l.id,...l.data()}));console.log("...yooyoy...",c),e(c)}catch(o){console.error("Error fetching bookings:",o)}finally{r(!1)}else e([]),r(!1)});return()=>i()},[]),n?T.jsx("p",{className:"loading-text",children:"Loading bookings..."}):T.jsxs("div",{className:"booked-tours-container",children:[T.jsx("h2",{className:"page-title",children:"My Booked Tours"}),t.length===0?T.jsx("p",{className:"no-bookings-msg",children:"You haven’t booked any tours yet."}):T.jsxs("div",{className:"bookings-table",children:[T.jsxs("div",{className:"table-header",children:[T.jsx("div",{className:"table-cell tour-name-cell",children:"Tour Name"}),T.jsx("div",{className:"table-cell",children:"Tickets"}),T.jsx("div",{className:"table-cell",children:"Date"}),T.jsx("div",{className:"table-cell",children:"Time"}),T.jsx("div",{className:"table-cell",children:"Price"})]}),t.map(i=>T.jsxs("div",{className:"table-row",children:[T.jsx("div",{className:"table-cell tour-name-cell",children:T.jsx(fs,{to:Ue.TOURS_DETAIL.path.replace(":slugId",i.slugValue),className:"link-class",children:i.tourName})}),T.jsx("div",{className:"table-cell",children:i.tickets}),T.jsx("div",{className:"table-cell",children:i.date}),T.jsx("div",{className:"table-cell",children:i.time}),T.jsxs("div",{className:"table-cell",children:[Number(i.totalPrice)," ETH"]})]},i.id))]})]})}function $6e(){const[t,e]=F.useState([]),[n,r]=F.useState(!0),i=Oo.currentUser;return F.useEffect(()=>{(async()=>{if(!i){e([]),r(!1);return}try{const o=FX(c1(rd,"favorites"),$X("userId","==",i.uid)),c=(await HX(o)).docs.map(l=>({id:l.id,...l.data()}));e(c)}catch(o){console.error("Error fetching favorites:",o)}finally{r(!1)}})()},[i]),i?n?T.jsx("div",{children:"Loading..."}):T.jsxs("div",{className:"favorites-page-container",children:[T.jsx("h2",{children:"Your Favorite Tours"}),t.length===0?T.jsx("p",{children:"No favorite tours yet."}):T.jsx("div",{className:"favorites-grid",children:t.map(s=>T.jsx(UU,{cityName:s.cityName,countryName:s.countryName,tourName:s.tourName,tourImage:s.tourImage||"",tourRating:s.tourRating||"0",tourReview:s.tourReview||"0",tourPrice:`${s.tourPrice}`||"0",tourDuration:s.tourDuration||"N/A",slugValue:s.tourSlug},s.id))})]}):T.jsx("div",{children:"Please log in to view your favorite tours."})}function v0({profileImage:t,name:e,role:n}){return T.jsxs("div",{className:"team-card-wrapper",children:[T.jsx("div",{className:"member-image-container",children:T.jsx("img",{src:t,alt:e})}),T.jsxs("div",{className:"name-and-role",children:[T.jsx("h6",{children:e}),T.jsx("p",{children:n})]})]})}function vg({image:t,title:e,textContent:n}){return T.jsxs("div",{className:"feature-box",children:[T.jsx("img",{src:t}),T.jsx("h6",{children:e}),T.jsx("p",{children:n})]})}function Fie(){const t=[{quantity:120,quantityElement:"Total Destination"},{quantity:500,quantityElement:"Travel Packages"},{quantity:"10K",quantityElement:"Total Travelers"},{quantity:"7K",quantityElement:"Positive Reviews"}];return F.useEffect(()=>{window.scrollTo(0,0)}),T.jsxs(T.Fragment,{children:[T.jsx(lQ,{}),T.jsx("div",{className:"our-numbers-wrapper",children:T.jsx("div",{className:"our-numbers-container",children:t.map(e=>T.jsxs("div",{className:"number-data",children:[T.jsxs("h1",{children:[e.quantity,"+"]}),T.jsx("p",{children:e.quantityElement})]}))})}),T.jsxs("div",{className:"about-feature-wrapper",children:[T.jsx("h4",{className:"cursive-text",children:"Features"}),T.jsx("h2",{children:"Why Choose Us"}),T.jsxs("div",{className:"about-feature-container",children:[T.jsx(vg,{image:bt.QUALITY_PACKAGES,title:"High Quality Travel Packages",textContent:"Credibly target visionary portals rather than prospective human capital."}),T.jsx(vg,{image:bt.BEST_TRAVEL_PLAN,title:"Best Travel Plan",textContent:"Credibly target visionary portals rather than prospective human capital."}),T.jsx(vg,{image:bt.QUICK_BOOKING,title:"Easy & Quick Booking",textContent:"Credibly target visionary portals rather than prospective human capital."}),T.jsx(vg,{image:bt.HAND_PICKED_TOUR,title:"Hand-picked Tour",textContent:"Credibly target visionary portals rather than prospective human capital."}),T.jsx(vg,{image:bt.PRIVATE_GUIDE,title:"Private Guide",textContent:"Credibly target visionary portals rather than prospective human capital."}),T.jsx(vg,{image:bt.CUSTOMER_CARE,title:"Customer Care 24/7",textContent:"Credibly target visionary portals rather than prospective human capital."})]})]}),T.jsxs("div",{className:"team-member-wrapper",children:[T.jsx("h4",{className:"cursive-text",children:"Team"}),T.jsx("h2",{children:"Our Amazing Team"}),T.jsxs("div",{className:"team-member-container",children:[T.jsx(v0,{profileImage:bt.TEAM_MEMBER,name:"Antoni Shkraba",role:"Founder & Director"}),T.jsx(v0,{profileImage:bt.TEAM_MEMBER,name:"Andrew Davie",role:"Chief Operating Officer"}),T.jsx(v0,{profileImage:bt.TEAM_MEMBER,name:"Orlando Diggs",role:"Director - Hotels"}),T.jsx(v0,{profileImage:bt.TEAM_MEMBER,name:"Philip Martin",role:"Chief Executive"}),T.jsx(v0,{profileImage:bt.TEAM_MEMBER,name:"Tamara Bellis",role:"Customer Support"})]})]}),T.jsx(zZ,{})]})}const $ie=[{path:Ue.HOMEPAGE.path,element:T.jsx(cne,{}),title:Ue.HOMEPAGE.title},{path:Ue.LOGIN.path,element:T.jsx(HLe,{}),title:Ue.HOMEPAGE.title},{path:Ue.ABOUT.path,element:T.jsx(Fie,{}),title:Ue.ABOUT.title},{path:"/wishlist",element:"Your wishlist here",title:"Dashboard"},{path:Ue.TOURS_DETAIL.path,title:Ue.TOURS_DETAIL.title,element:T.jsx(ZBe,{})},{path:Ue.DESTINATION_DETAIL.path,title:Ue.DESTINATION_DETAIL.title,element:T.jsx(R6e,{})},{path:Ue.CONTACT.path,title:Ue.CONTACT.title,element:T.jsx(Lie,{})},{path:Ue.DESTINATION.path,title:Ue.DESTINATION.title,element:T.jsx(N6e,{})},{path:Ue.TOURS.path,title:Ue.TOURS.title,element:T.jsx(D6e,{})},{path:Ue.BLOG.path,title:Ue.BLOG.title,element:T.jsx(M6e,{})},{path:Ue.BLOG_DETAIL.path,title:Ue.BLOG_DETAIL.title,element:T.jsx(L6e,{})},{path:Ue.BOOKED_TOURS.path,title:Ue.BOOKED_TOURS.title,element:T.jsx(F6e,{})},{path:Ue.FAVORITES_TOURS.path,title:Ue.FAVORITES_TOURS.title,element:T.jsx($6e,{})},{path:"*",element:T.jsx(OY,{to:cQ.PRIVATE}),title:"Rendering wildcard"}];function UI({name:t,handleClick:e}){const n=Vl();function r(){return n.pathname==Ue.LOGIN.path&&t=="Sign In"||n.pathname==Ue.REGISTER.path&&t=="Sign Up"?"toggle-btn toggle-btn-color":"toggle-btn"}return T.jsx("button",{className:r(),onClick:e,children:t})}function Fy({name:t,handleClick:e}){return T.jsx("button",{className:"social-btn",onClick:e,children:t})}function Uie(){return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"auth-page-banner",children:[T.jsx("img",{src:bt.AUTH_BANNER,className:"auth-banner-image",alt:"auth-banner-image"}),T.jsxs("div",{className:"auth-page-banner-text-container",children:[T.jsx("h1",{children:"Authentication"}),T.jsxs("p",{children:["Home / ",T.jsx("span",{className:"project-theme-color",children:"Authentication "})]})]})]})})}function U6e(){const t=Yx(),e=Qv(),n=async i=>{try{const s=await fke(Oo,i.email,i.password),{user:o}=s;if(!o.emailVerified){await Oo.signOut(),wt.error("Please verify your email first.");return}const a=await o.getIdToken();t(kS({token:a})),wt.success("Login successful!"),e(Ue.HOMEPAGE.path)}catch(s){let o="An error occurred. Please try again.";switch(s.code){case"auth/user-not-found":case"auth/wrong-password":o="Invalid email or password.";break;case"auth/too-many-requests":o="Too many attempts. Please try again later.";break;default:o=s.message||o}wt.error(o)}},r=async()=>{try{const i=await _te(Oo,Ate),{user:s}=i;if(!s.emailVerified){await Oo.signOut(),wt.error("Please verify your email first.");return}const o=await s.getIdToken();t(kS({token:o})),wt.success("Login successful!"),e(Ue.HOMEPAGE.path)}catch(i){wt.error(i.message||"Google login failed.")}};return T.jsxs(T.Fragment,{children:[T.jsx(Uie,{}),T.jsx("div",{className:"signIn-wrapper",children:T.jsxs("div",{className:"signIn-div",children:[T.jsxs("div",{className:"auth-buttons",children:[T.jsx(UI,{name:"Sign Up",handleClick:()=>e(`${Ue.REGISTER.path}`)}),T.jsx(UI,{name:"Sign In",handleClick:()=>e(`${Ue.LOGIN.path}`)})]}),T.jsx("div",{className:"signIn-form",children:T.jsx(QE,{initialValues:{email:"",password:""},validationSchema:ew({email:Po().email("Invalid email").required("Required"),password:Po().required("Required")}),onSubmit:n,children:T.jsxs(Xv,{className:"form-values",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"email",children:"Email Address"}),T.jsx(vh,{name:"email",type:"email",placeholder:"Enter your email",className:"txt-box"}),T.jsx(wh,{name:"email",component:"div",className:"error"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"password",children:"Password"}),T.jsx(vh,{name:"password",type:"password",placeholder:"Enter your password",className:"txt-box"}),T.jsx(wh,{name:"password",component:"div",className:"error"})]}),T.jsx("button",{type:"submit",className:"submit-btn",children:"Submit"})]})})}),T.jsx("div",{className:"forgot-text",children:T.jsx(fs,{to:"/reset-password",children:"Forgot Your Password?"})}),T.jsxs("div",{className:"social-auth",children:[T.jsx(Fy,{name:"Google",handleClick:r}),T.jsx(Fy,{name:"Facebook",handleClick:()=>console.log("Facebook")}),T.jsx(Fy,{name:"Twitter",handleClick:()=>console.log("Twitter")})]})]})})]})}function j6e(){const t=Qv(),e=async r=>{try{const i=await hke(Oo,r.email,r.password),{user:s}=i;await i9(s),await tM(Ib(rd,"users",s.uid),{email:r.email,phoneNumber:r.phoneNumber}),await aM(Oo),wt.success("Signed up successfully! Please verify your email."),t(Ue.LOGIN.path)}catch(i){const s=i.code==="auth/email-already-in-use"?"Email already in use.":i.message||"Signup failed. Please try again.";wt.error(s)}},n=async()=>{try{const r=await _te(Oo,Ate),{user:i}=r,s=Ib(rd,"users",i.uid);(await zX(s)).exists()||await tM(s,{email:i.email,name:i.displayName,createdAt:new Date}),i.emailVerified?(wt.success("Google signup successful!"),t(Ue.HOMEPAGE.path)):(await i9(i),await aM(Oo),wt.success("Google signup successful! Please verify your email."),t(Ue.LOGIN.path))}catch(r){wt.error(r.message||"Google signup failed.")}};return T.jsxs(T.Fragment,{children:[T.jsx(Uie,{}),T.jsx("div",{className:"signup-div",children:T.jsxs("div",{className:"form-container",children:[T.jsxs("div",{className:"auth-buttons",children:[T.jsx(UI,{name:"Sign Up",handleClick:()=>t(`${Ue.REGISTER.path}`)}),T.jsx(UI,{name:"Sign In",handleClick:()=>t(`${Ue.LOGIN.path}`)})]}),T.jsx("div",{className:"signup-form",children:T.jsx(QE,{initialValues:{email:"",phoneNumber:"",password:"","confirm-password":""},validationSchema:ew({email:Po().required("Required"),phoneNumber:Po().required("Required").matches(/^[0-9]{10}$/,"Phone number must be exactly 10 digits"),password:Po().required("Required").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Must contain at least one uppercase").matches(/[a-z]/,"Must contain at least one lowercase").matches(/[!@#$%^&*()<>?:"{}]/,"Must contain at least one special character").matches(/[0-9]/,"Must contain at least one number"),"confirm-password":Po().required("Required").oneOf([KEe("password")],"Passwords must match")}),onSubmit:e,children:T.jsxs(Xv,{className:"form-values",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"email",children:"Email Address"}),T.jsx(vh,{name:"email",type:"email",placeholder:"Enter your email",className:"txt-box"}),T.jsx(wh,{name:"email",component:"div",className:"error"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),T.jsx(vh,{name:"phoneNumber",type:"text",placeholder:"Enter your phone number",className:"txt-box"}),T.jsx(wh,{name:"phoneNumber",component:"div",className:"error"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"password",children:"Password"}),T.jsx(vh,{name:"password",type:"password",placeholder:"Enter your password",className:"txt-box"}),T.jsx(wh,{name:"password",component:"div",className:"error"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"confirm-password",children:"Confirm Password"}),T.jsx(vh,{name:"confirm-password",type:"password",placeholder:"Confirm your password",className:"txt-box"}),T.jsx(wh,{name:"confirm-password",component:"div",className:"error"})]}),T.jsx("button",{type:"submit",className:"submit-btn",children:"Submit"})]})})}),T.jsxs("div",{className:"social-auth",children:[T.jsx(Fy,{name:"Google",handleClick:n}),T.jsx(Fy,{name:"Facebook",handleClick:()=>console.log("Facebook")}),T.jsx(Fy,{name:"Twitter",handleClick:()=>console.log("Twitter")})]})]})})]})}function B6e(){async function t(e){try{await dke(Oo,e.email).then(()=>{wt.success("email sent")})}catch{wt.error("An error occured while sending the email")}}return T.jsx("div",{className:"forgot-password-div",children:T.jsxs("div",{className:"forgot-password-container",children:[T.jsx("h3",{children:"Reset Your Password"}),T.jsx(QE,{initialValues:{email:""},validationSchema:ew({email:Po().required("Required")}),onSubmit:t,children:T.jsxs(Xv,{children:[T.jsxs("div",{children:[T.jsx(vh,{type:"email",name:"email",placeholder:"Enter Your Email"}),T.jsx(wh,{name:"email"})]}),T.jsxs("div",{children:[" ",T.jsx("button",{type:"submit",children:"Send email"})," "]})]})})]})})}const jie=[{path:Ue.HOMEPAGE.path,element:T.jsx(cne,{}),title:Ue.HOMEPAGE.title},{path:`${Ue.LOGIN.path}`,title:Ue.LOGIN.title,element:T.jsx(U6e,{})},{path:Ue.REGISTER.path,title:Ue.REGISTER.title,element:T.jsx(j6e,{})},{path:Ue.RESET_PASSWORD.path,title:Ue.RESET_PASSWORD.title,element:T.jsx(B6e,{})},{path:Ue.ABOUT.path,title:Ue.ABOUT.title,element:T.jsx(Fie,{})},{path:Ue.CONTACT.path,title:Ue.CONTACT.title,element:T.jsx(Lie,{})},{path:"*",element:T.jsx(OY,{to:cQ.PUBLIC}),title:"Rendering wildcard"}];function z6e({isAuthenticated:t=!1}){const e=Vl(),r=jie.concat(t?$ie:Lye).find(s=>s.path!=="*"&&aQ(s.path).test(e.pathname)),i=r?r.title:"";return T.jsxs(KC,{children:[T.jsx("title",{children:i}),T.jsx("meta",{})]})}const V6e=[...jie],H6e=[...$ie];function Bie(){const t=Yx(),e=Qv(),[n,r]=F.useState(null),[i,s]=F.useState(!1),[o,a]=F.useState(!1),c=F.useRef(null);F.useEffect(()=>{const g=lte(Oo,y=>{r(y)});return()=>g()},[]),F.useEffect(()=>{const g=y=>{c.current&&!c.current.contains(y.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const l=async()=>{try{await aM(Oo),e(Ue.HOMEPAGE.path),t(kS({token:null})),wt.success("Logged out successfully!")}catch{wt.error("Logout failed. Please try again.")}},u=()=>n!=null&&n.displayName?n.displayName.charAt(0).toUpperCase():n!=null&&n.email?n.email.charAt(0).toUpperCase():"?",h=()=>{a(!0)},f=()=>{a(!1)},p=()=>{s(!1)};return T.jsxs("div",{className:"header-section",children:[T.jsxs("div",{className:"left-header",children:[T.jsx("div",{className:"header-logo",children:T.jsx(fs,{to:Ue.HOMEPAGE.path,children:T.jsx("img",{src:bt.TRISOG_HEADER_LOGO,alt:"project-logo"})})}),T.jsxs("div",{className:"header-items",children:[T.jsx(Pd,{to:Ue.HOMEPAGE.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:T.jsx("li",{children:Ue.HOMEPAGE.title})}),T.jsx(Pd,{to:Ue.ABOUT.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:T.jsx("li",{children:Ue.ABOUT.title})}),T.jsx(Pd,{to:Ue.TOURS.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:T.jsx("li",{children:"Tours"})}),T.jsx(Pd,{to:Ue.DESTINATION.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:T.jsx("li",{children:"Destination"})}),T.jsx(Pd,{to:Ue.BLOG.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:T.jsx("li",{children:"Blog"})}),T.jsx(Pd,{to:Ue.CONTACT.path,className:({isActive:g})=>`link-class ${g?"active-link":""}`,children:T.jsx("li",{children:Ue.CONTACT.title})})]})]}),T.jsx("div",{className:"right-header",children:n?T.jsxs("div",{className:"user-info",ref:c,children:[T.jsx("div",{className:"user-initial",onClick:()=>s(g=>!g),children:u()}),i&&T.jsxs("div",{className:"user-dropdown",children:[T.jsx(fs,{to:Ue.BOOKED_TOURS.path,className:"dropdown-item",onClick:p,children:"Booked Tours"}),T.jsx(fs,{to:Ue.FAVORITES_TOURS.path,className:"dropdown-item",onClick:p,children:"Favourite Tours"})]}),T.jsxs("button",{className:"logout-btn",onClick:h,children:[T.jsx("i",{className:"fa-solid fa-sign-out-alt"})," Logout"]})]}):T.jsxs("div",{className:"auth-links",children:[T.jsxs(Pd,{to:Ue.LOGIN.path,className:({isActive:g})=>`auth-link ${g?"active-link":""}`,children:[T.jsx("i",{className:"fa-regular fa-user"})," ",Ue.LOGIN.title]}),T.jsx("span",{className:"divider",children:"/"}),T.jsx(Pd,{to:Ue.REGISTER.path,className:({isActive:g})=>`auth-link ${g?"active-link":""}`,children:Ue.REGISTER.title})]})}),o&&T.jsx("div",{className:"logout-popup-wrapper",onClick:f,children:T.jsxs("div",{className:"logout-popup",onClick:g=>g.stopPropagation(),children:[T.jsx("h3",{children:"Are you sure you want to log out?"}),T.jsxs("div",{className:"popup-actions",children:[T.jsx("button",{className:"confirm-btn",onClick:l,children:"Logout"}),T.jsx("button",{className:"cancel-btn",onClick:f,children:"Cancel"})]})]})})]})}function zie(){const[t,e]=F.useState(""),n=["Las Vegas","New York","Hawaii","Paris"],r=["Barcelona","Milan","Tokyo","Milan"];async function i(s){if(s.preventDefault(),!t){wt.error("Please enter a valid email address");return}try{await cU(c1(rd,"newsletter"),{email:t}),wt.success("Signed up successfully for newsletter"),e("")}catch(o){wt.error(`Error: ${o}`)}}return T.jsx("div",{className:"footer-container",children:T.jsxs("div",{className:"footer-section",children:[T.jsxs("div",{className:"left-footer",children:[T.jsx(fs,{to:Ue.HOMEPAGE.path,children:T.jsx("img",{src:bt.TRISOG_LOGO,alt:"trisog-logo"})}),T.jsx("li",{className:"footer-cursive",children:"Need any help?"}),T.jsx("h6",{children:"Call Us: (888)12345678"}),T.jsxs("p",{children:["Chandigarh, India ",T.jsx("br",{}),"example@trisog.com"]})]}),T.jsxs("div",{className:"mid-footer",children:[T.jsx("div",{className:"company",children:T.jsxs("ul",{children:[T.jsx("li",{className:"footer-cursive",children:"Company"}),T.jsx(fs,{to:Ue.ABOUT.path,className:"link-class",children:T.jsx("li",{children:"About us"})}),T.jsx(fs,{to:Ue.CONTACT.path,className:"link-class",children:T.jsx("li",{children:"Contact us"})}),T.jsx("li",{children:"Travel Guide"}),T.jsx("li",{children:"Data Policy"})]})}),T.jsx("div",{className:"top-destination",children:T.jsxs("ul",{children:[T.jsx("li",{className:"footer-cursive",children:"Top Destination"}),n.map(s=>T.jsxs(fs,{to:Ue.TOURS.path,state:s,className:"link-class",children:[T.jsx("li",{children:s},s)," "]}))]})}),T.jsx("div",{className:"top-destination",children:T.jsxs("ul",{children:[T.jsx("li",{className:"footer-cursive",children:"Trending Destination"}),r.map(s=>T.jsxs(fs,{to:Ue.TOURS.path,state:s,className:"link-class",children:[" ",T.jsx("li",{children:s},s)," "]}))]})})]}),T.jsxs("div",{className:"right-footer",children:[T.jsx("li",{className:"footer-cursive",children:"Sign up Newsletter"}),T.jsxs("form",{onSubmit:i,children:[T.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:s=>e(s.target.value),required:!0}),T.jsx("br",{}),T.jsx("button",{type:"submit",className:"button-hovering-color",children:"Submit"})]}),T.jsx("br",{}),T.jsx("p",{children:"© 2025 Trisog All Rights Reserved"})]})]})})}function W6e({children:t}){return T.jsxs(T.Fragment,{children:[T.jsx(Bie,{}),t,T.jsx(zie,{})]})}function q6e({children:t}){return T.jsxs(T.Fragment,{children:[T.jsx(Bie,{}),t,T.jsx(zie,{})]})}function G6e({isAuthenticated:t,children:e}){return t?T.jsx(W6e,{children:e}):T.jsx(q6e,{children:e})}function K6e(){const t=hB(V6e),e=hB(H6e),n=tY(i=>{var s;return(s=i==null?void 0:i.common)==null?void 0:s.token}),r=!!n;return T.jsxs(T.Fragment,{children:[T.jsx(z6e,{isAuthenticated:r}),T.jsx(G6e,{isAuthenticated:r,children:n?e:t})]})}const Y6e=Symbol(),JV=Object.getPrototypeOf,wL=new WeakMap,Q6e=t=>t&&(wL.has(t)?wL.get(t):JV(t)===Object.prototype||JV(t)===Array.prototype),Z6e=t=>Q6e(t)&&t[Y6e]||null,XV=(t,e=!0)=>{wL.set(t,e)},QN=t=>typeof t=="object"&&t!==null,Yd=new WeakMap,X0=new WeakSet,J6e=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>QN(l)&&!X0.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,h=r)=>{const f=i.get(l);if((f==null?void 0:f[0])===u)return f[1];const p=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return XV(p,!0),i.set(l,[u,p]),Reflect.ownKeys(l).forEach(g=>{if(Object.getOwnPropertyDescriptor(p,g))return;const y=Reflect.get(l,g),{enumerable:v}=Reflect.getOwnPropertyDescriptor(l,g),b={value:y,enumerable:v,configurable:!0};if(X0.has(y))XV(y,!1);else if(y instanceof Promise)delete b.value,b.get=()=>h(y);else if(Yd.has(y)){const[w,A]=Yd.get(y);b.value=s(w,A(),h)}Object.defineProperty(p,g,b)}),Object.preventExtensions(p)},o=new WeakMap,a=[1,1],c=l=>{if(!QN(l))throw new Error("object required");const u=o.get(l);if(u)return u;let h=a[0];const f=new Set,p=(x,N=++a[0])=>{h!==N&&(h=N,f.forEach(R=>R(x,N)))};let g=a[1];const y=(x=++a[1])=>(g!==x&&!f.size&&(g=x,b.forEach(([N])=>{const R=N[1](x);R>h&&(h=R)})),h),v=x=>(N,R)=>{const $=[...N];$[1]=[x,...$[1]],p($,R)},b=new Map,w=(x,N)=>{if(f.size){const R=N[3](v(x));b.set(x,[N,R])}else b.set(x,[N])},A=x=>{var N;const R=b.get(x);R&&(b.delete(x),(N=R[1])==null||N.call(R))},S=x=>(f.add(x),f.size===1&&b.forEach(([R,$],U)=>{const Y=R[3](v(U));b.set(U,[R,Y])}),()=>{f.delete(x),f.size===0&&b.forEach(([R,$],U)=>{$&&($(),b.set(U,[R]))})}),P=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),C=e(P,{deleteProperty(x,N){const R=Reflect.get(x,N);A(N);const $=Reflect.deleteProperty(x,N);return $&&p(["delete",[N],R]),$},set(x,N,R,$){const U=Reflect.has(x,N),Y=Reflect.get(x,N,$);if(U&&(t(Y,R)||o.has(R)&&t(Y,o.get(R))))return!0;A(N),QN(R)&&(R=Z6e(R)||R);let z=R;if(R instanceof Promise)R.then(j=>{R.status="fulfilled",R.value=j,p(["resolve",[N],j])}).catch(j=>{R.status="rejected",R.reason=j,p(["reject",[N],j])});else{!Yd.has(R)&&n(R)&&(z=c(R));const j=!X0.has(z)&&Yd.get(z);j&&w(N,j)}return Reflect.set(x,N,z,$),p(["set",[N],R,Y]),!0}});o.set(l,C);const I=[P,y,s,S];return Yd.set(C,I),Reflect.ownKeys(l).forEach(x=>{const N=Object.getOwnPropertyDescriptor(l,x);"value"in N&&(C[x]=l[x],delete N.value,delete N.writable),Object.defineProperty(P,x,N)}),C})=>[c,Yd,X0,t,e,n,r,i,s,o,a],[X6e]=J6e();function Mr(t={}){return X6e(t)}function io(t,e,n){const r=Yd.get(t);let i;const s=[],o=r[3];let a=!1;const l=o(u=>{if(s.push(u),n){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function nE(t,e){const n=Yd.get(t),[r,i,s]=n;return s(r,i(),e)}function fm(t){return X0.add(t),t}function lo(t,e,n,r){let i=t[e];return io(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)},r)}function e8e(t){const e=Mr({data:Array.from(t||[]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const rE={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var t8e=20,n8e=1,pm=1e6,eH=1e6,r8e=-7,i8e=21,s8e=!1,O1="[big.js] ",zm=O1+"Invalid ",wO=zm+"decimal places",o8e=zm+"rounding mode",Vie=O1+"Division by zero",Kn={},Pl=void 0,a8e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Hie(){function t(e){var n=this;if(!(n instanceof t))return e===Pl?Hie():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(zm+"value");e=e===0&&1/e<0?"-0":String(e)}c8e(n,e)}n.constructor=t}return t.prototype=Kn,t.DP=t8e,t.RM=n8e,t.NE=r8e,t.PE=i8e,t.strict=s8e,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function c8e(t,e){var n,r,i;if(!a8e.test(e))throw Error(zm+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function Vm(t,e,n,r){var i=t.c;if(n===Pl&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(o8e);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Pl))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==Pl||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Hm(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}Kn.abs=function(){var t=new this.constructor(this);return t.s=1,t};Kn.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Kn.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>pm)throw Error(wO);if(!i[0])throw Error(Vie);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,h,f=i.slice(),p=a=i.length,g=r.length,y=r.slice(0,a),v=y.length,b=t,w=b.c=[],A=0,S=o+(b.e=e.e-t.e)+1;for(b.s=s,s=S<0?0:S,f.unshift(0);v++<a;)y.push(0);do{for(l=0;l<10;l++){if(a!=(v=y.length))u=a>v?1:-1;else for(h=-1,u=0;++h<a;)if(i[h]!=y[h]){u=i[h]>y[h]?1:-1;break}if(u<0){for(c=v==a?i:f;v;){if(y[--v]<c[v]){for(h=v;h&&!y[--h];)y[h]=9;--y[h],y[v]+=10}y[v]-=c[v]}for(;!y[0];)y.shift()}else break}w[A++]=u?l:++l,y[0]&&u?y[v]=r[p]||0:y=[r[p]]}while((p++<g||y[0]!==Pl)&&s--);return!w[0]&&A!=1&&(w.shift(),b.e--,S--),A>S&&Vm(b,S,n.RM,y[0]!==Pl),b};Kn.eq=function(t){return this.cmp(t)===0};Kn.gt=function(t){return this.cmp(t)>0};Kn.gte=function(t){return this.cmp(t)>-1};Kn.lt=function(t){return this.cmp(t)<0};Kn.lte=function(t){return this.cmp(t)<1};Kn.minus=Kn.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,h=t.c,f=t.e;if(!l[0]||!h[0])return h[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-f){for((i=a<0)?(a=-a,r=l):(f=u,r=h),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<h.length)?l:h).length,a=c=0;c<n;c++)if(l[c]!=h[c]){i=l[c]<h[c];break}if(i&&(r=l,l=h,h=r,t.s=-t.s),(c=(n=h.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<h[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=h[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(t.s=1,l=[f=0]),t.c=l,t.e=f,t};Kn.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(Vie);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};Kn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Kn.plus=Kn.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Kn.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-eH||t>eH)throw Error(zm+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};Kn.prec=function(t,e){if(t!==~~t||t<1||t>pm)throw Error(zm+"precision");return Vm(new this.constructor(this),t,e)};Kn.round=function(t,e){if(t===Pl)t=0;else if(t!==~~t||t<-pm||t>pm)throw Error(wO);return Vm(new this.constructor(this),t+this.e+1,e)};Kn.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(O1+"No square root");s=Math.sqrt(+Hm(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Vm(t,(i.DP-=4)+t.e+1,i.RM)};Kn.times=Kn.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Kn.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Pl){if(t!==~~t||t<0||t>pm)throw Error(wO);for(n=Vm(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Hm(n,!0,!!r)};Kn.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Pl){if(t!==~~t||t<0||t>pm)throw Error(wO);for(n=Vm(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Hm(n,!1,!!r)};Kn[Symbol.for("nodejs.util.inspect.custom")]=Kn.toJSON=Kn.toString=function(){var t=this,e=t.constructor;return Hm(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Kn.toNumber=function(){var t=+Hm(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(O1+"Imprecise conversion");return t};Kn.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==Pl){if(t!==~~t||t<1||t>pm)throw Error(zm+"precision");for(n=Vm(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Hm(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};Kn.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(O1+"valueOf disallowed");return Hm(t,t.e<=e.NE||t.e>=e.PE,!0)};var l8e=Hie();const w0=l8e,fC={bigNumber(t){return t?new w0(t):new w0(0)},multiply(t,e){if(t===void 0||e===void 0)return new w0(0);const n=new w0(t),r=new w0(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},u8e=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],d8e=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],h8e=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Se={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},f8e={getERC20Abi:t=>Se.USDT_CONTRACT_ADDRESSES.includes(t)?h8e:u8e,getSwapAbi:()=>d8e},Ld={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Qt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function ZN(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Wt={setItem(t,e){e_()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(e_())return localStorage.getItem(t)||void 0},removeItem(t){e_()&&localStorage.removeItem(t)},clear(){e_()&&localStorage.clear()}};function e_(){return typeof window<"u"&&typeof localStorage<"u"}function Pu(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function p8e(t){return(t==null?void 0:t.endsWith(Se.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(Se.WC_NAME_SUFFIX))}const JN=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",mat=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],gat="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Wi={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:JN,SECURE_SITE_DASHBOARD:`${JN}/dashboard`,SECURE_SITE_FAVICON:`${JN}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},Qe={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Qe.getActiveNamespace(),e=Qe.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Wt.setItem(Qt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Wt.getItem(Qt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Wt.removeItem(Qt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Wt.setItem(Qt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Wt.setItem(Qt.ACTIVE_CAIP_NETWORK_ID,t),Qe.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Wt.getItem(Qt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Wt.removeItem(Qt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=ZN(t);Wt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Qe.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Wt.setItem(Qt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Wt.getItem(Qt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=ZN(t);Wt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Wt.getItem(Qt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=ZN(t);return Wt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Wt.setItem(Qt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Wt.getItem(Qt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Wt.removeItem(Qt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Wt.getItem(Qt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Wt.getItem(Qt.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Wt.setItem(Qt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Wt.getItem(Qt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Wt.getItem(Qt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Wt.setItem(Qt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Qe.getConnectedNamespaces();e.includes(t)||(e.push(t),Qe.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Qe.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Qe.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Wt.getItem(Qt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Wt.setItem(Qt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Wt.removeItem(Qt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Wt.getItem(Qt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Qe.getBalanceCache();Wt.setItem(Qt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Qe.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Qe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Qe.getBalanceCache();e[t.caipAddress]=t,Wt.setItem(Qt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Wt.getItem(Qt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Qe.getBalanceCache();Wt.setItem(Qt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Qe.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Qe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Qe.getNativeBalanceCache();e[t.caipAddress]=t,Wt.setItem(Qt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Wt.getItem(Qt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Qe.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Qe.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Qe.getEnsCache();e[t.address]=t,Wt.setItem(Qt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Qe.getEnsCache();Wt.setItem(Qt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Wt.getItem(Qt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Qe.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Qe.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Qe.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Wt.setItem(Qt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Qe.getIdentityCache();Wt.setItem(Qt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Wt.removeItem(Qt.PORTFOLIO_CACHE),Wt.removeItem(Qt.NATIVE_BALANCE_CACHE),Wt.removeItem(Qt.ENS_CACHE),Wt.removeItem(Qt.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Wt.setItem(Qt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Wt.getItem(Qt.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},Lt={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Lt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Wi.TEN_SEC_MS:!0},isAllowedRetry(t,e=Wi.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Wi.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(Lt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},formatUniversalUrl(t,e){if(!Lt.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Qe.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Lt.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const i=Number(t);i&&(n=(r=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Se.W3M_API_URL},getBlockchainApiUrl(){return Se.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Se.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?Wi.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Se.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),u=c+n;return a+u+l}};async function _0(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class _O{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await _0(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await _0(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await _0(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await _0(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await _0(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const m8e={handleSolanaDeeplinkRedirect(t){if(X.state.activeChain===Se.CHAIN.SOLANA){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${r}://${i}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}}},Ho=Mr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),wc={state:Ho,subscribeNetworkImages(t){return io(Ho.networkImages,()=>t(Ho.networkImages))},subscribeKey(t,e){return lo(Ho,t,e)},subscribe(t){return io(Ho,()=>t(Ho))},setWalletImage(t,e){Ho.walletImages[t]=e},setNetworkImage(t,e){Ho.networkImages[t]=e},setChainImage(t,e){Ho.chainImages[t]=e},setConnectorImage(t,e){Ho.connectorImages={...Ho.connectorImages,[t]:e}},setTokenImage(t,e){Ho.tokenImages[t]=e},setCurrencyImage(t,e){Ho.currencyImages[t]=e}},g8e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},XN=Mr({networkImagePromises:{}}),Wie={async fetchWalletImage(t){if(t)return await jt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(XN.networkImagePromises[t]||(XN.networkImagePromises[t]=jt._fetchNetworkImage(t)),await XN.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return wc.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return wc.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return wc.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return wc.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return wc.state.connectorImages[t.imageId]},getChainImage(t){return wc.state.networkImages[g8e[t]]}},y8e={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Wi.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Lt.isTelegram()){if(Lt.isIos())return t.filter(e=>e!=="google");if(Lt.isMac())return t.filter(e=>e!=="x");if(Lt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Pt=Mr({features:Wi.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),Pe={state:Pt,subscribeKey(t,e){return lo(Pt,t,e)},setOptions(t){Object.assign(Pt,t)},setFeatures(t){if(!t)return;Pt.features||(Pt.features=Wi.DEFAULT_FEATURES);const e={...Pt.features,...t};Pt.features=e,Pt.features.socials&&(Pt.features.socials=y8e.filterSocialsByPlatform(Pt.features.socials))},setProjectId(t){Pt.projectId=t},setCustomRpcUrls(t){Pt.customRpcUrls=t},setAllWallets(t){Pt.allWallets=t},setIncludeWalletIds(t){Pt.includeWalletIds=t},setExcludeWalletIds(t){Pt.excludeWalletIds=t},setFeaturedWalletIds(t){Pt.featuredWalletIds=t},setTokens(t){Pt.tokens=t},setTermsConditionsUrl(t){Pt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Pt.privacyPolicyUrl=t},setCustomWallets(t){Pt.customWallets=t},setIsSiweEnabled(t){Pt.isSiweEnabled=t},setIsUniversalProvider(t){Pt.isUniversalProvider=t},setSdkVersion(t){Pt.sdkVersion=t},setMetadata(t){Pt.metadata=t},setDisableAppend(t){Pt.disableAppend=t},setEIP6963Enabled(t){Pt.enableEIP6963=t},setDebug(t){Pt.debug=t},setEnableWalletConnect(t){Pt.enableWalletConnect=t},setEnableWalletGuide(t){Pt.enableWalletGuide=t},setEnableAuthLogger(t){Pt.enableAuthLogger=t},setEnableWallets(t){Pt.enableWallets=t},setHasMultipleAddresses(t){Pt.hasMultipleAddresses=t},setSIWX(t){Pt.siwx=t},setConnectMethodsOrder(t){Pt.features={...Pt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Pt.features={...Pt.features,walletFeaturesOrder:t}},setSocialsOrder(t){Pt.features={...Pt.features,socials:t}},setCollapseWallets(t){Pt.features={...Pt.features,collapseWallets:t}},setEnableEmbedded(t){Pt.enableEmbedded=t},setAllowUnsupportedChain(t){Pt.allowUnsupportedChain=t},setManualWCControl(t){Pt.manualWCControl=t},setEnableNetworkSwitch(t){Pt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Pt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Pt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Pt.universalProviderConfigOverride},getSnapshot(){return nE(Pt)}},Fd=Mr({message:"",variant:"info",open:!1}),kp={state:Fd,subscribeKey(t,e){return lo(Fd,t,e)},open(t,e){const{debug:n}=Pe.state,{shortMessage:r,longMessage:i}=t;n&&(Fd.message=r,Fd.variant=e,Fd.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Fd.open=!1,Fd.message="",Fd.variant="info"}},v8e=Lt.getAnalyticsUrl(),w8e=new _O({baseUrl:v8e,clientId:null}),_8e=["MODAL_CREATED"],su=Mr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ar={state:su,subscribe(t){return io(su,()=>t(su))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Pe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=st.state.address;if(_8e.includes(t.data.event)||typeof window>"u")return;await w8e.post({path:"/e",params:ar.getSdkProperties(),body:{eventId:Lt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),su.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Se.HTTP_STATUS_CODES.FORBIDDEN&&!su.reportedErrors.FORBIDDEN&&(kp.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${e_()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),su.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;su.timestamp=Date.now(),su.data=t,(e=Pe.state.features)!=null&&e.analytics&&ar._sendAnalyticsEvent(su)}},b8e=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],E8e=Lt.getApiUrl(),ba=new _O({baseUrl:E8e,clientId:null}),A8e=40,tH=4,C8e=20,Bn=Mr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),jt={state:Bn,subscribeKey(t,e){return lo(Bn,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Pe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Pe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ba.baseUrl}/getWalletImage/${t}`,n=await ba.getBlob({path:e,params:jt._getSdkProperties()});wc.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${ba.baseUrl}/public/getAssetImage/${t}`,n=await ba.getBlob({path:e,params:jt._getSdkProperties()});wc.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${ba.baseUrl}/public/getAssetImage/${t}`,n=await ba.getBlob({path:e,params:jt._getSdkProperties()});wc.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${ba.baseUrl}/public/getCurrencyImage/${t}`,n=await ba.getBlob({path:e,params:jt._getSdkProperties()});wc.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${ba.baseUrl}/public/getTokenImage/${t}`,n=await ba.getBlob({path:e,params:jt._getSdkProperties()});wc.setTokenImage(t,URL.createObjectURL(n))},async fetchNetworkImages(){const t=X.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!Wie.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>jt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Yt.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>jt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>jt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>jt._fetchTokenImage(e)))},async fetchWallets(t){var r,i;const e=t.exclude??[];return jt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...b8e),await ba.get({path:"/getWallets",params:{...jt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(r=t.include)==null?void 0:r.join(","),exclude:(i=t.exclude)==null?void 0:i.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Pe.state;if(t!=null&&t.length){const e={...jt._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??tH,include:t},{data:n}=await jt.fetchWallets(e);n.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const r=n.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(r.map(i=>jt._fetchWalletImage(i))),Bn.featured=n,Bn.allFeatured=n}},async fetchRecommendedWallets(){try{Bn.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=Pe.state,r=[...e??[],...n??[]].filter(Boolean),i=X.getRequestedCaipNetworkIds().join(","),s={page:1,entries:tH,include:t,exclude:r,chains:i},{data:o,count:a}=await jt.fetchWallets(s),c=Qe.getRecentWallets(),l=o.map(h=>h.image_id).filter(Boolean),u=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(h=>jt._fetchWalletImage(h))),Bn.recommended=o,Bn.allRecommended=o,Bn.count=a??0}catch{}finally{Bn.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=Pe.state,i=X.getRequestedCaipNetworkIds().join(","),s=[...Bn.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:A8e,include:e,exclude:s,chains:i},{data:a,count:c}=await jt.fetchWallets(o),l=a.slice(0,C8e).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>jt._fetchWalletImage(u))),Bn.wallets=Lt.uniqueBy([...Bn.wallets,...jt._filterOutExtensions(a)],"id"),Bn.count=c>Bn.count?c:Bn.count,Bn.page=t},async initializeExcludedWallets({ids:t}){const e=X.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await jt.fetchWallets(n);r&&r.forEach(i=>{Bn.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=Pe.state,i=X.getRequestedCaipNetworkIds().join(",");Bn.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await jt.fetchWallets(s);ar.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>jt._fetchWalletImage(c)),Lt.wait(300)]),Bn.search=jt._filterOutExtensions(o)},initPromise(t,e){const n=Bn.promises[t];return n||(Bn.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&jt.initPromise("connectorImages",jt.fetchConnectorImages),e&&jt.initPromise("featuredWallets",jt.fetchFeaturedWallets),n&&jt.initPromise("recommendedWallets",jt.fetchRecommendedWallets),r&&jt.initPromise("networkImages",jt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Pe.state.features)!=null&&t.analytics&&jt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ba.get({path:"/getAnalyticsConfig",params:jt._getSdkProperties()});Pe.setFeatures({analytics:t})}catch{Pe.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){Bn.featured=Bn.allFeatured,Bn.recommended=Bn.allRecommended;return}const e=X.getRequestedCaipNetworkIds().join(",");Bn.featured=Bn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),Bn.recommended=Bn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})}},Mn=Mr({view:"Connect",history:["Connect"],transactionStack:[]}),qn={state:Mn,subscribeKey(t,e){return lo(Mn,t,e)},pushTransactionStack(t){Mn.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=Mn.transactionStack.pop();if(e)if(t)this.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=Mn.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(oi.close(),Mn.history=[])}else e.view&&this.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==Mn.view&&(Mn.view=t,Mn.history.push(t),Mn.data=e)},reset(t,e){Mn.view=t,Mn.history=[t],Mn.data=e},replace(t,e){Mn.history.at(-1)===t||(Mn.view=t,Mn.history[Mn.history.length-1]=t,Mn.data=e)},goBack(){var e;const t=!X.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Mn.history.length>1&&!Mn.history.includes("UnsupportedChain")){Mn.history.pop();const[n]=Mn.history.slice(-1);n&&(Mn.view=n)}else oi.close();(e=Mn.data)!=null&&e.wallet&&(Mn.data.wallet=void 0),setTimeout(()=>{var n,r,i;if(t){st.setFarcasterUrl(void 0,X.state.activeChain);const s=Yt.getAuthConnector();(n=s==null?void 0:s.provider)==null||n.reload();const o=nE(Pe.state);(i=(r=s==null?void 0:s.provider)==null?void 0:r.syncDappData)==null||i.call(r,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Mn.history.length>1){Mn.history=Mn.history.slice(0,t+1);const[e]=Mn.history.slice(-1);e&&(Mn.view=e)}}},ou=Mr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ks={state:ou,subscribe(t){return io(ou,()=>t(ou))},setThemeMode(t){ou.themeMode=t;try{const e=Yt.getAuthConnector();if(e){const n=ks.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Pu(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ou.themeVariables={...ou.themeVariables,...t};try{const e=Yt.getAuthConnector();if(e){const n=ks.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Pu(ou.themeVariables,ou.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return nE(ou)}},qie={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},zn=Mr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...qie}}),Yt={state:zn,subscribe(t){return io(zn,()=>{t(zn)})},subscribeKey(t,e){return lo(zn,t,e)},initialize(t){t.forEach(e=>{const n=Qe.getConnectedConnectorId(e);n&&this.setConnectorId(n,e)})},setActiveConnector(t){t&&(zn.activeConnector=fm(t))},setConnectors(t){t.filter(n=>!zn.allConnectors.some(r=>r.id===n.id&&this.getConnectorName(r.name)===this.getConnectorName(n.name)&&r.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&zn.allConnectors.push(fm(n))}),zn.connectors=this.mergeMultiChainConnectors(zn.allConnectors)},removeAdapter(t){zn.allConnectors=zn.allConnectors.filter(e=>e.chain!==t),zn.connectors=this.mergeMultiChainConnectors(zn.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===Se.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=this.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Se.CONNECTOR_ID.AUTH){const i=t,s=nE(Pe.state),o=ks.getSnapshot().themeMode,a=ks.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Pu(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var r;const e=t||X.state.activeChain,n=zn.connectors.find(i=>i.id===Se.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return zn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return zn.allConnectors.find(e=>e.id===t)},getConnector(t,e){return zn.allConnectors.filter(r=>r.chain===X.state.activeChain).find(r=>{var i;return r.explorerId===t||((i=r.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,n=nE(Pe.state),r=ks.getSnapshot().themeMode,i=ks.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Pu(i,r)})},getConnectorsByNamespace(t){const e=zn.allConnectors.filter(n=>n.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Yt.getConnector(t.id,t.rdns);X.state.activeChain===Se.CHAIN.SOLANA&&m8e.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?qn.push("ConnectingExternal",{connector:e}):qn.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(zn.allConnectors)},setFilterByNamespace(t){zn.filterByNamespace=t,zn.connectors=this.getConnectors(t),jt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(zn.activeConnectorIds={...zn.activeConnectorIds,[e]:t},Qe.setConnectedConnectorId(e,t))},removeConnectorId(t){zn.activeConnectorIds={...zn.activeConnectorIds,[t]:void 0},Qe.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return zn.activeConnectorIds[t]},isConnected(t){return t?!!zn.activeConnectorIds[t]:Object.values(zn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){zn.activeConnectorIds={...qie}}};function pC(t,e){return Yt.getConnectorId(t)===e}function T8e(t){const e=Array.from(X.state.chains.keys());let n=[];return t?(n.push([t,X.state.chains.get(t)]),pC(t,Se.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&pC(r,Se.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,X.state.chains.get(r)])}):pC(t,Se.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&pC(r,Se.CONNECTOR_ID.AUTH)&&n.push([r,X.state.chains.get(r)])})):n=Array.from(X.state.chains.entries()),n}var Pj={exports:{}},$y=typeof Reflect=="object"?Reflect:null,nH=$y&&typeof $y.apply=="function"?$y.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},PT;$y&&typeof $y.ownKeys=="function"?PT=$y.ownKeys:Object.getOwnPropertySymbols?PT=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:PT=function(e){return Object.getOwnPropertyNames(e)};function S8e(t){console&&console.warn&&console.warn(t)}var Gie=Number.isNaN||function(e){return e!==e};function rr(){rr.init.call(this)}Pj.exports=rr;Pj.exports.once=O8e;rr.EventEmitter=rr;rr.prototype._events=void 0;rr.prototype._eventsCount=0;rr.prototype._maxListeners=void 0;var rH=10;function bO(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(rr,"defaultMaxListeners",{enumerable:!0,get:function(){return rH},set:function(t){if(typeof t!="number"||t<0||Gie(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");rH=t}});rr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};rr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Gie(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Kie(t){return t._maxListeners===void 0?rr.defaultMaxListeners:t._maxListeners}rr.prototype.getMaxListeners=function(){return Kie(this)};rr.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")nH(c,this,n);else for(var l=c.length,u=Xie(c,l),r=0;r<l;++r)nH(u[r],this,n);return!0};function Yie(t,e,n,r){var i,s,o;if(bO(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=Kie(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,S8e(a)}return t}rr.prototype.addListener=function(e,n){return Yie(this,e,n,!1)};rr.prototype.on=rr.prototype.addListener;rr.prototype.prependListener=function(e,n){return Yie(this,e,n,!0)};function I8e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Qie(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=I8e.bind(r);return i.listener=n,r.wrapFn=i,i}rr.prototype.once=function(e,n){return bO(n),this.on(e,Qie(this,e,n)),this};rr.prototype.prependOnceListener=function(e,n){return bO(n),this.prependListener(e,Qie(this,e,n)),this};rr.prototype.removeListener=function(e,n){var r,i,s,o,a;if(bO(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():x8e(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};rr.prototype.off=rr.prototype.removeListener;rr.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function Zie(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?P8e(i):Xie(i,i.length)}rr.prototype.listeners=function(e){return Zie(this,e,!0)};rr.prototype.rawListeners=function(e){return Zie(this,e,!1)};rr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Jie.call(t,e)};rr.prototype.listenerCount=Jie;function Jie(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}rr.prototype.eventNames=function(){return this._eventsCount>0?PT(this._events):[]};function Xie(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function x8e(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function P8e(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function O8e(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}ese(t,e,s,{once:!0}),e!=="error"&&D8e(t,i,{once:!0})})}function D8e(t,e,n){typeof t.on=="function"&&ese(t,"error",e,n)}function ese(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ya=Pj.exports;const Oj=oo(Ya);var De={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _L=function(t,e){return _L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},_L(t,e)};function N8e(t,e){_L(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bL=function(){return bL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bL.apply(this,arguments)};function R8e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function k8e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function M8e(t,e){return function(n,r){e(n,r,t)}}function L8e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function F8e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function $8e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function U8e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function j8e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function EL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tse(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function B8e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tse(arguments[e]));return t}function z8e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function iE(t){return this instanceof iE?(this.v=t,this):new iE(t)}function V8e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(g,y){s.push([f,p,g,y])>1||a(f,p)})})}function a(f,p){try{c(r[f](p))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof iE?Promise.resolve(f.value.v).then(l,u):h(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function H8e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:iE(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function W8e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof EL=="function"?EL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function q8e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function G8e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function K8e(t){return t&&t.__esModule?t:{default:t}}function Y8e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Q8e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Z8e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return bL},__asyncDelegator:H8e,__asyncGenerator:V8e,__asyncValues:W8e,__await:iE,__awaiter:F8e,__classPrivateFieldGet:Y8e,__classPrivateFieldSet:Q8e,__createBinding:U8e,__decorate:k8e,__exportStar:j8e,__extends:N8e,__generator:$8e,__importDefault:K8e,__importStar:G8e,__makeTemplateObject:q8e,__metadata:L8e,__param:M8e,__read:tse,__rest:R8e,__spread:B8e,__spreadArrays:z8e,__values:EL},Symbol.toStringTag,{value:"Module"})),EO=kq(Z8e);var eR={},b0={},iH;function J8e(){if(iH)return b0;iH=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return b0.delay=t,b0}var kf={},tR={},Mf={},sH;function X8e(){return sH||(sH=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.ONE_THOUSAND=Mf.ONE_HUNDRED=void 0,Mf.ONE_HUNDRED=100,Mf.ONE_THOUSAND=1e3),Mf}var nR={},oH;function eze(){return oH||(oH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(nR)),nR}var aH;function nse(){return aH||(aH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=EO;e.__exportStar(X8e(),t),e.__exportStar(eze(),t)}(tR)),tR}var cH;function tze(){if(cH)return kf;cH=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.fromMiliseconds=kf.toMiliseconds=void 0;const t=nse();function e(r){return r*t.ONE_THOUSAND}kf.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return kf.fromMiliseconds=n,kf}var lH;function nze(){return lH||(lH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=EO;e.__exportStar(J8e(),t),e.__exportStar(tze(),t)}(eR)),eR}var wg={},uH;function rze(){if(uH)return wg;uH=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return wg.Watch=t,wg.default=t,wg}var rR={},E0={},dH;function ize(){if(dH)return E0;dH=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.IWatch=void 0;class t{}return E0.IWatch=t,E0}var hH;function sze(){return hH||(hH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),EO.__exportStar(ize(),t)}(rR)),rR}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=EO;e.__exportStar(nze(),t),e.__exportStar(rze(),t),e.__exportStar(sze(),t),e.__exportStar(nse(),t)})(De);class Wm{}let oze=class extends Wm{constructor(e){super()}};const fH=De.FIVE_SECONDS,gw={pulse:"heartbeat_pulse"};let aze=class rse extends oze{constructor(e){super(e),this.events=new Ya.EventEmitter,this.interval=fH,this.interval=(e==null?void 0:e.interval)||fH}static async init(e){const n=new rse(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),De.toMiliseconds(this.interval))}pulse(){this.events.emit(gw.pulse)}};const cze=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,lze=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,uze=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function dze(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){hze(t);return}return e}function hze(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function mC(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!uze.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(cze.test(t)||lze.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,dze)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function fze(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Fi(t,...e){try{return fze(t(...e))}catch(n){return Promise.reject(n)}}function pze(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function mze(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function OT(t){if(pze(t))return String(t);if(mze(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return OT(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const AL="base64:";function gze(t){return typeof t=="string"?t:AL+wze(t)}function yze(t){return typeof t!="string"||!t.startsWith(AL)?t:vze(t.slice(AL.length))}function vze(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function wze(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function wo(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function _ze(...t){return wo(t.join(":"))}function gC(t){return t=wo(t),t?t+":":""}function bze(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Eze(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Aze="memory",Cze=()=>{const t=new Map;return{name:Aze,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Tze(t={}){const e={mounts:{"":t.driver||Cze()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(h=>h.startsWith(l)||u&&l.startsWith(h)).map(h=>({relativeBase:l.length>h.length?l.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(l,u)=>{if(e.watching){u=wo(u);for(const h of e.watchListeners)h(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await pH(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,h)=>{const f=new Map,p=g=>{let y=f.get(g.base);return y||(y={driver:g.driver,base:g.base,items:[]},f.set(g.base,y)),y};for(const g of l){const y=typeof g=="string",v=wo(y?g:g.key),b=y?void 0:g.value,w=y||!g.options?u:{...u,...g.options},A=n(v);p(A).items.push({key:v,value:b,relativeKey:A.relativeKey,options:w})}return Promise.all([...f.values()].map(g=>h(g))).then(g=>g.flat())},c={hasItem(l,u={}){l=wo(l);const{relativeKey:h,driver:f}=n(l);return Fi(f.hasItem,h,u)},getItem(l,u={}){l=wo(l);const{relativeKey:h,driver:f}=n(l);return Fi(f.getItem,h,u).then(p=>mC(p))},getItems(l,u={}){return a(l,u,h=>h.driver.getItems?Fi(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:_ze(h.base,p.key),value:mC(p.value)}))):Promise.all(h.items.map(f=>Fi(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:mC(p)})))))},getItemRaw(l,u={}){l=wo(l);const{relativeKey:h,driver:f}=n(l);return f.getItemRaw?Fi(f.getItemRaw,h,u):Fi(f.getItem,h,u).then(p=>yze(p))},async setItem(l,u,h={}){if(u===void 0)return c.removeItem(l);l=wo(l);const{relativeKey:f,driver:p}=n(l);p.setItem&&(await Fi(p.setItem,f,OT(u),h),p.watch||i("update",l))},async setItems(l,u){await a(l,u,async h=>{if(h.driver.setItems)return Fi(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:OT(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>Fi(h.driver.setItem,f.relativeKey,OT(f.value),f.options)))})},async setItemRaw(l,u,h={}){if(u===void 0)return c.removeItem(l,h);l=wo(l);const{relativeKey:f,driver:p}=n(l);if(p.setItemRaw)await Fi(p.setItemRaw,f,u,h);else if(p.setItem)await Fi(p.setItem,f,gze(u),h);else return;p.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=wo(l);const{relativeKey:h,driver:f}=n(l);f.removeItem&&(await Fi(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await Fi(f.removeItem,h+"$",u),f.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=wo(l);const{relativeKey:h,driver:f}=n(l),p=Object.create(null);if(f.getMeta&&Object.assign(p,await Fi(f.getMeta,h,u)),!u.nativeOnly){const g=await Fi(f.getItem,h+"$",u).then(y=>mC(y));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(p,g))}return p},setMeta(l,u,h={}){return this.setItem(l+"$",u,h)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var v;l=gC(l);const h=r(l,!0);let f=[];const p=[];let g=!0;for(const b of h){(v=b.driver.flags)!=null&&v.maxDepth||(g=!1);const w=await Fi(b.driver.getKeys,b.relativeBase,u);for(const A of w){const S=b.mountpoint+wo(A);f.some(P=>S.startsWith(P))||p.push(S)}f=[b.mountpoint,...f.filter(A=>!A.startsWith(b.mountpoint))]}const y=u.maxDepth!==void 0&&!g;return p.filter(b=>(!y||bze(b,u.maxDepth))&&Eze(b,l))},async clear(l,u={}){l=gC(l),await Promise.all(r(l,!1).map(async h=>{if(h.driver.clear)return Fi(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>mH(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=gC(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[l]=u,e.watching&&Promise.resolve(pH(u,i,l)).then(h=>{e.unwatch[l]=h}).catch(console.error),c},async unmount(l,u=!0){var h,f;l=gC(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((f=(h=e.unwatch)[l])==null||f.call(h),delete e.unwatch[l]),u&&await mH(e.mounts[l]),e.mountpoints=e.mountpoints.filter(p=>p!==l),delete e.mounts[l])},getMount(l=""){l=wo(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=wo(l),r(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,h={})=>c.setItem(l,u,h),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function pH(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function mH(t){typeof t.dispose=="function"&&await Fi(t.dispose)}function qm(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function ise(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=qm(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let iR;function D1(){return iR||(iR=ise("keyval-store","keyval")),iR}function gH(t,e=D1()){return e("readonly",n=>qm(n.get(t)))}function Sze(t,e,n=D1()){return n("readwrite",r=>(r.put(e,t),qm(r.transaction)))}function Ize(t,e=D1()){return e("readwrite",n=>(n.delete(t),qm(n.transaction)))}function xze(t=D1()){return t("readwrite",e=>(e.clear(),qm(e.transaction)))}function Pze(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},qm(t.transaction)}function Oze(t=D1()){return t("readonly",e=>{if(e.getAllKeys)return qm(e.getAllKeys());const n=[];return Pze(e,r=>n.push(r.key)).then(()=>n)})}const Dze=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Nze=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function mm(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Nze(t)}catch{return t}}function ad(t){return typeof t=="string"?t:Dze(t)||""}const Rze="idb-keyval";var kze=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=ise(t.dbName,t.storeName)),{name:Rze,options:t,async hasItem(i){return!(typeof await gH(n(i),r)>"u")},async getItem(i){return await gH(n(i),r)??null},setItem(i,s){return Sze(n(i),s,r)},removeItem(i){return Ize(n(i),r)},getKeys(){return Oze(r)},clear(){return xze(r)}}};const Mze="WALLET_CONNECT_V2_INDEXED_DB",Lze="keyvaluestorage";let Fze=class{constructor(){this.indexedDb=Tze({driver:kze({dbName:Mze,storeName:Lze})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,ad(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var sR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DT={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof sR<"u"&&sR.localStorage?DT.exports=sR.localStorage:typeof window<"u"&&window.localStorage?DT.exports=window.localStorage:DT.exports=new e})();function $ze(t){var e;return[t[0],mm((e=t[1])!=null?e:"")]}let Uze=class{constructor(){this.localStorage=DT.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map($ze)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return mm(n)}async setItem(e,n){this.localStorage.setItem(e,ad(n))}async removeItem(e){this.localStorage.removeItem(e)}};const jze="wc_storage_version",yH=1,Bze=async(t,e,n)=>{const r=jze,i=await e.getItem(r);if(i&&i>=yH){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,yH),n(e),zze(t,o)},zze=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Vze=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Uze;this.storage=e;try{const n=new Fze;Bze(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function Hze(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Wze=qze;function qze(t,e,n){var r=n&&n.stringify||Hze,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,h=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=c||e[u]==null)break;h<p&&(l+=t.slice(h,p)),l+=Number(e[u]),h=p+2,p++;break;case 105:if(u>=c||e[u]==null)break;h<p&&(l+=t.slice(h,p)),l+=Math.floor(Number(e[u])),h=p+2,p++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;h<p&&(l+=t.slice(h,p));var g=typeof e[u];if(g==="string"){l+="'"+e[u]+"'",h=p+2,p++;break}if(g==="function"){l+=e[u].name||"<anonymous>",h=p+2,p++;break}l+=r(e[u]),h=p+2,p++;break;case 115:if(u>=c)break;h<p&&(l+=t.slice(h,p)),l+=String(e[u]),h=p+2,p++;break;case 37:h<p&&(l+=t.slice(h,p)),l+="%",h=p+2,p++,u--;break}++u}++p}return h===-1?t:(h<f&&(l+=t.slice(h)),l)}const vH=Wze;var Gg=Ol;const sE=n9e().console||{},Gze={mapHttpRequest:yC,mapHttpResponse:yC,wrapRequestSerializer:oR,wrapResponseSerializer:oR,wrapErrorSerializer:oR,req:yC,res:yC,err:Jze};function Kze(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ol(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||sE;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Kze(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=oE),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:h,set:f});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Xze(t)};c.levels=Ol.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=oE,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=p,e&&(c._logEvent=CL());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,_g(l,c,"error","log"),_g(l,c,"fatal","error"),_g(l,c,"warn","error"),_g(l,c,"info","log"),_g(l,c,"debug","log"),_g(l,c,"trace","log")}function p(g,y){if(!g)throw new Error("missing bindings for child Pino");y=y||{},i&&g.serializers&&(y.serializers=g.serializers);const v=y.serializers;if(i&&v){var b=Object.assign({},r,v),w=t.browser.serialize===!0?Object.keys(b):i;delete g.serializers,AO([g],w,b,this._stdErrSerialize)}function A(S){this._childLevel=(S._childLevel|0)+1,this.error=bg(S,g,"error"),this.fatal=bg(S,g,"fatal"),this.warn=bg(S,g,"warn"),this.info=bg(S,g,"info"),this.debug=bg(S,g,"debug"),this.trace=bg(S,g,"trace"),b&&(this.serializers=b,this._serialize=w),e&&(this._logEvent=CL([].concat(S._logEvent.bindings,g)))}return A.prototype=this,new A(this)}return c}Ol.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ol.stdSerializers=Gze;Ol.stdTimeFunctions=Object.assign({},{nullTime:sse,epochTime:ose,unixTime:e9e,isoTime:t9e});function _g(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?oE:i[n]?i[n]:sE[n]||sE[r]||oE,Yze(t,e,n)}function Yze(t,e,n){!t.transmit&&e[n]===oE||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===sE?sE:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&AO(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,Qze(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Ol.levels.values[l],h=Ol.levels.values[n];if(h<u)return;Zze(this,{ts:s,methodLevel:n,methodValue:h,transmitLevel:l,transmitValue:Ol.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function Qze(t,e,n,r){t._serialize&&AO(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=Ol.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?vH(i.shift(),i):void 0}else typeof s=="string"&&(s=vH(i.shift(),i));return s!==void 0&&(o.msg=s),o}function AO(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Ol.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function bg(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function Zze(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;AO(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=CL(c)}function CL(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Jze(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Xze(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?sse:ose}function yC(){return{}}function oR(t){return t}function oE(){}function sse(){return!1}function ose(){return Date.now()}function e9e(){return Math.round(Date.now()/1e3)}function t9e(){return new Date(Date.now()).toISOString()}function n9e(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const N1=oo(Gg),r9e={level:"info"},R1="custom_context",Dj=1e3*1024;let i9e=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},wH=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new i9e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},ase=class{constructor(e,n=Dj){this.level=e??"error",this.levelValue=Gg.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new wH(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Gg.levels.values.error?console.error(e):n===Gg.levels.values.warn?console.warn(e):n===Gg.levels.values.debug?console.debug(e):n===Gg.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(ad({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new wH(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(ad({extraMetadata:e})),new Blob(n,{type:"application/json"})}},s9e=class{constructor(e,n=Dj){this.baseChunkLogger=new ase(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},o9e=class{constructor(e,n=Dj){this.baseChunkLogger=new ase(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var a9e=Object.defineProperty,c9e=Object.defineProperties,l9e=Object.getOwnPropertyDescriptors,_H=Object.getOwnPropertySymbols,u9e=Object.prototype.hasOwnProperty,d9e=Object.prototype.propertyIsEnumerable,bH=(t,e,n)=>e in t?a9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jI=(t,e)=>{for(var n in e||(e={}))u9e.call(e,n)&&bH(t,n,e[n]);if(_H)for(var n of _H(e))d9e.call(e,n)&&bH(t,n,e[n]);return t},BI=(t,e)=>c9e(t,l9e(e));function yw(t){return BI(jI({},t),{level:(t==null?void 0:t.level)||r9e.level})}function h9e(t,e=R1){return t[e]||""}function f9e(t,e,n=R1){return t[n]=e,t}function jo(t,e=R1){let n="";return typeof t.bindings>"u"?n=h9e(t,e):n=t.bindings().context||"",n}function p9e(t,e,n=R1){const r=jo(t,n);return r.trim()?`${r}/${e}`:e}function zs(t,e,n=R1){const r=p9e(t,e,n),i=t.child({context:r});return f9e(i,r,n)}function m9e(t){var e,n;const r=new s9e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:N1(BI(jI({},t.opts),{level:"trace",browser:BI(jI({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function g9e(t){var e;const n=new o9e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:N1(BI(jI({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function Nj(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?m9e(t):g9e(t)}var y9e=Object.defineProperty,v9e=(t,e,n)=>e in t?y9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EH=(t,e,n)=>v9e(t,typeof e!="symbol"?e+"":e,n);let w9e=class extends Wm{constructor(e){super(),this.opts=e,EH(this,"protocol","wc"),EH(this,"version",2)}};var _9e=Object.defineProperty,b9e=(t,e,n)=>e in t?_9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E9e=(t,e,n)=>b9e(t,typeof e!="symbol"?e+"":e,n);let A9e=class extends Wm{constructor(e,n){super(),this.core=e,this.logger=n,E9e(this,"records",new Map)}},C9e=class{constructor(e,n){this.logger=e,this.core=n}},T9e=class extends Wm{constructor(e,n){super(),this.relayer=e,this.logger=n}},S9e=class extends Wm{constructor(e){super()}},I9e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},x9e=class extends Wm{constructor(e,n){super(),this.relayer=e,this.logger=n}},P9e=class extends Wm{constructor(e,n){super(),this.core=e,this.logger=n}},O9e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},D9e=class{constructor(e,n){this.projectId=e,this.logger=n}},N9e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var R9e=Object.defineProperty,k9e=(t,e,n)=>e in t?R9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AH=(t,e,n)=>k9e(t,typeof e!="symbol"?e+"":e,n);let M9e=class{constructor(e){this.opts=e,AH(this,"protocol","wc"),AH(this,"version",2)}},L9e=class{constructor(e){this.client=e}};function F9e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function cse(t,...e){if(!F9e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function CH(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $9e(t,e){cse(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Eg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aR=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function U9e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function lse(t){return typeof t=="string"&&(t=U9e(t)),cse(t),t}let j9e=class{clone(){return this._cloneInto()}};function B9e(t){const e=r=>t().update(lse(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function use(t=32){if(Eg&&typeof Eg.getRandomValues=="function")return Eg.getRandomValues(new Uint8Array(t));if(Eg&&typeof Eg.randomBytes=="function")return Eg.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function z9e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let V9e=class extends j9e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=aR(this.buffer)}update(e){CH(this);const{view:n,buffer:r,blockLen:i}=this;e=lse(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=aR(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){CH(this),$9e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;z9e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=aR(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const vC=BigInt(2**32-1),TL=BigInt(32);function dse(t,e=!1){return e?{h:Number(t&vC),l:Number(t>>TL&vC)}:{h:Number(t>>TL&vC)|0,l:Number(t&vC)|0}}function H9e(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=dse(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const W9e=(t,e)=>BigInt(t>>>0)<<TL|BigInt(e>>>0),q9e=(t,e,n)=>t>>>n,G9e=(t,e,n)=>t<<32-n|e>>>n,K9e=(t,e,n)=>t>>>n|e<<32-n,Y9e=(t,e,n)=>t<<32-n|e>>>n,Q9e=(t,e,n)=>t<<64-n|e>>>n-32,Z9e=(t,e,n)=>t>>>n-32|e<<64-n,J9e=(t,e)=>e,X9e=(t,e)=>t,eVe=(t,e,n)=>t<<n|e>>>32-n,tVe=(t,e,n)=>e<<n|t>>>32-n,nVe=(t,e,n)=>e<<n-32|t>>>64-n,rVe=(t,e,n)=>t<<n-32|e>>>64-n;function iVe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const sVe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),oVe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,aVe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),cVe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,lVe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),uVe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Zt={fromBig:dse,split:H9e,toBig:W9e,shrSH:q9e,shrSL:G9e,rotrSH:K9e,rotrSL:Y9e,rotrBH:Q9e,rotrBL:Z9e,rotr32H:J9e,rotr32L:X9e,rotlSH:eVe,rotlSL:tVe,rotlBH:nVe,rotlBL:rVe,add:iVe,add3L:sVe,add3H:oVe,add4L:aVe,add4H:cVe,add5H:uVe,add5L:lVe},[dVe,hVe]=(()=>Zt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),$d=new Uint32Array(80),Ud=new Uint32Array(80);let fVe=class extends V9e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:y,Hl:v}=this;return[e,n,r,i,s,o,a,c,l,u,h,f,p,g,y,v]}set(e,n,r,i,s,o,a,c,l,u,h,f,p,g,y,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=y|0,this.Hl=v|0}process(e,n){for(let A=0;A<16;A++,n+=4)$d[A]=e.getUint32(n),Ud[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const S=$d[A-15]|0,P=Ud[A-15]|0,D=Zt.rotrSH(S,P,1)^Zt.rotrSH(S,P,8)^Zt.shrSH(S,P,7),C=Zt.rotrSL(S,P,1)^Zt.rotrSL(S,P,8)^Zt.shrSL(S,P,7),I=$d[A-2]|0,x=Ud[A-2]|0,N=Zt.rotrSH(I,x,19)^Zt.rotrBH(I,x,61)^Zt.shrSH(I,x,6),R=Zt.rotrSL(I,x,19)^Zt.rotrBL(I,x,61)^Zt.shrSL(I,x,6),$=Zt.add4L(C,R,Ud[A-7],Ud[A-16]),U=Zt.add4H($,D,N,$d[A-7],$d[A-16]);$d[A]=U|0,Ud[A]=$|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:y,Gl:v,Hh:b,Hl:w}=this;for(let A=0;A<80;A++){const S=Zt.rotrSH(h,f,14)^Zt.rotrSH(h,f,18)^Zt.rotrBH(h,f,41),P=Zt.rotrSL(h,f,14)^Zt.rotrSL(h,f,18)^Zt.rotrBL(h,f,41),D=h&p^~h&y,C=f&g^~f&v,I=Zt.add5L(w,P,C,hVe[A],Ud[A]),x=Zt.add5H(I,b,S,D,dVe[A],$d[A]),N=I|0,R=Zt.rotrSH(r,i,28)^Zt.rotrBH(r,i,34)^Zt.rotrBH(r,i,39),$=Zt.rotrSL(r,i,28)^Zt.rotrBL(r,i,34)^Zt.rotrBL(r,i,39),U=r&s^r&a^s&a,Y=i&o^i&c^o&c;b=y|0,w=v|0,y=p|0,v=g|0,p=h|0,g=f|0,{h,l:f}=Zt.add(l|0,u|0,x|0,N|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const z=Zt.add3L(N,$,Y);r=Zt.add3H(z,x,R,U),i=z|0}({h:r,l:i}=Zt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Zt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Zt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Zt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h,l:f}=Zt.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=Zt.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:y,l:v}=Zt.add(this.Gh|0,this.Gl|0,y|0,v|0),{h:b,l:w}=Zt.add(this.Hh|0,this.Hl|0,b|0,w|0),this.set(r,i,s,o,a,c,l,u,h,f,p,g,y,v,b,w)}roundClean(){$d.fill(0),Ud.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const pVe=B9e(()=>new fVe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rj=BigInt(0),hse=BigInt(1),mVe=BigInt(2);function kj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Mj(t){if(!kj(t))throw new Error("Uint8Array expected")}function cR(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const gVe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Lj(t){Mj(t);let e="";for(let n=0;n<t.length;n++)e+=gVe[t[n]];return e}function fse(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Rj:BigInt("0x"+t)}const au={_0:48,_9:57,A:65,F:70,a:97,f:102};function TH(t){if(t>=au._0&&t<=au._9)return t-au._0;if(t>=au.A&&t<=au.F)return t-(au.A-10);if(t>=au.a&&t<=au.f)return t-(au.a-10)}function pse(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=TH(t.charCodeAt(s)),a=TH(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function yVe(t){return fse(Lj(t))}function NT(t){return Mj(t),fse(Lj(Uint8Array.from(t).reverse()))}function mse(t,e){return pse(t.toString(16).padStart(e*2,"0"))}function SL(t,e){return mse(t,e).reverse()}function cu(t,e,n){let r;if(typeof e=="string")try{r=pse(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(kj(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function SH(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Mj(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const lR=t=>typeof t=="bigint"&&Rj<=t;function vVe(t,e,n){return lR(t)&&lR(e)&&lR(n)&&e<=t&&t<n}function A0(t,e,n,r){if(!vVe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function wVe(t){let e;for(e=0;t>Rj;t>>=hse,e+=1);return e}const _Ve=t=>(mVe<<BigInt(t-1))-hse,bVe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||kj(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Fj(t,e,n={}){const r=(i,s,o)=>{const a=bVe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function IH(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const qi=BigInt(0),ii=BigInt(1),Zf=BigInt(2),EVe=BigInt(3),IL=BigInt(4),xH=BigInt(5),PH=BigInt(8);function Ii(t,e){const n=t%e;return n>=qi?n:e+n}function AVe(t,e,n){if(e<qi)throw new Error("invalid exponent, negatives unsupported");if(n<=qi)throw new Error("invalid modulus");if(n===ii)return qi;let r=ii;for(;e>qi;)e&ii&&(r=r*t%n),t=t*t%n,e>>=ii;return r}function Qc(t,e,n){let r=t;for(;e-- >qi;)r*=r,r%=n;return r}function OH(t,e){if(t===qi)throw new Error("invert: expected non-zero number");if(e<=qi)throw new Error("invert: expected positive modulus, got "+e);let n=Ii(t,e),r=e,i=qi,s=ii;for(;n!==qi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==ii)throw new Error("invert: does not exist");return Ii(i,e)}function CVe(t){const e=(t-ii)/Zf;let n,r,i;for(n=t-ii,r=0;n%Zf===qi;n/=Zf,r++);for(i=Zf;i<t&&AVe(i,e,t)!==t-ii;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+ii)/IL;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+ii)/Zf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let g=o.sqr(h);f<c&&!o.eql(g,o.ONE);f++)g=o.sqr(g);const p=o.pow(l,ii<<BigInt(c-f-1));l=o.sqr(p),u=o.mul(u,p),h=o.mul(h,l),c=f}return u}}function TVe(t){if(t%IL===EVe){const e=(t+ii)/IL;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%PH===xH){const e=(t-xH)/PH;return function(n,r){const i=n.mul(r,Zf),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Zf),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return CVe(t)}const SVe=(t,e)=>(Ii(t,e)&ii)===ii,IVe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xVe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=IVe.reduce((r,i)=>(r[i]="function",r),e);return Fj(t,n)}function PVe(t,e,n){if(n<qi)throw new Error("invalid exponent, negatives unsupported");if(n===qi)return t.ONE;if(n===ii)return e;let r=t.ONE,i=e;for(;n>qi;)n&ii&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ii;return r}function OVe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function gse(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function yse(t,e,n=!1,r={}){if(t<=qi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=gse(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:_Ve(i),ZERO:qi,ONE:ii,create:c=>Ii(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return qi<=c&&c<t},is0:c=>c===qi,isOdd:c=>(c&ii)===ii,neg:c=>Ii(-c,t),eql:(c,l)=>c===l,sqr:c=>Ii(c*c,t),add:(c,l)=>Ii(c+l,t),sub:(c,l)=>Ii(c-l,t),mul:(c,l)=>Ii(c*l,t),pow:(c,l)=>PVe(a,c,l),div:(c,l)=>Ii(c*OH(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>OH(c,t),sqrt:r.sqrt||(c=>(o||(o=TVe(t)),o(a,c))),invertBatch:c=>OVe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?SL(c,s):mse(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?NT(c):yVe(c)}});return Object.freeze(a)}const DH=BigInt(0),wC=BigInt(1);function uR(t,e){const n=e.negate();return t?n:e}function vse(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function dR(t,e){vse(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function DVe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function NVe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const hR=new WeakMap,wse=new WeakMap;function fR(t){return wse.get(t)||1}function RVe(t,e){return{constTimeNegate:uR,hasPrecomputes(n){return fR(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>DH;)r&wC&&(i=i.add(s)),s=s.double(),r>>=wC;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=dR(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=dR(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let g=Number(i&l);i>>=h,g>o&&(g-=u,i+=wC);const y=p,v=p+Math.abs(g)-1,b=f%2!==0,w=g<0;g===0?c=c.add(uR(b,r[y])):a=a.add(uR(w,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=dR(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===DH)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=wC),p===0)continue;let g=r[f+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=hR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&hR.set(r,i(s))),s},wNAFCached(n,r,i){const s=fR(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=fR(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){vse(r,e),wse.set(n,r),hR.delete(n)}}}function kVe(t,e,n,r){if(DVe(n,t),NVe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=wVe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let p=0;p<r.length;p++){const g=r[p],y=Number(g>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[p])}let f=i;for(let p=c.length-1,g=i;p>0;p--)g=g.add(c[p]),f=f.add(g);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function MVe(t){return xVe(t.Fp),Fj(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...gse(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ac=BigInt(0),po=BigInt(1),_C=BigInt(2),LVe=BigInt(8),FVe={zip215:!0};function $Ve(t){const e=MVe(t);return Fj(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function UVe(t){const e=$Ve(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=_C<<BigInt(a*8)-po,u=n.create,h=yse(e.n,e.nBitLength),f=e.uvRatio||((z,j)=>{try{return{isValid:!0,value:n.sqrt(z*n.inv(j))}}catch{return{isValid:!1,value:ac}}}),p=e.adjustScalarBytes||(z=>z),g=e.domain||((z,j,q)=>{if(cR("phflag",q),j.length||q)throw new Error("Contexts/pre-hash are not supported");return z});function y(z,j){A0("coordinate "+z,j,ac,l)}function v(z){if(!(z instanceof A))throw new Error("ExtendedPoint expected")}const b=IH((z,j)=>{const{ex:q,ey:V,ez:Q}=z,K=z.is0();j==null&&(j=K?LVe:n.inv(Q));const ee=u(q*j),ne=u(V*j),le=u(Q*j);if(K)return{x:ac,y:po};if(le!==po)throw new Error("invZ was invalid");return{x:ee,y:ne}}),w=IH(z=>{const{a:j,d:q}=e;if(z.is0())throw new Error("bad point: ZERO");const{ex:V,ey:Q,ez:K,et:ee}=z,ne=u(V*V),le=u(Q*Q),ce=u(K*K),re=u(ce*ce),de=u(ne*j),ve=u(ce*u(de+le)),Ne=u(re+u(q*u(ne*le)));if(ve!==Ne)throw new Error("bad point: equation left != right (1)");const Fe=u(V*Q),Ge=u(K*ee);if(Fe!==Ge)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(j,q,V,Q){this.ex=j,this.ey=q,this.ez=V,this.et=Q,y("x",j),y("y",q),y("z",V),y("t",Q),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof A)throw new Error("extended point not allowed");const{x:q,y:V}=j||{};return y("x",q),y("y",V),new A(q,V,po,u(q*V))}static normalizeZ(j){const q=n.invertBatch(j.map(V=>V.ez));return j.map((V,Q)=>V.toAffine(q[Q])).map(A.fromAffine)}static msm(j,q){return kVe(A,h,j,q)}_setWindowSize(j){D.setWindowSize(this,j)}assertValidity(){w(this)}equals(j){v(j);const{ex:q,ey:V,ez:Q}=this,{ex:K,ey:ee,ez:ne}=j,le=u(q*ne),ce=u(K*Q),re=u(V*ne),de=u(ee*Q);return le===ce&&re===de}is0(){return this.equals(A.ZERO)}negate(){return new A(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:j}=e,{ex:q,ey:V,ez:Q}=this,K=u(q*q),ee=u(V*V),ne=u(_C*u(Q*Q)),le=u(j*K),ce=q+V,re=u(u(ce*ce)-K-ee),de=le+ee,ve=de-ne,Ne=le-ee,Fe=u(re*ve),Ge=u(de*Ne),ot=u(re*Ne),Me=u(ve*de);return new A(Fe,Ge,Me,ot)}add(j){v(j);const{a:q,d:V}=e,{ex:Q,ey:K,ez:ee,et:ne}=this,{ex:le,ey:ce,ez:re,et:de}=j;if(q===BigInt(-1)){const yn=u((K-Q)*(ce+le)),Sr=u((K+Q)*(ce-le)),fn=u(Sr-yn);if(fn===ac)return this.double();const se=u(ee*_C*de),Ie=u(ne*_C*re),xe=Ie+se,$e=Sr+yn,pt=Ie-se,nt=u(xe*fn),yt=u($e*pt),Ft=u(xe*pt),Ir=u(fn*$e);return new A(nt,yt,Ir,Ft)}const ve=u(Q*le),Ne=u(K*ce),Fe=u(ne*V*de),Ge=u(ee*re),ot=u((Q+K)*(le+ce)-ve-Ne),Me=Ge-Fe,ut=Ge+Fe,ht=u(Ne-q*ve),Xt=u(ot*Me),Rt=u(ut*ht),Dn=u(ot*ht),Un=u(Me*ut);return new A(Xt,Rt,Un,Dn)}subtract(j){return this.add(j.negate())}wNAF(j){return D.wNAFCached(this,j,A.normalizeZ)}multiply(j){const q=j;A0("scalar",q,po,r);const{p:V,f:Q}=this.wNAF(q);return A.normalizeZ([V,Q])[0]}multiplyUnsafe(j,q=A.ZERO){const V=j;return A0("scalar",V,ac,r),V===ac?P:this.is0()||V===po?this:D.wNAFCachedUnsafe(this,V,A.normalizeZ,q)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return D.unsafeLadder(this,r).is0()}toAffine(j){return b(this,j)}clearCofactor(){const{h:j}=e;return j===po?this:this.multiplyUnsafe(j)}static fromHex(j,q=!1){const{d:V,a:Q}=e,K=n.BYTES;j=cu("pointHex",j,K),cR("zip215",q);const ee=j.slice(),ne=j[K-1];ee[K-1]=ne&-129;const le=NT(ee),ce=q?l:n.ORDER;A0("pointHex.y",le,ac,ce);const re=u(le*le),de=u(re-po),ve=u(V*re-Q);let{isValid:Ne,value:Fe}=f(de,ve);if(!Ne)throw new Error("Point.fromHex: invalid y coordinate");const Ge=(Fe&po)===po,ot=(ne&128)!==0;if(!q&&Fe===ac&&ot)throw new Error("Point.fromHex: x=0 and x_0=1");return ot!==Ge&&(Fe=u(-Fe)),A.fromAffine({x:Fe,y:le})}static fromPrivateKey(j){return x(j).point}toRawBytes(){const{x:j,y:q}=this.toAffine(),V=SL(q,n.BYTES);return V[V.length-1]|=j&po?128:0,V}toHex(){return Lj(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,po,u(e.Gx*e.Gy)),A.ZERO=new A(ac,po,po,ac);const{BASE:S,ZERO:P}=A,D=RVe(A,a*8);function C(z){return Ii(z,r)}function I(z){return C(NT(z))}function x(z){const j=n.BYTES;z=cu("private key",z,j);const q=cu("hashed private key",s(z),2*j),V=p(q.slice(0,j)),Q=q.slice(j,2*j),K=I(V),ee=S.multiply(K),ne=ee.toRawBytes();return{head:V,prefix:Q,scalar:K,point:ee,pointBytes:ne}}function N(z){return x(z).pointBytes}function R(z=new Uint8Array,...j){const q=SH(...j);return I(s(g(q,cu("context",z),!!i)))}function $(z,j,q={}){z=cu("message",z),i&&(z=i(z));const{prefix:V,scalar:Q,pointBytes:K}=x(j),ee=R(q.context,V,z),ne=S.multiply(ee).toRawBytes(),le=R(q.context,ne,K,z),ce=C(ee+le*Q);A0("signature.s",ce,ac,r);const re=SH(ne,SL(ce,n.BYTES));return cu("result",re,n.BYTES*2)}const U=FVe;function Y(z,j,q,V=U){const{context:Q,zip215:K}=V,ee=n.BYTES;z=cu("signature",z,2*ee),j=cu("message",j),q=cu("publicKey",q,ee),K!==void 0&&cR("zip215",K),i&&(j=i(j));const ne=NT(z.slice(ee,2*ee));let le,ce,re;try{le=A.fromHex(q,K),ce=A.fromHex(z.slice(0,ee),K),re=S.multiplyUnsafe(ne)}catch{return!1}if(!K&&le.isSmallOrder())return!1;const de=R(Q,ce.toRawBytes(),le.toRawBytes(),j);return ce.add(le.multiplyUnsafe(de)).subtract(re).clearCofactor().equals(A.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:N,sign:$,verify:Y,ExtendedPoint:A,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>o(n.BYTES),precompute(z=8,j=A.BASE){return j._setWindowSize(z),j.multiply(BigInt(3)),j}}}}BigInt(0),BigInt(1);const $j=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),NH=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const jVe=BigInt(1),RH=BigInt(2);BigInt(3);const BVe=BigInt(5),zVe=BigInt(8);function VVe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=$j,o=t*t%s*t%s,a=Qc(o,RH,s)*o%s,c=Qc(a,jVe,s)*t%s,l=Qc(c,BVe,s)*c%s,u=Qc(l,e,s)*l%s,h=Qc(u,n,s)*u%s,f=Qc(h,r,s)*h%s,p=Qc(f,i,s)*f%s,g=Qc(p,i,s)*f%s,y=Qc(g,e,s)*l%s;return{pow_p_5_8:Qc(y,RH,s)*t%s,b2:o}}function HVe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function WVe(t,e){const n=$j,r=Ii(e*e*e,n),i=Ii(r*r*e,n),s=VVe(t*i).pow_p_5_8;let o=Ii(t*r*s,n);const a=Ii(e*o*o,n),c=o,l=Ii(o*NH,n),u=a===t,h=a===Ii(-t,n),f=a===Ii(-t*NH,n);return u&&(o=c),(h||f)&&(o=l),SVe(o,n)&&(o=Ii(-o,n)),{isValid:u||h,value:o}}const qVe=(()=>yse($j,void 0,!0))(),GVe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:qVe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:zVe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:pVe,randomBytes:use,adjustScalarBytes:HVe,uvRatio:WVe}))(),_se=(()=>UVe(GVe))(),KVe="EdDSA",YVe="JWT",zI=".",CO="base64url",bse="utf8",Ese="utf8",QVe=":",ZVe="did",JVe="key",kH="base58btc",XVe="z",eHe="K36",tHe=32;function Uj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ase(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Uj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Cse(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Ase(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Uj(n)}function nHe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,b=0,w=g.length;b!==w&&g[b]===0;)b++,y++;for(var A=(w-b)*u+1>>>0,S=new Uint8Array(A);b!==w;){for(var P=g[b],D=0,C=A-1;(P!==0||D<v)&&C!==-1;C--,D++)P+=256*S[C]>>>0,S[C]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");v=D,b++}for(var I=A-v;I!==A&&S[I]===0;)I++;for(var x=c.repeat(y);I<A;++I)x+=t.charAt(S[I]);return x}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,b=0;g[y]===c;)v++,y++;for(var w=(g.length-y)*l+1>>>0,A=new Uint8Array(w);g[y];){var S=n[g.charCodeAt(y)];if(S===255)return;for(var P=0,D=w-1;(S!==0||P<b)&&D!==-1;D--,P++)S+=a*A[D]>>>0,A[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");b=P,y++}if(g[y]!==" "){for(var C=w-b;C!==w&&A[C]===0;)C++;for(var I=new Uint8Array(v+(w-C)),x=v;C!==w;)I[x++]=A[C++];return I}}}function p(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var rHe=nHe,iHe=rHe;const Tse=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},sHe=t=>new TextEncoder().encode(t),oHe=t=>new TextDecoder().decode(t);let aHe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},cHe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Sse(this,e)}},lHe=class{constructor(e){this.decoders=e}or(e){return Sse(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Sse=(t,e)=>new lHe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let uHe=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new aHe(e,n,r),this.decoder=new cHe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const TO=({name:t,prefix:e,encode:n,decode:r})=>new uHe(t,e,n,r),k1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=iHe(n,e);return TO({prefix:t,name:e,encode:r,decode:s=>Tse(i(s))})},dHe=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},hHe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Es=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>TO({prefix:e,name:t,encode(i){return hHe(i,r,n)},decode(i){return dHe(i,r,n,t)}}),fHe=TO({prefix:"\0",name:"identity",encode:t=>oHe(t),decode:t=>sHe(t)});var pHe=Object.freeze({__proto__:null,identity:fHe});const mHe=Es({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var gHe=Object.freeze({__proto__:null,base2:mHe});const yHe=Es({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vHe=Object.freeze({__proto__:null,base8:yHe});const wHe=k1({prefix:"9",name:"base10",alphabet:"0123456789"});var _He=Object.freeze({__proto__:null,base10:wHe});const bHe=Es({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),EHe=Es({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var AHe=Object.freeze({__proto__:null,base16:bHe,base16upper:EHe});const CHe=Es({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),THe=Es({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),SHe=Es({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),IHe=Es({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xHe=Es({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),PHe=Es({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),OHe=Es({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),DHe=Es({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),NHe=Es({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var RHe=Object.freeze({__proto__:null,base32:CHe,base32upper:THe,base32pad:SHe,base32padupper:IHe,base32hex:xHe,base32hexupper:PHe,base32hexpad:OHe,base32hexpadupper:DHe,base32z:NHe});const kHe=k1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),MHe=k1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var LHe=Object.freeze({__proto__:null,base36:kHe,base36upper:MHe});const FHe=k1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$He=k1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var UHe=Object.freeze({__proto__:null,base58btc:FHe,base58flickr:$He});const jHe=Es({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),BHe=Es({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zHe=Es({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),VHe=Es({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var HHe=Object.freeze({__proto__:null,base64:jHe,base64pad:BHe,base64url:zHe,base64urlpad:VHe});const Ise=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),WHe=Ise.reduce((t,e,n)=>(t[n]=e,t),[]),qHe=Ise.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function GHe(t){return t.reduce((e,n)=>(e+=WHe[n],e),"")}function KHe(t){const e=[];for(const n of t){const r=qHe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const YHe=TO({prefix:"🚀",name:"base256emoji",encode:GHe,decode:KHe});var QHe=Object.freeze({__proto__:null,base256emoji:YHe}),ZHe=xse,MH=128,JHe=127,XHe=~JHe,e7e=Math.pow(2,31);function xse(t,e,n){e=e||[],n=n||0;for(var r=n;t>=e7e;)e[n++]=t&255|MH,t/=128;for(;t&XHe;)e[n++]=t&255|MH,t>>>=7;return e[n]=t|0,xse.bytes=n-r+1,e}var t7e=xL,n7e=128,LH=127;function xL(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw xL.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&LH)<<i:(o&LH)*Math.pow(2,i),i+=7}while(o>=n7e);return xL.bytes=s-r,n}var r7e=Math.pow(2,7),i7e=Math.pow(2,14),s7e=Math.pow(2,21),o7e=Math.pow(2,28),a7e=Math.pow(2,35),c7e=Math.pow(2,42),l7e=Math.pow(2,49),u7e=Math.pow(2,56),d7e=Math.pow(2,63),h7e=function(t){return t<r7e?1:t<i7e?2:t<s7e?3:t<o7e?4:t<a7e?5:t<c7e?6:t<l7e?7:t<u7e?8:t<d7e?9:10},f7e={encode:ZHe,decode:t7e,encodingLength:h7e},Pse=f7e;const FH=(t,e,n=0)=>(Pse.encode(t,e,n),e),$H=t=>Pse.encodingLength(t),PL=(t,e)=>{const n=e.byteLength,r=$H(t),i=r+$H(n),s=new Uint8Array(i+n);return FH(t,s,0),FH(n,s,r),s.set(e,i),new p7e(t,n,e,s)};let p7e=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const Ose=({name:t,code:e,encode:n})=>new m7e(t,e,n);let m7e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?PL(this.code,n):n.then(r=>PL(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Dse=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),g7e=Ose({name:"sha2-256",code:18,encode:Dse("SHA-256")}),y7e=Ose({name:"sha2-512",code:19,encode:Dse("SHA-512")});var v7e=Object.freeze({__proto__:null,sha256:g7e,sha512:y7e});const Nse=0,w7e="identity",Rse=Tse,_7e=t=>PL(Nse,Rse(t)),b7e={code:Nse,name:w7e,encode:Rse,digest:_7e};var E7e=Object.freeze({__proto__:null,identity:b7e});new TextEncoder,new TextDecoder;const UH={...pHe,...gHe,...vHe,..._He,...AHe,...RHe,...LHe,...UHe,...HHe,...QHe};({...v7e,...E7e});function kse(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const jH=kse("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),pR=kse("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Ase(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Mse={utf8:jH,"utf-8":jH,hex:UH.base16,latin1:pR,ascii:pR,binary:pR,...UH};function SO(t,e="utf8"){const n=Mse[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function vw(t,e="utf8"){const n=Mse[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Uj(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function BH(t){return mm(SO(vw(t,CO),bse))}function VI(t){return SO(vw(ad(t),bse),CO)}function Lse(t){const e=vw(eHe,kH),n=XVe+SO(Cse([e,t]),kH);return[ZVe,JVe,n].join(QVe)}function A7e(t){return SO(t,CO)}function C7e(t){return vw(t,CO)}function T7e(t){return vw([VI(t.header),VI(t.payload)].join(zI),Ese)}function S7e(t){return[VI(t.header),VI(t.payload),A7e(t.signature)].join(zI)}function OL(t){const e=t.split(zI),n=BH(e[0]),r=BH(e[1]),i=C7e(e[2]),s=vw(e.slice(0,2).join(zI),Ese);return{header:n,payload:r,signature:i,data:s}}function zH(t=use(tHe)){const e=_se.getPublicKey(t);return{secretKey:Cse([t,e]),publicKey:e}}async function I7e(t,e,n,r,i=De.fromMiliseconds(Date.now())){const s={alg:KVe,typ:YVe},o=Lse(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=T7e({header:s,payload:c}),u=_se.sign(l,r.secretKey.slice(0,32));return S7e({header:s,payload:c,signature:u})}var VH=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},x7e=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),P7e=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),O7e=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),D7e=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),N7e=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),R7e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,k7e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,HH=3,M7e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",R7e]],WH=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function L7e(t){return t?qH(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new N7e:typeof navigator<"u"?qH(navigator.userAgent):U7e()}function F7e(t){return t!==""&&M7e.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function qH(t){var e=F7e(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new D7e;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<HH&&(i=VH(VH([],i,!0),j7e(HH-i.length),!0)):i=[];var s=i.join("."),o=$7e(t),a=k7e.exec(t);return a&&a[1]?new O7e(n,s,o,a[1]):new x7e(n,s,o)}function $7e(t){for(var e=0,n=WH.length;e<n;e++){var r=WH[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function U7e(){var t=typeof process<"u"&&process.version;return t?new P7e(process.version.slice(1)):null}function j7e(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.getLocalStorage=fr.getLocalStorageOrThrow=fr.getCrypto=fr.getCryptoOrThrow=Fse=fr.getLocation=fr.getLocationOrThrow=jj=fr.getNavigator=fr.getNavigatorOrThrow=M1=fr.getDocument=fr.getDocumentOrThrow=fr.getFromWindowOrThrow=fr.getFromWindow=void 0;function Gm(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}fr.getFromWindow=Gm;function ww(t){const e=Gm(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}fr.getFromWindowOrThrow=ww;function B7e(){return ww("document")}fr.getDocumentOrThrow=B7e;function z7e(){return Gm("document")}var M1=fr.getDocument=z7e;function V7e(){return ww("navigator")}fr.getNavigatorOrThrow=V7e;function H7e(){return Gm("navigator")}var jj=fr.getNavigator=H7e;function W7e(){return ww("location")}fr.getLocationOrThrow=W7e;function q7e(){return Gm("location")}var Fse=fr.getLocation=q7e;function G7e(){return ww("crypto")}fr.getCryptoOrThrow=G7e;function K7e(){return Gm("crypto")}fr.getCrypto=K7e;function Y7e(){return ww("localStorage")}fr.getLocalStorageOrThrow=Y7e;function Q7e(){return Gm("localStorage")}fr.getLocalStorage=Q7e;var Bj={};Object.defineProperty(Bj,"__esModule",{value:!0});var $se=Bj.getWindowMetadata=void 0;const GH=fr;function Z7e(){let t,e;try{t=GH.getDocumentOrThrow(),e=GH.getLocationOrThrow()}catch{return null}function n(){const h=t.getElementsByTagName("link"),f=[];for(let p=0;p<h.length;p++){const g=h[p],y=g.getAttribute("rel");if(y&&y.toLowerCase().indexOf("icon")>-1){const v=g.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let b=e.protocol+"//"+e.host;if(v.indexOf("/")===0)b+=v;else{const w=e.pathname.split("/");w.pop();const A=w.join("/");b+=A+"/"+v}f.push(b)}else if(v.indexOf("//")===0){const b=e.protocol+v;f.push(b)}else f.push(v)}}return f}function r(...h){const f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){const g=f[p],y=["itemprop","property","name"].map(v=>g.getAttribute(v)).filter(v=>v?h.includes(v):!1);if(y.length&&y){const v=g.getAttribute("content");if(v)return v}}return""}function i(){let h=r("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}$se=Bj.getWindowMetadata=Z7e;function aE(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function KH(t){return aE(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Use="2.23.2";let C0={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Use}`};class gm extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof gm?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=(()=>n.cause instanceof gm&&n.cause.docsPath||n.docsPath)(),s=(a=C0.getDocsUrl)==null?void 0:a.call(C0,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...C0.version?[`Version: ${C0.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Use}walk(e){return jse(this,e)}}function jse(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jse(t.cause,e):e?null:t}class Bse extends gm{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function _w(t,{dir:e,size:n=32}={}){return typeof t=="string"?J7e(t,{dir:e,size:n}):X7e(t,{dir:e,size:n})}function J7e(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Bse({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function X7e(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Bse({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class eWe extends gm{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class tWe extends gm{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function bw(t,{size:e}){if(KH(t)>e)throw new tWe({givenSize:KH(t),maxSize:e})}function DL(t,e={}){const{signed:n}=e;e.size&&bw(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function nWe(t,e={}){return Number(DL(t,e))}const rWe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function NL(t,e={}){return typeof t=="number"||typeof t=="bigint"?Vse(t,e):typeof t=="string"?oWe(t,e):typeof t=="boolean"?iWe(t,e):zse(t,e)}function iWe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(bw(n,{size:e.size}),_w(n,{size:e.size})):n}function zse(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=rWe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(bw(r,{size:e.size}),_w(r,{dir:"right",size:e.size})):r}function Vse(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new eWe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?_w(a,{size:r}):a}const sWe=new TextEncoder;function oWe(t,e={}){const n=sWe.encode(t);return zse(n,e)}const aWe=new TextEncoder;function cWe(t,e={}){return typeof t=="number"||typeof t=="bigint"?uWe(t,e):typeof t=="boolean"?lWe(t,e):aE(t)?Hse(t,e):Wse(t,e)}function lWe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(bw(n,{size:e.size}),_w(n,{size:e.size})):n}const lu={zero:48,nine:57,A:65,F:70,a:97,f:102};function YH(t){if(t>=lu.zero&&t<=lu.nine)return t-lu.zero;if(t>=lu.A&&t<=lu.F)return t-(lu.A-10);if(t>=lu.a&&t<=lu.f)return t-(lu.a-10)}function Hse(t,e={}){let n=t;e.size&&(bw(n,{size:e.size}),n=_w(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=YH(r.charCodeAt(a++)),l=YH(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new gm(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function uWe(t,e){const n=Vse(t,e);return Hse(n)}function Wse(t,e={}){const n=aWe.encode(t);return typeof e.size=="number"?(bw(n,{size:e.size}),_w(n,{dir:"right",size:e.size})):n}function HI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function dWe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function IO(t,...e){if(!dWe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Kat(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");HI(t.outputLen),HI(t.blockLen)}function QH(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hWe(t,e){IO(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const bC=BigInt(2**32-1),ZH=BigInt(32);function fWe(t,e=!1){return e?{h:Number(t&bC),l:Number(t>>ZH&bC)}:{h:Number(t>>ZH&bC)|0,l:Number(t&bC)|0}}function pWe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=fWe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const mWe=(t,e,n)=>t<<n|e>>>32-n,gWe=(t,e,n)=>e<<n|t>>>32-n,yWe=(t,e,n)=>e<<n-32|t>>>64-n,vWe=(t,e,n)=>t<<n-32|e>>>64-n,Ag=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wWe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yat(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Qat(t,e){return t<<32-e|t>>>e}const JH=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function _We(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function XH(t){for(let e=0;e<t.length;e++)t[e]=_We(t[e])}function bWe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function qse(t){return typeof t=="string"&&(t=bWe(t)),IO(t),t}function Zat(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];IO(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class EWe{clone(){return this._cloneInto()}}function AWe(t){const e=r=>t().update(qse(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Jat(t=32){if(Ag&&typeof Ag.getRandomValues=="function")return Ag.getRandomValues(new Uint8Array(t));if(Ag&&typeof Ag.randomBytes=="function")return Ag.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const Gse=[],Kse=[],Yse=[],CWe=BigInt(0),T0=BigInt(1),TWe=BigInt(2),SWe=BigInt(7),IWe=BigInt(256),xWe=BigInt(113);for(let t=0,e=T0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Gse.push(2*(5*r+n)),Kse.push((t+1)*(t+2)/2%64);let i=CWe;for(let s=0;s<7;s++)e=(e<<T0^(e>>SWe)*xWe)%IWe,e&TWe&&(i^=T0<<(T0<<BigInt(s))-T0);Yse.push(i)}const[PWe,OWe]=pWe(Yse,!0),e7=(t,e,n)=>n>32?yWe(t,e,n):mWe(t,e,n),t7=(t,e,n)=>n>32?vWe(t,e,n):gWe(t,e,n);function DWe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=e7(l,u,1)^n[a],f=t7(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Kse[o],c=e7(i,s,a),l=t7(i,s,a),u=Gse[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=PWe[r],t[1]^=OWe[r]}n.fill(0)}class zj extends EWe{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,HI(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=wWe(this.state)}keccak(){JH||XH(this.state32),DWe(this.state32,this.rounds),JH||XH(this.state32),this.posOut=0,this.pos=0}update(e){QH(this);const{blockLen:n,state:r}=this;e=qse(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){QH(this,!1),IO(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return HI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hWe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new zj(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const NWe=(t,e,n)=>AWe(()=>new zj(e,t,n)),RWe=NWe(1,136,256/8);function Qse(t,e){const n=e||"hex",r=RWe(aE(t,{strict:!1})?cWe(t):t);return n==="bytes"?r:NL(r)}class kWe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const mR=new kWe(8192);function MWe(t,e){if(mR.has(`${t}.${e}`))return mR.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Qse(Wse(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return mR.set(`${t}.${e}`,s),s}function LWe(t){const e=Qse(`0x${t.substring(4)}`).substring(26);return MWe(`0x${e}`)}async function FWe({hash:t,signature:e}){const n=aE(t)?t:NL(t),{secp256k1:r}=await Ao(()=>import("./secp256k1-b3f0faf4.js"),[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:h,yParity:f}=e,p=Number(f??h),g=n7(p);return new r.Signature(DL(l),DL(u)).addRecoveryBit(g)}const o=aE(e)?e:NL(e),a=nWe(`0x${o.slice(130)}`),c=n7(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function n7(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function $We({hash:t,signature:e}){return LWe(await FWe({hash:t,signature:e}))}function UWe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,h=0,f=0;const p=l.length;for(;f!==p&&l[f]===0;)f++,u++;const g=(p-f)*s+1>>>0,y=new Uint8Array(g);for(;f!==p;){let w=l[f],A=0;for(let S=g-1;(w!==0||A<h)&&S!==-1;S--,A++)w+=256*y[S]>>>0,y[S]=w%n>>>0,w=w/n>>>0;if(w!==0)throw new Error("Non-zero carry");h=A,f++}let v=g-h;for(;v!==g&&y[v]===0;)v++;let b=r.repeat(u);for(;v<g;++v)b+=t.charAt(y[v]);return b}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;l[u]===r;)h++,u++;const p=(l.length-u)*i+1>>>0,g=new Uint8Array(p);for(;u<l.length;){const w=l.charCodeAt(u);if(w>255)return;let A=e[w];if(A===255)return;let S=0;for(let P=p-1;(A!==0||S<f)&&P!==-1;P--,S++)A+=n*g[P]>>>0,g[P]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");f=S,u++}let y=p-f;for(;y!==p&&g[y]===0;)y++;const v=new Uint8Array(h+(p-y));let b=h;for(;y!==p;)v[b++]=g[y++];return v}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var jWe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Zse=UWe(jWe);function Jse(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function x_(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Jse(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function BWe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,b=0,w=g.length;b!==w&&g[b]===0;)b++,y++;for(var A=(w-b)*u+1>>>0,S=new Uint8Array(A);b!==w;){for(var P=g[b],D=0,C=A-1;(P!==0||D<v)&&C!==-1;C--,D++)P+=256*S[C]>>>0,S[C]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");v=D,b++}for(var I=A-v;I!==A&&S[I]===0;)I++;for(var x=c.repeat(y);I<A;++I)x+=t.charAt(S[I]);return x}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,b=0;g[y]===c;)v++,y++;for(var w=(g.length-y)*l+1>>>0,A=new Uint8Array(w);g[y];){var S=n[g.charCodeAt(y)];if(S===255)return;for(var P=0,D=w-1;(S!==0||P<b)&&D!==-1;D--,P++)S+=a*A[D]>>>0,A[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");b=P,y++}if(g[y]!==" "){for(var C=w-b;C!==w&&A[C]===0;)C++;for(var I=new Uint8Array(v+(w-C)),x=v;C!==w;)I[x++]=A[C++];return I}}}function p(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var zWe=BWe,VWe=zWe;const HWe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},WWe=t=>new TextEncoder().encode(t),qWe=t=>new TextDecoder().decode(t);class GWe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class KWe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Xse(this,e)}}class YWe{constructor(e){this.decoders=e}or(e){return Xse(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Xse=(t,e)=>new YWe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class QWe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new GWe(e,n,r),this.decoder=new KWe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const xO=({name:t,prefix:e,encode:n,decode:r})=>new QWe(t,e,n,r),L1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=VWe(n,e);return xO({prefix:t,name:e,encode:r,decode:s=>HWe(i(s))})},ZWe=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},JWe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},As=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>xO({prefix:e,name:t,encode(i){return JWe(i,r,n)},decode(i){return ZWe(i,r,n,t)}}),XWe=xO({prefix:"\0",name:"identity",encode:t=>qWe(t),decode:t=>WWe(t)}),eqe=Object.freeze(Object.defineProperty({__proto__:null,identity:XWe},Symbol.toStringTag,{value:"Module"})),tqe=As({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),nqe=Object.freeze(Object.defineProperty({__proto__:null,base2:tqe},Symbol.toStringTag,{value:"Module"})),rqe=As({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),iqe=Object.freeze(Object.defineProperty({__proto__:null,base8:rqe},Symbol.toStringTag,{value:"Module"})),sqe=L1({prefix:"9",name:"base10",alphabet:"0123456789"}),oqe=Object.freeze(Object.defineProperty({__proto__:null,base10:sqe},Symbol.toStringTag,{value:"Module"})),aqe=As({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cqe=As({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),lqe=Object.freeze(Object.defineProperty({__proto__:null,base16:aqe,base16upper:cqe},Symbol.toStringTag,{value:"Module"})),uqe=As({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dqe=As({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hqe=As({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fqe=As({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pqe=As({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mqe=As({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gqe=As({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yqe=As({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vqe=As({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),wqe=Object.freeze(Object.defineProperty({__proto__:null,base32:uqe,base32hex:pqe,base32hexpad:gqe,base32hexpadupper:yqe,base32hexupper:mqe,base32pad:hqe,base32padupper:fqe,base32upper:dqe,base32z:vqe},Symbol.toStringTag,{value:"Module"})),_qe=L1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),bqe=L1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Eqe=Object.freeze(Object.defineProperty({__proto__:null,base36:_qe,base36upper:bqe},Symbol.toStringTag,{value:"Module"})),Aqe=L1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Cqe=L1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Tqe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Aqe,base58flickr:Cqe},Symbol.toStringTag,{value:"Module"})),Sqe=As({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Iqe=As({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xqe=As({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Pqe=As({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Oqe=Object.freeze(Object.defineProperty({__proto__:null,base64:Sqe,base64pad:Iqe,base64url:xqe,base64urlpad:Pqe},Symbol.toStringTag,{value:"Module"})),eoe=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Dqe=eoe.reduce((t,e,n)=>(t[n]=e,t),[]),Nqe=eoe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Rqe(t){return t.reduce((e,n)=>(e+=Dqe[n],e),"")}function kqe(t){const e=[];for(const n of t){const r=Nqe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Mqe=xO({prefix:"🚀",name:"base256emoji",encode:Rqe,decode:kqe}),Lqe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Mqe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const r7={...eqe,...nqe,...iqe,...oqe,...lqe,...wqe,...Eqe,...Tqe,...Oqe,...Lqe};function toe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const i7=toe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),gR=toe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Jse(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),noe={utf8:i7,"utf-8":i7,hex:r7.base16,latin1:gR,ascii:gR,binary:gR,...r7};function $a(t,e="utf8"){const n=noe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function $o(t,e="utf8"){const n=noe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Fqe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},$qe=":";function Uy(t){const[e,n]=t.split($qe);return{namespace:e,reference:n}}function Xat(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function roe(t,e){return t.includes(":")?[t]:e.chains||[]}var Uqe=Object.defineProperty,jqe=Object.defineProperties,Bqe=Object.getOwnPropertyDescriptors,s7=Object.getOwnPropertySymbols,zqe=Object.prototype.hasOwnProperty,Vqe=Object.prototype.propertyIsEnumerable,o7=(t,e,n)=>e in t?Uqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a7=(t,e)=>{for(var n in e||(e={}))zqe.call(e,n)&&o7(t,n,e[n]);if(s7)for(var n of s7(e))Vqe.call(e,n)&&o7(t,n,e[n]);return t},Hqe=(t,e)=>jqe(t,Bqe(e));const Wqe="ReactNative",ta={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},qqe="js";function WI(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function xf(){return!M1()&&!!jj()&&navigator.product===Wqe}function Gqe(){return xf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Kqe(){return xf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function F1(){return!WI()&&!!jj()&&!!M1()}function $1(){return xf()?ta.reactNative:WI()?ta.node:F1()?ta.browser:ta.unknown}function c7(){var t;try{return xf()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Yqe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function Qqe(t){var e,n;const r=ioe();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Hqe(a7(a7({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function ioe(){return $se()||{name:"",description:"",url:"",icons:[""]}}function Zqe(){if($1()===ta.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=L7e();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Jqe(){var t;const e=$1();return e===ta.browser?[e,((t=Fse())==null?void 0:t.host)||"unknown"].join(":"):e}function soe(t,e,n){const r=Zqe(),i=Jqe();return[[t,e].join("-"),[qqe,n].join("-"),r,i].join("/")}function Xqe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=soe(t,e,r),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},f=Yqe(l[1]||"",h);return l[0]+"?"+f}function mp(t,e){return t.filter(n=>e.includes(n)).length===t.length}function RL(t){return Object.fromEntries(t.entries())}function kL(t){return new Map(Object.entries(t))}function Wf(t=De.FIVE_MINUTES,e){const n=De.toMiliseconds(t||De.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Eh(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function ooe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function eGe(t){return ooe("topic",t)}function tGe(t){return ooe("id",t)}function aoe(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ci(t,e){return De.fromMiliseconds((e||Date.now())+De.toMiliseconds(t))}function Qd(t){return Date.now()>=De.toMiliseconds(t)}function Ln(t,e){return`${t}${e?`:${e}`:""}`}function RT(t=[],e=[]){return[...new Set([...t,...e])]}async function nGe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=rGe(s,t,e),a=$1();if(a===ta.browser){if(!((r=M1())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}iGe(o)}else a===ta.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function rGe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${cGe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function iGe(t){let e="_self";aGe()?e="_top":(oGe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function sGe(t,e){let n="";try{if(F1()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function l7(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function u7(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Vj(){return typeof process<"u"&&{}.IS_VITEST==="true"}function oGe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function aGe(){try{return window.self!==window.top}catch{return!1}}function cGe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function coe(t){return Buffer.from(t,"base64").toString("utf-8")}function lGe(t){return new Promise(e=>setTimeout(e,t))}function cE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function uGe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function U1(t,...e){if(!uGe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Hj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cE(t.outputLen),cE(t.blockLen)}function Rv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function loe(t,e){U1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const EC=BigInt(2**32-1),d7=BigInt(32);function dGe(t,e=!1){return e?{h:Number(t&EC),l:Number(t>>d7&EC)}:{h:Number(t>>d7&EC)|0,l:Number(t&EC)|0}}function hGe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=dGe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const fGe=(t,e,n)=>t<<n|e>>>32-n,pGe=(t,e,n)=>e<<n|t>>>32-n,mGe=(t,e,n)=>e<<n-32|t>>>64-n,gGe=(t,e,n)=>t<<n-32|e>>>64-n,Cg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function yGe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function yR(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Zc(t,e){return t<<32-e|t>>>e}const h7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function vGe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function f7(t){for(let e=0;e<t.length;e++)t[e]=vGe(t[e])}function wGe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function kv(t){return typeof t=="string"&&(t=wGe(t)),U1(t),t}function _Ge(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];U1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Wj=class{clone(){return this._cloneInto()}};function uoe(t){const e=r=>t().update(kv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Ew(t=32){if(Cg&&typeof Cg.getRandomValues=="function")return Cg.getRandomValues(new Uint8Array(t));if(Cg&&typeof Cg.randomBytes=="function")return Cg.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const doe=[],hoe=[],foe=[],bGe=BigInt(0),S0=BigInt(1),EGe=BigInt(2),AGe=BigInt(7),CGe=BigInt(256),TGe=BigInt(113);for(let t=0,e=S0,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],doe.push(2*(5*r+n)),hoe.push((t+1)*(t+2)/2%64);let i=bGe;for(let s=0;s<7;s++)e=(e<<S0^(e>>AGe)*TGe)%CGe,e&EGe&&(i^=S0<<(S0<<BigInt(s))-S0);foe.push(i)}const[SGe,IGe]=hGe(foe,!0),p7=(t,e,n)=>n>32?mGe(t,e,n):fGe(t,e,n),m7=(t,e,n)=>n>32?gGe(t,e,n):pGe(t,e,n);function xGe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=p7(l,u,1)^n[a],f=m7(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=hoe[o],c=p7(i,s,a),l=m7(i,s,a),u=doe[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=SGe[r],t[1]^=IGe[r]}n.fill(0)}let PGe=class poe extends Wj{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cE(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yGe(this.state)}keccak(){h7||f7(this.state32),xGe(this.state32,this.rounds),h7||f7(this.state32),this.posOut=0,this.pos=0}update(e){Rv(this);const{blockLen:n,state:r}=this;e=kv(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Rv(this,!1),U1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return cE(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(loe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new poe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const OGe=(t,e,n)=>uoe(()=>new PGe(e,t,n)),DGe=OGe(1,136,256/8),NGe="https://rpc.walletconnect.org/v1";function moe(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(DGe(n)).toString("hex")}async function RGe(t,e,n,r,i,s){switch(n.t){case"eip191":return await kGe(t,e,n.s);case"eip1271":return await MGe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function kGe(t,e,n){return(await $We({hash:moe(e),signature:n})).toLowerCase()===t.toLowerCase()}async function MGe(t,e,n,r,i,s){const o=Uy(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),h=moe(e).substring(2),f=a+h+c+l+u,p=await fetch(`${s||NGe}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:LGe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:g}=await p.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function LGe(){return Date.now()+Math.floor(Math.random()*1e3)}function FGe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Zse.encode(s)}var $Ge=Object.defineProperty,UGe=Object.defineProperties,jGe=Object.getOwnPropertyDescriptors,g7=Object.getOwnPropertySymbols,BGe=Object.prototype.hasOwnProperty,zGe=Object.prototype.propertyIsEnumerable,y7=(t,e,n)=>e in t?$Ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VGe=(t,e)=>{for(var n in e||(e={}))BGe.call(e,n)&&y7(t,n,e[n]);if(g7)for(var n of g7(e))zGe.call(e,n)&&y7(t,n,e[n]);return t},HGe=(t,e)=>UGe(t,jGe(e));const WGe="did:pkh:",qj=t=>t==null?void 0:t.split(":"),qGe=t=>{const e=t&&qj(t);if(e)return t.includes(WGe)?e[3]:e[1]},ML=t=>{const e=t&&qj(t);if(e)return e[2]+":"+e[3]},qI=t=>{const e=t&&qj(t);if(e)return e.pop()};async function v7(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=goe(i,i.iss),o=qI(i.iss);return await RGe(o,s,r,ML(i.iss),n)}const goe=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=qI(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${qGe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(y=>`
- ${y}`).join("")}`:void 0,g=kT(t.resources);if(g){const y=lE(g);i=tKe(i,y)}return[n,r,"",i,"",s,o,a,c,l,u,h,f,p].filter(y=>y!=null).join(`
`)};function GGe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function KGe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ym(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function YGe(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:QGe(e,n,r)}}}function QGe(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function yoe(t){return ym(t),`urn:recap:${GGe(t).replace(/=/g,"")}`}function lE(t){const e=KGe(t.replace("urn:recap:",""));return ym(e),e}function ZGe(t,e,n){const r=YGe(t,e,n);return yoe(r)}function JGe(t){return t&&t.includes("urn:recap:")}function XGe(t,e){const n=lE(t),r=lE(e),i=eKe(n,r);return yoe(i)}function eKe(t,e){ym(t),ym(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=HGe(VGe({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function tKe(t="",e){ym(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));c.sort((h,f)=>h.action.localeCompare(f.action));const l={};c.forEach(h=>{l[h.ability]||(l[h.ability]=[]),l[h.ability].push(h.action)});const u=Object.keys(l).map(h=>(i++,`(${i}) '${h}': '${l[h].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function w7(t){var e;const n=lE(t);ym(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function _7(t){const e=lE(t);ym(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function kT(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return JGe(e)?e:void 0}function vR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function voe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zo(t,...e){if(!voe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function b7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nKe(t,e){Zo(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function E7(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Vh=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),rKe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),iKe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!iKe)throw new Error("Non little-endian hardware is not supported");function sKe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function LL(t){if(typeof t=="string")t=sKe(t);else if(voe(t))t=FL(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function oKe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function aKe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const cKe=(t,e)=>{function n(r,...i){if(Zo(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Zo(l):Zo(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Zo(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Zo(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Zo(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Zo(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function A7(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!lKe(e))throw new Error("invalid output, must be aligned");return e}function C7(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function lKe(t){return t.byteOffset%4===0}function FL(t){return Uint8Array.from(t)}function Mv(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const woe=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),uKe=woe("expand 16-byte k"),dKe=woe("expand 32-byte k"),hKe=Vh(uKe),fKe=Vh(dKe);function In(t,e){return t<<e|t>>>32-e}function $L(t){return t.byteOffset%4===0}const AC=64,pKe=16,_oe=2**32-1,T7=new Uint32Array;function mKe(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(AC),u=Vh(l),h=$L(i)&&$L(s),f=h?Vh(i):T7,p=h?Vh(s):T7;for(let g=0;g<c;o++){if(t(e,n,r,u,o,a),o>=_oe)throw new Error("arx: counter overflow");const y=Math.min(AC,c-g);if(h&&y===AC){const v=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let b=0,w;b<pKe;b++)w=v+b,p[w]=f[w]^u[b];g+=AC;continue}for(let v=0,b;v<y;v++)b=g+v,s[b]=i[b]^l[v];g+=y}}function gKe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=oKe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return vR(i),vR(o),E7(s),E7(n),(a,c,l,u,h=0)=>{Zo(a),Zo(c),Zo(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),Zo(u),vR(h),h<0||h>=_oe)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let g=a.length,y,v;if(g===32)p.push(y=FL(a)),v=fKe;else if(g===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),v=hKe,p.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);$L(c)||p.push(c=FL(c));const b=Vh(y);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(v,b,Vh(c.subarray(0,16)),b),c=c.subarray(16)}const w=16-i;if(w!==c.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(w!==12){const S=new Uint8Array(12);S.set(c,s?0:12-c.length),c=S,p.push(c)}const A=Vh(c);return mKe(t,v,b,A,l,u,h,o),Mv(...p),u}}const ts=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class yKe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=LL(e),Zo(e,32);const n=ts(e,0),r=ts(e,2),i=ts(e,4),s=ts(e,6),o=ts(e,8),a=ts(e,10),c=ts(e,12),l=ts(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ts(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],h=o[4],f=o[5],p=o[6],g=o[7],y=o[8],v=o[9],b=ts(e,n+0),w=ts(e,n+2),A=ts(e,n+4),S=ts(e,n+6),P=ts(e,n+8),D=ts(e,n+10),C=ts(e,n+12),I=ts(e,n+14);let x=s[0]+(b&8191),N=s[1]+((b>>>13|w<<3)&8191),R=s[2]+((w>>>10|A<<6)&8191),$=s[3]+((A>>>7|S<<9)&8191),U=s[4]+((S>>>4|P<<12)&8191),Y=s[5]+(P>>>1&8191),z=s[6]+((P>>>14|D<<2)&8191),j=s[7]+((D>>>11|C<<5)&8191),q=s[8]+((C>>>8|I<<8)&8191),V=s[9]+(I>>>5|i),Q=0,K=Q+x*a+N*(5*v)+R*(5*y)+$*(5*g)+U*(5*p);Q=K>>>13,K&=8191,K+=Y*(5*f)+z*(5*h)+j*(5*u)+q*(5*l)+V*(5*c),Q+=K>>>13,K&=8191;let ee=Q+x*c+N*a+R*(5*v)+$*(5*y)+U*(5*g);Q=ee>>>13,ee&=8191,ee+=Y*(5*p)+z*(5*f)+j*(5*h)+q*(5*u)+V*(5*l),Q+=ee>>>13,ee&=8191;let ne=Q+x*l+N*c+R*a+$*(5*v)+U*(5*y);Q=ne>>>13,ne&=8191,ne+=Y*(5*g)+z*(5*p)+j*(5*f)+q*(5*h)+V*(5*u),Q+=ne>>>13,ne&=8191;let le=Q+x*u+N*l+R*c+$*a+U*(5*v);Q=le>>>13,le&=8191,le+=Y*(5*y)+z*(5*g)+j*(5*p)+q*(5*f)+V*(5*h),Q+=le>>>13,le&=8191;let ce=Q+x*h+N*u+R*l+$*c+U*a;Q=ce>>>13,ce&=8191,ce+=Y*(5*v)+z*(5*y)+j*(5*g)+q*(5*p)+V*(5*f),Q+=ce>>>13,ce&=8191;let re=Q+x*f+N*h+R*u+$*l+U*c;Q=re>>>13,re&=8191,re+=Y*a+z*(5*v)+j*(5*y)+q*(5*g)+V*(5*p),Q+=re>>>13,re&=8191;let de=Q+x*p+N*f+R*h+$*u+U*l;Q=de>>>13,de&=8191,de+=Y*c+z*a+j*(5*v)+q*(5*y)+V*(5*g),Q+=de>>>13,de&=8191;let ve=Q+x*g+N*p+R*f+$*h+U*u;Q=ve>>>13,ve&=8191,ve+=Y*l+z*c+j*a+q*(5*v)+V*(5*y),Q+=ve>>>13,ve&=8191;let Ne=Q+x*y+N*g+R*p+$*f+U*h;Q=Ne>>>13,Ne&=8191,Ne+=Y*u+z*l+j*c+q*a+V*(5*v),Q+=Ne>>>13,Ne&=8191;let Fe=Q+x*v+N*y+R*g+$*p+U*f;Q=Fe>>>13,Fe&=8191,Fe+=Y*h+z*u+j*l+q*c+V*a,Q+=Fe>>>13,Fe&=8191,Q=(Q<<2)+Q|0,Q=Q+K|0,K=Q&8191,Q=Q>>>13,ee+=Q,s[0]=K,s[1]=ee,s[2]=ne,s[3]=le,s[4]=ce,s[5]=re,s[6]=de,s[7]=ve,s[8]=Ne,s[9]=Fe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Mv(r)}update(e){b7(this);const{buffer:n,blockLen:r}=this;e=LL(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Mv(this.h,this.r,this.buffer,this.pad)}digestInto(e){b7(this),nKe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function vKe(t){const e=(r,i)=>t(i).update(LL(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const wKe=vKe(t=>new yKe(t));function _Ke(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],h=e[1],f=e[2],p=e[3],g=e[4],y=e[5],v=e[6],b=e[7],w=i,A=n[0],S=n[1],P=n[2],D=o,C=a,I=c,x=l,N=u,R=h,$=f,U=p,Y=g,z=y,j=v,q=b,V=w,Q=A,K=S,ee=P;for(let le=0;le<s;le+=2)D=D+N|0,V=In(V^D,16),Y=Y+V|0,N=In(N^Y,12),D=D+N|0,V=In(V^D,8),Y=Y+V|0,N=In(N^Y,7),C=C+R|0,Q=In(Q^C,16),z=z+Q|0,R=In(R^z,12),C=C+R|0,Q=In(Q^C,8),z=z+Q|0,R=In(R^z,7),I=I+$|0,K=In(K^I,16),j=j+K|0,$=In($^j,12),I=I+$|0,K=In(K^I,8),j=j+K|0,$=In($^j,7),x=x+U|0,ee=In(ee^x,16),q=q+ee|0,U=In(U^q,12),x=x+U|0,ee=In(ee^x,8),q=q+ee|0,U=In(U^q,7),D=D+R|0,ee=In(ee^D,16),j=j+ee|0,R=In(R^j,12),D=D+R|0,ee=In(ee^D,8),j=j+ee|0,R=In(R^j,7),C=C+$|0,V=In(V^C,16),q=q+V|0,$=In($^q,12),C=C+$|0,V=In(V^C,8),q=q+V|0,$=In($^q,7),I=I+U|0,Q=In(Q^I,16),Y=Y+Q|0,U=In(U^Y,12),I=I+U|0,Q=In(Q^I,8),Y=Y+Q|0,U=In(U^Y,7),x=x+N|0,K=In(K^x,16),z=z+K|0,N=In(N^z,12),x=x+N|0,K=In(K^x,8),z=z+K|0,N=In(N^z,7);let ne=0;r[ne++]=o+D|0,r[ne++]=a+C|0,r[ne++]=c+I|0,r[ne++]=l+x|0,r[ne++]=u+N|0,r[ne++]=h+R|0,r[ne++]=f+$|0,r[ne++]=p+U|0,r[ne++]=g+Y|0,r[ne++]=y+z|0,r[ne++]=v+j|0,r[ne++]=b+q|0,r[ne++]=w+V|0,r[ne++]=A+Q|0,r[ne++]=S+K|0,r[ne++]=P+ee|0}const bKe=gKe(_Ke,{counterRight:!1,counterLength:4,allowShortKeys:!1}),EKe=new Uint8Array(16),S7=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(EKe.subarray(n))},AKe=new Uint8Array(32);function I7(t,e,n,r,i){const s=t(e,n,AKe),o=wKe.create(s);i&&S7(o,i),S7(o,r);const a=new Uint8Array(16),c=rKe(a);C7(c,0,BigInt(i?i.length:0),!0),C7(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return Mv(s,a),l}const CKe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=A7(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=I7(t,e,n,a,r);return s.set(c,o),Mv(c),s},decrypt(i,s){s=A7(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=I7(t,e,n,o,r);if(!aKe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Mv(c),s}}),boe=cKe({blockSize:64,nonceLength:12,tagLength:16},CKe(bKe));let Eoe=class extends Wj{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Hj(e);const r=kv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Rv(this),this.iHash.update(e),this}digestInto(e){Rv(this),U1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const PO=(t,e,n)=>new Eoe(t,e).update(n).digest();PO.create=(t,e)=>new Eoe(t,e);function TKe(t,e,n){return Hj(t),n===void 0&&(n=new Uint8Array(t.outputLen)),PO(t,kv(n),kv(e))}const wR=new Uint8Array([0]),x7=new Uint8Array;function SKe(t,e,n,r=32){if(Hj(t),cE(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=x7);const s=new Uint8Array(i*t.outputLen),o=PO.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)wR[0]=l+1,a.update(l===0?x7:c).update(n).update(wR).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),wR.fill(0),s.slice(0,r)}const IKe=(t,e,n,r,i)=>SKe(t,TKe(t,e,n),r,i);function xKe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function PKe(t,e,n){return t&e^~t&n}function OKe(t,e,n){return t&e^t&n^e&n}let DKe=class extends Wj{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yR(this.buffer)}update(e){Rv(this);const{view:n,buffer:r,blockLen:i}=this;e=kv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=yR(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rv(this),loe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;xKe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=yR(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const NKe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bd=new Uint32Array(64);class RKe extends DKe{constructor(){super(64,32,8,!1),this.A=jd[0]|0,this.B=jd[1]|0,this.C=jd[2]|0,this.D=jd[3]|0,this.E=jd[4]|0,this.F=jd[5]|0,this.G=jd[6]|0,this.H=jd[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Bd[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=Bd[h-15],p=Bd[h-2],g=Zc(f,7)^Zc(f,18)^f>>>3,y=Zc(p,17)^Zc(p,19)^p>>>10;Bd[h]=y+Bd[h-7]+g+Bd[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const f=Zc(a,6)^Zc(a,11)^Zc(a,25),p=u+f+PKe(a,c,l)+NKe[h]+Bd[h]|0,g=(Zc(r,2)^Zc(r,13)^Zc(r,22))+OKe(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Bd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const j1=uoe(()=>new RKe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OO=BigInt(0),DO=BigInt(1),kKe=BigInt(2);function vm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function B1(t){if(!vm(t))throw new Error("Uint8Array expected")}function Lv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const MKe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fv(t){B1(t);let e="";for(let n=0;n<t.length;n++)e+=MKe[t[n]];return e}function yy(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Gj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?OO:BigInt("0x"+t)}const uu={_0:48,_9:57,A:65,F:70,a:97,f:102};function P7(t){if(t>=uu._0&&t<=uu._9)return t-uu._0;if(t>=uu.A&&t<=uu.F)return t-(uu.A-10);if(t>=uu.a&&t<=uu.f)return t-(uu.a-10)}function $v(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=P7(t.charCodeAt(s)),a=P7(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Mp(t){return Gj(Fv(t))}function uE(t){return B1(t),Gj(Fv(Uint8Array.from(t).reverse()))}function Uv(t,e){return $v(t.toString(16).padStart(e*2,"0"))}function NO(t,e){return Uv(t,e).reverse()}function LKe(t){return $v(yy(t))}function Yo(t,e,n){let r;if(typeof e=="string")try{r=$v(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(vm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function dE(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];B1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function FKe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function $Ke(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const _R=t=>typeof t=="bigint"&&OO<=t;function RO(t,e,n){return _R(t)&&_R(e)&&_R(n)&&e<=t&&t<n}function zu(t,e,n,r){if(!RO(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Aoe(t){let e;for(e=0;t>OO;t>>=DO,e+=1);return e}function UKe(t,e){return t>>BigInt(e)&DO}function jKe(t,e,n){return t|(n?DO:OO)<<BigInt(e)}const Kj=t=>(kKe<<BigInt(t-1))-DO,bR=t=>new Uint8Array(t),O7=t=>Uint8Array.from(t);function Coe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=bR(t),i=bR(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=bR())=>{i=a(O7([0]),u),r=a(),u.length!==0&&(i=a(O7([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<e;){r=a();const f=r.slice();h.push(f),u+=r.length}return dE(...h)};return(u,h)=>{o(),c(u);let f;for(;!(f=h(l()));)c();return o(),f}}const BKe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||vm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Aw(t,e,n={}){const r=(i,s,o)=>{const a=BKe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const zKe=()=>{throw new Error("not implemented")};function UL(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var VKe=Object.freeze({__proto__:null,isBytes:vm,abytes:B1,abool:Lv,bytesToHex:Fv,numberToHexUnpadded:yy,hexToNumber:Gj,hexToBytes:$v,bytesToNumberBE:Mp,bytesToNumberLE:uE,numberToBytesBE:Uv,numberToBytesLE:NO,numberToVarBytesBE:LKe,ensureBytes:Yo,concatBytes:dE,equalBytes:FKe,utf8ToBytes:$Ke,inRange:RO,aInRange:zu,bitLen:Aoe,bitGet:UKe,bitSet:jKe,bitMask:Kj,createHmacDrbg:Coe,validateObject:Aw,notImplemented:zKe,memoized:UL});const Gi=BigInt(0),si=BigInt(1),Jf=BigInt(2),HKe=BigInt(3),jL=BigInt(4),D7=BigInt(5),N7=BigInt(8);function To(t,e){const n=t%e;return n>=Gi?n:e+n}function Toe(t,e,n){if(e<Gi)throw new Error("invalid exponent, negatives unsupported");if(n<=Gi)throw new Error("invalid modulus");if(n===si)return Gi;let r=si;for(;e>Gi;)e&si&&(r=r*t%n),t=t*t%n,e>>=si;return r}function dc(t,e,n){let r=t;for(;e-- >Gi;)r*=r,r%=n;return r}function BL(t,e){if(t===Gi)throw new Error("invert: expected non-zero number");if(e<=Gi)throw new Error("invert: expected positive modulus, got "+e);let n=To(t,e),r=e,i=Gi,s=si;for(;n!==Gi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==si)throw new Error("invert: does not exist");return To(i,e)}function WKe(t){const e=(t-si)/Jf;let n,r,i;for(n=t-si,r=0;n%Jf===Gi;n/=Jf,r++);for(i=Jf;i<t&&Toe(i,e,t)!==t-si;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+si)/jL;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+si)/Jf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let g=o.sqr(h);f<c&&!o.eql(g,o.ONE);f++)g=o.sqr(g);const p=o.pow(l,si<<BigInt(c-f-1));l=o.sqr(p),u=o.mul(u,p),h=o.mul(h,l),c=f}return u}}function qKe(t){if(t%jL===HKe){const e=(t+si)/jL;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%N7===D7){const e=(t-D7)/N7;return function(n,r){const i=n.mul(r,Jf),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Jf),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return WKe(t)}const GKe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KKe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=GKe.reduce((r,i)=>(r[i]="function",r),e);return Aw(t,n)}function YKe(t,e,n){if(n<Gi)throw new Error("invalid exponent, negatives unsupported");if(n===Gi)return t.ONE;if(n===si)return e;let r=t.ONE,i=e;for(;n>Gi;)n&si&&(r=t.mul(r,i)),i=t.sqr(i),n>>=si;return r}function QKe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Soe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ioe(t,e,n=!1,r={}){if(t<=Gi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Soe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Kj(i),ZERO:Gi,ONE:si,create:c=>To(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Gi<=c&&c<t},is0:c=>c===Gi,isOdd:c=>(c&si)===si,neg:c=>To(-c,t),eql:(c,l)=>c===l,sqr:c=>To(c*c,t),add:(c,l)=>To(c+l,t),sub:(c,l)=>To(c-l,t),mul:(c,l)=>To(c*l,t),pow:(c,l)=>YKe(a,c,l),div:(c,l)=>To(c*BL(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>BL(c,t),sqrt:r.sqrt||(c=>(o||(o=qKe(t)),o(a,c))),invertBatch:c=>QKe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?NO(c,s):Uv(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?uE(c):Mp(c)}});return Object.freeze(a)}function xoe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Poe(t){const e=xoe(t);return e+Math.ceil(e/2)}function ZKe(t,e,n=!1){const r=t.length,i=xoe(e),s=Poe(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?uE(t):Mp(t),a=To(o,e-si)+si;return n?NO(a,i):Uv(a,i)}const R7=BigInt(0),CC=BigInt(1);function ER(t,e){const n=e.negate();return t?n:e}function Ooe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function AR(t,e){Ooe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function JKe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function XKe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const CR=new WeakMap,Doe=new WeakMap;function TR(t){return Doe.get(t)||1}function eYe(t,e){return{constTimeNegate:ER,hasPrecomputes(n){return TR(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>R7;)r&CC&&(i=i.add(s)),s=s.double(),r>>=CC;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=AR(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=AR(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let g=Number(i&l);i>>=h,g>o&&(g-=u,i+=CC);const y=p,v=p+Math.abs(g)-1,b=f%2!==0,w=g<0;g===0?c=c.add(ER(b,r[y])):a=a.add(ER(w,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=AR(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===R7)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=CC),p===0)continue;let g=r[f+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=CR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&CR.set(r,i(s))),s},wNAFCached(n,r,i){const s=TR(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=TR(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Ooe(r,e),Doe.set(n,r),CR.delete(n)}}}function tYe(t,e,n,r){if(JKe(n,t),XKe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Aoe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let p=0;p<r.length;p++){const g=r[p],y=Number(g>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[p])}let f=i;for(let p=c.length-1,g=i;p>0;p--)g=g.add(c[p]),f=f.add(g);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function Noe(t){return KKe(t.Fp),Aw(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Soe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Tg=BigInt(0),SR=BigInt(1);function nYe(t){return Aw(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function rYe(t){const e=nYe(t),{P:n}=e,r=w=>To(w,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(w=>w),c=e.powPminus2||(w=>Toe(w,n-BigInt(2),n));function l(w,A,S){const P=r(w*(A-S));return A=r(A-P),S=r(S+P),[A,S]}const u=(e.a-BigInt(2))/BigInt(4);function h(w,A){zu("u",w,Tg,n),zu("scalar",A,Tg,n);const S=A,P=w;let D=SR,C=Tg,I=w,x=SR,N=Tg,R;for(let U=BigInt(i-1);U>=Tg;U--){const Y=S>>U&SR;N^=Y,R=l(N,D,I),D=R[0],I=R[1],R=l(N,C,x),C=R[0],x=R[1],N=Y;const z=D+C,j=r(z*z),q=D-C,V=r(q*q),Q=j-V,K=I+x,ee=I-x,ne=r(ee*z),le=r(K*q),ce=ne+le,re=ne-le;I=r(ce*ce),x=r(P*r(re*re)),D=r(j*V),C=r(Q*(j+r(u*Q)))}R=l(N,D,I),D=R[0],I=R[1],R=l(N,C,x),C=R[0],x=R[1];const $=c(C);return r(D*$)}function f(w){return NO(r(w),s)}function p(w){const A=Yo("u coordinate",w,s);return o===32&&(A[31]&=127),uE(A)}function g(w){const A=Yo("scalar",w),S=A.length;if(S!==s&&S!==o){let P=""+s+" or "+o;throw new Error("invalid scalar, expected "+P+" bytes, got "+S)}return uE(a(A))}function y(w,A){const S=p(A),P=g(w),D=h(S,P);if(D===Tg)throw new Error("invalid private or public key received");return f(D)}const v=f(e.Gu);function b(w){return y(w,v)}return{scalarMult:y,scalarMultBase:b,getSharedSecret:(w,A)=>y(w,A),getPublicKey:w=>b(w),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:v}}const zL=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const iYe=BigInt(1),k7=BigInt(2),sYe=BigInt(3),oYe=BigInt(5);BigInt(8);function aYe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=zL,o=t*t%s*t%s,a=dc(o,k7,s)*o%s,c=dc(a,iYe,s)*t%s,l=dc(c,oYe,s)*c%s,u=dc(l,e,s)*l%s,h=dc(u,n,s)*u%s,f=dc(h,r,s)*h%s,p=dc(f,i,s)*f%s,g=dc(p,i,s)*f%s,y=dc(g,e,s)*l%s;return{pow_p_5_8:dc(y,k7,s)*t%s,b2:o}}function cYe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const VL=rYe({P:zL,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=zL,{pow_p_5_8:n,b2:r}=aYe(t);return To(dc(n,sYe,e)*r,e)},adjustScalarBytes:cYe,randomBytes:Ew});function M7(t){t.lowS!==void 0&&Lv("lowS",t.lowS),t.prehash!==void 0&&Lv("prehash",t.prehash)}function lYe(t){const e=Noe(t);Aw(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:uYe,hexToBytes:dYe}=VKe;class hYe extends Error{constructor(e=""){super(e)}}const wu={Err:hYe,_tlv:{encode:(t,e)=>{const{Err:n}=wu;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=yy(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?yy(i.length/2|128):"";return yy(t)+s+i+e},decode(t,e){const{Err:n}=wu;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=wu;if(t<Cu)throw new e("integer: negative integers are not allowed");let n=yy(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=wu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return uYe(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=wu,i=typeof t=="string"?dYe(t):t;B1(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=wu,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Cu=BigInt(0),$i=BigInt(1);BigInt(2);const L7=BigInt(3);BigInt(4);function fYe(t){const e=lYe(t),{Fp:n}=e,r=Ioe(e.n,e.nBitLength),i=e.toBytes||((y,v,b)=>{const w=v.toAffine();return dE(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),s=e.fromBytes||(y=>{const v=y.subarray(1),b=n.fromBytes(v.subarray(0,n.BYTES)),w=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:b,y:w}});function o(y){const{a:v,b}=e,w=n.sqr(y),A=n.mul(w,y);return n.add(n.add(A,n.mul(y,v)),b)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return RO(y,$i,e.n)}function c(y){const{allowedPrivateKeyLengths:v,nByteLength:b,wrapPrivateKey:w,n:A}=e;if(v&&typeof y!="bigint"){if(vm(y)&&(y=Fv(y)),typeof y!="string"||!v.includes(y.length))throw new Error("invalid private key");y=y.padStart(b*2,"0")}let S;try{S=typeof y=="bigint"?y:Mp(Yo("private key",y,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof y)}return w&&(S=To(S,A)),zu("private key",S,$i,A),S}function l(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}const u=UL((y,v)=>{const{px:b,py:w,pz:A}=y;if(n.eql(A,n.ONE))return{x:b,y:w};const S=y.is0();v==null&&(v=S?n.ONE:n.inv(A));const P=n.mul(b,v),D=n.mul(w,v),C=n.mul(A,v);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:P,y:D}}),h=UL(y=>{if(y.is0()){if(e.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:v,y:b}=y.toAffine();if(!n.isValid(v)||!n.isValid(b))throw new Error("bad point: x or y not FE");const w=n.sqr(b),A=o(v);if(!n.eql(w,A))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(v,b,w){if(this.px=v,this.py=b,this.pz=w,v==null||!n.isValid(v))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(v){const{x:b,y:w}=v||{};if(!v||!n.isValid(b)||!n.isValid(w))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const A=S=>n.eql(S,n.ZERO);return A(b)&&A(w)?f.ZERO:new f(b,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const b=n.invertBatch(v.map(w=>w.pz));return v.map((w,A)=>w.toAffine(b[A])).map(f.fromAffine)}static fromHex(v){const b=f.fromAffine(s(Yo("pointHex",v)));return b.assertValidity(),b}static fromPrivateKey(v){return f.BASE.multiply(c(v))}static msm(v,b){return tYe(f,r,v,b)}_setWindowSize(v){g.setWindowSize(this,v)}assertValidity(){h(this)}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){l(v);const{px:b,py:w,pz:A}=this,{px:S,py:P,pz:D}=v,C=n.eql(n.mul(b,D),n.mul(S,A)),I=n.eql(n.mul(w,D),n.mul(P,A));return C&&I}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b}=e,w=n.mul(b,L7),{px:A,py:S,pz:P}=this;let D=n.ZERO,C=n.ZERO,I=n.ZERO,x=n.mul(A,A),N=n.mul(S,S),R=n.mul(P,P),$=n.mul(A,S);return $=n.add($,$),I=n.mul(A,P),I=n.add(I,I),D=n.mul(v,I),C=n.mul(w,R),C=n.add(D,C),D=n.sub(N,C),C=n.add(N,C),C=n.mul(D,C),D=n.mul($,D),I=n.mul(w,I),R=n.mul(v,R),$=n.sub(x,R),$=n.mul(v,$),$=n.add($,I),I=n.add(x,x),x=n.add(I,x),x=n.add(x,R),x=n.mul(x,$),C=n.add(C,x),R=n.mul(S,P),R=n.add(R,R),x=n.mul(R,$),D=n.sub(D,x),I=n.mul(R,N),I=n.add(I,I),I=n.add(I,I),new f(D,C,I)}add(v){l(v);const{px:b,py:w,pz:A}=this,{px:S,py:P,pz:D}=v;let C=n.ZERO,I=n.ZERO,x=n.ZERO;const N=e.a,R=n.mul(e.b,L7);let $=n.mul(b,S),U=n.mul(w,P),Y=n.mul(A,D),z=n.add(b,w),j=n.add(S,P);z=n.mul(z,j),j=n.add($,U),z=n.sub(z,j),j=n.add(b,A);let q=n.add(S,D);return j=n.mul(j,q),q=n.add($,Y),j=n.sub(j,q),q=n.add(w,A),C=n.add(P,D),q=n.mul(q,C),C=n.add(U,Y),q=n.sub(q,C),x=n.mul(N,j),C=n.mul(R,Y),x=n.add(C,x),C=n.sub(U,x),x=n.add(U,x),I=n.mul(C,x),U=n.add($,$),U=n.add(U,$),Y=n.mul(N,Y),j=n.mul(R,j),U=n.add(U,Y),Y=n.sub($,Y),Y=n.mul(N,Y),j=n.add(j,Y),$=n.mul(U,j),I=n.add(I,$),$=n.mul(q,j),C=n.mul(z,C),C=n.sub(C,$),$=n.mul(z,U),x=n.mul(q,x),x=n.add(x,$),new f(C,I,x)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return g.wNAFCached(this,v,f.normalizeZ)}multiplyUnsafe(v){const{endo:b,n:w}=e;zu("scalar",v,Cu,w);const A=f.ZERO;if(v===Cu)return A;if(this.is0()||v===$i)return this;if(!b||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,v,f.normalizeZ);let{k1neg:S,k1:P,k2neg:D,k2:C}=b.splitScalar(v),I=A,x=A,N=this;for(;P>Cu||C>Cu;)P&$i&&(I=I.add(N)),C&$i&&(x=x.add(N)),N=N.double(),P>>=$i,C>>=$i;return S&&(I=I.negate()),D&&(x=x.negate()),x=new f(n.mul(x.px,b.beta),x.py,x.pz),I.add(x)}multiply(v){const{endo:b,n:w}=e;zu("scalar",v,$i,w);let A,S;if(b){const{k1neg:P,k1:D,k2neg:C,k2:I}=b.splitScalar(v);let{p:x,f:N}=this.wNAF(D),{p:R,f:$}=this.wNAF(I);x=g.constTimeNegate(P,x),R=g.constTimeNegate(C,R),R=new f(n.mul(R.px,b.beta),R.py,R.pz),A=x.add(R),S=N.add($)}else{const{p:P,f:D}=this.wNAF(v);A=P,S=D}return f.normalizeZ([A,S])[0]}multiplyAndAddUnsafe(v,b,w){const A=f.BASE,S=(D,C)=>C===Cu||C===$i||!D.equals(A)?D.multiplyUnsafe(C):D.multiply(C),P=S(this,b).add(S(v,w));return P.is0()?void 0:P}toAffine(v){return u(this,v)}isTorsionFree(){const{h:v,isTorsionFree:b}=e;if(v===$i)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:b}=e;return v===$i?this:b?b(f,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return Lv("isCompressed",v),this.assertValidity(),i(f,this,v)}toHex(v=!0){return Lv("isCompressed",v),Fv(this.toRawBytes(v))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,g=eYe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function pYe(t){const e=Noe(t);return Aw(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function mYe(t){const e=pYe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(Y){return To(Y,r)}function a(Y){return BL(Y,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=fYe({...e,toBytes(Y,z,j){const q=z.toAffine(),V=n.toBytes(q.x),Q=dE;return Lv("isCompressed",j),j?Q(Uint8Array.from([z.hasEvenY()?2:3]),V):Q(Uint8Array.from([4]),V,n.toBytes(q.y))},fromBytes(Y){const z=Y.length,j=Y[0],q=Y.subarray(1);if(z===i&&(j===2||j===3)){const V=Mp(q);if(!RO(V,$i,n.ORDER))throw new Error("Point is not on curve");const Q=u(V);let K;try{K=n.sqrt(Q)}catch(ne){const le=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+le)}const ee=(K&$i)===$i;return(j&1)===1!==ee&&(K=n.neg(K)),{x:V,y:K}}else if(z===s&&j===4){const V=n.fromBytes(q.subarray(0,n.BYTES)),Q=n.fromBytes(q.subarray(n.BYTES,2*n.BYTES));return{x:V,y:Q}}else{const V=i,Q=s;throw new Error("invalid Point, expected length of "+V+", or uncompressed "+Q+", got "+z)}}}),f=Y=>Fv(Uv(Y,e.nByteLength));function p(Y){const z=r>>$i;return Y>z}function g(Y){return p(Y)?o(-Y):Y}const y=(Y,z,j)=>Mp(Y.slice(z,j));class v{constructor(z,j,q){this.r=z,this.s=j,this.recovery=q,this.assertValidity()}static fromCompact(z){const j=e.nByteLength;return z=Yo("compactSignature",z,j*2),new v(y(z,0,j),y(z,j,2*j))}static fromDER(z){const{r:j,s:q}=wu.toSig(Yo("DER",z));return new v(j,q)}assertValidity(){zu("r",this.r,$i,r),zu("s",this.s,$i,r)}addRecoveryBit(z){return new v(this.r,this.s,z)}recoverPublicKey(z){const{r:j,s:q,recovery:V}=this,Q=D(Yo("msgHash",z));if(V==null||![0,1,2,3].includes(V))throw new Error("recovery id invalid");const K=V===2||V===3?j+e.n:j;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=V&1?"03":"02",ne=c.fromHex(ee+f(K)),le=a(K),ce=o(-Q*le),re=o(q*le),de=c.BASE.multiplyAndAddUnsafe(ne,ce,re);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return $v(this.toDERHex())}toDERHex(){return wu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $v(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey(Y){try{return l(Y),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const Y=Poe(e.n);return ZKe(e.randomBytes(Y),e.n)},precompute(Y=8,z=c.BASE){return z._setWindowSize(Y),z.multiply(BigInt(3)),z}};function w(Y,z=!0){return c.fromPrivateKey(Y).toRawBytes(z)}function A(Y){const z=vm(Y),j=typeof Y=="string",q=(z||j)&&Y.length;return z?q===i||q===s:j?q===2*i||q===2*s:Y instanceof c}function S(Y,z,j=!0){if(A(Y))throw new Error("first arg must be private key");if(!A(z))throw new Error("second arg must be public key");return c.fromHex(z).multiply(l(Y)).toRawBytes(j)}const P=e.bits2int||function(Y){if(Y.length>8192)throw new Error("input is too large");const z=Mp(Y),j=Y.length*8-e.nBitLength;return j>0?z>>BigInt(j):z},D=e.bits2int_modN||function(Y){return o(P(Y))},C=Kj(e.nBitLength);function I(Y){return zu("num < 2^"+e.nBitLength,Y,Cu,C),Uv(Y,e.nByteLength)}function x(Y,z,j=N){if(["recovered","canonical"].some(Ne=>Ne in j))throw new Error("sign() legacy options not supported");const{hash:q,randomBytes:V}=e;let{lowS:Q,prehash:K,extraEntropy:ee}=j;Q==null&&(Q=!0),Y=Yo("msgHash",Y),M7(j),K&&(Y=Yo("prehashed msgHash",q(Y)));const ne=D(Y),le=l(z),ce=[I(le),I(ne)];if(ee!=null&&ee!==!1){const Ne=ee===!0?V(n.BYTES):ee;ce.push(Yo("extraEntropy",Ne))}const re=dE(...ce),de=ne;function ve(Ne){const Fe=P(Ne);if(!h(Fe))return;const Ge=a(Fe),ot=c.BASE.multiply(Fe).toAffine(),Me=o(ot.x);if(Me===Cu)return;const ut=o(Ge*o(de+Me*le));if(ut===Cu)return;let ht=(ot.x===Me?0:2)|Number(ot.y&$i),Xt=ut;return Q&&p(ut)&&(Xt=g(ut),ht^=1),new v(Me,Xt,ht)}return{seed:re,k2sig:ve}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(Y,z,j=N){const{seed:q,k2sig:V}=x(Y,z,j),Q=e;return Coe(Q.hash.outputLen,Q.nByteLength,Q.hmac)(q,V)}c.BASE._setWindowSize(8);function U(Y,z,j,q=R){var ut;const V=Y;z=Yo("msgHash",z),j=Yo("publicKey",j);const{lowS:Q,prehash:K,format:ee}=q;if(M7(q),"strict"in q)throw new Error("options.strict was renamed to lowS");if(ee!==void 0&&ee!=="compact"&&ee!=="der")throw new Error("format must be compact or der");const ne=typeof V=="string"||vm(V),le=!ne&&!ee&&typeof V=="object"&&V!==null&&typeof V.r=="bigint"&&typeof V.s=="bigint";if(!ne&&!le)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ce,re;try{if(le&&(ce=new v(V.r,V.s)),ne){try{ee!=="compact"&&(ce=v.fromDER(V))}catch(ht){if(!(ht instanceof wu.Err))throw ht}!ce&&ee!=="der"&&(ce=v.fromCompact(V))}re=c.fromHex(j)}catch{return!1}if(!ce||Q&&ce.hasHighS())return!1;K&&(z=e.hash(z));const{r:de,s:ve}=ce,Ne=D(z),Fe=a(ve),Ge=o(Ne*Fe),ot=o(de*Fe),Me=(ut=c.BASE.multiplyAndAddUnsafe(re,Ge,ot))==null?void 0:ut.toAffine();return Me?o(Me.x)===de:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:S,sign:$,verify:U,ProjectivePoint:c,Signature:v,utils:b}}function gYe(t){return{hash:t,hmac:(e,...n)=>PO(t,e,_Ge(...n)),randomBytes:Ew}}function yYe(t,e){const n=r=>mYe({...t,...gYe(r)});return{...n(e),create:n}}const Roe=Ioe(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),vYe=Roe.create(BigInt("-3")),wYe=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),_Ye=yYe({a:vYe,b:wYe,Fp:Roe,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},j1),koe="base10",ro="base16",Ac="base64pad",ih="base64url",z1="utf8",Moe=0,Vu=1,V1=2,bYe=0,F7=1,P_=12,Yj=32;function EYe(){const t=VL.utils.randomPrivateKey(),e=VL.getPublicKey(t);return{privateKey:$o(t,ro),publicKey:$o(e,ro)}}function HL(){const t=Ew(Yj);return $o(t,ro)}function AYe(t,e){const n=VL.getSharedSecret($a(t,ro),$a(e,ro)),r=IKe(j1,n,void 0,void 0,Yj);return $o(r,ro)}function MT(t){const e=j1($a(t,ro));return $o(e,ro)}function hl(t){const e=j1($a(t,z1));return $o(e,ro)}function Loe(t){return $a(`${t}`,koe)}function wm(t){return Number($o(t,koe))}function Foe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function $oe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function CYe(t){const e=Loe(typeof t.type<"u"?t.type:Moe);if(wm(e)===Vu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?$a(t.senderPublicKey,ro):void 0,r=typeof t.iv<"u"?$a(t.iv,ro):Ew(P_),i=$a(t.symKey,ro),s=boe(i,r).encrypt($a(t.message,z1)),o=Uoe({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===ih?Foe(o):o}function TYe(t){const e=$a(t.symKey,ro),{sealed:n,iv:r}=hE({encoded:t.encoded,encoding:t.encoding}),i=boe(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return $o(i,z1)}function SYe(t,e){const n=Loe(V1),r=Ew(P_),i=$a(t,z1),s=Uoe({type:n,sealed:i,iv:r});return e===ih?Foe(s):s}function IYe(t,e){const{sealed:n}=hE({encoded:t,encoding:e});return $o(n,z1)}function Uoe(t){if(wm(t.type)===V1)return $o(x_([t.type,t.sealed]),Ac);if(wm(t.type)===Vu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return $o(x_([t.type,t.senderPublicKey,t.iv,t.sealed]),Ac)}return $o(x_([t.type,t.iv,t.sealed]),Ac)}function hE(t){const e=(t.encoding||Ac)===ih?$oe(t.encoded):t.encoded,n=$a(e,Ac),r=n.slice(bYe,F7),i=F7;if(wm(r)===Vu){const c=i+Yj,l=c+P_,u=n.slice(i,c),h=n.slice(c,l),f=n.slice(l);return{type:r,sealed:f,iv:h,senderPublicKey:u}}if(wm(r)===V1){const c=n.slice(i),l=Ew(P_);return{type:r,sealed:c,iv:l}}const s=i+P_,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function xYe(t,e){const n=hE({encoded:t,encoding:e==null?void 0:e.encoding});return joe({type:wm(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?$o(n.senderPublicKey,ro):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function joe(t){const e=(t==null?void 0:t.type)||Moe;if(e===Vu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function $7(t){return t.type===Vu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function U7(t){return t.type===V1}function PYe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return x_([new Uint8Array([4]),e,n])}function OYe(t,e){const[n,r,i]=t.split("."),s=Buffer.from($oe(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=j1(c),u=PYe(e);if(!_Ye.verify(x_([o,a]),l,u))throw new Error("Invalid signature");return OL(t).payload}const DYe="irn";function GI(t){return(t==null?void 0:t.relay)||{protocol:DYe}}function t_(t){const e=Fqe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function NYe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function j7(t){if(!t.includes("wc:")){const l=coe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:RYe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:NYe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function RYe(t){return t.startsWith("//")?t.substring(2):t}function kYe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function B7(t){const e=new URLSearchParams,n=kYe(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function TC(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function Cw(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function MYe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Cw(n.accounts))}),e}function LYe(t,e){const n=[];return Object.values(t).forEach(r=>{Cw(r.accounts).includes(e)&&n.push(...r.methods)}),n}function FYe(t,e){const n=[];return Object.values(t).forEach(r=>{Cw(r.accounts).includes(e)&&n.push(...r.events)}),n}function Qj(t){return t.includes(":")}function n_(t){return Qj(t)?t.split(":")[0]:t}function $Ye(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function z7(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=$Ye(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=RT(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}const UYe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},jYe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ke(t,e){const{message:n,code:r}=jYe[t];return{message:e?`${n} ${e}`:n,code:r}}function tr(t,e){const{message:n,code:r}=UYe[t];return{message:e?`${n} ${e}`:n,code:r}}function Hh(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function fE(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function us(t){return typeof t>"u"}function gi(t,e){return e&&us(t)?!0:typeof t=="string"&&!!t.trim().length}function Zj(t,e){return e&&us(t)?!0:typeof t=="number"&&!isNaN(t)}function BYe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return mp(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Cw(a),h=n[o];(!mp(roe(o,h),u)||!mp(h.methods,c)||!mp(h.events,l))&&(s=!1)}),s):!1}function KI(t){return gi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function zYe(t){if(gi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&KI(n)}}return!1}function VYe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(gi(t,!1)){if(e(t))return!0;const n=coe(t);return e(n)}}catch{}return!1}function HYe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function WYe(t){return t==null?void 0:t.topic}function qYe(t,e){let n=null;return gi(t==null?void 0:t.publicKey,!1)||(n=ke("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function V7(t){let e=!0;return Hh(t)?t.length&&(e=t.every(n=>gi(n,!1))):e=!1,e}function GYe(t,e,n){let r=null;return Hh(e)&&e.length?e.forEach(i=>{r||KI(i)||(r=tr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):KI(t)||(r=tr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function KYe(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=GYe(i,roe(i,s),`${e} ${n}`);o&&(r=o)}),r}function YYe(t,e){let n=null;return Hh(t)?t.forEach(r=>{n||zYe(r)||(n=tr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=tr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function QYe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=YYe(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function ZYe(t,e){let n=null;return V7(t==null?void 0:t.methods)?V7(t==null?void 0:t.events)||(n=tr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=tr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Boe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=ZYe(r,`${e}, namespace`);i&&(n=i)}),n}function JYe(t,e,n){let r=null;if(t&&fE(t)){const i=Boe(t,e);i&&(r=i);const s=KYe(t,e,n);s&&(r=s)}else r=ke("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function IR(t,e){let n=null;if(t&&fE(t)){const r=Boe(t,e);r&&(n=r);const i=QYe(t,e);i&&(n=i)}else n=ke("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function zoe(t){return gi(t.protocol,!0)}function XYe(t,e){let n=!1;return e&&!t?n=!0:t&&Hh(t)&&t.length&&t.forEach(r=>{n=zoe(r)}),n}function eQe(t){return typeof t=="number"}function _o(t){return typeof t<"u"&&typeof t!==null}function tQe(t){return!(!t||typeof t!="object"||!t.code||!Zj(t.code,!1)||!t.message||!gi(t.message,!1))}function nQe(t){return!(us(t)||!gi(t.method,!1))}function rQe(t){return!(us(t)||us(t.result)&&us(t.error)||!Zj(t.id,!1)||!gi(t.jsonrpc,!1))}function iQe(t){return!(us(t)||!gi(t.name,!1))}function H7(t,e){return!(!KI(e)||!MYe(t).includes(e))}function sQe(t,e,n){return gi(n,!1)?LYe(t,e).includes(n):!1}function oQe(t,e,n){return gi(n,!1)?FYe(t,e).includes(n):!1}function W7(t,e,n){let r=null;const i=aQe(t),s=cQe(e),o=Object.keys(i),a=Object.keys(s),c=q7(Object.keys(t)),l=q7(Object.keys(e)),u=c.filter(h=>!l.includes(h));return u.length&&(r=ke("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),mp(o,a)||(r=ke("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const f=Cw(e[h].accounts);f.includes(h)||(r=ke("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{r||(mp(i[h].methods,s[h].methods)?mp(i[h].events,s[h].events)||(r=ke("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=ke("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function aQe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function q7(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function cQe(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Cw(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function lQe(t,e){return Zj(t,!1)&&t<=e.max&&t>=e.min}function G7(){const t=$1();return new Promise(e=>{switch(t){case ta.browser:e(uQe());break;case ta.reactNative:e(dQe());break;case ta.node:e(hQe());break;default:e(!0)}})}function uQe(){return F1()&&(navigator==null?void 0:navigator.onLine)}async function dQe(){if(xf()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function hQe(){return!0}function fQe(t){switch($1()){case ta.browser:pQe(t);break;case ta.reactNative:mQe(t);break}}function pQe(t){!xf()&&F1()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function mQe(t){xf()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const xR={};class I0{static get(e){return xR[e]}static set(e,n){xR[e]=n}static delete(e){delete xR[e]}}const gQe="PARSE_ERROR",yQe="INVALID_REQUEST",vQe="METHOD_NOT_FOUND",wQe="INVALID_PARAMS",Voe="INTERNAL_ERROR",Jj="SERVER_ERROR",_Qe=[-32700,-32600,-32601,-32602,-32603],O_={[gQe]:{code:-32700,message:"Parse error"},[yQe]:{code:-32600,message:"Invalid Request"},[vQe]:{code:-32601,message:"Method not found"},[wQe]:{code:-32602,message:"Invalid params"},[Voe]:{code:-32603,message:"Internal error"},[Jj]:{code:-32e3,message:"Server error"}},Hoe=Jj;function bQe(t){return _Qe.includes(t)}function K7(t){return Object.keys(O_).includes(t)?O_[t]:O_[Hoe]}function EQe(t){const e=Object.values(O_).find(n=>n.code===t);return e||O_[Hoe]}function Woe(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var qoe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WL=function(t,e){return WL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},WL(t,e)};function AQe(t,e){WL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qL=function(){return qL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qL.apply(this,arguments)};function CQe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TQe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function SQe(t,e){return function(n,r){e(n,r,t)}}function IQe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function xQe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function PQe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function OQe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function DQe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function GL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Goe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function NQe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Goe(arguments[e]));return t}function RQe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function pE(t){return this instanceof pE?(this.v=t,this):new pE(t)}function kQe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(g,y){s.push([f,p,g,y])>1||a(f,p)})})}function a(f,p){try{c(r[f](p))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof pE?Promise.resolve(f.value.v).then(l,u):h(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function MQe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:pE(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function LQe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof GL=="function"?GL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function FQe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function $Qe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function UQe(t){return t&&t.__esModule?t:{default:t}}function jQe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function BQe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const zQe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return qL},__asyncDelegator:MQe,__asyncGenerator:kQe,__asyncValues:LQe,__await:pE,__awaiter:xQe,__classPrivateFieldGet:jQe,__classPrivateFieldSet:BQe,__createBinding:OQe,__decorate:TQe,__exportStar:DQe,__extends:AQe,__generator:PQe,__importDefault:UQe,__importStar:$Qe,__makeTemplateObject:FQe,__metadata:IQe,__param:SQe,__read:Goe,__rest:CQe,__spread:NQe,__spreadArrays:RQe,__values:GL},Symbol.toStringTag,{value:"Module"})),VQe=kq(zQe);var du={},Y7;function HQe(){if(Y7)return du;Y7=1,Object.defineProperty(du,"__esModule",{value:!0}),du.isBrowserCryptoAvailable=du.getSubtleCrypto=du.getBrowerCrypto=void 0;function t(){return(Zs==null?void 0:Zs.crypto)||(Zs==null?void 0:Zs.msCrypto)||{}}du.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}du.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return du.isBrowserCryptoAvailable=n,du}var hu={},Q7;function WQe(){if(Q7)return hu;Q7=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.isBrowser=hu.isNode=hu.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}hu.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}hu.isNode=e;function n(){return!t()&&!e()}return hu.isBrowser=n,hu}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=VQe;e.__exportStar(HQe(),t),e.__exportStar(WQe(),t)})(qoe);function nl(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function gp(t=6){return BigInt(nl(t))}function Ah(t,e,n){return{id:n||nl(),jsonrpc:"2.0",method:t,params:e}}function kO(t,e){return{id:t,jsonrpc:"2.0",result:e}}function MO(t,e,n){return{id:t,jsonrpc:"2.0",error:qQe(e,n)}}function qQe(t,e){return typeof t>"u"?K7(Voe):(typeof t=="string"&&(t=Object.assign(Object.assign({},K7(Jj)),{message:t})),typeof e<"u"&&(t.data=e),bQe(t.code)&&(t=EQe(t.code)),t)}let GQe=class{},KQe=class extends GQe{constructor(){super()}},YQe=class extends KQe{constructor(e){super()}};const QQe="^https?:",ZQe="^wss?:";function JQe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Koe(t,e){const n=JQe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Z7(t){return Koe(t,QQe)}function J7(t){return Koe(t,ZQe)}function XQe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Yoe(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Xj(t){return Yoe(t)&&"method"in t}function LO(t){return Yoe(t)&&(rl(t)||Oa(t))}function rl(t){return"result"in t}function Oa(t){return"error"in t}let Qa=class extends YQe{constructor(e){super(e),this.events=new Ya.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ah(e.method,e.params||[],e.id||gp().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Oa(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),LO(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const eZe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),tZe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",X7=t=>t.split("?")[0],eW=10,nZe=eZe();let rZe=class{constructor(e){if(this.url=e,this.events=new Ya.EventEmitter,this.registering=!1,!J7(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ad(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!J7(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=qoe.isReactNative()?void 0:{rejectUnauthorized:!XQe(e)},s=new nZe(e,[],i);tZe()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?mm(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=MO(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Woe(e,X7(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>eW&&this.events.setMaxListeners(eW)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${X7(this.url)}`));return this.events.emit("register_error",n),n}};const Qoe="wc",Zoe=2,YI="core",jl=`${Qoe}@2:${YI}:`,iZe={name:YI,logger:"error"},sZe={database:":memory:"},oZe="crypto",tW="client_ed25519_seed",aZe=De.ONE_DAY,cZe="keychain",lZe="0.3",uZe="messages",dZe="0.3",nW=De.SIX_HOURS,hZe="publisher",Joe="irn",fZe="error",Xoe="wss://relay.walletconnect.org",pZe="relayer",Bi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},mZe="_subscription",Ea={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},gZe=.1,KL="2.19.2",wr={link_mode:"link_mode",relay:"relay"},LT={inbound:"inbound",outbound:"outbound"},yZe="0.3",vZe="WALLETCONNECT_CLIENT_ID",rW="WALLETCONNECT_LINK_MODE_APPS",Go={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},wZe="subscription",_Ze="0.3",bZe="pairing",EZe="0.3",x0={wc_pairingDelete:{req:{ttl:De.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:De.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:De.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:De.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:De.ONE_DAY,prompt:!1,tag:0},res:{ttl:De.ONE_DAY,prompt:!1,tag:0}}},Xf={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},cc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},AZe="history",CZe="0.3",TZe="expirer",Ia={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},SZe="0.3",IZe="verify-api",xZe="https://verify.walletconnect.com",eae="https://verify.walletconnect.org",D_=eae,PZe=`${D_}/v3`,OZe=[xZe,eae],DZe="echo",NZe="https://echo.walletconnect.com",el={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},mu={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},lc={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Lf={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Ff={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},P0={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},RZe=.1,kZe="event-client",MZe=86400,LZe="https://pulse.walletconnect.org/batch";function FZe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,b=0,w=g.length;b!==w&&g[b]===0;)b++,y++;for(var A=(w-b)*u+1>>>0,S=new Uint8Array(A);b!==w;){for(var P=g[b],D=0,C=A-1;(P!==0||D<v)&&C!==-1;C--,D++)P+=256*S[C]>>>0,S[C]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");v=D,b++}for(var I=A-v;I!==A&&S[I]===0;)I++;for(var x=c.repeat(y);I<A;++I)x+=t.charAt(S[I]);return x}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var v=0,b=0;g[y]===c;)v++,y++;for(var w=(g.length-y)*l+1>>>0,A=new Uint8Array(w);g[y];){var S=n[g.charCodeAt(y)];if(S===255)return;for(var P=0,D=w-1;(S!==0||P<b)&&D!==-1;D--,P++)S+=a*A[D]>>>0,A[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");b=P,y++}if(g[y]!==" "){for(var C=w-b;C!==w&&A[C]===0;)C++;for(var I=new Uint8Array(v+(w-C)),x=v;C!==w;)I[x++]=A[C++];return I}}}function p(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var $Ze=FZe,UZe=$Ze;const tae=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jZe=t=>new TextEncoder().encode(t),BZe=t=>new TextDecoder().decode(t);class zZe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class VZe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return nae(this,e)}}class HZe{constructor(e){this.decoders=e}or(e){return nae(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nae=(t,e)=>new HZe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class WZe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new zZe(e,n,r),this.decoder=new VZe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const FO=({name:t,prefix:e,encode:n,decode:r})=>new WZe(t,e,n,r),H1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=UZe(n,e);return FO({prefix:t,name:e,encode:r,decode:s=>tae(i(s))})},qZe=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},GZe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Cs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>FO({prefix:e,name:t,encode(i){return GZe(i,r,n)},decode(i){return qZe(i,r,n,t)}}),KZe=FO({prefix:"\0",name:"identity",encode:t=>BZe(t),decode:t=>jZe(t)});var YZe=Object.freeze({__proto__:null,identity:KZe});const QZe=Cs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ZZe=Object.freeze({__proto__:null,base2:QZe});const JZe=Cs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var XZe=Object.freeze({__proto__:null,base8:JZe});const eJe=H1({prefix:"9",name:"base10",alphabet:"0123456789"});var tJe=Object.freeze({__proto__:null,base10:eJe});const nJe=Cs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rJe=Cs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var iJe=Object.freeze({__proto__:null,base16:nJe,base16upper:rJe});const sJe=Cs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oJe=Cs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aJe=Cs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cJe=Cs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lJe=Cs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uJe=Cs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dJe=Cs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hJe=Cs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fJe=Cs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var pJe=Object.freeze({__proto__:null,base32:sJe,base32upper:oJe,base32pad:aJe,base32padupper:cJe,base32hex:lJe,base32hexupper:uJe,base32hexpad:dJe,base32hexpadupper:hJe,base32z:fJe});const mJe=H1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gJe=H1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var yJe=Object.freeze({__proto__:null,base36:mJe,base36upper:gJe});const vJe=H1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wJe=H1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _Je=Object.freeze({__proto__:null,base58btc:vJe,base58flickr:wJe});const bJe=Cs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),EJe=Cs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),AJe=Cs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),CJe=Cs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var TJe=Object.freeze({__proto__:null,base64:bJe,base64pad:EJe,base64url:AJe,base64urlpad:CJe});const rae=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),SJe=rae.reduce((t,e,n)=>(t[n]=e,t),[]),IJe=rae.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xJe(t){return t.reduce((e,n)=>(e+=SJe[n],e),"")}function PJe(t){const e=[];for(const n of t){const r=IJe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const OJe=FO({prefix:"🚀",name:"base256emoji",encode:xJe,decode:PJe});var DJe=Object.freeze({__proto__:null,base256emoji:OJe}),NJe=iae,iW=128,RJe=127,kJe=~RJe,MJe=Math.pow(2,31);function iae(t,e,n){e=e||[],n=n||0;for(var r=n;t>=MJe;)e[n++]=t&255|iW,t/=128;for(;t&kJe;)e[n++]=t&255|iW,t>>>=7;return e[n]=t|0,iae.bytes=n-r+1,e}var LJe=YL,FJe=128,sW=127;function YL(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw YL.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&sW)<<i:(o&sW)*Math.pow(2,i),i+=7}while(o>=FJe);return YL.bytes=s-r,n}var $Je=Math.pow(2,7),UJe=Math.pow(2,14),jJe=Math.pow(2,21),BJe=Math.pow(2,28),zJe=Math.pow(2,35),VJe=Math.pow(2,42),HJe=Math.pow(2,49),WJe=Math.pow(2,56),qJe=Math.pow(2,63),GJe=function(t){return t<$Je?1:t<UJe?2:t<jJe?3:t<BJe?4:t<zJe?5:t<VJe?6:t<HJe?7:t<WJe?8:t<qJe?9:10},KJe={encode:NJe,decode:LJe,encodingLength:GJe},sae=KJe;const oW=(t,e,n=0)=>(sae.encode(t,e,n),e),aW=t=>sae.encodingLength(t),QL=(t,e)=>{const n=e.byteLength,r=aW(t),i=r+aW(n),s=new Uint8Array(i+n);return oW(t,s,0),oW(n,s,r),s.set(e,i),new YJe(t,n,e,s)};class YJe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const oae=({name:t,code:e,encode:n})=>new QJe(t,e,n);class QJe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?QL(this.code,n):n.then(r=>QL(this.code,r))}else throw Error("Unknown type, must be binary type")}}const aae=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ZJe=oae({name:"sha2-256",code:18,encode:aae("SHA-256")}),JJe=oae({name:"sha2-512",code:19,encode:aae("SHA-512")});var XJe=Object.freeze({__proto__:null,sha256:ZJe,sha512:JJe});const cae=0,eXe="identity",lae=tae,tXe=t=>QL(cae,lae(t)),nXe={code:cae,name:eXe,encode:lae,digest:tXe};var rXe=Object.freeze({__proto__:null,identity:nXe});new TextEncoder,new TextDecoder;const cW={...YZe,...ZZe,...XZe,...tJe,...iJe,...pJe,...yJe,..._Je,...TJe,...DJe};({...XJe,...rXe});function iXe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function uae(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const lW=uae("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),PR=uae("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=iXe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),sXe={utf8:lW,"utf-8":lW,hex:cW.base16,latin1:PR,ascii:PR,binary:PR,...cW};function oXe(t,e="utf8"){const n=sXe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var aXe=Object.defineProperty,cXe=(t,e,n)=>e in t?aXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jc=(t,e,n)=>cXe(t,typeof e!="symbol"?e+"":e,n);class lXe{constructor(e,n){this.core=e,this.logger=n,Jc(this,"keychain",new Map),Jc(this,"name",cZe),Jc(this,"version",lZe),Jc(this,"initialized",!1),Jc(this,"storagePrefix",jl),Jc(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Jc(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Jc(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Jc(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=ke("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Jc(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=zs(n,this.name)}get context(){return jo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,RL(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kL(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var uXe=Object.defineProperty,dXe=(t,e,n)=>e in t?uXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ns=(t,e,n)=>dXe(t,typeof e!="symbol"?e+"":e,n);class hXe{constructor(e,n,r){this.core=e,this.logger=n,ns(this,"name",oZe),ns(this,"keychain"),ns(this,"randomSessionIdentifier",HL()),ns(this,"initialized",!1),ns(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ns(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ns(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=zH(i);return Lse(s.publicKey)}),ns(this,"generateKeyPair",()=>{this.isInitialized();const i=EYe();return this.setPrivateKey(i.publicKey,i.privateKey)}),ns(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=zH(s),a=this.randomSessionIdentifier;return await I7e(a,i,aZe,o)}),ns(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=AYe(a,s);return this.setSymKey(c,o)}),ns(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||MT(i);return await this.keychain.set(o,i),o}),ns(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ns(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ns(this,"encode",async(i,s,o)=>{this.isInitialized();const a=joe(o),c=ad(s);if(U7(a))return SYe(c,o==null?void 0:o.encoding);if($7(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const l=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return CYe({type:u,symKey:l,message:c,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),ns(this,"decode",async(i,s,o)=>{this.isInitialized();const a=xYe(s,o);if(U7(a)){const c=IYe(s,o==null?void 0:o.encoding);return mm(c)}if($7(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=TYe({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return mm(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ns(this,"getPayloadType",(i,s=Ac)=>{const o=hE({encoded:i,encoding:s});return wm(o.type)}),ns(this,"getPayloadSenderPublicKey",(i,s=Ac)=>{const o=hE({encoded:i,encoding:s});return o.senderPublicKey?$o(o.senderPublicKey,ro):void 0}),this.core=e,this.logger=zs(n,this.name),this.keychain=r||new lXe(this.core,this.logger)}get context(){return jo(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tW)}catch{e=HL(),await this.keychain.set(tW,e)}return oXe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var fXe=Object.defineProperty,pXe=Object.defineProperties,mXe=Object.getOwnPropertyDescriptors,uW=Object.getOwnPropertySymbols,gXe=Object.prototype.hasOwnProperty,yXe=Object.prototype.propertyIsEnumerable,ZL=(t,e,n)=>e in t?fXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vXe=(t,e)=>{for(var n in e||(e={}))gXe.call(e,n)&&ZL(t,n,e[n]);if(uW)for(var n of uW(e))yXe.call(e,n)&&ZL(t,n,e[n]);return t},wXe=(t,e)=>pXe(t,mXe(e)),Wo=(t,e,n)=>ZL(t,typeof e!="symbol"?e+"":e,n);class _Xe extends C9e{constructor(e,n){super(e,n),this.logger=e,this.core=n,Wo(this,"messages",new Map),Wo(this,"messagesWithoutClientAck",new Map),Wo(this,"name",uZe),Wo(this,"version",dZe),Wo(this,"initialized",!1),Wo(this,"storagePrefix",jl),Wo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Wo(this,"set",async(r,i,s)=>{this.isInitialized();const o=hl(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===LT.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,wXe(vXe({},c),{[o]:i}))}return await this.persist(),o}),Wo(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Wo(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Wo(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=hl(i);return typeof s[o]<"u"}),Wo(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=hl(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Wo(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=zs(e,this.name),this.core=n}get context(){return jo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,RL(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,RL(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kL(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?kL(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var bXe=Object.defineProperty,EXe=Object.defineProperties,AXe=Object.getOwnPropertyDescriptors,dW=Object.getOwnPropertySymbols,CXe=Object.prototype.hasOwnProperty,TXe=Object.prototype.propertyIsEnumerable,JL=(t,e,n)=>e in t?bXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SC=(t,e)=>{for(var n in e||(e={}))CXe.call(e,n)&&JL(t,n,e[n]);if(dW)for(var n of dW(e))TXe.call(e,n)&&JL(t,n,e[n]);return t},OR=(t,e)=>EXe(t,AXe(e)),uc=(t,e,n)=>JL(t,typeof e!="symbol"?e+"":e,n);class SXe extends T9e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,uc(this,"events",new Ya.EventEmitter),uc(this,"name",hZe),uc(this,"queue",new Map),uc(this,"publishTimeout",De.toMiliseconds(De.ONE_MINUTE)),uc(this,"initialPublishTimeout",De.toMiliseconds(De.ONE_SECOND*15)),uc(this,"needsTransportRestart",!1),uc(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||nW,c=GI(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||gp().toString(),f={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},p=`Failed to publish payload, please try again. id:${h} tag:${u}`;try{const g=new Promise(async y=>{const v=({id:w})=>{f.opts.id===w&&(this.removeRequestFromQueue(w),this.relayer.events.removeListener(Bi.publish,v),y(f))};this.relayer.events.on(Bi.publish,v);const b=Eh(new Promise((w,A)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:u,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(w).catch(S=>{this.logger.warn(S,S==null?void 0:S.message),A(S)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${u}`);try{await b,this.events.removeListener(Bi.publish,v)}catch(w){this.queue.set(h,OR(SC({},f),{attempt:1})),this.logger.warn(w,w==null?void 0:w.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:r,message:i,opts:s}}),await Eh(g,this.publishTimeout,p)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(h)}}),uc(this,"on",(r,i)=>{this.events.on(r,i)}),uc(this,"once",(r,i)=>{this.events.once(r,i)}),uc(this,"off",(r,i)=>{this.events.off(r,i)}),uc(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=zs(n,this.name),this.registerEventListeners()}get context(){return jo(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=nW,prompt:l,tag:u,id:h,attestation:f,tvf:p}=e,g={method:t_(GI().protocol).publish,params:SC({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:f},p),id:h};us((n=g.params)==null?void 0:n.prompt)&&((r=g.params)==null||delete r.prompt),us((i=g.params)==null?void 0:i.tag)&&((s=g.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const y=await this.relayer.request(g);return this.relayer.events.emit(Bi.publish,e),this.logger.debug("Successfully Published Payload"),y}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,OR(SC({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(OR(SC({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(gw.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Bi.connection_stalled);return}this.checkQueue()}),this.relayer.on(Bi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var IXe=Object.defineProperty,xXe=(t,e,n)=>e in t?IXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sg=(t,e,n)=>xXe(t,typeof e!="symbol"?e+"":e,n);class PXe{constructor(){Sg(this,"map",new Map),Sg(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Sg(this,"get",e=>this.map.get(e)||[]),Sg(this,"exists",(e,n)=>this.get(e).includes(n)),Sg(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Sg(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var OXe=Object.defineProperty,DXe=Object.defineProperties,NXe=Object.getOwnPropertyDescriptors,hW=Object.getOwnPropertySymbols,RXe=Object.prototype.hasOwnProperty,kXe=Object.prototype.propertyIsEnumerable,XL=(t,e,n)=>e in t?OXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O0=(t,e)=>{for(var n in e||(e={}))RXe.call(e,n)&&XL(t,n,e[n]);if(hW)for(var n of hW(e))kXe.call(e,n)&&XL(t,n,e[n]);return t},DR=(t,e)=>DXe(t,NXe(e)),sr=(t,e,n)=>XL(t,typeof e!="symbol"?e+"":e,n);class MXe extends x9e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,sr(this,"subscriptions",new Map),sr(this,"topicMap",new PXe),sr(this,"events",new Ya.EventEmitter),sr(this,"name",wZe),sr(this,"version",_Ze),sr(this,"pending",new Map),sr(this,"cached",[]),sr(this,"initialized",!1),sr(this,"storagePrefix",jl),sr(this,"subscribeTimeout",De.toMiliseconds(De.ONE_MINUTE)),sr(this,"initialSubscribeTimeout",De.toMiliseconds(De.ONE_SECOND*15)),sr(this,"clientId"),sr(this,"batchSubscribeTopicsLimit",500),sr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),sr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=GI(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),sr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),sr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),sr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),sr(this,"on",(r,i)=>{this.events.on(r,i)}),sr(this,"once",(r,i)=>{this.events.once(r,i)}),sr(this,"off",(r,i)=>{this.events.off(r,i)}),sr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),sr(this,"start",async()=>{await this.onConnect()}),sr(this,"stop",async()=>{await this.onDisconnect()}),sr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),sr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),sr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(gw.pulse,async()=>{await this.checkPending()}),this.events.on(Go.created,async r=>{const i=Go.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Go.deleted,async r=>{const i=Go.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=zs(n,this.name),this.clientId=""}get context(){return jo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=GI(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=tr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===wr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:t_(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===wr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},De.toMiliseconds(De.ONE_SECOND)),a;const c=new Promise(async u=>{const h=f=>{f.topic===e&&(this.events.removeListener(Go.created,h),u(f.id))};this.events.on(Go.created,h);try{const f=await Eh(new Promise((p,g)=>{this.relayer.request(s).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),g(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Go.created,h),u(f)}catch{}}),l=await Eh(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Bi.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:t_(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Eh(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Bi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:t_(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Eh(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Bi.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:t_(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,DR(O0({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,O0({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,O0({},n)),this.topicMap.set(n.topic,e),this.events.emit(Go.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Go.deleted,DR(O0({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Go.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Go.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>DR(O0({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await lGe(De.toMiliseconds(De.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return hl(e+await this.getClientId())}}var LXe=Object.defineProperty,fW=Object.getOwnPropertySymbols,FXe=Object.prototype.hasOwnProperty,$Xe=Object.prototype.propertyIsEnumerable,eF=(t,e,n)=>e in t?LXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pW=(t,e)=>{for(var n in e||(e={}))FXe.call(e,n)&&eF(t,n,e[n]);if(fW)for(var n of fW(e))$Xe.call(e,n)&&eF(t,n,e[n]);return t},xn=(t,e,n)=>eF(t,typeof e!="symbol"?e+"":e,n);class UXe extends S9e{constructor(e){super(e),xn(this,"protocol","wc"),xn(this,"version",2),xn(this,"core"),xn(this,"logger"),xn(this,"events",new Ya.EventEmitter),xn(this,"provider"),xn(this,"messages"),xn(this,"subscriber"),xn(this,"publisher"),xn(this,"name",pZe),xn(this,"transportExplicitlyClosed",!1),xn(this,"initialized",!1),xn(this,"connectionAttemptInProgress",!1),xn(this,"relayUrl"),xn(this,"projectId"),xn(this,"packageName"),xn(this,"bundleId"),xn(this,"hasExperiencedNetworkDisruption",!1),xn(this,"pingTimeout"),xn(this,"heartBeatTimeout",De.toMiliseconds(De.THIRTY_SECONDS+De.FIVE_SECONDS)),xn(this,"reconnectTimeout"),xn(this,"connectPromise"),xn(this,"reconnectInProgress",!1),xn(this,"requestsInFlight",[]),xn(this,"connectTimeout",De.toMiliseconds(De.ONE_SECOND*15)),xn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||gp().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),xn(this,"resetPingTimeout",()=>{WI()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),xn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),xn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Bi.connect)}),xn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),xn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Bi.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),xn(this,"registerProviderListeners",()=>{this.provider.on(Ea.payload,this.onPayloadHandler),this.provider.on(Ea.connect,this.onConnectHandler),this.provider.on(Ea.disconnect,this.onDisconnectHandler),this.provider.on(Ea.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?zs(e.logger,this.name):N1(yw({level:e.logger||fZe})),this.messages=new _Xe(this.logger,e.core),this.subscriber=new MXe(this,this.logger),this.publisher=new SXe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Xoe,this.projectId=e.projectId,Gqe()?this.packageName=c7():Kqe()&&(this.bundleId=c7()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return jo(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:wr.relay},LT.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Go.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Go.created,l)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,pW({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Eh(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await G7())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ci(De.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Bi.message,e),await this.recordMessageEvent(e,LT.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ea.disconnect,s),await Eh(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ea.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ea.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ea.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,De.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(WI())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Qa(new rZe(Xqe({sdkVersion:KL,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Xj(e)){if(!e.method.endsWith(mZe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:wr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(pW({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else LO(e)&&this.events.emit(Bi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,LT.inbound),this.events.emit(Bi.message,e))}async acknowledgePayload(e){const n=kO(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ea.payload,this.onPayloadHandler),this.provider.off(Ea.connect,this.onConnectHandler),this.provider.off(Ea.disconnect,this.onDisconnectHandler),this.provider.off(Ea.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await G7();fQe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Bi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},De.toMiliseconds(gZe)))))}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function jXe(){}function mW(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function gW(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function yW(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const BXe="[object RegExp]",zXe="[object String]",VXe="[object Number]",HXe="[object Boolean]",vW="[object Arguments]",WXe="[object Symbol]",qXe="[object Date]",GXe="[object Map]",KXe="[object Set]",YXe="[object Array]",QXe="[object Function]",ZXe="[object ArrayBuffer]",NR="[object Object]",JXe="[object Error]",XXe="[object DataView]",eet="[object Uint8Array]",tet="[object Uint8ClampedArray]",net="[object Uint16Array]",ret="[object Uint32Array]",iet="[object BigUint64Array]",set="[object Int8Array]",oet="[object Int16Array]",aet="[object Int32Array]",cet="[object BigInt64Array]",uet="[object Float32Array]",det="[object Float64Array]";function het(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function fet(t,e,n){return r_(t,e,void 0,void 0,void 0,void 0,n)}function r_(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return N_(t,e,s,o)}return N_(t,e,s,o)}function N_(t,e,n,r){if(Object.is(t,e))return!0;let i=yW(t),s=yW(e);if(i===vW&&(i=NR),s===vW&&(s=NR),i!==s)return!1;switch(i){case zXe:return t.toString()===e.toString();case VXe:{const c=t.valueOf(),l=e.valueOf();return het(c,l)}case HXe:case qXe:case WXe:return Object.is(t.valueOf(),e.valueOf());case BXe:return t.source===e.source&&t.flags===e.flags;case QXe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case GXe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!r_(l,e.get(c),c,t,e,n,r))return!1;return!0}case KXe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const h=c[u],f=l.findIndex(p=>r_(h,p,void 0,t,e,n,r));if(f===-1)return!1;l.splice(f,1)}return!0}case YXe:case eet:case tet:case net:case ret:case iet:case set:case oet:case aet:case cet:case uet:case det:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!r_(t[c],e[c],c,t,e,n,r))return!1;return!0}case ZXe:return t.byteLength!==e.byteLength?!1:N_(new Uint8Array(t),new Uint8Array(e),n,r);case XXe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:N_(new Uint8Array(t),new Uint8Array(e),n,r);case JXe:return t.name===e.name&&t.message===e.message;case NR:{if(!(N_(t.constructor,e.constructor,n,r)||mW(t)&&mW(e)))return!1;const c=[...Object.keys(t),...gW(t)],l=[...Object.keys(e),...gW(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const h=c[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!r_(f,p,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function pet(t,e){return fet(t,e,jXe)}var met=Object.defineProperty,wW=Object.getOwnPropertySymbols,get=Object.prototype.hasOwnProperty,yet=Object.prototype.propertyIsEnumerable,tF=(t,e,n)=>e in t?met(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_W=(t,e)=>{for(var n in e||(e={}))get.call(e,n)&&tF(t,n,e[n]);if(wW)for(var n of wW(e))yet.call(e,n)&&tF(t,n,e[n]);return t},mo=(t,e,n)=>tF(t,typeof e!="symbol"?e+"":e,n);class Km extends I9e{constructor(e,n,r,i=jl,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,mo(this,"map",new Map),mo(this,"version",yZe),mo(this,"cached",[]),mo(this,"initialized",!1),mo(this,"getKey"),mo(this,"storagePrefix",jl),mo(this,"recentlyDeleted",[]),mo(this,"recentlyDeletedLimit",200),mo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!us(o)?this.map.set(this.getKey(o),o):HYe(o)?this.map.set(o.id,o):WYe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),mo(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),mo(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),mo(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>pet(a[c],o[c]))):this.values)),mo(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=_W(_W({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),mo(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=zs(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return jo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=ke("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var vet=Object.defineProperty,wet=(t,e,n)=>e in t?vet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mn=(t,e,n)=>wet(t,typeof e!="symbol"?e+"":e,n);class _et{constructor(e,n){this.core=e,this.logger=n,mn(this,"name",bZe),mn(this,"version",EZe),mn(this,"events",new Oj),mn(this,"pairings"),mn(this,"initialized",!1),mn(this,"storagePrefix",jl),mn(this,"ignoredPayloadTypes",[Vu]),mn(this,"registeredMethods",[]),mn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),mn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),mn(this,"create",async r=>{this.isInitialized();const i=HL(),s=await this.core.crypto.setSymKey(i),o=Ci(De.FIVE_MINUTES),a={protocol:Joe},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=B7({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Xf.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),mn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[el.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=j7(r.uri);i.props.properties.topic=s,i.addTrace(el.pairing_uri_validation_success),i.addTrace(el.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(el.existing_pairing),u.active)throw i.setError(mu.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(el.pairing_not_expired)}const h=c||Ci(De.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:l};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(el.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Xf.create,f),i.addTrace(el.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(el.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(mu.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(mu.subscribe_pairing_topic_failure),p}return i.addTrace(el.subscribe_pairing_topic_success),f}),mn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Ci(De.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),mn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Wf();this.events.once(Ln("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),mn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),mn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),mn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),mn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",tr("USER_DISCONNECTED")),await this.deletePairing(i))}),mn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return B7({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),mn(this,"sendRequest",async(r,i,s)=>{const o=Ah(i,s),a=await this.core.crypto.encode(r,o),c=x0[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),mn(this,"sendResult",async(r,i,s)=>{const o=kO(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=x0[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),mn(this,"sendError",async(r,i,s)=>{const o=MO(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=x0[c]?x0[c].res:x0.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),mn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,tr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),mn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Qd(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),mn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),mn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),mn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Xf.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),mn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{rl(i)?this.events.emit(Ln("pairing_ping",s),{}):Oa(i)&&this.events.emit(Ln("pairing_ping",s),{error:i.error})},500)}),mn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Xf.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),mn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=tr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),mn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(tr("WC_METHOD_UNSUPPORTED",r))}),mn(this,"isValidPair",(r,i)=>{var s;if(!_o(r)){const{message:a}=ke("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(mu.malformed_pairing_uri),new Error(a)}if(!VYe(r.uri)){const{message:a}=ke("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(mu.malformed_pairing_uri),new Error(a)}const o=j7(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=ke("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(mu.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ke("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(mu.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&De.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(mu.pairing_expired);const{message:a}=ke("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),mn(this,"isValidPing",async r=>{if(!_o(r)){const{message:s}=ke("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),mn(this,"isValidDisconnect",async r=>{if(!_o(r)){const{message:s}=ke("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),mn(this,"isValidPairingTopic",async r=>{if(!gi(r,!1)){const{message:i}=ke("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=ke("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Qd(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=ke("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=zs(n,this.name),this.pairings=new Km(this.core,this.logger,this.name,this.storagePrefix)}get context(){return jo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Bi.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==wr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);Xj(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):LO(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ia.expired,async e=>{const{topic:n}=aoe(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Xf.expire,{topic:n}))})}}var bet=Object.defineProperty,Eet=(t,e,n)=>e in t?bet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rs=(t,e,n)=>Eet(t,typeof e!="symbol"?e+"":e,n);class Aet extends A9e{constructor(e,n){super(e,n),this.core=e,this.logger=n,rs(this,"records",new Map),rs(this,"events",new Ya.EventEmitter),rs(this,"name",AZe),rs(this,"version",CZe),rs(this,"cached",[]),rs(this,"initialized",!1),rs(this,"storagePrefix",jl),rs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),rs(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ci(De.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(cc.created,o)}),rs(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Oa(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(cc.updated,i))}),rs(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),rs(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(cc.deleted,s)}}),this.persist()}),rs(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),rs(this,"on",(r,i)=>{this.events.on(r,i)}),rs(this,"once",(r,i)=>{this.events.once(r,i)}),rs(this,"off",(r,i)=>{this.events.off(r,i)}),rs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=zs(n,this.name)}get context(){return jo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ah(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(cc.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(cc.created,e=>{const n=cc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(cc.updated,e=>{const n=cc.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(cc.deleted,e=>{const n=cc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(gw.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{De.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(cc.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Cet=Object.defineProperty,Tet=(t,e,n)=>e in t?Cet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ds=(t,e,n)=>Tet(t,typeof e!="symbol"?e+"":e,n);class Iet extends P9e{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ds(this,"expirations",new Map),Ds(this,"events",new Ya.EventEmitter),Ds(this,"name",TZe),Ds(this,"version",SZe),Ds(this,"cached",[]),Ds(this,"initialized",!1),Ds(this,"storagePrefix",jl),Ds(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ds(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Ds(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ia.created,{target:s,expiration:o})}),Ds(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Ds(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ia.deleted,{target:i,expiration:s})}}),Ds(this,"on",(r,i)=>{this.events.on(r,i)}),Ds(this,"once",(r,i)=>{this.events.once(r,i)}),Ds(this,"off",(r,i)=>{this.events.off(r,i)}),Ds(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=zs(n,this.name)}get context(){return jo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return eGe(e);if(typeof e=="number")return tGe(e);const{message:n}=ke("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ia.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;De.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ia.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(gw.pulse,()=>this.checkExpirations()),this.events.on(Ia.created,e=>{const n=Ia.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ia.expired,e=>{const n=Ia.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ia.deleted,e=>{const n=Ia.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var xet=Object.defineProperty,Pet=(t,e,n)=>e in t?xet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pi=(t,e,n)=>Pet(t,typeof e!="symbol"?e+"":e,n);class Oet extends O9e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,pi(this,"name",IZe),pi(this,"abortController"),pi(this,"isDevEnv"),pi(this,"verifyUrlV3",PZe),pi(this,"storagePrefix",jl),pi(this,"version",Zoe),pi(this,"publicKey"),pi(this,"fetchPromise"),pi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&De.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),pi(this,"register",async i=>{if(!F1()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=M1(),u=this.startAbortTimer(De.ONE_SECOND*5),h=await new Promise((f,p)=>{const g=()=>{window.removeEventListener("message",v),l.body.removeChild(y),p("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const y=l.createElement("iframe");y.src=c,y.style.display="none",y.addEventListener("error",g,{signal:this.abortController.signal});const v=b=>{if(b.data&&typeof b.data=="string")try{const w=JSON.parse(b.data);if(w.type==="verify_attestation"){if(OL(w.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(y),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",v),f(w.attestation===null?"":w.attestation)}}catch(w){this.logger.warn(w)}};l.body.appendChild(y),window.addEventListener("message",v,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(l){this.logger.warn(l)}return""}),pi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(OL(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),pi(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(De.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),pi(this,"getVerifyUrl",i=>{let s=i||D_;return OZe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${D_}`),s=D_),s}),pi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(De.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),pi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),pi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),pi(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),pi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),pi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),pi(this,"validateAttestation",(i,s)=>{const o=OYe(i,s.publicKey),a={hasExpired:De.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=zs(n,this.name),this.abortController=new AbortController,this.isDevEnv=Vj(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return jo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),De.toMiliseconds(e))}}var Det=Object.defineProperty,Net=(t,e,n)=>e in t?Det(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bW=(t,e,n)=>Net(t,typeof e!="symbol"?e+"":e,n);class Ret extends D9e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,bW(this,"context",DZe),bW(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${NZe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=zs(n,this.context)}}var ket=Object.defineProperty,EW=Object.getOwnPropertySymbols,Met=Object.prototype.hasOwnProperty,Let=Object.prototype.propertyIsEnumerable,nF=(t,e,n)=>e in t?ket(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D0=(t,e)=>{for(var n in e||(e={}))Met.call(e,n)&&nF(t,n,e[n]);if(EW)for(var n of EW(e))Let.call(e,n)&&nF(t,n,e[n]);return t},Mi=(t,e,n)=>nF(t,typeof e!="symbol"?e+"":e,n);class Fet extends N9e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Mi(this,"context",kZe),Mi(this,"storagePrefix",jl),Mi(this,"storageVersion",RZe),Mi(this,"events",new Map),Mi(this,"shouldPersist",!1),Mi(this,"init",async()=>{if(!Vj())try{const i={eventId:u7(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:soe(this.core.relayer.protocol,this.core.relayer.version,KL)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Mi(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=u7(),u=this.core.projectId||"",h=Date.now(),f=D0({eventId:l,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),Mi(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return D0(D0({},a),this.setMethods(a.eventId))}),Mi(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Mi(this,"setEventListeners",()=>{this.core.heartbeat.on(gw.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{De.fromMiliseconds(Date.now())-De.fromMiliseconds(i.timestamp)>MZe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Mi(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Mi(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Mi(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Mi(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Mi(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,D0(D0({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Mi(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Mi(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${LZe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${KL}${s}`,{method:"POST",body:JSON.stringify(i)})}),Mi(this,"getAppDomain",()=>ioe().url),this.logger=zs(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var $et=Object.defineProperty,AW=Object.getOwnPropertySymbols,Uet=Object.prototype.hasOwnProperty,jet=Object.prototype.propertyIsEnumerable,rF=(t,e,n)=>e in t?$et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CW=(t,e)=>{for(var n in e||(e={}))Uet.call(e,n)&&rF(t,n,e[n]);if(AW)for(var n of AW(e))jet.call(e,n)&&rF(t,n,e[n]);return t},lr=(t,e,n)=>rF(t,typeof e!="symbol"?e+"":e,n);let Bet=class dae extends w9e{constructor(e){var n;super(e),lr(this,"protocol",Qoe),lr(this,"version",Zoe),lr(this,"name",YI),lr(this,"relayUrl"),lr(this,"projectId"),lr(this,"customStoragePrefix"),lr(this,"events",new Ya.EventEmitter),lr(this,"logger"),lr(this,"heartbeat"),lr(this,"relayer"),lr(this,"crypto"),lr(this,"storage"),lr(this,"history"),lr(this,"expirer"),lr(this,"pairing"),lr(this,"verify"),lr(this,"echoClient"),lr(this,"linkModeSupportedApps"),lr(this,"eventClient"),lr(this,"initialized",!1),lr(this,"logChunkController"),lr(this,"on",(a,c)=>this.events.on(a,c)),lr(this,"once",(a,c)=>this.events.once(a,c)),lr(this,"off",(a,c)=>this.events.off(a,c)),lr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),lr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:wr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Xoe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=yw({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:iZe.logger,name:YI}),{logger:s,chunkLoggerController:o}=Nj({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=zs(s,this.name),this.heartbeat=new aze,this.crypto=new hXe(this,this.logger,e==null?void 0:e.keychain),this.history=new Aet(this,this.logger),this.expirer=new Iet(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Vze(CW(CW({},sZe),e==null?void 0:e.storageOptions)),this.relayer=new UXe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new _et(this,this.logger),this.verify=new Oet(this,this.logger,this.storage),this.echoClient=new Ret(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Fet(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new dae(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(vZe,r),n}get context(){return jo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(rW,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(rW)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&{}.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const zet=Bet,hae="wc",fae=2,pae="client",e5=`${hae}@${fae}:${pae}:`,RR={name:pae,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},TW="WALLETCONNECT_DEEPLINK_CHOICE",Vet="proposal",SW="Proposal expired",Het="session",Ig=De.SEVEN_DAYS,Wet="engine",Li={wc_sessionPropose:{req:{ttl:De.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:De.ONE_DAY,prompt:!1,tag:1104},res:{ttl:De.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:De.ONE_DAY,prompt:!1,tag:1106},res:{ttl:De.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:De.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:De.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:De.ONE_DAY,prompt:!1,tag:1112},res:{ttl:De.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:De.ONE_DAY,prompt:!1,tag:1114},res:{ttl:De.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:De.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:De.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:De.FIVE_MINUTES,prompt:!1,tag:1119}}},kR={min:De.FIVE_MINUTES,max:De.SEVEN_DAYS},Xc={idle:"IDLE",active:"ACTIVE"},IW={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},qet="request",Get=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ket="wc",Yet="auth",Qet="authKeys",Zet="pairingTopics",Jet="requests",$O=`${Ket}@${1.5}:${Yet}:`,FT=`${$O}:PUB_KEY`;var Xet=Object.defineProperty,ett=Object.defineProperties,ttt=Object.getOwnPropertyDescriptors,xW=Object.getOwnPropertySymbols,ntt=Object.prototype.hasOwnProperty,rtt=Object.prototype.propertyIsEnumerable,iF=(t,e,n)=>e in t?Xet(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,or=(t,e)=>{for(var n in e||(e={}))ntt.call(e,n)&&iF(t,n,e[n]);if(xW)for(var n of xW(e))rtt.call(e,n)&&iF(t,n,e[n]);return t},Gs=(t,e)=>ett(t,ttt(e)),be=(t,e,n)=>iF(t,typeof e!="symbol"?e+"":e,n);class itt extends L9e{constructor(e){super(e),be(this,"name",Wet),be(this,"events",new Oj),be(this,"initialized",!1),be(this,"requestQueue",{state:Xc.idle,queue:[]}),be(this,"sessionRequestQueue",{state:Xc.idle,queue:[]}),be(this,"requestQueueDelay",De.ONE_SECOND),be(this,"expectedPairingMethodMap",new Map),be(this,"recentlyDeletedMap",new Map),be(this,"recentlyDeletedLimit",200),be(this,"relayMessageCache",[]),be(this,"pendingSessions",new Map),be(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Li)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},De.toMiliseconds(this.requestQueueDelay)))}),be(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Gs(or({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,h,f=!1;try{if(u){const D=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=D.active}}catch(D){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),D}if(!u||!f){const{topic:D,uri:C}=await this.client.core.pairing.create();u=D,h=C}if(!u){const{message:D}=ke("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(D)}const p=await this.client.core.crypto.generateKeyPair(),g=Li.wc_sessionPropose.req.ttl||De.FIVE_MINUTES,y=Ci(g),v=Gs(or(or({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Joe}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:nl()}),b=Ln("session_connect",v.id),{reject:w,resolve:A,done:S}=Wf(g,SW),P=({id:D})=>{D===v.id&&(this.client.events.off("proposal_expire",P),this.pendingSessions.delete(v.id),this.events.emit(b,{error:{message:SW,code:0}}))};return this.client.events.on("proposal_expire",P),this.events.once(b,({error:D,session:C})=>{this.client.events.off("proposal_expire",P),D?w(D):C&&A(C)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:v,throwOnFailedPublish:!0,clientRpcId:v.id}),await this.setProposal(v.id,v),{uri:h,approval:S}}),be(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),be(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[lc.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(x){throw o.setError(Lf.no_internet_connection),x}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(x){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Lf.proposal_not_found),x}try{await this.isValidApprove(n)}catch(x){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Lf.session_approve_namespace_validation_failure),x}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:y,requiredNamespaces:v,optionalNamespaces:b}=p;let w=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});w||(w=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:lc.session_approve_started,properties:{topic:g,trace:[lc.session_approve_started,lc.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),S=y.publicKey,P=await this.client.core.crypto.generateSharedKey(A,S),D=or(or(or({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:A,metadata:this.client.metadata},expiry:Ci(Ig)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),C=wr.relay;w.addTrace(lc.subscribing_session_topic);try{await this.client.core.relayer.subscribe(P,{transportType:C})}catch(x){throw w.setError(Lf.subscribe_session_topic_failure),x}w.addTrace(lc.subscribe_session_topic_success);const I=Gs(or({},D),{topic:P,requiredNamespaces:v,optionalNamespaces:b,pairingTopic:g,acknowledged:!1,self:D.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:A,transportType:wr.relay});await this.client.session.set(P,I),w.addTrace(lc.store_session);try{w.addTrace(lc.publishing_session_settle),await this.sendRequest({topic:P,method:"wc_sessionSettle",params:D,throwOnFailedPublish:!0}).catch(x=>{throw w==null||w.setError(Lf.session_settle_publish_failure),x}),w.addTrace(lc.session_settle_publish_success),w.addTrace(lc.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(x=>{throw w==null||w.setError(Lf.session_approve_publish_failure),x}),w.addTrace(lc.session_approve_publish_success)}catch(x){throw this.client.logger.error(x),this.client.session.delete(P,tr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(P),x}return this.client.core.eventClient.deleteEvent({eventId:w.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:y.metadata}),await this.client.proposal.delete(a,tr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(P,Ci(Ig)),{topic:P,acknowledged:()=>Promise.resolve(this.client.session.get(P))}}),be(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:Li.wc_sessionPropose.reject}),await this.client.proposal.delete(r,tr("USER_DISCONNECTED")))}),be(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Wf(),c=nl(),l=gp().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Ln("session_update",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:u}),a(h)}),{acknowledged:s}}),be(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=nl(),{done:s,resolve:o,reject:a}=Wf();return this.events.once(Ln("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Ci(Ig)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),be(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:r,request:i,topic:s,expiry:o=Li.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===wr.relay&&await this.confirmOnlineStateOrThrow();const c=nl(),l=gp().toString(),{done:u,resolve:h,reject:f}=Wf(o,"Request expired. Please try again.");this.events.once(Ln("session_request",c),({error:b,result:w})=>{b?f(b):h(w)});const p="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:{request:Gs(or({},i),{expiryTimestamp:Ci(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(b=>f(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const y={request:Gs(or({},i),{expiryTimestamp:Ci(o)}),chainId:r},v=this.shouldSetTVF(p,y);return await Promise.all([new Promise(async b=>{await this.sendRequest(or({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:y,expiry:o,throwOnFailedPublish:!0},v&&{tvf:this.getTVFParams(c,y)})).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),b()}),new Promise(async b=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const A=await sGe(this.client.core.storage,TW);await nGe({id:c,topic:s,wcDeepLink:A})}b()}),u()]).then(b=>b[2])}),be(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===wr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);rl(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Oa(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),be(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=nl(),s=gp().toString(),{done:o,resolve:a,reject:c}=Wf();this.events.once(Ln("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),be(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=gp().toString(),a=nl();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),be(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:tr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=ke("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),be(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>BYe(r,n)))),be(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),be(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?wr.link_mode:wr.relay;o===wr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:h,type:f,exp:p,nbf:g,methods:y=[],expiry:v}=n,b=[...n.resources||[]],{topic:w,uri:A}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:A}});const S=await this.client.core.crypto.generateKeyPair(),P=MT(S);if(await Promise.all([this.client.auth.authKeys.set(FT,{responseTopic:P,publicKey:S}),this.client.auth.pairingTopics.set(P,{topic:P,pairingTopic:w})]),await this.client.core.relayer.subscribe(P,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${w}`),y.length>0){const{namespace:Q}=Uy(a[0]);let K=ZGe(Q,"request",y);kT(b)&&(K=XGe(K,b.pop())),b.push(K)}const D=v&&v>Li.wc_sessionAuthenticate.req.ttl?v:Li.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:f??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:g,resources:b},requester:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:Ci(D)},I={eip155:{chains:a,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},x={requiredNamespaces:{},optionalNamespaces:I,relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:Ci(Li.wc_sessionPropose.req.ttl),id:nl()},{done:N,resolve:R,reject:$}=Wf(D,"Request expired"),U=nl(),Y=Ln("session_connect",x.id),z=Ln("session_request",U),j=async({error:Q,session:K})=>{this.events.off(z,q),Q?$(Q):K&&R({session:K})},q=async Q=>{var K,ee,ne;if(await this.deletePendingAuthRequest(U,{message:"fulfilled",code:0}),Q.error){const Fe=tr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Q.error.code===Fe.code?void 0:(this.events.off(Y,j),$(Q.error.message))}await this.deleteProposal(x.id),this.events.off(Y,j);const{cacaos:le,responder:ce}=Q.result,re=[],de=[];for(const Fe of le){await v7({cacao:Fe,projectId:this.client.core.projectId})||(this.client.logger.error(Fe,"Signature verification failed"),$(tr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ge}=Fe,ot=kT(Ge.resources),Me=[ML(Ge.iss)],ut=qI(Ge.iss);if(ot){const ht=w7(ot),Xt=_7(ot);re.push(...ht),Me.push(...Xt)}for(const ht of Me)de.push(`${ht}:${ut}`)}const ve=await this.client.core.crypto.generateSharedKey(S,ce.publicKey);let Ne;re.length>0&&(Ne={topic:ve,acknowledged:!0,self:{publicKey:S,metadata:this.client.metadata},peer:ce,controller:ce.publicKey,expiry:Ci(Ig),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:z7([...new Set(re)],[...new Set(de)]),transportType:o},await this.client.core.relayer.subscribe(ve,{transportType:o}),await this.client.session.set(ve,Ne),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:ce.metadata}),Ne=this.client.session.get(ve)),(K=this.client.metadata.redirect)!=null&&K.linkMode&&(ee=ce.metadata.redirect)!=null&&ee.linkMode&&(ne=ce.metadata.redirect)!=null&&ne.universal&&r&&(this.client.core.addLinkModeSupportedApp(ce.metadata.redirect.universal),this.client.session.update(ve,{transportType:wr.link_mode})),R({auths:le,session:Ne})};this.events.once(Y,j),this.events.once(z,q);let V;try{if(s){const Q=Ah("wc_sessionAuthenticate",C,U);this.client.core.history.set(w,Q);const K=await this.client.core.crypto.encode("",Q,{type:V1,encoding:ih});V=TC(r,w,K)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:C,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:U}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:x,expiry:Li.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(Q){throw this.events.off(Y,j),this.events.off(z,q),Q}return await this.setProposal(x.id,x),await this.setAuthRequest(U,{request:Gs(or({},C),{verifyContext:{}}),pairingTopic:w,transportType:o}),{uri:V??A,response:N}}),be(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Ff.authenticated_session_approve_started]}});try{this.isInitialized()}catch(v){throw s.setError(P0.no_internet_connection),v}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(P0.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||wr.relay;a===wr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=MT(c),h={type:Vu,receiverPublicKey:c,senderPublicKey:l},f=[],p=[];for(const v of i){if(!await v7({cacao:v,projectId:this.client.core.projectId})){s.setError(P0.invalid_cacao);const P=tr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:P,encodeOpts:h}),new Error(P.message)}s.addTrace(Ff.cacaos_verified);const{p:b}=v,w=kT(b.resources),A=[ML(b.iss)],S=qI(b.iss);if(w){const P=w7(w),D=_7(w);f.push(...P),A.push(...D)}for(const P of A)p.push(`${P}:${S}`)}const g=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Ff.create_authenticated_session_topic);let y;if((f==null?void 0:f.length)>0){y={topic:g,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Ci(Ig),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:z7([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(Ff.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(v){throw s.setError(P0.subscribe_authenticated_session_topic_failure),v}s.addTrace(Ff.subscribe_authenticated_session_topic_success),await this.client.session.set(g,y),s.addTrace(Ff.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Ff.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(v){throw s.setError(P0.authenticated_session_approve_publish_failure),v}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:y}}),be(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===wr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=MT(o),l={type:Vu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Li.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,tr("USER_DISCONNECTED"))}),be(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return goe(r,i)}),be(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),be(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),be(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,tr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(TW).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,tr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Xc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),be(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Lf.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,tr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),be(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Xc.idle,this.client.events.emit("session_request_expire",{id:n}))}),be(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),be(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),be(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Ci(Li.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),be(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=wr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),be(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Ci(Li.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),be(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:h}=n,f=Ah(i,s,c);let p;const g=!!u;try{const b=g?ih:Ac;p=await this.client.core.crypto.encode(r,f,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let y;if(Get.includes(i)){const b=hl(JSON.stringify(f)),w=hl(p);y=await this.client.core.verify.register({id:w,decryptedId:b})}const v=Li[i].req;if(v.attestation=y,o&&(v.ttl=o),a&&(v.id=a),this.client.core.history.set(r,f),g){const b=TC(u,r,p);await global.Linking.openURL(b,this.client.name)}else{const b=Li[i].req;o&&(b.ttl=o),a&&(b.id=a),b.tvf=Gs(or({},h),{correlationId:f.id}),l?(b.internal=Gs(or({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,b)):this.client.core.relayer.publish(r,p,b).catch(w=>this.client.logger.error(w))}return f.id}),be(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=kO(r,s);let u;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=h?ih:Ac;u=await this.client.core.crypto.encode(i,l,Gs(or({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let f,p;try{f=await this.client.core.history.get(i,r);const g=f.request;try{this.shouldSetTVF(g.method,g.params)&&(p=this.getTVFParams(r,g.params,s))}catch(y){this.client.logger.warn("sendResult() -> getTVFParams() failed",y)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),g}if(h){const g=TC(c,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=f.request.method,y=Li[g].res;y.tvf=Gs(or({},p),{correlationId:r}),o?(y.internal=Gs(or({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,y)):this.client.core.relayer.publish(i,u,y).catch(v=>this.client.logger.error(v))}await this.client.core.history.resolve(l)}),be(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=MO(r,s);let u;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=h?ih:Ac;u=await this.client.core.crypto.encode(i,l,Gs(or({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(h){const p=TC(c,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=a||Li[p].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(l)}),be(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Qd(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Qd(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),be(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),be(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),be(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Xc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Xc.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Xc.idle}),be(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),be(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),be(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=ke("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),be(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),be(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(mu.proposal_listener_not_found)),this.isValidConnect(or({},i.params));const u=a.expiryTimestamp||Ci(Li.wc_sessionPropose.req.ttl),h=or({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,h);const f=await this.getVerifyContext({attestationId:s,hash:hl(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});l==null||l.addTrace(el.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:h,verifyContext:f})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Li.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),be(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(rl(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(Oa(r)){await this.client.proposal.delete(s,tr("USER_DISCONNECTED"));const o=Ln("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),be(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r.params,p=[...this.pendingSessions.values()].find(v=>v.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(p.proposalId),y=Gs(or(or(or({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:wr.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit("session_connect",{session:y}),this.events.emit(Ln("session_connect",p.proposalId),{session:y}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),be(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;rl(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Ln("session_approve",i),{})):Oa(r)&&(await this.client.session.delete(n,tr("USER_DISCONNECTED")),this.events.emit(Ln("session_approve",i),{error:r.error}))}),be(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=I0.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:tr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(or({topic:n},i));try{I0.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw I0.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),be(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),be(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Ln("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rl(r)?this.events.emit(Ln("session_update",i),{}):Oa(r)&&this.events.emit(Ln("session_update",i),{error:r.error})}),be(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ci(Ig)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),be(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Ln("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rl(r)?this.events.emit(Ln("session_extend",i),{}):Oa(r)&&this.events.emit(Ln("session_extend",i),{error:r.error})}),be(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),be(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Ln("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);rl(r)?this.events.emit(Ln("session_ping",i),{}):Oa(r)&&this.events.emit(Ln("session_ping",i),{error:r.error})},500)}),be(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Bi.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:tr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),be(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:h,params:f}=a;try{await this.isValidRequest(or({topic:o},f));const p=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:hl(JSON.stringify(Ah("wc_sessionRequest",f,h))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),y={id:h,topic:o,params:f,verifyContext:g};await this.setPendingSessionRequest(y),u===wr.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),be(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Ln("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rl(r)?this.events.emit(Ln("session_request",i),{result:r.result}):Oa(r)&&this.events.emit(Ln("session_request",i),{error:r.error})}),be(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=I0.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(or({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),I0.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),be(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),rl(r)?this.events.emit(Ln("session_request",i),{result:r.result}):Oa(r)&&this.events.emit(Ln("session_request",i),{error:r.error})}),be(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:hl(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:c}),c===wr.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,c),p={type:Vu,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:p,rpcOpts:Li.wc_sessionAuthenticate.autoReject,appLink:f})}}),be(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),be(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Xc.idle,this.processSessionRequestQueue()},De.toMiliseconds(this.requestQueueDelay))}),be(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Ln("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ln("session_request",s.request.id),{error:r})})}),be(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Xc.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Xc.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),be(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),be(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ah("wc_sessionPropose",Gs(or({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),be(this,"isValidConnect",async n=>{if(!_o(n)){const{message:l}=ke("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(us(r)||await this.isValidPairingTopic(r),!XYe(c,!0)){const{message:l}=ke("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!us(i)&&fE(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!us(s)&&fE(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),us(o)||this.validateSessionProps(o,"sessionProperties"),!us(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),be(this,"validateNamespaces",(n,r)=>{const i=JYe(n,"connect()",r);if(i)throw new Error(i.message)}),be(this,"isValidApprove",async n=>{if(!_o(n))throw new Error(ke("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=IR(i,"approve()");if(l)throw new Error(l.message);const u=W7(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!gi(s,!0)){const{message:h}=ke("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(us(o)||this.validateSessionProps(o,"sessionProperties"),!us(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),be(this,"isValidReject",async n=>{if(!_o(n)){const{message:s}=ke("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!tQe(i)){const{message:s}=ke("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),be(this,"isValidSessionSettleRequest",n=>{if(!_o(n)){const{message:l}=ke("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!zoe(r)){const{message:l}=ke("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=qYe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=IR(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Qd(o)){const{message:l}=ke("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),be(this,"isValidUpdate",async n=>{if(!_o(n)){const{message:c}=ke("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=IR(i,"update()");if(o)throw new Error(o.message);const a=W7(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),be(this,"isValidExtend",async n=>{if(!_o(n)){const{message:i}=ke("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),be(this,"isValidRequest",async n=>{if(!_o(n)){const{message:c}=ke("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!H7(a,s)){const{message:c}=ke("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!nQe(i)){const{message:c}=ke("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!sQe(a,s,i.method)){const{message:c}=ke("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!lQe(o,kR)){const{message:c}=ke("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${kR.min} and ${kR.max}`);throw new Error(c)}}),be(this,"isValidRespond",async n=>{var r;if(!_o(n)){const{message:o}=ke("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!rQe(s)){const{message:o}=ke("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),be(this,"isValidPing",async n=>{if(!_o(n)){const{message:i}=ke("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),be(this,"isValidEmit",async n=>{if(!_o(n)){const{message:a}=ke("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!H7(o,s)){const{message:a}=ke("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!iQe(i)){const{message:a}=ke("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!oQe(o,s,i.name)){const{message:a}=ke("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),be(this,"isValidDisconnect",async n=>{if(!_o(n)){const{message:i}=ke("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),be(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!gi(i,!1))throw new Error("uri is required parameter");if(!gi(s,!1))throw new Error("domain is required parameter");if(!gi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Uy(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Uy(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),be(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||D_,validation:"UNKNOWN",origin:o.url||""}};try{if(a===wr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),be(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=ke("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),be(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),be(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),be(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=ke("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),be(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,h,f;return!n||r!==wr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),be(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),be(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=l7(n,"topic")||"",i=decodeURIComponent(l7(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:wr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),be(this,"registerLinkModeListeners",async()=>{var n;if(Vj()||xf()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),be(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(IW).includes(i.method)}),be(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return Gs(or({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),be(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),be(this,"extractTxHashesFromResult",(n,r)=>{try{const i=IW[n];if(typeof r=="string")return[r];const s=r[i.key];if(Hh(s))return n==="solana_signAllTransactions"?s.map(o=>FGe(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ke("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Bi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(FT)?this.client.auth.authKeys.get(FT):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===wr.link_mode?ih:Ac});Xj(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:hl(r)})):LO(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ia.expired,async e=>{const{topic:n,id:r}=aoe(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ke("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ke("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Xf.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Xf.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!gi(e,!1)){const{message:n}=ke("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ke("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Qd(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ke("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!gi(e,!1)){const{message:n}=ke("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ke("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Qd(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ke("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ke("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(gi(e,!1)){const{message:n}=ke("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ke("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!eQe(e)){const{message:n}=ke("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ke("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Qd(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ke("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class stt extends Km{constructor(e,n){super(e,n,Vet,e5),this.core=e,this.logger=n}}let ott=class extends Km{constructor(e,n){super(e,n,Het,e5),this.core=e,this.logger=n}};class att extends Km{constructor(e,n){super(e,n,qet,e5,r=>r.id),this.core=e,this.logger=n}}class ctt extends Km{constructor(e,n){super(e,n,Qet,$O,()=>FT),this.core=e,this.logger=n}}class ltt extends Km{constructor(e,n){super(e,n,Zet,$O),this.core=e,this.logger=n}}class utt extends Km{constructor(e,n){super(e,n,Jet,$O,r=>r.id),this.core=e,this.logger=n}}var dtt=Object.defineProperty,htt=(t,e,n)=>e in t?dtt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MR=(t,e,n)=>htt(t,typeof e!="symbol"?e+"":e,n);class ftt{constructor(e,n){this.core=e,this.logger=n,MR(this,"authKeys"),MR(this,"pairingTopics"),MR(this,"requests"),this.authKeys=new ctt(this.core,this.logger),this.pairingTopics=new ltt(this.core,this.logger),this.requests=new utt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var ptt=Object.defineProperty,mtt=(t,e,n)=>e in t?ptt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e,n)=>mtt(t,typeof e!="symbol"?e+"":e,n);let gtt=class mae extends M9e{constructor(e){super(e),gn(this,"protocol",hae),gn(this,"version",fae),gn(this,"name",RR.name),gn(this,"metadata"),gn(this,"core"),gn(this,"logger"),gn(this,"events",new Ya.EventEmitter),gn(this,"engine"),gn(this,"session"),gn(this,"proposal"),gn(this,"pendingRequest"),gn(this,"auth"),gn(this,"signConfig"),gn(this,"on",(r,i)=>this.events.on(r,i)),gn(this,"once",(r,i)=>this.events.once(r,i)),gn(this,"off",(r,i)=>this.events.off(r,i)),gn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),gn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),gn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),gn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),gn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),gn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||RR.name,this.metadata=Qqe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:N1(yw({level:(e==null?void 0:e.logger)||RR.logger}));this.core=(e==null?void 0:e.core)||new zet(e),this.logger=zs(n,this.name),this.session=new ott(this.core,this.logger),this.proposal=new stt(this.core,this.logger),this.pendingRequest=new att(this.core,this.logger),this.engine=new itt(this),this.auth=new ftt(this.core,this.logger)}static async init(e){const n=new mae(e);return await n.initialize(),n}get context(){return jo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},De.toMiliseconds(De.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var sF={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Zs<"u"&&Zs,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Zs<"u"&&Zs||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(z){return z&&DataView.prototype.isPrototypeOf(z)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(z){return z&&u.indexOf(Object.prototype.toString.call(z))>-1};function f(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||z==="")throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function p(z){return typeof z!="string"&&(z=String(z)),z}function g(z){var j={next:function(){var q=z.shift();return{done:q===void 0,value:q}}};return c.iterable&&(j[Symbol.iterator]=function(){return j}),j}function y(z){this.map={},z instanceof y?z.forEach(function(j,q){this.append(q,j)},this):Array.isArray(z)?z.forEach(function(j){if(j.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+j.length);this.append(j[0],j[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(j){this.append(j,z[j])},this)}y.prototype.append=function(z,j){z=f(z),j=p(j);var q=this.map[z];this.map[z]=q?q+", "+j:j},y.prototype.delete=function(z){delete this.map[f(z)]},y.prototype.get=function(z){return z=f(z),this.has(z)?this.map[z]:null},y.prototype.has=function(z){return this.map.hasOwnProperty(f(z))},y.prototype.set=function(z,j){this.map[f(z)]=p(j)},y.prototype.forEach=function(z,j){for(var q in this.map)this.map.hasOwnProperty(q)&&z.call(j,this.map[q],q,this)},y.prototype.keys=function(){var z=[];return this.forEach(function(j,q){z.push(q)}),g(z)},y.prototype.values=function(){var z=[];return this.forEach(function(j){z.push(j)}),g(z)},y.prototype.entries=function(){var z=[];return this.forEach(function(j,q){z.push([q,j])}),g(z)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function v(z){if(!z._noBody){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}}function b(z){return new Promise(function(j,q){z.onload=function(){j(z.result)},z.onerror=function(){q(z.error)}})}function w(z){var j=new FileReader,q=b(j);return j.readAsArrayBuffer(z),q}function A(z){var j=new FileReader,q=b(j),V=/charset=([A-Za-z0-9_-]+)/.exec(z.type),Q=V?V[1]:"utf-8";return j.readAsText(z,Q),q}function S(z){for(var j=new Uint8Array(z),q=new Array(j.length),V=0;V<j.length;V++)q[V]=String.fromCharCode(j[V]);return q.join("")}function P(z){if(z.slice)return z.slice(0);var j=new Uint8Array(z.byteLength);return j.set(new Uint8Array(z)),j.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(z){this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:c.blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:c.formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():c.arrayBuffer&&c.blob&&l(z)?(this._bodyArrayBuffer=P(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||h(z))?this._bodyArrayBuffer=P(z):this._bodyText=z=Object.prototype.toString.call(z):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var z=v(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var z=v(this);return z||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var z=v(this);if(z)return z;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function I(z){var j=z.toUpperCase();return C.indexOf(j)>-1?j:z}function x(z,j){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var q=j.body;if(z instanceof x){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,j.headers||(this.headers=new y(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!q&&z._bodyInit!=null&&(q=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new y(j.headers)),this.method=I(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal||function(){if("AbortController"in a){var K=new AbortController;return K.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(q),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var Q=/\?/;this.url+=(Q.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function N(z){var j=new FormData;return z.trim().split("&").forEach(function(q){if(q){var V=q.split("="),Q=V.shift().replace(/\+/g," "),K=V.join("=").replace(/\+/g," ");j.append(decodeURIComponent(Q),decodeURIComponent(K))}}),j}function R(z){var j=new y,q=z.replace(/\r?\n[\t ]+/g," ");return q.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var Q=V.split(":"),K=Q.shift().trim();if(K){var ee=Q.join(":").trim();try{j.append(K,ee)}catch(ne){console.warn("Response "+ne.message)}}}),j}D.call(x.prototype);function $(z,j){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new y(j.headers),this.url=j.url||"",this._initBody(z)}D.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},$.error=function(){var z=new $(null,{status:200,statusText:""});return z.ok=!1,z.status=0,z.type="error",z};var U=[301,302,303,307,308];$.redirect=function(z,j){if(U.indexOf(j)===-1)throw new RangeError("Invalid status code");return new $(null,{status:j,headers:{location:z}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(j,q){this.message=j,this.name=q;var V=Error(j);this.stack=V.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Y(z,j){return new Promise(function(q,V){var Q=new x(z,j);if(Q.signal&&Q.signal.aborted)return V(new o.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function ee(){K.abort()}K.onload=function(){var ce={statusText:K.statusText,headers:R(K.getAllResponseHeaders()||"")};Q.url.indexOf("file://")===0&&(K.status<200||K.status>599)?ce.status=200:ce.status=K.status,ce.url="responseURL"in K?K.responseURL:ce.headers.get("X-Request-URL");var re="response"in K?K.response:K.responseText;setTimeout(function(){q(new $(re,ce))},0)},K.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},K.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request timed out"))},0)},K.onabort=function(){setTimeout(function(){V(new o.DOMException("Aborted","AbortError"))},0)};function ne(ce){try{return ce===""&&a.location.href?a.location.href:ce}catch{return ce}}if(K.open(Q.method,ne(Q.url),!0),Q.credentials==="include"?K.withCredentials=!0:Q.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&(c.blob?K.responseType="blob":c.arrayBuffer&&(K.responseType="arraybuffer")),j&&typeof j.headers=="object"&&!(j.headers instanceof y||a.Headers&&j.headers instanceof a.Headers)){var le=[];Object.getOwnPropertyNames(j.headers).forEach(function(ce){le.push(f(ce)),K.setRequestHeader(ce,p(j.headers[ce]))}),Q.headers.forEach(function(ce,re){le.indexOf(re)===-1&&K.setRequestHeader(re,ce)})}else Q.headers.forEach(function(ce,re){K.setRequestHeader(re,ce)});Q.signal&&(Q.signal.addEventListener("abort",ee),K.onreadystatechange=function(){K.readyState===4&&Q.signal.removeEventListener("abort",ee)}),K.send(typeof Q._bodyInit>"u"?null:Q._bodyInit)})}return Y.polyfill=!0,a.fetch||(a.fetch=Y,a.Headers=y,a.Request=x,a.Response=$),o.Headers=y,o.Request=x,o.Response=$,o.fetch=Y,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(sF,sF.exports);var ytt=sF.exports;const PW=oo(ytt);var vtt=Object.defineProperty,wtt=Object.defineProperties,_tt=Object.getOwnPropertyDescriptors,OW=Object.getOwnPropertySymbols,btt=Object.prototype.hasOwnProperty,Ett=Object.prototype.propertyIsEnumerable,DW=(t,e,n)=>e in t?vtt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NW=(t,e)=>{for(var n in e||(e={}))btt.call(e,n)&&DW(t,n,e[n]);if(OW)for(var n of OW(e))Ett.call(e,n)&&DW(t,n,e[n]);return t},RW=(t,e)=>wtt(t,_tt(e));const Att={Accept:"application/json","Content-Type":"application/json"},Ctt="POST",kW={headers:Att,method:Ctt},MW=10;let zc=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ya.EventEmitter,this.isAvailable=!1,this.registering=!1,!Z7(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=ad(e),r=await(await PW(this.url,RW(NW({},kW),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Z7(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=ad({id:1,jsonrpc:"2.0",method:"test",params:[]});await PW(e,RW(NW({},kW),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?mm(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=MO(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Woe(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>MW&&this.events.setMaxListeners(MW)}};const LW="error",Ttt="wss://relay.walletconnect.org",Stt="wc",Itt="universal_provider",IC=`${Stt}@2:${Itt}:`,gae="https://rpc.walletconnect.org/v1/",Kg="generic",xtt=`${gae}bundler`,Za={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function Ptt(){}function t5(t){return t==null||typeof t!="object"&&typeof t!="function"}function n5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ott(t){if(t5(t))return t;if(Array.isArray(t)||n5(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function FW(t){return typeof t=="object"&&t!==null}function yae(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function vae(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Dtt="[object RegExp]",wae="[object String]",_ae="[object Number]",bae="[object Boolean]",Eae="[object Arguments]",Ntt="[object Symbol]",Rtt="[object Date]",ktt="[object Map]",Mtt="[object Set]",Ltt="[object Array]",Ftt="[object ArrayBuffer]",$tt="[object Object]",Utt="[object DataView]",jtt="[object Uint8Array]",Btt="[object Uint8ClampedArray]",ztt="[object Uint16Array]",Vtt="[object Uint32Array]",Htt="[object Int8Array]",Wtt="[object Int16Array]",qtt="[object Int32Array]",Gtt="[object Float32Array]",Ktt="[object Float64Array]";function Ytt(t,e){return vy(t,void 0,t,new Map,e)}function vy(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(t5(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=vy(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,vy(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(vy(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(n5(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=vy(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),ep(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),ep(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),ep(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,ep(o,t,n,r,i),o}if(typeof t=="object"&&Qtt(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),ep(o,t,n,r,i),o}return t}function ep(t,e,n=t,r,i){const s=[...Object.keys(e),...yae(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=vy(e[a],a,n,r,i))}}function Qtt(t){switch(vae(t)){case Eae:case Ltt:case Ftt:case Utt:case bae:case Rtt:case Gtt:case Ktt:case Htt:case Wtt:case qtt:case ktt:case _ae:case $tt:case Dtt:case Mtt:case wae:case Ntt:case jtt:case Btt:case ztt:case Vtt:return!0;default:return!1}}function Ztt(t,e){return Ytt(t,(n,r,i,s)=>{const o=e==null?void 0:e(n,r,i,s);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case _ae:case wae:case bae:{const a=new t.constructor(t==null?void 0:t.valueOf());return ep(a,t),a}case Eae:{const a={};return ep(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function $W(t){return Ztt(t)}function UW(t){return t!==null&&typeof t=="object"&&vae(t)==="[object Arguments]"}function Jtt(t){return n5(t)}function Xtt(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ent(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=oF(i,o,r,new Map)}return i}function oF(t,e,n,r){if(t5(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Ott(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...yae(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(UW(a)&&(a={...a}),UW(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=$W(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],h=Reflect.ownKeys(c);for(let f=0;f<h.length;f++){const p=h[f];u[p]=c[p]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||FW(c)&&FW(a)?t[o]=oF(c,a,n,r):c==null&&Xtt(a)?t[o]=oF({},a,n,r):c==null&&Jtt(a)?t[o]=$W(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function tnt(t,...e){return ent(t,...e,Ptt)}var nnt=Object.defineProperty,rnt=Object.defineProperties,int=Object.getOwnPropertyDescriptors,jW=Object.getOwnPropertySymbols,snt=Object.prototype.hasOwnProperty,ont=Object.prototype.propertyIsEnumerable,BW=(t,e,n)=>e in t?nnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xC=(t,e)=>{for(var n in e||(e={}))snt.call(e,n)&&BW(t,n,e[n]);if(jW)for(var n of jW(e))ont.call(e,n)&&BW(t,n,e[n]);return t},ant=(t,e)=>rnt(t,int(e));function aa(t,e,n){var r;const i=Uy(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${gae}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Ym(t){return t.includes(":")?t.split(":")[1]:t}function Aae(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function cnt(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function LR(t={},e={}){const n=zW(t),r=zW(e);return tnt(n,r)}function zW(t){var e,n,r,i;const s={};if(!fE(t))return s;for(const[o,a]of Object.entries(t)){const c=Qj(o)?[o]:a.chains,l=a.methods||[],u=a.events||[],h=a.rpcMap||{},f=n_(o);s[f]=ant(xC(xC({},s[f]),a),{chains:RT(c,(e=s[f])==null?void 0:e.chains),methods:RT(l,(n=s[f])==null?void 0:n.methods),events:RT(u,(r=s[f])==null?void 0:r.events),rpcMap:xC(xC({},h),(i=s[f])==null?void 0:i.rpcMap)})}return s}function VW(t){return t.includes(":")?t.split(":")[2]:t}function HW(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=Qj(n)?[n]:r.chains?r.chains:Aae(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function FR(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Cae={},On=t=>Cae[t],$R=(t,e)=>{Cae[t]=e};var lnt=Object.defineProperty,unt=(t,e,n)=>e in t?lnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xg=(t,e,n)=>unt(t,typeof e!="symbol"?e+"":e,n);class dnt{constructor(e){xg(this,"name","polkadot"),xg(this,"client"),xg(this,"httpProviders"),xg(this,"events"),xg(this,"namespace"),xg(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Ym(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}}var hnt=Object.defineProperty,fnt=Object.defineProperties,pnt=Object.getOwnPropertyDescriptors,WW=Object.getOwnPropertySymbols,mnt=Object.prototype.hasOwnProperty,gnt=Object.prototype.propertyIsEnumerable,aF=(t,e,n)=>e in t?hnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qW=(t,e)=>{for(var n in e||(e={}))mnt.call(e,n)&&aF(t,n,e[n]);if(WW)for(var n of WW(e))gnt.call(e,n)&&aF(t,n,e[n]);return t},GW=(t,e)=>fnt(t,pnt(e)),Pg=(t,e,n)=>aF(t,typeof e!="symbol"?e+"":e,n);class ynt{constructor(e){Pg(this,"name","eip155"),Pg(this,"client"),Pg(this,"chainId"),Pg(this,"namespace"),Pg(this,"httpProviders"),Pg(this,"events"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||aa(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Ym(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i;const s=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:GW(qW({},o.sessionProperties||{}),{capabilities:GW(qW({},a||{}),{[s]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ah("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${xtt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var vnt=Object.defineProperty,wnt=(t,e,n)=>e in t?vnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Og=(t,e,n)=>wnt(t,typeof e!="symbol"?e+"":e,n);class _nt{constructor(e){Og(this,"name","solana"),Og(this,"client"),Og(this,"httpProviders"),Og(this,"events"),Og(this,"namespace"),Og(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Ym(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}}var bnt=Object.defineProperty,Ent=(t,e,n)=>e in t?bnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dg=(t,e,n)=>Ent(t,typeof e!="symbol"?e+"":e,n);class Ant{constructor(e){Dg(this,"name","cosmos"),Dg(this,"client"),Dg(this,"httpProviders"),Dg(this,"events"),Dg(this,"namespace"),Dg(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Ym(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}}var Cnt=Object.defineProperty,Tnt=(t,e,n)=>e in t?Cnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ng=(t,e,n)=>Tnt(t,typeof e!="symbol"?e+"":e,n);class Snt{constructor(e){Ng(this,"name","algorand"),Ng(this,"client"),Ng(this,"httpProviders"),Ng(this,"events"),Ng(this,"namespace"),Ng(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||aa(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Qa(new zc(r,On("disableProviderPing")))}}var Int=Object.defineProperty,xnt=(t,e,n)=>e in t?Int(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rg=(t,e,n)=>xnt(t,typeof e!="symbol"?e+"":e,n);class Pnt{constructor(e){Rg(this,"name","cip34"),Rg(this,"client"),Rg(this,"httpProviders"),Rg(this,"events"),Rg(this,"namespace"),Rg(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Ym(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}}var Ont=Object.defineProperty,Dnt=(t,e,n)=>e in t?Ont(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kg=(t,e,n)=>Dnt(t,typeof e!="symbol"?e+"":e,n);class Nnt{constructor(e){kg(this,"name","elrond"),kg(this,"client"),kg(this,"httpProviders"),kg(this,"events"),kg(this,"namespace"),kg(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Ym(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}}var Rnt=Object.defineProperty,knt=(t,e,n)=>e in t?Rnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mg=(t,e,n)=>knt(t,typeof e!="symbol"?e+"":e,n);class Mnt{constructor(e){Mg(this,"name","multiversx"),Mg(this,"client"),Mg(this,"httpProviders"),Mg(this,"events"),Mg(this,"namespace"),Mg(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Ym(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}}var Lnt=Object.defineProperty,Fnt=(t,e,n)=>e in t?Lnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lg=(t,e,n)=>Fnt(t,typeof e!="symbol"?e+"":e,n);class $nt{constructor(e){Lg(this,"name","near"),Lg(this,"client"),Lg(this,"httpProviders"),Lg(this,"events"),Lg(this,"namespace"),Lg(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||aa(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace);return typeof r>"u"?void 0:new Qa(new zc(r,On("disableProviderPing")))}}var Unt=Object.defineProperty,jnt=(t,e,n)=>e in t?Unt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fg=(t,e,n)=>jnt(t,typeof e!="symbol"?e+"":e,n);class Bnt{constructor(e){Fg(this,"name","tezos"),Fg(this,"client"),Fg(this,"httpProviders"),Fg(this,"events"),Fg(this,"namespace"),Fg(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||aa(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace);return typeof r>"u"?void 0:new Qa(new zc(r))}}var znt=Object.defineProperty,Vnt=(t,e,n)=>e in t?znt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$g=(t,e,n)=>Vnt(t,typeof e!="symbol"?e+"":e,n);class Hnt{constructor(e){$g(this,"name",Kg),$g(this,"client"),$g(this,"httpProviders"),$g(this,"events"),$g(this,"namespace"),$g(this,"chainId"),this.namespace=e.namespace,this.events=On("events"),this.client=On("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Za.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=Uy(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||aa(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Qa(new zc(r,On("disableProviderPing")))}}var Wnt=Object.defineProperty,qnt=Object.defineProperties,Gnt=Object.getOwnPropertyDescriptors,KW=Object.getOwnPropertySymbols,Knt=Object.prototype.hasOwnProperty,Ynt=Object.prototype.propertyIsEnumerable,cF=(t,e,n)=>e in t?Wnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PC=(t,e)=>{for(var n in e||(e={}))Knt.call(e,n)&&cF(t,n,e[n]);if(KW)for(var n of KW(e))Ynt.call(e,n)&&cF(t,n,e[n]);return t},UR=(t,e)=>qnt(t,Gnt(e)),Aa=(t,e,n)=>cF(t,typeof e!="symbol"?e+"":e,n);let Tae=class Sae{constructor(e){Aa(this,"client"),Aa(this,"namespaces"),Aa(this,"optionalNamespaces"),Aa(this,"sessionProperties"),Aa(this,"scopedProperties"),Aa(this,"events",new Oj),Aa(this,"rpcProviders",{}),Aa(this,"session"),Aa(this,"providerOpts"),Aa(this,"logger"),Aa(this,"uri"),Aa(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:N1(yw({level:(e==null?void 0:e.logger)||LW})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Sae(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:PC({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,kO(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:tr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=HW(this.session.namespaces);this.namespaces=LR(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=HW(i.namespaces);return this.namespaces=LR(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===Kg?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Hh(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await gtt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||LW,relayUrl:this.providerOpts.relayUrl||Ttt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>n_(n)))];$R("client",this.client),$R("events",this.events),$R("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=cnt(n,this.session),i=Aae(r),s=LR(this.namespaces,this.optionalNamespaces),o=UR(PC({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new ynt({namespace:o});break;case"algorand":this.rpcProviders[n]=new Snt({namespace:o});break;case"solana":this.rpcProviders[n]=new _nt({namespace:o});break;case"cosmos":this.rpcProviders[n]=new Ant({namespace:o});break;case"polkadot":this.rpcProviders[n]=new dnt({namespace:o});break;case"cip34":this.rpcProviders[n]=new Pnt({namespace:o});break;case"elrond":this.rpcProviders[n]=new Nnt({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Mnt({namespace:o});break;case"near":this.rpcProviders[n]=new $nt({namespace:o});break;case"tezos":this.rpcProviders[n]=new Bnt({namespace:o});break;default:this.rpcProviders[Kg]?this.rpcProviders[Kg].updateNamespace(o):this.rpcProviders[Kg]=new Hnt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Hh(o)&&this.events.emit("accountsChanged",o.map(VW))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=n_(o),l=FR(o)!==FR(a)?`${c}:${FR(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=UR(PC({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",UR(PC({},tr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Za.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Kg]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>n_(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=n_(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(VW);if(!Hh(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${IC}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${IC}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${IC}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(IC)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const uct=Tae,Qnt="https://secure.walletconnect.org/sdk",Znt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Qnt,Jnt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Xnt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",ft={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},yi={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},qf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Ai=Mr({...qf}),ds={state:Ai,subscribeKey(t,e){return lo(Ai,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Lt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Ai.message=qf.message,Ai.variant=qf.variant,Ai.svg=qf.svg,Ai.open=qf.open,Ai.autoClose=qf.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=qf.autoClose}){Ai.open?(Ai.open=!1,setTimeout(()=>{Ai.message=t,Ai.variant=n,Ai.svg=e,Ai.open=!0,Ai.autoClose=r},150)):(Ai.message=t,Ai.variant=n,Ai.svg=e,Ai.open=!0,Ai.autoClose=r)}},R_={getSIWX(){return Pe.state.siwx},async initializeIfEnabled(){var s;const t=Pe.state.siwx,e=X.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(X.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await oi.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),ar.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=pr._getClient())==null?void 0:s.disconnect().catch(console.error)),qn.reset("Connect"),ds.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Pe.state.siwx,e=Lt.getPlainAddress(X.getActiveCaipAddress()),n=X.getActiveCaipNetwork(),r=pr._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Yt.getConnectorId(n.chainNamespace)===Se.CONNECTOR_ID.AUTH&&qn.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),oi.close(),ar.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!oi.state.open||qn.state.view==="ApproveTransaction")&&await oi.open({view:"SIWXSignMessage"}),s.isSmartAccount?ds.showError("This application might not support Smart Accounts"):ds.showError("Signature declined"),ar.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await pr.disconnect():oi.close(),qn.reset("Connect"),ar.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=Pe.state.siwx,e=Lt.getPlainAddress(X.getActiveCaipAddress()),n=X.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=qn.state.view==="ApproveTransaction",r=qn.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=R_.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:((a=X.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(u=>u!==s.chainId)]});if(ds.showLoading("Authenticating...",{autoClose:!1}),st.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(h=>{const f=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud,version:h.p.version||s.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:f,signature:h.s.s,cacao:h}});try{await r.setSessions(u),ar.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:R_.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),ar.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:R_.getSIWXEventProperties()}),await t.disconnect().catch(console.error),h}finally{ds.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=X.state.activeChain;return{network:((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=st.state.preferredAccountTypes)==null?void 0:n[t])===yi.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},ur=Mr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),ert={state:ur,subscribe(t){return io(ur,()=>t(ur))},setLastNetworkInView(t){ur.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");ur.loading=!0;try{const i=await Dt.fetchTransactions({account:t,cursor:ur.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),s=this.filterSpamTransactions(i.data),o=this.filterByConnectedChain(s),a=[...ur.transactions,...o];ur.loading=!1,e==="coinbase"?ur.coinbaseTransactions=this.groupTransactionsByYearAndMonth(ur.coinbaseTransactions,i.data):(ur.transactions=a,ur.transactionsByYear=this.groupTransactionsByYearAndMonth(ur.transactionsByYear,o)),ur.empty=a.length===0,ur.next=i.next?i.next:void 0}catch{const s=X.state.activeChain;ar.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Pe.state.projectId,cursor:ur.next,isSmartAccount:((r=st.state.preferredAccountTypes)==null?void 0:r[s])===yi.ACCOUNT_TYPES.SMART_ACCOUNT}}),ds.showError("Failed to fetch transactions"),ur.loading=!1,ur.empty=!0,ur.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){ur.next=void 0},resetTransactions(){ur.transactions=[],ur.transactionsByYear={},ur.lastNetworkInView=void 0,ur.loading=!1,ur.empty=!1,ur.next=void 0}},dr=Mr({wcError:!1,buffering:!1,status:"disconnected"});let Ug;const pr={state:dr,subscribeKey(t,e){return lo(dr,t,e)},_getClient(){return dr._client},setClient(t){dr._client=fm(t)},async connectWalletConnect(){var t,e,n,r;if(Lt.isTelegram()||Lt.isSafari()&&Lt.isIos()){if(Ug){await Ug,Ug=void 0;return}if(!Lt.isPairingExpired(dr==null?void 0:dr.wcPairingExpiry)){const i=dr.wcUri;dr.wcUri=i;return}Ug=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await Ug,Ug=void 0,dr.wcPairingExpiry=void 0,this.state.status="connected"}else await((r=(n=this._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,i;await((i=(r=this._getClient())==null?void 0:r.connectExternal)==null?void 0:i.call(r,t)),n&&X.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=this._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||X.state.activeChain;e&&Yt.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;oi.setLoading(!0,X.state.activeChain);const n=Yt.getAuthConnector();n&&(st.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),Qe.setPreferredAccountTypes(st.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(n),oi.setLoading(!1,X.state.activeChain),ar.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){dr.wcUri=void 0,dr.wcPairingExpiry=void 0,dr.wcLinking=void 0,dr.recentWallet=void 0,dr.status="disconnected",ert.resetTransactions(),Qe.deleteWalletConnectDeepLink()},resetUri(){dr.wcUri=void 0,dr.wcPairingExpiry=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=pr.state;t&&Qe.setWalletConnectDeepLink(t),e&&Qe.setAppKitRecent(e),ar.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=qn.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){dr.wcBasic=t},setUri(t){dr.wcUri=t,dr.wcPairingExpiry=Lt.getPairingExpiry()},setWcLinking(t){dr.wcLinking=t},setWcError(t){dr.wcError=t,dr.buffering=!1},setRecentWallet(t){dr.recentWallet=t},setBuffering(t){dr.buffering=t},setStatus(t){dr.status=t},async disconnect(t){try{oi.setLoading(!0,t),await R_.clearSessions(),await X.disconnect(t),oi.setLoading(!1,t),Yt.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},jg=Mr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Dl={state:jg,subscribe(t){return io(jg,()=>t(jg))},subscribeOpen(t){return lo(jg,"open",t)},set(t){Object.assign(jg,{...jg,...t})}},jR={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return dw(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},YW={async getMyTokensWithBalance(t){const e=st.state.address,n=X.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await Dt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const i=jR.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await pr.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await pr.walletGetAssets({account:t,chainFilter:[i]});return jR.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>jR.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:X.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},_n=Mr({tokenBalances:[],loading:!1}),QW={state:_n,subscribe(t){return io(_n,()=>t(_n))},subscribeKey(t,e){return lo(_n,t,e)},setToken(t){t&&(_n.token=fm(t))},setTokenAmount(t){_n.sendTokenAmount=t},setReceiverAddress(t){_n.receiverAddress=t},setReceiverProfileImageUrl(t){_n.receiverProfileImageUrl=t},setReceiverProfileName(t){_n.receiverProfileName=t},setGasPrice(t){_n.gasPrice=t},setGasPriceInUsd(t){_n.gasPriceInUSD=t},setNetworkBalanceInUsd(t){_n.networkBalanceInUSD=t},setLoading(t){_n.loading=t},sendToken(){var t;switch((t=X.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var n,r,i,s,o,a;const t=X.state.activeChain,e=(n=st.state.preferredAccountTypes)==null?void 0:n[t];(r=this.state.token)!=null&&r.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(ar.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((s=this.state.token)!=null&&s.quantity.decimals)&&(ar.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:(o=this.state.token)==null?void 0:o.symbol,amount:this.state.sendTokenAmount,network:((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;_n.loading=!0;const e=(s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=X.state.activeCaipAddress,i=r?Lt.getPlainAddress(r):void 0;if(_n.lastRetry&&!Lt.isAllowedRetry(_n.lastRetry,30*Wi.ONE_SEC_MS))return _n.loading=!1,[];try{if(i&&e&&n){const a=await YW.getMyTokensWithBalance();return _n.tokenBalances=a,_n.lastRetry=void 0,a}}catch(a){_n.lastRetry=Date.now(),t==null||t(a),ds.showError("Token Balance Unavailable")}finally{_n.loading=!1}return[]},fetchNetworkBalance(){if(_n.tokenBalances.length===0)return;const t=YW.mapBalancesToSwapTokens(_n.tokenBalances);if(!t)return;const e=t.find(n=>n.address===X.getActiveNetworkTokenAddress());e&&(_n.networkBalanceInUSD=e?fC.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const n=e||"0";return fC.bigNumber(t).eq(0)?!0:fC.bigNumber(fC.bigNumber(n)).gt(t)},hasInsufficientGasFunds(){var n;const t=X.state.activeChain;let e=!0;return((n=st.state.preferredAccountTypes)==null?void 0:n[t])===yi.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:_n.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(_n.networkBalanceInUSD,_n.gasPriceInUSD)),e},async sendNativeToken(t){var o,a,c,l,u,h;const e=X.state.activeChain;qn.pushTransactionStack({view:"Account",goBack:!1});const n=t.receiverAddress,r=st.state.address,i=pr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s="0x";try{await pr.sendTransaction({chainNamespace:"eip155",to:n,address:r,data:s,value:i??BigInt(0),gasPrice:t.gasPrice}),ds.showSuccess("Transaction started"),ar.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((o=st.state.preferredAccountTypes)==null?void 0:o[e])===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=X.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),this.resetSend()}catch(f){console.error("SendController:sendERC20Token - failed to send native token",f);const p=f instanceof Error?f.message:"Unknown error";ar.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:p,isSmartAccount:((l=st.state.preferredAccountTypes)==null?void 0:l[e])===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:((u=this.state.token)==null?void 0:u.symbol)||"",amount:t.sendTokenAmount,network:((h=X.state.activeCaipNetwork)==null?void 0:h.caipNetworkId)||""}}),ds.showError("Something went wrong")}},async sendERC20Token(t){var n,r,i;qn.pushTransactionStack({view:"Account",goBack:!1});const e=pr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(st.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=Lt.getPlainAddress(t.tokenAddress);await pr.writeContract({fromAddress:st.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:f8e.getERC20Abi(s),chainNamespace:"eip155"}),ds.showSuccess("Transaction started"),this.resetSend()}}catch(s){console.error("SendController:sendERC20Token - failed to send erc20 token",s);const o=s instanceof Error?s.message:"Unknown error";ar.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:o,isSmartAccount:((n=st.state.preferredAccountTypes)==null?void 0:n.eip155)===yi.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),ds.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){ds.showError("Please enter a valid amount and receiver address");return}qn.pushTransactionStack({view:"Account",goBack:!1}),pr.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),st.fetchTokenBalance()}).catch(t=>{ds.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){_n.token=void 0,_n.sendTokenAmount=void 0,_n.receiverAddress=void 0,_n.receiverProfileImageUrl=void 0,_n.receiverProfileName=void 0,_n.loading=!1,_n.tokenBalances=[]}},BR={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},OC={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Be=Mr({chains:e8e(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),X={state:Be,subscribe(t){return io(Be,()=>{t(Be)})},subscribeKey(t,e){return lo(Be,t,e)},subscribeChainProp(t,e,n){let r;return io(Be.chains,()=>{var s;const i=n||Be.activeChain;if(i){const o=(s=Be.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=Qe.getActiveNetworkProps(),s=e==null?void 0:e.find(l=>l.id.toString()===(r==null?void 0:r.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===i)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Be.noAdapters=!0),Be.noAdapters||(Be.activeChain=a==null?void 0:a.namespace,Be.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),Be.activeChain&&Dl.set({activeChain:a==null?void 0:a.namespace})),c.forEach(l=>{const u=e==null?void 0:e.filter(h=>h.chainNamespace===l);X.state.chains.set(l,{namespace:l,networkState:Mr({...OC,caipNetwork:u==null?void 0:u[0]}),accountState:Mr(BR),caipNetworks:u??[],...n}),this.setRequestedCaipNetworks(u??[],l)})},removeAdapter(t){var e,n;if(Be.activeChain===t){const r=Array.from(Be.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&this.setActiveCaipNetwork(i)}}Be.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Be.chains.set(t.namespace,{namespace:t.namespace,networkState:{...OC,caipNetwork:r[0]},accountState:BR,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),this.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=Be.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),Be.chains.set(t.chainNamespace,{...e,caipNetworks:r}),this.setRequestedCaipNetworks(r,t.chainNamespace)}},removeNetwork(t,e){var r,i,s;const n=Be.chains.get(t);if(n){const o=((r=Be.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(n.caipNetworks[0]),Be.chains.set(t,{...n,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const n=Be.chains.get(t);n&&(n.networkState={...n.networkState||OC,...e},Be.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Be.chains.get(t);if(r){const i={...r.accountState||BR,...e};Be.chains.set(t,{...r,accountState:i}),(Be.chains.size===1||Be.activeChain===t)&&(e.caipAddress&&(Be.activeCaipAddress=e.caipAddress),st.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Be.chains.get(t);if(n){const r={...n.networkState||OC,...e};Be.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){this.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Yt.removeConnectorId(n)},setActiveNamespace(t){var r,i;Be.activeChain=t;const e=t?Be.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(Be.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,Be.activeCaipNetwork=n,this.setChainNetworkData(t,{caipNetwork:n}),Qe.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Dl.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;Be.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=Be.chains.get(t.chainNamespace);Be.activeChain=t.chainNamespace,Be.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?Be.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:Be.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Be.activeCaipAddress,t.chainNamespace),e&&st.replaceState(e.accountState),QW.resetSend(),Dl.set({activeChain:Be.activeChain,selectedNetworkId:(s=Be.activeCaipNetwork)==null?void 0:s.caipNetworkId}),Qe.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&Pe.state.enableNetworkSwitch&&!Pe.state.allowUnsupportedChain&&!pr.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=Be.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==X.state.activeChain,n=(i=X.getNetworkData(t))==null?void 0:i.caipNetwork,r=X.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await X.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=X.state.chains.get(X.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=Be.activeCaipNetwork)==null?void 0:o.id)}))&&qn.goBack();const r=this.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),ar.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Be.activeChain,n=Be.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Be.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Be.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var i;let n=Be.activeChain;if(e&&(n=e),!n)return;const r=(i=Be.chains.get(n))==null?void 0:i.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=Be.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Be.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Lt.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Be.chains.forEach(e=>{const n=this.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return Be.chains.forEach(e=>{const n=this.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Be.activeCaipNetwork},getActiveCaipAddress(){return Be.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=Be.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Be.activeCaipNetwork,r=this.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!Be.activeChain)return!0;const e=this.getRequestedCaipNetworks(Be.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=rE.caipNetworkIdToNumber((r=Be.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=Be.activeChain;if(!e||!t)return!1;const n=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,i;const t=((r=Be.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((i=Be.activeCaipNetwork)==null?void 0:i.id)||1,n=Wi.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){oi.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Be.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Wi.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Be.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Yt.removeConnectorId(e)},async disconnect(t){const e=T8e(t);try{QW.resetSend();const n=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));pr.resetWcConnection();const r=n.filter(i=>i.status==="rejected");if(r.length>0)throw new Error(r.map(i=>i.reason.message).join(", "));Qe.deleteConnectedSocialProvider(),t?Yt.removeConnectorId(t):Yt.resetConnectorIds(),ar.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),ar.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Be.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(Be.chains.forEach(i=>{Se.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=Be.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=X.state.chains.get(t))==null?void 0:e.accountState:st.state},getNetworkData(t){var n;const e=t||Be.activeChain;if(e)return(n=X.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=X.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Yt.state.filterByNamespace;return(t?[Be.chains.get(t)]:Array.from(Be.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?X.getRequestedCaipNetworks(t):X.getAllRequestedCaipNetworks()}},trt={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Iae=Lt.getBlockchainApiUrl(),qo=Mr({clientId:null,api:new _O({baseUrl:Iae,clientId:null}),supportedChains:{http:[],ws:[]}}),Dt={state:qo,async get(t){const{st:e,sv:n}=Dt.getSdkProperties(),r=Pe.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return qo.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Pe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{qo.supportedChains.http.length||await Dt.getSupportedNetworks()}catch{return!1}return qo.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await Dt.get({path:"v1/supported-chains"});return qo.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Dt.isNetworkSupported(e))return{avatar:"",name:""};const r=Qe.getIdentityFromCacheForAddress(t);if(r)return r;const i=await Dt.get({path:`/v1/identity/${t}`,params:{sender:X.state.activeCaipAddress?Lt.getPlainAddress(X.state.activeCaipAddress):void 0}});return Qe.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){var a;return await Dt.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Dt.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await Dt.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Dt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Dt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Dt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Dt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?qo.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Pe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Dt.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Dt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=Dt.getSdkProperties();if(!await Dt.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return Dt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){var o;if(!await Dt.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return qo.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Wi.CONVERT_SLIPPAGE_TOLERANCE},projectId:Pe.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=Dt.getSdkProperties();if(!await Dt.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Dt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var l;const{st:r,sv:i}=Dt.getSdkProperties();if(!await Dt.isNetworkSupported((l=X.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return ds.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Qe.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Dt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return Qe.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Dt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Dt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Dt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Dt.get({path:`/v1/profile/reverse/${t}`,params:{sender:st.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Dt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Dt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await Dt.isNetworkSupported((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?qo.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await Dt.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await qo.api.post({path:"/v1/generators/onrampurl",params:{projectId:Pe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await Dt.isNetworkSupported((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Dt.get({path:"/v1/onramp/options"})}catch{return trt}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await Dt.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await qo.api.post({path:"/v1/onramp/quote",params:{projectId:Pe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Dt.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Dt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await Dt.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?qo.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Pe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){qo.clientId=t,qo.api=new _O({baseUrl:Iae,clientId:t})}},Ca=Mr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),st={state:Ca,replaceState(t){t&&Object.assign(Ca,fm(t))},subscribe(t){return X.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return X.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){X.setAccountProp("status",t,e)},getCaipAddress(t){return X.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Lt.getPlainAddress(t):void 0;e===X.state.activeChain&&(X.state.activeCaipAddress=t),X.setAccountProp("caipAddress",t,e),X.setAccountProp("address",n,e)},setBalance(t,e,n){X.setAccountProp("balance",t,n),X.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){X.setAccountProp("profileName",t,e)},setProfileImage(t,e){X.setAccountProp("profileImage",t,e)},setUser(t,e){X.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){X.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){X.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){X.setAccountProp("currentTab",t,X.state.activeChain)},setTokenBalance(t,e){t&&X.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){X.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){X.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=X.getAccountProp("addressLabels",n)||new Map;r.set(t,e),X.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=X.getAccountProp("addressLabels",e)||new Map;n.delete(t),X.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){X.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){X.setAccountProp("preferredAccountTypes",{...Ca.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Ca.preferredAccountTypes=t},setSocialProvider(t,e){t&&X.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){X.setAccountProp("socialWindow",t?fm(t):void 0,e)},setFarcasterUrl(t,e){X.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Ca.balanceLoading=!0;const e=(s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=X.state.activeCaipAddress,i=r?Lt.getPlainAddress(r):void 0;if(Ca.lastRetry&&!Lt.isAllowedRetry(Ca.lastRetry,30*Wi.ONE_SEC_MS))return Ca.balanceLoading=!1,[];try{if(i&&e&&n){const c=(await Dt.getBalance(i,e)).balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(c,n),Ca.lastRetry=void 0,Ca.balanceLoading=!1,c}}catch(a){Ca.lastRetry=Date.now(),t==null||t(a),ds.showError("Token Balance Unavailable")}finally{Ca.balanceLoading=!1}return[]},resetAccount(t){X.resetAccount(t)}},go=Mr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),oi={state:go,subscribe(t){return io(go,()=>t(go))},subscribeKey(t,e){return lo(go,t,e)},async open(t){var i;const e=st.state.status==="connected";pr.state.wcBasic?jt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await jt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await X.switchActiveNamespace(t.namespace),oi.setLoading(!0,t.namespace)):oi.setLoading(!0),Yt.setFilterByNamespace(t==null?void 0:t.namespace);const n=(i=X.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;X.state.noAdapters&&!n?Lt.isMobile()?qn.reset("AllWallets"):qn.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?qn.reset(t.view,t.data):n?qn.reset("Account"):qn.reset("Connect"),go.open=!0,Dl.set({open:!0}),ar.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(){const t=Pe.state.enableEmbedded,e=!!X.state.activeCaipAddress;go.open&&ar.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),go.open=!1,oi.clearLoading(),t?e?qn.replace("Account"):qn.push("Connect"):Dl.set({open:!1}),pr.resetUri()},setLoading(t,e){e&&go.loadingNamespaceMap.set(e,t),go.loading=t,Dl.set({loading:t})},clearLoading(){go.loadingNamespaceMap.clear(),go.loading=!1},shake(){go.shake||(go.shake=!0,setTimeout(()=>{go.shake=!1},500))}},ZW=2147483648,nrt={convertEVMChainIdToCoinType(t){if(t>=ZW)throw new Error("Invalid chainId");return(ZW|t)>>>0}},Ta=Mr({suggestions:[],loading:!1}),xae={state:Ta,subscribe(t){return io(Ta,()=>t(Ta))},subscribeKey(t,e){return lo(Ta,t,e)},async resolveName(t){var e,n;try{return await Dt.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Dt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Ta.loading=!0,Ta.suggestions=[];const e=await Dt.getEnsNameSuggestions(t);return Ta.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Ta.suggestions}catch(e){const n=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Ta.loading=!1}},async getNamesForAddress(t){try{if(!X.state.activeCaipNetwork)return[];const n=Qe.getEnsFromCacheForAddress(t);if(n)return n;const r=await Dt.reverseLookupEnsName({address:t});return Qe.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=X.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=st.state.address,r=Yt.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Ta.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});qn.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Ta.loading=!1}});const s=await pr.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=nrt.convertEVMChainIdToCoinType(Number(o));await Dt.registerEnsName({coinType:a,address:n,signature:s,message:i}),st.setProfileName(t,e.chainNamespace),qn.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw qn.replace("RegisterAccountName"),new Error(s)}finally{Ta.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}},Er={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ch={ConnectorExplorerIds:{[Se.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Se.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Se.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Se.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Se.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Er.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Er.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Er.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Er.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Er.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Er.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Er.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Er.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Er.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Er.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Er.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Se.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Se.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Se.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Se.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Se.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Se.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Se.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Se.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Se.CONNECTOR_ID.COINBASE]:"Coinbase",[Se.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Se.CONNECTOR_ID.LEDGER]:"Ledger",[Se.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Se.CONNECTOR_ID.INJECTED]:"INJECTED",[Se.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Se.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Se.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},UO={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Er.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},yp={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${rrt()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function rrt(){return typeof window<"u"}const irt={createLogger(t,e="error"){const n=yw({level:e}),{logger:r}=Nj({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},srt="rpc.walletconnect.org";function JW(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const zR=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],gl={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===srt}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Se.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Se.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return zR.includes(e)?JW(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var f,p,g,y,v;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(f=t.rpcUrls.default.http)==null?void 0:f[0],a=this.getDefaultRpcUrl(t,s,n),c=((y=(g=(p=t==null?void 0:t.rpcUrls)==null?void 0:p.chainDefault)==null?void 0:g.http)==null?void 0:y[0])||o,l=((v=r==null?void 0:r[s])==null?void 0:v.map(b=>b.url))||[],u=[...l,a],h=[...l];return c&&!h.includes(c)&&h.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Ch.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>gl.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var i,s,o;const r=[];return n==null||n.forEach(a=>{r.push(sC(a.url,a.config))}),zR.includes(t.caipNetworkId)&&r.push(sC(JW(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{r.push(sC(a))}),bV(r)},extendWagmiTransports(t,e,n){if(zR.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return bV([n,sC(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Se.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=Qe.getActiveCaipNetworkId(),n=X.getAllRequestedCaipNetworks(),r=Array.from(((c=X.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?r.includes(i):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},QI={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},yo=Mr({providers:{...QI},providerIds:{...QI}}),er={state:yo,subscribeKey(t,e){return lo(yo,t,e)},subscribe(t){return io(yo,()=>{t(yo)})},subscribeProviders(t){return io(yo.providers,()=>t(yo.providers))},setProvider(t,e){e&&(yo.providers[t]=fm(e))},getProvider(t){return yo.providers[t]},setProviderId(t,e){e&&(yo.providerIds[t]=e)},getProviderId(t){if(t)return yo.providerIds[t]},reset(){yo.providers={...QI},yo.providerIds={...QI}},resetChain(t){yo.providers[t]=void 0,yo.providerIds[t]=void 0}},XW={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ss={set(t,e){Jo.isClient&&localStorage.setItem(`${ft.STORAGE_KEY}${t}`,e)},get(t){return Jo.isClient?localStorage.getItem(`${ft.STORAGE_KEY}${t}`):null},delete(t,e){Jo.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${ft.STORAGE_KEY}${t}`))}},DC=30*1e3,Jo={checkIfAllowedToTriggerEmail(){const t=ss.get(ft.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<DC){const n=Math.ceil((DC-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=ss.get(ft.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<DC)return Math.ceil((DC-e)/1e3)}return 0},checkIfRequestExists(t){return yi.NOT_SAFE_RPC_METHODS.includes(t.method)||yi.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(XW.transactionHash))||(t==null?void 0:t.match(XW.signedMessage)))?ft.RPC_RESPONSE_TYPE_TX:ft.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return yi.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Pn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Pn||(Pn={}));var lF;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(lF||(lF={}));const qe=Pn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sh=t=>{switch(typeof t){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return isNaN(t)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(t)?qe.array:t===null?qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qe.promise:typeof Map<"u"&&t instanceof Map?qe.map:typeof Set<"u"&&t instanceof Set?qe.set:typeof Date<"u"&&t instanceof Date?qe.date:qe.object;default:return qe.unknown}},Oe=Pn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ort=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Oc extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Oc.create=t=>new Oc(t);const mE=(t,e)=>{let n;switch(t.code){case Oe.invalid_type:t.received===qe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Oe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pn.jsonStringifyReplacer)}`;break;case Oe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pn.joinValues(t.keys,", ")}`;break;case Oe.invalid_union:n="Invalid input";break;case Oe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pn.joinValues(t.options)}`;break;case Oe.invalid_enum_value:n=`Invalid enum value. Expected ${Pn.joinValues(t.options)}, received '${t.received}'`;break;case Oe.invalid_arguments:n="Invalid function arguments";break;case Oe.invalid_return_type:n="Invalid function return type";break;case Oe.invalid_date:n="Invalid date";break;case Oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Oe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Oe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Oe.custom:n="Invalid input";break;case Oe.invalid_intersection_types:n="Intersection results could not be merged";break;case Oe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Oe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pn.assertNever(t)}return{message:n}};let Pae=mE;function art(t){Pae=t}function ZI(){return Pae}const JI=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},crt=[];function tt(t,e){const n=JI({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ZI(),mE].filter(r=>!!r)});t.common.issues.push(n)}class Bs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Vt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Bs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Vt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Vt=Object.freeze({status:"aborted"}),Oae=t=>({status:"dirty",value:t}),so=t=>({status:"valid",value:t}),uF=t=>t.status==="aborted",dF=t=>t.status==="dirty",gE=t=>t.status==="valid",XI=t=>typeof Promise<"u"&&t instanceof Promise;var Ct;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ct||(Ct={}));class Bl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const eq=(t,e)=>{if(gE(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Oc(t.common.issues);return this._error=n,this._error}}};function Kt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Jt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return sh(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:sh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bs,ctx:{common:e.parent.common,data:e.data,parsedType:sh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(XI(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sh(e)},s=this._parseSync({data:e,path:i.path,parent:i});return eq(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sh(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(XI(i)?i:Promise.resolve(i));return eq(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Oe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new jc({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Hu.create(this,this._def)}nullable(){return Em.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dc.create(this,this._def)}promise(){return Bv.create(this,this._def)}or(e){return _E.create([this,e],this._def)}and(e){return bE.create(this,e,this._def)}transform(e){return new jc({...Kt(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new SE({...Kt(this._def),innerType:this,defaultValue:n,typeName:Ot.ZodDefault})}brand(){return new Nae({typeName:Ot.ZodBranded,type:this,...Kt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new rx({...Kt(this._def),innerType:this,catchValue:n,typeName:Ot.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return W1.create(this,e)}readonly(){return sx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lrt=/^c[^\s-]{8,}$/i,urt=/^[a-z][a-z0-9]*$/,drt=/^[0-9A-HJKMNP-TV-Z]{26}$/,hrt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,frt=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,prt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let VR;const mrt=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,grt=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,yrt=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function vrt(t,e){return!!((e==="v4"||!e)&&mrt.test(t)||(e==="v6"||!e)&&grt.test(t))}class Cc extends Jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qe.string){const s=this._getOrReturnCtx(e);return tt(s,{code:Oe.invalid_type,expected:qe.string,received:s.parsedType}),Vt}const r=new Bs;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?tt(i,{code:Oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&tt(i,{code:Oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")frt.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"email",code:Oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")VR||(VR=new RegExp(prt,"u")),VR.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"emoji",code:Oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")hrt.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"uuid",code:Oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")lrt.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"cuid",code:Oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")urt.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"cuid2",code:Oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")drt.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"ulid",code:Oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),tt(i,{validation:"url",code:Oe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"regex",code:Oe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?yrt(s).test(e.data)||(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?vrt(e.data,s.version)||(i=this._getOrReturnCtx(e,i),tt(i,{validation:"ip",code:Oe.invalid_string,message:s.message}),r.dirty()):Pn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Oe.invalid_string,...Ct.errToObj(r)})}_addCheck(e){return new Cc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ct.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ct.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ct.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ct.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ct.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ct.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ct.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ct.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Ct.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ct.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ct.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ct.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ct.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ct.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ct.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ct.errToObj(n)})}nonempty(e){return this.min(1,Ct.errToObj(e))}trim(){return new Cc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Cc.create=t=>{var e;return new Cc({checks:[],typeName:Ot.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Kt(t)})};function wrt(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class yf extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qe.number){const s=this._getOrReturnCtx(e);return tt(s,{code:Oe.invalid_type,expected:qe.number,received:s.parsedType}),Vt}let r;const i=new Bs;for(const s of this._def.checks)s.kind==="int"?Pn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?wrt(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.not_finite,message:s.message}),i.dirty()):Pn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ct.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ct.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ct.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ct.toString(n))}setLimit(e,n,r,i){return new yf({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ct.toString(i)}]})}_addCheck(e){return new yf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ct.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ct.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ct.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ct.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ct.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}yf.create=t=>new yf({checks:[],typeName:Ot.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Kt(t)});class vf extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==qe.bigint){const s=this._getOrReturnCtx(e);return tt(s,{code:Oe.invalid_type,expected:qe.bigint,received:s.parsedType}),Vt}let r;const i=new Bs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),tt(r,{code:Oe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Pn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ct.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ct.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ct.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ct.toString(n))}setLimit(e,n,r,i){return new vf({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ct.toString(i)}]})}_addCheck(e){return new vf({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vf.create=t=>{var e;return new vf({checks:[],typeName:Ot.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Kt(t)})};class yE extends Jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qe.boolean){const r=this._getOrReturnCtx(e);return tt(r,{code:Oe.invalid_type,expected:qe.boolean,received:r.parsedType}),Vt}return so(e.data)}}yE.create=t=>new yE({typeName:Ot.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Kt(t)});class _m extends Jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qe.date){const s=this._getOrReturnCtx(e);return tt(s,{code:Oe.invalid_type,expected:qe.date,received:s.parsedType}),Vt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return tt(s,{code:Oe.invalid_date}),Vt}const r=new Bs;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),tt(i,{code:Oe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Pn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _m({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ct.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ct.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}_m.create=t=>new _m({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ot.ZodDate,...Kt(t)});class ex extends Jt{_parse(e){if(this._getType(e)!==qe.symbol){const r=this._getOrReturnCtx(e);return tt(r,{code:Oe.invalid_type,expected:qe.symbol,received:r.parsedType}),Vt}return so(e.data)}}ex.create=t=>new ex({typeName:Ot.ZodSymbol,...Kt(t)});class vE extends Jt{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return tt(r,{code:Oe.invalid_type,expected:qe.undefined,received:r.parsedType}),Vt}return so(e.data)}}vE.create=t=>new vE({typeName:Ot.ZodUndefined,...Kt(t)});class wE extends Jt{_parse(e){if(this._getType(e)!==qe.null){const r=this._getOrReturnCtx(e);return tt(r,{code:Oe.invalid_type,expected:qe.null,received:r.parsedType}),Vt}return so(e.data)}}wE.create=t=>new wE({typeName:Ot.ZodNull,...Kt(t)});class jv extends Jt{constructor(){super(...arguments),this._any=!0}_parse(e){return so(e.data)}}jv.create=t=>new jv({typeName:Ot.ZodAny,...Kt(t)});class Lp extends Jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return so(e.data)}}Lp.create=t=>new Lp({typeName:Ot.ZodUnknown,...Kt(t)});class cd extends Jt{_parse(e){const n=this._getOrReturnCtx(e);return tt(n,{code:Oe.invalid_type,expected:qe.never,received:n.parsedType}),Vt}}cd.create=t=>new cd({typeName:Ot.ZodNever,...Kt(t)});class tx extends Jt{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return tt(r,{code:Oe.invalid_type,expected:qe.void,received:r.parsedType}),Vt}return so(e.data)}}tx.create=t=>new tx({typeName:Ot.ZodVoid,...Kt(t)});class Dc extends Jt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==qe.array)return tt(n,{code:Oe.invalid_type,expected:qe.array,received:n.parsedType}),Vt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(tt(n,{code:o?Oe.too_big:Oe.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(tt(n,{code:Oe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(tt(n,{code:Oe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Bl(n,o,n.path,a)))).then(o=>Bs.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Bl(n,o,n.path,a)));return Bs.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Dc({...this._def,minLength:{value:e,message:Ct.toString(n)}})}max(e,n){return new Dc({...this._def,maxLength:{value:e,message:Ct.toString(n)}})}length(e,n){return new Dc({...this._def,exactLength:{value:e,message:Ct.toString(n)}})}nonempty(e){return this.min(1,e)}}Dc.create=(t,e)=>new Dc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...Kt(e)});function Yg(t){if(t instanceof Ur){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Hu.create(Yg(r))}return new Ur({...t._def,shape:()=>e})}else return t instanceof Dc?new Dc({...t._def,type:Yg(t.element)}):t instanceof Hu?Hu.create(Yg(t.unwrap())):t instanceof Em?Em.create(Yg(t.unwrap())):t instanceof zl?zl.create(t.items.map(e=>Yg(e))):t}class Ur extends Jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==qe.object){const l=this._getOrReturnCtx(e);return tt(l,{code:Oe.invalid_type,expected:qe.object,received:l.parsedType}),Vt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof cd&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],h=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Bl(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof cd){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(tt(i,{code:Oe.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const h=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Bl(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const h=await u.key;l.push({key:h,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Bs.mergeObjectSync(r,l)):Bs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ct.errToObj,new Ur({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ct.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Ur({...this._def,unknownKeys:"strip"})}passthrough(){return new Ur({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ur({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ur({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ot.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ur({...this._def,catchall:e})}pick(e){const n={};return Pn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ur({...this._def,shape:()=>n})}omit(e){const n={};return Pn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ur({...this._def,shape:()=>n})}deepPartial(){return Yg(this)}partial(e){const n={};return Pn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ur({...this._def,shape:()=>n})}required(e){const n={};return Pn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Hu;)s=s._def.innerType;n[r]=s}}),new Ur({...this._def,shape:()=>n})}keyof(){return Dae(Pn.objectKeys(this.shape))}}Ur.create=(t,e)=>new Ur({shape:()=>t,unknownKeys:"strip",catchall:cd.create(),typeName:Ot.ZodObject,...Kt(e)});Ur.strictCreate=(t,e)=>new Ur({shape:()=>t,unknownKeys:"strict",catchall:cd.create(),typeName:Ot.ZodObject,...Kt(e)});Ur.lazycreate=(t,e)=>new Ur({shape:t,unknownKeys:"strip",catchall:cd.create(),typeName:Ot.ZodObject,...Kt(e)});class _E extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Oc(a.ctx.common.issues));return tt(n,{code:Oe.invalid_union,unionErrors:o}),Vt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Oc(c));return tt(n,{code:Oe.invalid_union,unionErrors:a}),Vt}}get options(){return this._def.options}}_E.create=(t,e)=>new _E({options:t,typeName:Ot.ZodUnion,...Kt(e)});const $T=t=>t instanceof AE?$T(t.schema):t instanceof jc?$T(t.innerType()):t instanceof CE?[t.value]:t instanceof wf?t.options:t instanceof TE?Object.keys(t.enum):t instanceof SE?$T(t._def.innerType):t instanceof vE?[void 0]:t instanceof wE?[null]:null;class jO extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.object)return tt(n,{code:Oe.invalid_type,expected:qe.object,received:n.parsedType}),Vt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(tt(n,{code:Oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Vt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=$T(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new jO({typeName:Ot.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Kt(r)})}}function hF(t,e){const n=sh(t),r=sh(e);if(t===e)return{valid:!0,data:t};if(n===qe.object&&r===qe.object){const i=Pn.objectKeys(e),s=Pn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=hF(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===qe.array&&r===qe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=hF(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===qe.date&&r===qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bE extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(uF(s)||uF(o))return Vt;const a=hF(s.value,o.value);return a.valid?((dF(s)||dF(o))&&n.dirty(),{status:n.value,value:a.data}):(tt(r,{code:Oe.invalid_intersection_types}),Vt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bE.create=(t,e,n)=>new bE({left:t,right:e,typeName:Ot.ZodIntersection,...Kt(n)});class zl extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.array)return tt(r,{code:Oe.invalid_type,expected:qe.array,received:r.parsedType}),Vt;if(r.data.length<this._def.items.length)return tt(r,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Vt;!this._def.rest&&r.data.length>this._def.items.length&&(tt(r,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Bl(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Bs.mergeArray(n,o)):Bs.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new zl({...this._def,rest:e})}}zl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zl({items:t,typeName:Ot.ZodTuple,rest:null,...Kt(e)})};class EE extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.object)return tt(r,{code:Oe.invalid_type,expected:qe.object,received:r.parsedType}),Vt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Bl(r,a,r.path,a)),value:o._parse(new Bl(r,r.data[a],r.path,a))});return r.common.async?Bs.mergeObjectAsync(n,i):Bs.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Jt?new EE({keyType:e,valueType:n,typeName:Ot.ZodRecord,...Kt(r)}):new EE({keyType:Cc.create(),valueType:e,typeName:Ot.ZodRecord,...Kt(n)})}}class nx extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.map)return tt(r,{code:Oe.invalid_type,expected:qe.map,received:r.parsedType}),Vt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new Bl(r,a,r.path,[l,"key"])),value:s._parse(new Bl(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Vt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Vt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}nx.create=(t,e,n)=>new nx({valueType:e,keyType:t,typeName:Ot.ZodMap,...Kt(n)});class bm extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.set)return tt(r,{code:Oe.invalid_type,expected:qe.set,received:r.parsedType}),Vt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(tt(r,{code:Oe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(tt(r,{code:Oe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Vt;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new Bl(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new bm({...this._def,minSize:{value:e,message:Ct.toString(n)}})}max(e,n){return new bm({...this._def,maxSize:{value:e,message:Ct.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bm.create=(t,e)=>new bm({valueType:t,minSize:null,maxSize:null,typeName:Ot.ZodSet,...Kt(e)});class jy extends Jt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.function)return tt(n,{code:Oe.invalid_type,expected:qe.function,received:n.parsedType}),Vt;function r(a,c){return JI({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ZI(),mE].filter(l=>!!l),issueData:{code:Oe.invalid_arguments,argumentsError:c}})}function i(a,c){return JI({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ZI(),mE].filter(l=>!!l),issueData:{code:Oe.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Bv){const a=this;return so(async function(...c){const l=new Oc([]),u=await a._def.args.parseAsync(c,s).catch(p=>{throw l.addIssue(r(c,p)),l}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(p=>{throw l.addIssue(i(h,p)),l})})}else{const a=this;return so(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new Oc([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new Oc([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new jy({...this._def,args:zl.create(e).rest(Lp.create())})}returns(e){return new jy({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new jy({args:e||zl.create([]).rest(Lp.create()),returns:n||Lp.create(),typeName:Ot.ZodFunction,...Kt(r)})}}class AE extends Jt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}AE.create=(t,e)=>new AE({getter:t,typeName:Ot.ZodLazy,...Kt(e)});class CE extends Jt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return tt(n,{received:n.data,code:Oe.invalid_literal,expected:this._def.value}),Vt}return{status:"valid",value:e.data}}get value(){return this._def.value}}CE.create=(t,e)=>new CE({value:t,typeName:Ot.ZodLiteral,...Kt(e)});function Dae(t,e){return new wf({values:t,typeName:Ot.ZodEnum,...Kt(e)})}class wf extends Jt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return tt(n,{expected:Pn.joinValues(r),received:n.parsedType,code:Oe.invalid_type}),Vt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return tt(n,{received:n.data,code:Oe.invalid_enum_value,options:r}),Vt}return so(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return wf.create(e)}exclude(e){return wf.create(this.options.filter(n=>!e.includes(n)))}}wf.create=Dae;class TE extends Jt{_parse(e){const n=Pn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==qe.string&&r.parsedType!==qe.number){const i=Pn.objectValues(n);return tt(r,{expected:Pn.joinValues(i),received:r.parsedType,code:Oe.invalid_type}),Vt}if(n.indexOf(e.data)===-1){const i=Pn.objectValues(n);return tt(r,{received:r.data,code:Oe.invalid_enum_value,options:i}),Vt}return so(e.data)}get enum(){return this._def.values}}TE.create=(t,e)=>new TE({values:t,typeName:Ot.ZodNativeEnum,...Kt(e)});class Bv extends Jt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.promise&&n.common.async===!1)return tt(n,{code:Oe.invalid_type,expected:qe.promise,received:n.parsedType}),Vt;const r=n.parsedType===qe.promise?n.data:Promise.resolve(n.data);return so(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bv.create=(t,e)=>new Bv({type:t,typeName:Ot.ZodPromise,...Kt(e)});class jc extends Jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{tt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Vt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Vt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!gE(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>gE(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Pn.assertNever(i)}}jc.create=(t,e,n)=>new jc({schema:t,typeName:Ot.ZodEffects,effect:e,...Kt(n)});jc.createWithPreprocess=(t,e,n)=>new jc({schema:e,effect:{type:"preprocess",transform:t},typeName:Ot.ZodEffects,...Kt(n)});class Hu extends Jt{_parse(e){return this._getType(e)===qe.undefined?so(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hu.create=(t,e)=>new Hu({innerType:t,typeName:Ot.ZodOptional,...Kt(e)});class Em extends Jt{_parse(e){return this._getType(e)===qe.null?so(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Em.create=(t,e)=>new Em({innerType:t,typeName:Ot.ZodNullable,...Kt(e)});class SE extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===qe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}SE.create=(t,e)=>new SE({innerType:t,typeName:Ot.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Kt(e)});class rx extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return XI(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Oc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rx.create=(t,e)=>new rx({innerType:t,typeName:Ot.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Kt(e)});class ix extends Jt{_parse(e){if(this._getType(e)!==qe.nan){const r=this._getOrReturnCtx(e);return tt(r,{code:Oe.invalid_type,expected:qe.nan,received:r.parsedType}),Vt}return{status:"valid",value:e.data}}}ix.create=t=>new ix({typeName:Ot.ZodNaN,...Kt(t)});const _rt=Symbol("zod_brand");class Nae extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class W1 extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Vt:s.status==="dirty"?(n.dirty(),Oae(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Vt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new W1({in:e,out:n,typeName:Ot.ZodPipeline})}}class sx extends Jt{_parse(e){const n=this._def.innerType._parse(e);return gE(n)&&(n.value=Object.freeze(n.value)),n}}sx.create=(t,e)=>new sx({innerType:t,typeName:Ot.ZodReadonly,...Kt(e)});const Rae=(t,e={},n)=>t?jv.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):jv.create(),brt={object:Ur.lazycreate};var Ot;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const Ert=(t,e={message:`Input not instance of ${t.name}`})=>Rae(n=>n instanceof t,e),kae=Cc.create,Mae=yf.create,Art=ix.create,Crt=vf.create,Lae=yE.create,Trt=_m.create,Srt=ex.create,Irt=vE.create,xrt=wE.create,Prt=jv.create,Ort=Lp.create,Drt=cd.create,Nrt=tx.create,Rrt=Dc.create,krt=Ur.create,Mrt=Ur.strictCreate,Lrt=_E.create,Frt=jO.create,$rt=bE.create,Urt=zl.create,jrt=EE.create,Brt=nx.create,zrt=bm.create,Vrt=jy.create,Hrt=AE.create,Wrt=CE.create,qrt=wf.create,Grt=TE.create,Krt=Bv.create,tq=jc.create,Yrt=Hu.create,Qrt=Em.create,Zrt=jc.createWithPreprocess,Jrt=W1.create,Xrt=()=>kae().optional(),eit=()=>Mae().optional(),tit=()=>Lae().optional(),nit={string:t=>Cc.create({...t,coerce:!0}),number:t=>yf.create({...t,coerce:!0}),boolean:t=>yE.create({...t,coerce:!0}),bigint:t=>vf.create({...t,coerce:!0}),date:t=>_m.create({...t,coerce:!0})},rit=Vt;var G=Object.freeze({__proto__:null,defaultErrorMap:mE,setErrorMap:art,getErrorMap:ZI,makeIssue:JI,EMPTY_PATH:crt,addIssueToContext:tt,ParseStatus:Bs,INVALID:Vt,DIRTY:Oae,OK:so,isAborted:uF,isDirty:dF,isValid:gE,isAsync:XI,get util(){return Pn},get objectUtil(){return lF},ZodParsedType:qe,getParsedType:sh,ZodType:Jt,ZodString:Cc,ZodNumber:yf,ZodBigInt:vf,ZodBoolean:yE,ZodDate:_m,ZodSymbol:ex,ZodUndefined:vE,ZodNull:wE,ZodAny:jv,ZodUnknown:Lp,ZodNever:cd,ZodVoid:tx,ZodArray:Dc,ZodObject:Ur,ZodUnion:_E,ZodDiscriminatedUnion:jO,ZodIntersection:bE,ZodTuple:zl,ZodRecord:EE,ZodMap:nx,ZodSet:bm,ZodFunction:jy,ZodLazy:AE,ZodLiteral:CE,ZodEnum:wf,ZodNativeEnum:TE,ZodPromise:Bv,ZodEffects:jc,ZodTransformer:jc,ZodOptional:Hu,ZodNullable:Em,ZodDefault:SE,ZodCatch:rx,ZodNaN:ix,BRAND:_rt,ZodBranded:Nae,ZodPipeline:W1,ZodReadonly:sx,custom:Rae,Schema:Jt,ZodSchema:Jt,late:brt,get ZodFirstPartyTypeKind(){return Ot},coerce:nit,any:Prt,array:Rrt,bigint:Crt,boolean:Lae,date:Trt,discriminatedUnion:Frt,effect:tq,enum:qrt,function:Vrt,instanceof:Ert,intersection:$rt,lazy:Hrt,literal:Wrt,map:Brt,nan:Art,nativeEnum:Grt,never:Drt,null:xrt,nullable:Qrt,number:Mae,object:krt,oboolean:tit,onumber:eit,optional:Yrt,ostring:Xrt,pipeline:Jrt,preprocess:Zrt,promise:Krt,record:jrt,set:zrt,strictObject:Mrt,string:kae,symbol:Srt,transformer:tq,tuple:Urt,undefined:Irt,union:Lrt,unknown:Ort,void:Nrt,NEVER:rit,ZodIssueCode:Oe,quotelessJson:ort,ZodError:Oc});const Wr=G.object({message:G.string()});function Xe(t){return G.literal(ft[t])}G.object({accessList:G.array(G.string()),blockHash:G.string().nullable(),blockNumber:G.string().nullable(),chainId:G.string().or(G.number()),from:G.string(),gas:G.string(),hash:G.string(),input:G.string().nullable(),maxFeePerGas:G.string(),maxPriorityFeePerGas:G.string(),nonce:G.string(),r:G.string(),s:G.string(),to:G.string(),transactionIndex:G.string().nullable(),type:G.string(),v:G.string(),value:G.string()});const iit=G.object({chainId:G.string().or(G.number())}),sit=G.object({email:G.string().email()}),oit=G.object({otp:G.string()}),ait=G.object({uri:G.string()}),cit=G.object({chainId:G.optional(G.string().or(G.number())),preferredAccountType:G.optional(G.string())}),lit=G.object({provider:G.enum(["google","github","apple","facebook","x","discord"])}),uit=G.object({email:G.string().email()}),dit=G.object({otp:G.string()}),hit=G.object({otp:G.string()}),fit=G.object({themeMode:G.optional(G.enum(["light","dark"])),themeVariables:G.optional(G.record(G.string(),G.string().or(G.number()))),w3mThemeVariables:G.optional(G.record(G.string(),G.string()))}),pit=G.object({metadata:G.object({name:G.string(),description:G.string(),url:G.string(),icons:G.array(G.string())}).optional(),sdkVersion:G.string().optional(),sdkType:G.string().optional(),projectId:G.string()}),mit=G.object({type:G.string()}),git=G.object({action:G.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),yit=G.object({url:G.string()}),vit=G.object({userName:G.string()}),wit=G.object({email:G.string().optional().nullable(),address:G.string(),chainId:G.string().or(G.number()),accounts:G.array(G.object({address:G.string(),type:G.enum([yi.ACCOUNT_TYPES.EOA,yi.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:G.string().optional().nullable()}),_it=G.object({action:G.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),bit=G.object({email:G.string().email().optional().nullable(),address:G.string(),chainId:G.string().or(G.number()),smartAccountDeployed:G.optional(G.boolean()),accounts:G.array(G.object({address:G.string(),type:G.enum([yi.ACCOUNT_TYPES.EOA,yi.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:G.optional(G.string())}),Eit=G.object({uri:G.string()}),Ait=G.object({isConnected:G.boolean()}),Cit=G.object({chainId:G.string().or(G.number())}),Tit=G.object({chainId:G.string().or(G.number())}),Sit=G.object({newEmail:G.string().email()}),Iit=G.object({smartAccountEnabledNetworks:G.array(G.number())});G.object({address:G.string(),isDeployed:G.boolean()});const xit=G.object({version:G.string().optional()}),Pit=G.object({type:G.string(),address:G.string()}),Oit=G.any(),Dit=G.object({method:G.literal("eth_accounts")}),Nit=G.object({method:G.literal("eth_blockNumber")}),Rit=G.object({method:G.literal("eth_call"),params:G.array(G.any())}),kit=G.object({method:G.literal("eth_chainId")}),Mit=G.object({method:G.literal("eth_estimateGas"),params:G.array(G.any())}),Lit=G.object({method:G.literal("eth_feeHistory"),params:G.array(G.any())}),Fit=G.object({method:G.literal("eth_gasPrice")}),$it=G.object({method:G.literal("eth_getAccount"),params:G.array(G.any())}),Uit=G.object({method:G.literal("eth_getBalance"),params:G.array(G.any())}),jit=G.object({method:G.literal("eth_getBlockByHash"),params:G.array(G.any())}),Bit=G.object({method:G.literal("eth_getBlockByNumber"),params:G.array(G.any())}),zit=G.object({method:G.literal("eth_getBlockReceipts"),params:G.array(G.any())}),Vit=G.object({method:G.literal("eth_getBlockTransactionCountByHash"),params:G.array(G.any())}),Hit=G.object({method:G.literal("eth_getBlockTransactionCountByNumber"),params:G.array(G.any())}),Wit=G.object({method:G.literal("eth_getCode"),params:G.array(G.any())}),qit=G.object({method:G.literal("eth_getFilterChanges"),params:G.array(G.any())}),Git=G.object({method:G.literal("eth_getFilterLogs"),params:G.array(G.any())}),Kit=G.object({method:G.literal("eth_getLogs"),params:G.array(G.any())}),Yit=G.object({method:G.literal("eth_getProof"),params:G.array(G.any())}),Qit=G.object({method:G.literal("eth_getStorageAt"),params:G.array(G.any())}),Zit=G.object({method:G.literal("eth_getTransactionByBlockHashAndIndex"),params:G.array(G.any())}),Jit=G.object({method:G.literal("eth_getTransactionByBlockNumberAndIndex"),params:G.array(G.any())}),Xit=G.object({method:G.literal("eth_getTransactionByHash"),params:G.array(G.any())}),est=G.object({method:G.literal("eth_getTransactionCount"),params:G.array(G.any())}),tst=G.object({method:G.literal("eth_getTransactionReceipt"),params:G.array(G.any())}),nst=G.object({method:G.literal("eth_getUncleCountByBlockHash"),params:G.array(G.any())}),rst=G.object({method:G.literal("eth_getUncleCountByBlockNumber"),params:G.array(G.any())}),ist=G.object({method:G.literal("eth_maxPriorityFeePerGas")}),sst=G.object({method:G.literal("eth_newBlockFilter")}),ost=G.object({method:G.literal("eth_newFilter"),params:G.array(G.any())}),ast=G.object({method:G.literal("eth_newPendingTransactionFilter")}),cst=G.object({method:G.literal("eth_sendRawTransaction"),params:G.array(G.any())}),lst=G.object({method:G.literal("eth_syncing"),params:G.array(G.any())}),ust=G.object({method:G.literal("eth_uninstallFilter"),params:G.array(G.any())}),nq=G.object({method:G.literal("personal_sign"),params:G.array(G.any())}),dst=G.object({method:G.literal("eth_signTypedData_v4"),params:G.array(G.any())}),hst=G.object({method:G.literal("eth_sendTransaction"),params:G.array(G.any())}),fst=G.object({method:G.literal("solana_signMessage"),params:G.object({message:G.string(),pubkey:G.string()})}),pst=G.object({method:G.literal("solana_signTransaction"),params:G.object({transaction:G.string()})}),mst=G.object({method:G.literal("solana_signAllTransactions"),params:G.object({transactions:G.array(G.string())})}),gst=G.object({method:G.literal("solana_signAndSendTransaction"),params:G.object({transaction:G.string(),options:G.object({skipPreflight:G.boolean().optional(),preflightCommitment:G.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:G.number().optional(),minContextSlot:G.number().optional()}).optional()})}),yst=G.object({method:G.literal("wallet_sendCalls"),params:G.array(G.object({chainId:G.string().or(G.number()).optional(),from:G.string().optional(),version:G.string().optional(),capabilities:G.any().optional(),calls:G.array(G.object({to:G.string().startsWith("0x"),data:G.string().startsWith("0x").optional(),value:G.string().optional()}))}))}),vst=G.object({method:G.literal("wallet_getCallsStatus"),params:G.array(G.string())}),wst=G.object({method:G.literal("wallet_getCapabilities")}),_st=G.object({method:G.literal("wallet_grantPermissions"),params:G.array(G.any())}),bst=G.object({method:G.literal("wallet_revokePermissions"),params:G.any()}),Est=G.object({method:G.literal("wallet_getAssets"),params:G.any()}),rq=G.object({token:G.string()}),et=G.object({id:G.string().optional()}),N0={appEvent:et.extend({type:Xe("APP_SWITCH_NETWORK"),payload:iit}).or(et.extend({type:Xe("APP_CONNECT_EMAIL"),payload:sit})).or(et.extend({type:Xe("APP_CONNECT_DEVICE")})).or(et.extend({type:Xe("APP_CONNECT_OTP"),payload:oit})).or(et.extend({type:Xe("APP_CONNECT_SOCIAL"),payload:ait})).or(et.extend({type:Xe("APP_GET_FARCASTER_URI")})).or(et.extend({type:Xe("APP_CONNECT_FARCASTER")})).or(et.extend({type:Xe("APP_GET_USER"),payload:G.optional(cit)})).or(et.extend({type:Xe("APP_GET_SOCIAL_REDIRECT_URI"),payload:lit})).or(et.extend({type:Xe("APP_SIGN_OUT")})).or(et.extend({type:Xe("APP_IS_CONNECTED"),payload:G.optional(rq)})).or(et.extend({type:Xe("APP_GET_CHAIN_ID")})).or(et.extend({type:Xe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(et.extend({type:Xe("APP_INIT_SMART_ACCOUNT")})).or(et.extend({type:Xe("APP_SET_PREFERRED_ACCOUNT"),payload:mit})).or(et.extend({type:Xe("APP_RPC_REQUEST"),payload:nq.or(Est).or(Dit).or(Nit).or(Rit).or(kit).or(Mit).or(Lit).or(Fit).or($it).or(Uit).or(jit).or(Bit).or(zit).or(Vit).or(Hit).or(Wit).or(qit).or(Git).or(Kit).or(Yit).or(Qit).or(Zit).or(Jit).or(Xit).or(est).or(tst).or(nst).or(rst).or(ist).or(sst).or(ost).or(ast).or(cst).or(lst).or(ust).or(nq).or(dst).or(hst).or(fst).or(pst).or(mst).or(gst).or(vst).or(yst).or(wst).or(_st).or(bst)})).or(et.extend({type:Xe("APP_UPDATE_EMAIL"),payload:uit})).or(et.extend({type:Xe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:dit})).or(et.extend({type:Xe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:hit})).or(et.extend({type:Xe("APP_SYNC_THEME"),payload:fit})).or(et.extend({type:Xe("APP_SYNC_DAPP_DATA"),payload:pit})).or(et.extend({type:Xe("APP_RELOAD")})),frameEvent:et.extend({type:Xe("FRAME_SWITCH_NETWORK_ERROR"),payload:Wr}).or(et.extend({type:Xe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Tit})).or(et.extend({type:Xe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:git})).or(et.extend({type:Xe("FRAME_CONNECT_EMAIL_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:yit})).or(et.extend({type:Xe("FRAME_GET_FARCASTER_URI_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:vit})).or(et.extend({type:Xe("FRAME_CONNECT_FARCASTER_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_CONNECT_OTP_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_CONNECT_OTP_SUCCESS")})).or(et.extend({type:Xe("FRAME_CONNECT_DEVICE_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(et.extend({type:Xe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:wit})).or(et.extend({type:Xe("FRAME_CONNECT_SOCIAL_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_GET_USER_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_GET_USER_SUCCESS"),payload:bit})).or(et.extend({type:Xe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Eit})).or(et.extend({type:Xe("FRAME_SIGN_OUT_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_SIGN_OUT_SUCCESS")})).or(et.extend({type:Xe("FRAME_IS_CONNECTED_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_IS_CONNECTED_SUCCESS"),payload:Ait})).or(et.extend({type:Xe("FRAME_GET_CHAIN_ID_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Cit})).or(et.extend({type:Xe("FRAME_RPC_REQUEST_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_RPC_REQUEST_SUCCESS"),payload:Oit})).or(et.extend({type:Xe("FRAME_SESSION_UPDATE"),payload:rq})).or(et.extend({type:Xe("FRAME_UPDATE_EMAIL_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:_it})).or(et.extend({type:Xe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(et.extend({type:Xe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Sit})).or(et.extend({type:Xe("FRAME_SYNC_THEME_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_SYNC_THEME_SUCCESS")})).or(et.extend({type:Xe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(et.extend({type:Xe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Iit})).or(et.extend({type:Xe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Pit})).or(et.extend({type:Xe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_READY"),payload:xit})).or(et.extend({type:Xe("FRAME_RELOAD_ERROR"),payload:Wr})).or(et.extend({type:Xe("FRAME_RELOAD_SUCCESS")}))};function HR(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Ast{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=Se.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:l}){if(!HR(ft.FRAME_EVENT_KEY,l))return;const u=N0.frameEvent.parse(l);u.id===s&&(o(u),window.removeEventListener("message",c))}Jo.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{Jo.isClient&&window.addEventListener("message",({data:o})=>{if(!HR(ft.FRAME_EVENT_KEY,o))return;const a=N0.frameEvent.parse(o);s(a)})},onAppEvent:s=>{Jo.isClient&&window.addEventListener("message",({data:o})=>{if(!HR(ft.APP_EVENT_KEY,o))return;const a=N0.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(Jo.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");N0.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(Jo.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");N0.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),Jo.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${Znt}?projectId=${e}&chainId=${r}&version=${Xnt}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Cst{constructor(e){var s;const n=yw({level:Jnt}),{logger:r,chunkLoggerController:i}=Nj({opts:n});this.logger=zs(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Tst{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i}){this.openRpcRequests=[],r&&(this.w3mLogger=new Cst(e)),this.w3mFrame=new Ast({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(async o=>{o.type===ft.FRAME_READY&&(this.initPromise=void 0,await new Promise(a=>{setTimeout(a,500)}),s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!ss.get(ft.EMAIL_LOGIN_USED_KEY)}getEmail(){return ss.get(ft.EMAIL)}getUsername(){return ss.get(ft.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:ft.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Jo.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const r=await this.appEvent({type:ft.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:ft.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:ft.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:ft.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:ft.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return this.w3mFrame.initFrame(),this.appEvent({type:ft.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:ft.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:ft.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:ft.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:ft.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:ft.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:ft.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:ft.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:r,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async getUser(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:ft.APP_GET_USER,payload:{...e,chainId:r}});return this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{this.w3mFrame.initFrame();const r=await this.appEvent({type:ft.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:ft.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:ft.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:ft.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{const n=await this.appEvent({type:ft.APP_SIGN_OUT});return this.deleteAuthLoginCache(),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,i,s;try{if(yi.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:ft.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_IS_CONNECTED_ERROR&&e(),n.type===ft.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===ft.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:yi.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===ft.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{yi.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let n;function r(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=r(e.type);return[ft.APP_CONNECT_EMAIL,ft.APP_CONNECT_DEVICE,ft.APP_CONNECT_OTP,ft.APP_CONNECT_SOCIAL,ft.APP_GET_SOCIAL_REDIRECT_URI].map(r).includes(s)&&(n=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,c)=>{var h,f,p;const l=Math.random().toString(36).substring(7);if((p=(h=this.w3mLogger)==null?void 0:(f=h.logger).info)==null||p.call(f,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),s==="RPC_REQUEST"){const g=e;this.openRpcRequests=[...this.openRpcRequests,{...g.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?c(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function u(g,y){var v,b,w;g.id===l&&((b=y==null?void 0:(v=y.logger).info)==null||b.call(v,{framEvent:g,id:l},"Received frame response"),g.type===`@w3m-frame/${s}_SUCCESS`?(n&&clearTimeout(n),"payload"in g&&a(g.payload),a(void 0)):g.type===`@w3m-frame/${s}_ERROR`&&(n&&clearTimeout(n),"payload"in g&&c(new Error(((w=g.payload)==null?void 0:w.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,g=>u(g,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){ss.set(ft.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ss.set(ft.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ss.set(ft.EMAIL,e),ss.set(ft.EMAIL_LOGIN_USED_KEY,"true"),ss.delete(ft.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ss.delete(ft.EMAIL_LOGIN_USED_KEY),ss.delete(ft.EMAIL),ss.delete(ft.LAST_USED_CHAIN_KEY),ss.delete(ft.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ss.set(ft.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ss.get(ft.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){ss.set(ft.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Fp{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i}){return Fp.instance||(Fp.instance=new Tst({projectId:e,chainId:n,enableLogger:r,onTimeout:i})),Fp.instance}}const Sst={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},fF={filterOutDuplicatesByRDNS(t){const e=Pe.state.enableEIP6963?Yt.state.connectors:[],n=Qe.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&Lt.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Yt.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Qe.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Yt.state,n=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!n[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=Pe.state.features)==null?void 0:c.connectMethodsOrder),r=e||Yt.state.connectors;if(n)return n;const{injected:i,announced:s}=UT.getConnectorsByType(r,jt.state.recommended,jt.state.featured),o=i.filter(UT.showConnector),a=s.filter(UT.showConnector);return o.length||a.length?["wallet","email","social"]:Sst.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&jt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&jt.state.excludedWallets.some(r=>UO.isLowerCaseMatch(r.name,t.name));return e||n}},UT={getConnectorsByType(t,e,n){const{customWallets:r}=Pe.state,i=Qe.getRecentWallets(),s=fF.filterOutDuplicateWallets(e),o=fF.filterOutDuplicateWallets(n),a=t.filter(h=>h.type==="MULTI_CHAIN"),c=t.filter(h=>h.type==="ANNOUNCED"),l=t.filter(h=>h.type==="INJECTED"),u=t.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,n=!!e&&jt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&jt.state.excludedWallets.some(s=>UO.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(!Lt.isMobile()&&t.name==="Browser Wallet"||!e&&!pr.checkInstalled()||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(X.state.chains.values()).some(n=>Yt.getConnectorId(n.namespace)===Se.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=Pe.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=UT.getIsConnectedWithWC(),p=[{type:"walletConnect",isEnabled:Pe.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(b=>b.isEnabled),g=new Set(p.map(b=>b.type)),y=c.filter(b=>g.has(b)).map(b=>({type:b,isEnabled:!0})),v=p.filter(({type:b})=>!y.some(({type:A})=>A===b));return Array.from(new Set([...y,...v].map(({type:b})=>b)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jT=globalThis,r5=jT.ShadowRoot&&(jT.ShadyCSS===void 0||jT.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i5=Symbol(),iq=new WeakMap;let Fae=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==i5)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(r5&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=iq.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&iq.set(n,e))}return e}toString(){return this.cssText}};const Sa=t=>new Fae(typeof t=="string"?t:t+"",void 0,i5),By=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new Fae(n,t,i5)},Ist=(t,e)=>{if(r5)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=jT.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},sq=r5?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Sa(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:xst,defineProperty:Pst,getOwnPropertyDescriptor:Ost,getOwnPropertyNames:Dst,getOwnPropertySymbols:Nst,getPrototypeOf:Rst}=Object,Wh=globalThis,oq=Wh.trustedTypes,kst=oq?oq.emptyScript:"",WR=Wh.reactiveElementPolyfillSupport,k_=(t,e)=>t,pF={toAttribute(t,e){switch(e){case Boolean:t=t?kst:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},$ae=(t,e)=>!xst(t,e),aq={attribute:!0,type:String,converter:pF,reflect:!1,useDefault:!1,hasChanged:$ae};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Wh.litPropertyMetadata??(Wh.litPropertyMetadata=new WeakMap);let Qg=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=aq){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Pst(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=Ost(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??aq}static _$Ei(){if(this.hasOwnProperty(k_("elementProperties")))return;const e=Rst(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(k_("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(k_("properties"))){const n=this.properties,r=[...Dst(n),...Nst(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(sq(i))}else e!==void 0&&n.push(sq(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Ist(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:pF).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:pF;this._$Em=i,this[i]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,n,r){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(r??(r=s.getPropertyOptions(e)),!((r.hasChanged??$ae)(o,n)||r.useDefault&&r.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Qg.elementStyles=[],Qg.shadowRootOptions={mode:"open"},Qg[k_("elementProperties")]=new Map,Qg[k_("finalized")]=new Map,WR==null||WR({ReactiveElement:Qg}),(Wh.reactiveElementVersions??(Wh.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const M_=globalThis,ox=M_.trustedTypes,cq=ox?ox.createPolicy("lit-html",{createHTML:t=>t}):void 0,Uae="$lit$",oh=`lit$${Math.random().toFixed(9).slice(2)}$`,jae="?"+oh,Mst=`<${jae}>`,Am=document,IE=()=>Am.createComment(""),xE=t=>t===null||typeof t!="object"&&typeof t!="function",s5=Array.isArray,Lst=t=>s5(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",qR=`[ 	
\f\r]`,R0=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,lq=/-->/g,uq=/>/g,$f=RegExp(`>|${qR}(?:([^\\s"'>=/]+)(${qR}*=${qR}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),dq=/'/g,hq=/"/g,Bae=/^(?:script|style|textarea|title)$/i,zae=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),fct=zae(1),pct=zae(2),zv=Symbol.for("lit-noChange"),zi=Symbol.for("lit-nothing"),fq=new WeakMap,vp=Am.createTreeWalker(Am,129);function Vae(t,e){if(!s5(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return cq!==void 0?cq.createHTML(e):e}const Fst=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=R0;for(let a=0;a<n;a++){const c=t[a];let l,u,h=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===R0?u[1]==="!--"?o=lq:u[1]!==void 0?o=uq:u[2]!==void 0?(Bae.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=$f):u[3]!==void 0&&(o=$f):o===$f?u[0]===">"?(o=i??R0,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?$f:u[3]==='"'?hq:dq):o===hq||o===dq?o=$f:o===lq||o===uq?o=R0:(o=$f,i=void 0);const p=o===$f&&t[a+1].startsWith("/>")?" ":"";s+=o===R0?c+Mst:h>=0?(r.push(l),c.slice(0,h)+Uae+c.slice(h)+oh+p):c+oh+(h===-2?a:p)}return[Vae(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class PE{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Fst(e,n);if(this.el=PE.createElement(l,r),vp.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=vp.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Uae)){const f=u[o++],p=i.getAttribute(h).split(oh),g=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:g[2],strings:p,ctor:g[1]==="."?Ust:g[1]==="?"?jst:g[1]==="@"?Bst:BO}),i.removeAttribute(h)}else h.startsWith(oh)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(Bae.test(i.tagName)){const h=i.textContent.split(oh),f=h.length-1;if(f>0){i.textContent=ox?ox.emptyScript:"";for(let p=0;p<f;p++)i.append(h[p],IE()),vp.nextNode(),c.push({type:2,index:++s});i.append(h[f],IE())}}}else if(i.nodeType===8)if(i.data===jae)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(oh,h+1))!==-1;)c.push({type:7,index:s}),h+=oh.length-1}s++}}static createElement(e,n){const r=Am.createElement("template");return r.innerHTML=e,r}}function Vv(t,e,n=t,r){var o,a;if(e===zv)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=xE(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=Vv(t,i._$AS(t,e.values),i,r)),e}class $st{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??Am).importNode(n,!0);vp.currentNode=i;let s=vp.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new q1(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new zst(s,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=vp.nextNode(),o++)}return vp.currentNode=Am,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class q1{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=zi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Vv(this,e,n),xE(e)?e===zi||e==null||e===""?(this._$AH!==zi&&this._$AR(),this._$AH=zi):e!==this._$AH&&e!==zv&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Lst(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==zi&&xE(this._$AH)?this._$AA.nextSibling.data=e:this.T(Am.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=PE.createElement(Vae(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new $st(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=fq.get(e.strings);return n===void 0&&fq.set(e.strings,n=new PE(e)),n}k(e){s5(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new q1(this.O(IE()),this.O(IE()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class BO{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=zi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=zi}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=Vv(this,e,n,0),o=!xE(e)||e!==this._$AH&&e!==zv,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=Vv(this,a[r+c],n,c),l===zv&&(l=this._$AH[c]),o||(o=!xE(l)||l!==this._$AH[c]),l===zi?e=zi:e!==zi&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===zi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Ust extends BO{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===zi?void 0:e}}class jst extends BO{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==zi)}}let Bst=class extends BO{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=Vv(this,e,n,0)??zi)===zv)return;const r=this._$AH,i=e===zi&&r!==zi||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==zi&&(r===zi||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}};class zst{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Vv(this,e)}}const GR=M_.litHtmlPolyfillSupport;GR==null||GR(PE,q1),(M_.litHtmlVersions??(M_.litHtmlVersions=[])).push("3.3.0");const Vst=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new q1(e.insertBefore(IE(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const $p=globalThis;class BT extends Qg{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Vst(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return zv}}var Nq;BT._$litElement$=!0,BT.finalized=!0,(Nq=$p.litElementHydrateSupport)==null||Nq.call($p,{LitElement:BT});const KR=$p.litElementPolyfillSupport;KR==null||KR({LitElement:BT});($p.litElementVersions??($p.litElementVersions=[])).push("4.2.0");let L_,qh,Gh;function gct(t,e){L_=document.createElement("style"),qh=document.createElement("style"),Gh=document.createElement("style"),L_.textContent=zy(t).core.cssText,qh.textContent=zy(t).dark.cssText,Gh.textContent=zy(t).light.cssText,document.head.appendChild(L_),document.head.appendChild(qh),document.head.appendChild(Gh),Hae(e)}function Hae(t){qh&&Gh&&(t==="light"?(qh.removeAttribute("media"),Gh.media="enabled"):(Gh.removeAttribute("media"),qh.media="enabled"))}function Hst(t){L_&&qh&&Gh&&(L_.textContent=zy(t).core.cssText,qh.textContent=zy(t).dark.cssText,Gh.textContent=zy(t).light.cssText)}function zy(t){return{core:By`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Sa(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Sa((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Sa((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Sa((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Sa((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:By`
      :root {
        --w3m-color-mix: ${Sa((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Sa(Pu(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Sa(Pu(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:By`
      :root {
        --w3m-color-mix: ${Sa((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Sa(Pu(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Sa(Pu(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const yct=By`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,vct=By`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,wct=By`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,NC={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},Wst=hj({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),qst=hj({id:17e3,name:"Holesky",nativeCurrency:{name:"Holesky Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://holesky.etherscan.io",apiUrl:"https://api-holesky.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:77},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",blockCreated:801613},ensUniversalResolver:{address:"0xa6AC935D4971E3CD133b950aE053bECD16fE7f3b",blockCreated:973484}},testnet:!0}),Gst=hj({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function G1(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const pq=G1({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),mq=G1({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});G1({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});G1({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});G1({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Kst={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},zO={getMethodsByChainNamespace(t){return Kst[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case pq.caipNetworkId:u.chains.push(pq.deprecatedCaipNetworkId);break;case mq.caipNetworkId:u.chains.push(mq.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await xae.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class o5{constructor({provider:e,namespace:n}){this.id=Se.CONNECTOR_ID.WALLET_CONNECT,this.name=Ch.ConnectorNamesMap[Se.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ch.ConnectorImageIds[Se.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=X.getCaipNetworks.bind(X),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=Pe.state.universalProviderConfigOverride,i=zO.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return R_.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Yst})}}const Yst=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Wae{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>X.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Se.CONNECTOR_ID.AUTH,type:"AUTH",name:Se.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ch.ConnectorImageIds[Se.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){st.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const o=i,a=(s=st.state.preferredAccountTypes)==null?void 0:s[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof o5);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Qst extends Wae{setUniversalProvider(e){this.addConnector(new o5({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Lt.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,l;if(!(e.caipNetwork&&Wi.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(st.state.balanceLoading&&e.chainId===((c=X.state.activeCaipNetwork)==null?void 0:c.id))return{balance:st.state.balance||"0.00",symbol:st.state.balanceSymbol||""};const i=(await st.fetchTokenBalance()).find(u=>{var h,f;return u.chainId===`${(h=e.caipNetwork)==null?void 0:h.chainNamespace}:${e.chainId}`&&u.symbol===((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Se.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:Zse.encode(new TextEncoder().encode(r)),pubkey:i}},(a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},(c=X.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Se.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:Ll(n.id)}]}))}catch(u){if(u.code===NC.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===NC.ERROR_INVALID_CHAIN_ID||u.code===NC.ERROR_CODE_DEFAULT||((o=(s=u==null?void 0:u.data)==null?void 0:s.originalError)==null?void 0:o.code)===NC.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Ll(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Zst{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var i,s,o,a;if(n){const c=(s=(i=X.getNetworkData(n))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(u=>u.id===r);if(c)return c;const l=(o=X.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=X.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:a[0])}return X.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>X.getCaipNetworks(n),this.getActiveChainNamespace=()=>X.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{X.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>X.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>X.state.activeChain===n||!n?X.state.activeCaipAddress:X.getAccountProp("caipAddress",n),this.setClientId=n=>{Dt.setClientId(n)},this.getProvider=n=>er.getProvider(n),this.getProviderType=n=>er.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=st.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{st.setCaipAddress(n,r)},this.setBalance=(n,r,i)=>{st.setBalance(n,r,i)},this.setProfileName=(n,r)=>{st.setProfileName(n,r)},this.setProfileImage=(n,r)=>{st.setProfileImage(n,r)},this.setUser=(n,r)=>{st.setUser(n,r),Pe.state.enableEmbedded&&oi.close()},this.resetAccount=n=>{st.resetAccount(n)},this.setCaipNetwork=n=>{X.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{X.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{st.setAllAccounts(n,r),Pe.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{st.setStatus(n,r),Yt.isConnected()?Qe.setConnectionStatus("connected"):Qe.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>X.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Yt.state.allConnectors,...n];Yt.setConnectors(r)},this.fetchIdentity=n=>Dt.fetchIdentity(n),this.getReownName=n=>xae.getNamesForAddress(n),this.getConnectors=()=>Yt.getConnectors(),this.getConnectorImage=n=>Wie.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=er.getProviderId(r),s=n?{...n,type:i}:void 0;st.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!X.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{st.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{st.removeAddressLabel(n,r)},this.getAddress=n=>X.state.activeChain===n||!n?st.state.address:X.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>X.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{X.resetNetwork(n)},this.addConnector=n=>{Yt.addConnector(n)},this.resetWcConnection=()=>{pr.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{st.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{st.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{X.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{st.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{Pe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(r!=null&&r.length)return[...new Set(r)];const i=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),Dl.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,ar.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ks.setThemeMode(e.themeMode),e.themeVariables&&ks.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");X.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&X.setActiveCaipNetwork(n)}initializeConnectionController(e){pr.setWcBasic(e.basic??!1)}initializeConnectorController(){Yt.initialize(this.chainNamespaces)}initializeOptionsController(e){var o;Pe.setDebug(e.debug!==!1),Pe.setEnableWalletConnect(e.enableWalletConnect!==!1),Pe.setEnableWalletGuide(e.enableWalletGuide!==!1),Pe.setEnableWallets(e.enableWallets!==!1),Pe.setEIP6963Enabled(e.enableEIP6963!==!1),Pe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Pe.setEnableAuthLogger(e.enableAuthLogger!==!1),Pe.setCustomRpcUrls(e.customRpcUrls),Pe.setSdkVersion(e.sdkVersion),Pe.setProjectId(e.projectId),Pe.setEnableEmbedded(e.enableEmbedded),Pe.setAllWallets(e.allWallets),Pe.setIncludeWalletIds(e.includeWalletIds),Pe.setExcludeWalletIds(e.excludeWalletIds),Pe.setFeaturedWalletIds(e.featuredWalletIds),Pe.setTokens(e.tokens),Pe.setTermsConditionsUrl(e.termsConditionsUrl),Pe.setPrivacyPolicyUrl(e.privacyPolicyUrl),Pe.setCustomWallets(e.customWallets),Pe.setFeatures(e.features),Pe.setAllowUnsupportedChain(e.allowUnsupportedChain),Pe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Pe.setDefaultAccountTypes(e.defaultAccountTypes);const n=Qe.getPreferredAccountTypes(),r={...Pe.state.defaultAccountTypes,...n};st.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),Pe.setMetadata(e.metadata),Pe.setDisableAppend(e.disableAppend),Pe.setEnableEmbedded(e.enableEmbedded),Pe.setSIWX(e.siwx),!e.projectId){kp.open(yp.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===Se.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Pe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=gl.getUnsupportedNetwork(`${n}:${e}`);X.setActiveCaipNetwork(r)}}getDefaultNetwork(){return gl.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return gl.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return gl.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?gl.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=X.state.activeChain,n=this.getAdapter(e),r=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),Qe.setConnectedNamespaces([...X.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Yt.setConnectorId(Er.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o})=>{var p,g,y,v,b,w;const a=X.state.activeChain,c=s||a,l=this.getAdapter(c);if(s&&s!==a&&!o){const A=this.getCaipNetworks().find(S=>S.chainNamespace===s);A&&this.setCaipNetwork(A)}if(!l)throw new Error("Adapter not found");const u=this.getCaipNetwork(c),h=await l.connect({id:e,info:n,type:r,provider:i,chainId:(o==null?void 0:o.id)||(u==null?void 0:u.id),rpcUrl:((y=(g=(p=o==null?void 0:o.rpcUrls)==null?void 0:p.default)==null?void 0:g.http)==null?void 0:y[0])||((w=(b=(v=u==null?void 0:u.rpcUrls)==null?void 0:v.default)==null?void 0:b.http)==null?void 0:w[0])});if(!h)return;Qe.addConnectedNamespace(c),this.syncProvider({...h,chainNamespace:c});const{accounts:f}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(f,c),this.setStatus("connected",c)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=X.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Qe.addConnectedNamespace(s))},disconnect:async e=>{const n=e||X.state.activeChain,r=this.getAdapter(n),i=er.getProvider(n),s=er.getProviderId(n);await(r==null?void 0:r.disconnect({provider:i,providerType:s})),Qe.removeConnectedNamespace(n),er.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(X.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:st.state.address,provider:er.getProvider(X.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Se.CHAIN.EVM){const n=this.getAdapter(X.state.activeChain),r=er.getProvider(X.state.activeChain),i=await(n==null?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:r}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Se.CHAIN.EVM){const n=this.getAdapter(X.state.activeChain),r=er.getProvider(X.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var r;const e=this.getAdapter(X.state.activeChain),n=await(e==null?void 0:e.getProfile({address:st.state.address,chainId:Number((r=this.getCaipNetwork())==null?void 0:r.id)}));return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>{const n=this.getAdapter(X.state.activeChain),r=this.getCaipNetwork();if(!r)return!1;const i=await(n==null?void 0:n.getEnsAddress({name:e,caipNetwork:r}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const n=this.getAdapter(X.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=er.getProvider(X.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(X.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(X.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(X.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},pr.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(er.getProviderId(X.state.activeChain)===Er.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=er.getProvider(n),s=er.getProviderId(n);if(e.chainNamespace===X.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===Er.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Ld.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new Qst({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Qe.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Qe.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=X.state.activeChain===e,c=X.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("pendingTransactions",()=>{const i=st.state.address,s=X.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=X.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=X.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=X.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Yt.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Se.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Se.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const n=this.getAdapter(e),r=Yt.getConnectorId(e),i=this.getCaipNetwork(e),s=Yt.getConnectors(e).find(l=>l.id===r);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const l=await(n==null?void 0:n.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(c=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(l){const u=await(n==null?void 0:n.getAccounts({namespace:e,id:s.id}));u&&u.accounts.length>0?this.setAllAccounts(u.accounts,e):this.setAllAccounts([Lt.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,c,l,u,h;const r=this.getAdapter(n),i=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[n])==null?void 0:u.accounts)||[],s=(h=X.state.activeCaipNetwork)==null?void 0:h.id,o=i.find(f=>{const{chainId:p}=Ld.parseCaipAddress(f);return p===(s==null?void 0:s.toString())})||i[0];if(o){const f=Ld.validateCaipAddress(o),{chainId:p,address:g}=Ld.parseCaipAddress(f);if(er.setProviderId(n,Er.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&X.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==Se.CHAIN.EVM){const y=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:X.state.activeCaipNetwork});er.setProvider(n,y)}else er.setProvider(n,this.universalProvider);Yt.setConnectorId(Se.CONNECTOR_ID.WALLET_CONNECT,n),Qe.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:g,chainId:p,chainNamespace:n})}else this.setStatus("disconnected",n);await X.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,i,s,o,a;const n=(a=(o=(s=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Ld.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Lt.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){er.setProviderId(i,e),er.setProvider(i,n),Yt.setConnectorId(r,i)}async syncAccount(e){var h,f;const n=e.chainNamespace===X.state.activeChain,r=X.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=Qe.getActiveNetworkProps(),c=s||a,l=((h=X.state.activeCaipNetwork)==null?void 0:h.name)===Se.UNSUPPORTED_NETWORK_NAME,u=X.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let p=this.getCaipNetworks().find(v=>v.id.toString()===c.toString()),g=this.getCaipNetworks().find(v=>v.chainNamespace===o);if(!u&&!p&&!g){const v=this.getApprovedCaipNetworkIds()||[],b=v.find(A=>{var S;return((S=Ld.parseCaipNetworkId(A))==null?void 0:S.chainId)===c.toString()}),w=v.find(A=>{var S;return((S=Ld.parseCaipNetworkId(A))==null?void 0:S.chainNamespace)===o});p=this.getCaipNetworks().find(A=>A.caipNetworkId===b),g=this.getCaipNetworks().find(A=>A.caipNetworkId===w||"deprecatedCaipNetworkId"in A&&A.deprecatedCaipNetworkId===w)}const y=p||g;(y==null?void 0:y.chainNamespace)===X.state.activeChain?Pe.state.enableNetworkSwitch&&!Pe.state.allowUnsupportedChain&&((f=X.state.activeCaipNetwork)==null?void 0:f.name)===Se.UNSUPPORTED_NETWORK_NAME?X.showUnsupportedChainUI():this.setCaipNetwork(y):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),UO.isLowerCaseMatch(i,st.state.address)||this.syncAccountInfo(i,y==null?void 0:y.id,o),n?await this.syncBalance({address:i,chainId:y==null?void 0:y.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=Yt.getConnectorId(e),r=er.getProviderId(e);if(r===Er.CONNECTOR_TYPE_ANNOUNCED||r===Er.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===Er.CONNECTOR_TYPE_WALLET_CONNECT){const s=er.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n)if(n===Se.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Se.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:n},e)}async syncBalance(e){!rE.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=X.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});this.setBalance(o.balance,o.symbol,r)}}async initializeUniversalAdapter(){var r,i,s,o,a,c,l,u,h,f;const e=irt.createLogger((p,...g)=>{p&&this.handleAlertError(p),console.error(...g)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(h=this.options)==null?void 0:h.metadata.icons:[""]},logger:e};Pe.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await Tae.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{pr.setUri(e)}),this.universalProvider.on("connect",pr.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),pr.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(zO.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Lt.isCaipAddress(r[0])&&this.syncAccount(Ld.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Lt.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){ar.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(yp.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=yp.ALERT_ERRORS[o];a&&(kp.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&pr.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return oi.open({...e,data:{swap:e.arguments}})}return oi.open(e)}async close(){await this.injectModalUi(),oi.close()}setLoading(e,n){oi.setLoading(e,n)}async disconnect(e){await pr.disconnect(e)}getError(){return""}getChainId(){var e;return(e=X.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){kp.open(yp.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await X.switchActiveNetwork(n)}getWalletProvider(){return X.state.activeChain?er.state.providers[X.state.activeChain]:null}getWalletProviderType(){return er.getProviderId(X.state.activeChain)}subscribeProviders(e){return er.subscribeProviders(e)}getThemeMode(){return ks.state.themeMode}getThemeVariables(){return ks.state.themeVariables}setThemeMode(e){ks.setThemeMode(e),Hae(ks.state.themeMode)}setTermsConditionsUrl(e){Pe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Pe.setPrivacyPolicyUrl(e)}setThemeVariables(e){ks.setThemeVariables(e),Hst(ks.state.themeVariables)}subscribeTheme(e){return ks.subscribe(e)}getWalletInfo(){return st.state.connectedWalletInfo}getAccount(e){var s;const n=Yt.getAuthConnector(e),r=X.getAccountData(e),i=X.state.activeChain;if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Lt.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n?{user:r.user?{...r.user,username:Qe.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(s=r.preferredAccountTypes)==null?void 0:s[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?X.subscribeChainProp("accountState",r,n):X.subscribe(r),Yt.subscribe(r)}subscribeNetwork(e){return X.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return st.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){st.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){X.subscribeKey("activeCaipNetwork",e)}getState(){return Dl.state}subscribeState(e){return Dl.subscribe(e)}showErrorMessage(e){ds.showError(e)}showSuccessMessage(e){ds.showSuccess(e)}getEvent(){return{...ar.state}}subscribeEvents(e){return ar.subscribe(e)}replace(e){qn.replace(e)}redirect(e){qn.push(e)}popTransactionStack(e){qn.popTransactionStack(e)}isOpen(){return oi.state.open}isTransactionStackEmpty(){return qn.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=qn.state.transactionStack[qn.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){Pe.setFeatures(e)}updateOptions(e){const r={...Pe.state||{},...e};Pe.setOptions(r)}setConnectMethodsOrder(e){Pe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Pe.setWalletFeaturesOrder(e)}setCollapseWallets(e){Pe.setCollapseWallets(e)}setSocialsOrder(e){Pe.setSocialsOrder(e)}getConnectMethodsOrder(){return fF.getConnectOrderMethod(Pe.state.features,Yt.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||X.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&X.removeNetwork(e,n)}}let gq=!1;class Jst extends Zst{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Jo.checkIfRequestExists(n)?Jo.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(yi.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(yi.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const i=Jo.checkIfRequestIsSafe(r),s=st.state.address,o=X.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=X.state.activeChain;Yt.getConnectorId(n)===Se.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(async n=>{var a,c;const r=X.state.activeChain,i=r===Se.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,s=n.preferredAccountType||((a=st.state.preferredAccountTypes)==null?void 0:a[r])||Pe.state.defaultAccountTypes[r];UO.isLowerCaseMatch(n.address,st.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser({...st.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(s,r);const o=(c=n.accounts)==null?void 0:c.map(l=>{var u;return Lt.createAccount(r,l.address,l.type||((u=st.state.preferredAccountTypes)==null?void 0:u[r])||Pe.state.defaultAccountTypes[r])});this.setAllAccounts(o||[Lt.createAccount(r,n.address,n.preferredAccountType||s)],r),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...st.state.user||{},username:n},X.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,X.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,X.state.activeChain)})}async syncAuthConnector(e,n){var u,h,f,p;const r=Se.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const s=e.getEmail(),o=e.getUsername();this.setUser({...((u=st.state)==null?void 0:u.user)||{},username:o,email:s},X.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=ks.getSnapshot(),l=Pe.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:Pu(c.themeVariables,c.themeMode)}),n&&r&&(a&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:Se.CONNECTOR_ID.AUTH,info:{name:Se.CONNECTOR_ID.AUTH},type:Er.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=X.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):Yt.getConnectorId(n)===Se.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Qe.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!Lt.isTelegram())return;const r=Qe.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;st.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=Yt.getAuthConnector();r&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await pr.connectExternal(o,o.chain),Qe.setConnectedSocialProvider(r),Qe.removeTelegramSocialProvider(),ar.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var o,a,c,l,u,h,f,p,g,y,v,b,w;if(!Se.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?Wi.DEFAULT_FEATURES.email:(l=(c=this.options)==null?void 0:c.features)==null?void 0:l.email,i=(h=(u=this.options)==null?void 0:u.features)!=null&&h.socials?((g=(p=(f=this.options)==null?void 0:f.features)==null?void 0:p.socials)==null?void 0:g.length)>0:Wi.DEFAULT_FEATURES.socials,s=r||i;!this.authProvider&&((y=this.options)!=null&&y.projectId)&&s&&(this.authProvider=Fp.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(v=this.getCaipNetwork(e))==null?void 0:v.caipNetworkId,onTimeout:()=>{kp.open(yp.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),Dl.subscribeOpen(A=>{var S;!A&&this.isTransactionStackEmpty()&&((S=this.authProvider)==null||S.rejectRpcRequests())}),e===Se.CHAIN.EVM&&((b=st.state.preferredAccountTypes)!=null&&b.eip155)&&this.authProvider.setPreferredAccount((w=st.state.preferredAccountTypes)==null?void 0:w.eip155),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,i;this.createAuthProvider(e),this.authProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||i.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&jt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const n=X.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===X.state.activeChain&&i){const a=this.getAdapter(r),c=er.getProvider(r),l=er.getProviderId(r);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:l})),this.setCaipNetwork(e)}else{const c=er.getProviderId(n)===Er.CONNECTOR_TYPE_AUTH,l=er.getProviderId(r),u=l===Er.CONNECTOR_TYPE_AUTH,h=Se.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((c||u)&&h)try{X.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:Se.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Er.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===Er.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const i=`${r}:${n}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(r!==Se.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,r),this.setProfileImage(c,r),!a){const l=this.getAdapter(r),u=await(l==null?void 0:l.getProfile({address:e,chainId:Number(n)}));u!=null&&u.profileName?(this.setProfileName(u.profileName,r),u.profileImage&&this.setProfileImage(u.profileImage,r)):(await this.syncReownName(e,r),this.setProfileImage(null,r))}}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=er.getProviderId(e);if(n===Er.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=Qe.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!gq&&Lt.isClient()){const e={...Wi.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(Ao(()=>import("./embedded-wallet-f79278a3.js"),["assets/embedded-wallet-f79278a3.js","assets/if-defined-265b4cad.js","assets/index-ba8aa52f.js","assets/index-10422778.js","assets/index-2b9978d4.js","assets/index-3b9dae56.js","assets/index-e9a9b560.js","assets/index-4e98caed.js","assets/index-a84f3d39.js","assets/index-3fbc86dd.js"])),e.email&&n.push(Ao(()=>import("./email-b46efa1e.js"),["assets/email-b46efa1e.js","assets/if-defined-265b4cad.js","assets/index-3fbc86dd.js","assets/index-3b9dae56.js","assets/index-a84f3d39.js","assets/index-2b9978d4.js","assets/index-6d8fc3ae.js","assets/index-e9a9b560.js"])),e.socials&&n.push(Ao(()=>import("./socials-8492bbb5.js"),["assets/socials-8492bbb5.js","assets/if-defined-265b4cad.js","assets/index-ff28de43.js","assets/index-2b9978d4.js","assets/index-3b9dae56.js","assets/index-ff9527b4.js","assets/index-a84f3d39.js","assets/index-3fbc86dd.js","assets/index-09f4a0d8.js","assets/index-10422778.js","assets/browser-e933942f.js","assets/index-e6af6ae5.js"])),e.swaps&&n.push(Ao(()=>import("./swaps-5482590a.js"),["assets/swaps-5482590a.js","assets/if-defined-265b4cad.js","assets/index-2b9978d4.js","assets/index-3b9dae56.js","assets/index-313ccf44.js","assets/index-73331142.js","assets/index-6c2b3571.js","assets/index-10422778.js","assets/index-a84f3d39.js","assets/index-e6af6ae5.js","assets/index-e9a9b560.js"])),e.send&&n.push(Ao(()=>import("./send-df0d2979.js"),["assets/send-df0d2979.js","assets/if-defined-265b4cad.js","assets/index-2b9978d4.js","assets/index-3b9dae56.js","assets/index-a84f3d39.js","assets/index-3fbc86dd.js","assets/index-6c2b3571.js","assets/index-10422778.js","assets/index-e9a9b560.js","assets/index-55dc6d53.js"])),e.receive&&n.push(Ao(()=>import("./receive-7b6e17ac.js"),["assets/receive-7b6e17ac.js","assets/if-defined-265b4cad.js","assets/index-f44fa60a.js","assets/index-10422778.js","assets/index-09f4a0d8.js","assets/browser-e933942f.js"])),e.onramp&&n.push(Ao(()=>import("./onramp-8e9c0ab1.js"),["assets/onramp-8e9c0ab1.js","assets/if-defined-265b4cad.js","assets/index-ef9f65a8.js","assets/index-e6af6ae5.js","assets/index-a84f3d39.js","assets/index-10422778.js","assets/index-3b9dae56.js","assets/index-f3fa36f2.js","assets/index-ff28de43.js","assets/index-2b9978d4.js","assets/index-3fbc86dd.js","assets/index-e9a9b560.js"])),e.history&&n.push(Ao(()=>import("./transactions-6ffc5e8f.js"),["assets/transactions-6ffc5e8f.js","assets/if-defined-265b4cad.js","assets/index-b7cd39ce.js","assets/index-ef9f65a8.js","assets/index-e6af6ae5.js","assets/index-a84f3d39.js","assets/index-3fbc86dd.js","assets/index-10422778.js"]))),await Promise.all([...n,Ao(()=>import("./index-fefbe6aa.js"),["assets/index-fefbe6aa.js","assets/if-defined-265b4cad.js","assets/index-10422778.js","assets/index-3b9dae56.js","assets/index-55dc6d53.js","assets/index-a84f3d39.js","assets/index-1fa49810.js","assets/index-73331142.js","assets/index-4e98caed.js","assets/index-f3fa36f2.js","assets/index-2b9978d4.js","assets/index-b7cd39ce.js","assets/index-ef9f65a8.js","assets/index-e6af6ae5.js","assets/index-3fbc86dd.js","assets/index-313ccf44.js","assets/index-e9a9b560.js","assets/index-6d8fc3ae.js","assets/index-ff28de43.js","assets/index-ff9527b4.js","assets/index-ba8aa52f.js","assets/index-f44fa60a.js","assets/index-09f4a0d8.js","assets/browser-e933942f.js"]),Ao(()=>import("./w3m-modal-30b528b0.js"),["assets/w3m-modal-30b528b0.js","assets/if-defined-265b4cad.js","assets/index-4e98caed.js","assets/index-10422778.js","assets/index-a84f3d39.js","assets/index-3b9dae56.js","assets/index-73331142.js","assets/index-1fa49810.js"])]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!Pe.state.disableAppend&&!Pe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}gq=!0}}}const Xst="1.7.3";let YR;function eot(t){return YR||(YR=new Jst({...t,sdkVersion:Lt.generateSdkVersion(t.adapters??[],"react",Xst)})),YR}var tot="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const yq=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),vq=4;function not(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let P=1;P<r;P++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const h=31,f=2**h,p=f>>>1,g=p>>1,y=f-1;let v=0;for(let P=0;P<h;P++)v=v<<1|u();let b=[],w=0,A=f;for(;;){let P=Math.floor(((v-w+1)*i-1)/A),D=0,C=r;for(;C-D>1;){let N=D+C>>>1;P<s[N]?C=N:D=N}if(D==0)break;b.push(D);let I=w+Math.floor(A*s[D]/i),x=w+Math.floor(A*s[D+1]/i)-1;for(;!((I^x)&p);)v=v<<1&y|u(),I=I<<1&y,x=x<<1&y|1;for(;I&~x&g;)v=v&p|v<<1&y>>>1|u(),I=I<<1^p,x=(x^p)<<1|p|1;w=I,A=1+x-I}let S=r-4;return b.map(P=>{switch(P-S){case 3:return S+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return S+256+(t[a++]<<8|t[a++]);case 1:return S+t[a++];default:return P-1}})}function rot(t){let e=0;return()=>t[e++]}function qae(t){return rot(not(iot(t)))}function iot(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function sot(t){return t&1?~t>>1:t>>1}function oot(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=sot(e());return n}function OE(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function Gae(t){return DE(()=>{let e=OE(t);if(e.length)return e})}function Kae(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(aot(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(cot(n,t))}return e.flat()}function DE(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Yae(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)oot(t,n).forEach((s,o)=>r[o].push(s));return r}function aot(t,e){let n=1+e(),r=e(),i=DE(e);return Yae(i.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(i[a]).fill().map((u,h)=>{let f=h*r;return[c+h*n,l.map(p=>p+f)]})})}function cot(t,e){let n=1+e();return Yae(n,1+t,e).map(i=>[i[0],i.slice(1)])}function lot(t){let e=[],n=OE(t);return i(r([]),[]),e;function r(s){let o=t(),a=DE(()=>{let c=OE(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let u of l.Q)i(l,[...a,u],c)}}}function uot(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Qae(t){return`{${uot(t)}}`}function dot(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Hv(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function hot(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var fot="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const NE=44032,ax=4352,cx=4449,lx=4519,Zae=19,Jae=21,Wv=28,ux=Jae*Wv,pot=Zae*ux,mot=NE+pot,got=ax+Zae,yot=cx+Jae,vot=lx+Wv;function i_(t){return t>>24&255}function Xae(t){return t&16777215}let mF,wq,gF,zT;function wot(){let t=qae(fot);mF=new Map(Gae(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),wq=new Set(OE(t)),gF=new Map,zT=new Map;for(let[e,n]of Kae(t)){if(!wq.has(e)&&n.length==2){let[r,i]=n,s=zT.get(r);s||(s=new Map,zT.set(r,s)),s.set(i,e)}gF.set(e,n.reverse())}}function ece(t){return t>=NE&&t<mot}function _ot(t,e){if(t>=ax&&t<got&&e>=cx&&e<yot)return NE+(t-ax)*ux+(e-cx)*Wv;if(ece(t)&&e>lx&&e<vot&&(t-NE)%Wv==0)return t+(e-lx);{let n=zT.get(t);return n&&(n=n.get(e),n)?n:-1}}function tce(t){mF||wot();let e=[],n=[],r=!1;function i(s){let o=mF.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(ece(s)){let o=s-NE,a=o/ux|0,c=o%ux/Wv|0,l=o%Wv;i(ax+a),i(cx+c),l>0&&i(lx+l)}else{let o=gF.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=i_(e[0]);for(let o=1;o<e.length;o++){let a=i_(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(s=i_(e[--c]),s<=a))break}s=i_(e[o])}}return e}function bot(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=i_(s),a=Xae(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=_ot(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function nce(t){return tce(t).map(Xae)}function Eot(t){return bot(tce(t))}const _q=45,rce=".",ice=65039,sce=1,dx=t=>Array.from(t);function RE(t,e){return t.P.has(e)||t.Q.has(e)}class Aot extends Array{get is_emoji(){return!0}}let yF,oce,wp,vF,ace,Vy,QR,Zg,Gf,bq,wF;function a5(){if(yF)return;let t=qae(tot);const e=()=>OE(t),n=()=>new Set(e()),r=(u,h)=>h.forEach(f=>u.add(f));yF=new Map(Kae(t)),oce=n(),wp=e(),vF=new Set(e().map(u=>wp[u])),wp=new Set(wp),ace=n(),n();let i=Gae(t),s=t();const o=()=>{let u=new Set;return e().forEach(h=>r(u,i[h])),r(u,e()),u};Vy=DE(u=>{let h=DE(t).map(f=>f+96);if(h.length){let f=u>=s;h[0]-=32,h=Hv(h),f&&(h=`Restricted[${h}]`);let p=o(),g=o(),y=!t();return{N:h,P:p,Q:g,M:y,R:f}}}),QR=n(),Zg=new Map;let a=e().concat(dx(QR)).sort((u,h)=>u-h);a.forEach((u,h)=>{let f=t(),p=a[h]=f?a[h-f]:{V:[],M:new Map};p.V.push(u),QR.has(u)||Zg.set(u,p)});for(let{V:u,M:h}of new Set(Zg.values())){let f=[];for(let g of u){let y=Vy.filter(b=>RE(b,g)),v=f.find(({G:b})=>y.some(w=>b.has(w)));v||(v={G:new Set,V:[]},f.push(v)),v.V.push(g),r(v.G,y)}let p=f.flatMap(g=>dx(g.G));for(let{G:g,V:y}of f){let v=new Set(p.filter(b=>!g.has(b)));for(let b of y)h.set(b,v)}}Gf=new Set;let c=new Set;const l=u=>Gf.has(u)?c.add(u):Gf.add(u);for(let u of Vy){for(let h of u.P)l(h);for(let h of u.Q)l(h)}for(let u of Gf)!Zg.has(u)&&!c.has(u)&&Zg.set(u,sce);r(Gf,nce(Gf)),bq=lot(t).map(u=>Aot.from(u)).sort(hot),wF=new Map;for(let u of bq){let h=[wF];for(let f of u){let p=h.map(g=>{let y=g.get(f);return y||(y=new Map,g.set(f,y)),y});f===ice?h.push(...p):h=p}for(let f of h)f.V=u}}function c5(t){return(cce(t)?"":`${l5(VO([t]))} `)+Qae(t)}function l5(t){return`"${t}"‎`}function Cot(t){if(t.length>=4&&t[2]==_q&&t[3]==_q)throw new Error(`invalid label extension: "${Hv(t.slice(0,4))}"`)}function Tot(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Sot(t){let e=t[0],n=yq.get(e);if(n)throw F_(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=yq.get(e);if(o){if(i==s)throw F_(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw F_(`trailing ${n}`)}function VO(t,e=1/0,n=Qae){let r=[];Iot(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];cce(a)&&(r.push(Hv(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(Hv(t.slice(i,s))),r.join("")}function Iot(t){return a5(),wp.has(t)}function cce(t){return a5(),ace.has(t)}function xot(t){return Not(Pot(t,Eot,Mot))}function Pot(t,e,n){if(!t)return[];a5();let r=0;return t.split(rce).map(i=>{let s=dot(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=kot(s,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(Tot(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(f=>f<128))Cot(u),l="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)l="Emoji";else{if(wp.has(u[0]))throw F_("leading combining mark");for(let y=1;y<c;y++){let v=a[y];if(!v.is_emoji&&wp.has(v[0]))throw F_(`emoji + combining mark: "${Hv(a[y-1])} + ${VO([v[0]])}"`)}Sot(u);let p=dx(new Set(f)),[g]=Dot(p);Rot(g,f),Oot(g,p),l=g.N}}o.type=l}catch(a){o.error=a}return o})}function Oot(t,e){let n,r=[];for(let i of e){let s=Zg.get(i);if(s===sce)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):dx(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>RE(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Dot(t){let e=Vy;for(let n of t){let r=e.filter(i=>RE(i,n));if(!r.length)throw Vy.some(i=>RE(i,n))?uce(e[0],n):lce(n);if(e=r,r.length==1)break}return e}function Not(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${l5(VO(e,63))}: ${i}`)}return Hv(r)}).join(rce)}function lce(t){return new Error(`disallowed character: ${c5(t)}`)}function uce(t,e){let n=c5(e),r=Vy.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function F_(t){return new Error(`illegal placement: ${t}`)}function Rot(t,e){for(let n of e)if(!RE(t,n))throw uce(t,n);if(t.M){let n=nce(e);for(let r=1,i=n.length;r<i;r++)if(vF.has(n[r])){let s=r+1;for(let o;s<i&&vF.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${c5(o)}`);if(s-r>vq)throw new Error(`excessive non-spacing marks: ${l5(VO(n.slice(r-1,s)))} (${s-r}/${vq})`);r=s}}}function kot(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=Lot(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Gf.has(o))i.push(o);else{let a=yF.get(o);if(a)i.push(...a);else if(!oce.has(o))throw lce(o)}}}return i.length&&r.push(e(i)),r}function Mot(t){return t.filter(e=>e!=ice)}function Lot(t,e){let n=wF,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}function Fot(t){return xot(t)}function $ot(t){return Fot(t)}function Uot(t){let e=[],n,r;function i(a){return rE.parseEvmChainId(a)||1}function s(){return n||(n=Fp.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{kp.open(yp.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),n}async function o(a={}){var y,v;const c=s();let l=a.chainId;if(a.isReconnecting){const b=rE.parseEvmChainId(c.getLastUsedChainId()||""),w=(y=t.chains)==null?void 0:y[0].id;if(l=b||w,!l)throw new Error("ChainId not found in provider")}const u=(v=st.state.preferredAccountTypes)==null?void 0:v.eip155,{address:h,chainId:f,accounts:p}=await c.connect({chainId:l,preferredAccountType:u});e=(p==null?void 0:p.map(b=>b.address))||[h];const g=i(f);return{accounts:e,account:h,chainId:g,chain:{id:g,unsuported:!1}}}return a=>({id:Se.CONNECTOR_ID.AUTH,name:Se.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Se.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=Fp.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{kp.open(yp.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return i(l)},async isAuthorized(){const c=await this.getProvider();return Promise.resolve(c.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const h=a.chains.find(y=>y.id===c);if(!h)throw new Ul(new Error("chain not found on connector."));const f=await this.getProvider(),p=(l=st.state.preferredAccountTypes)==null?void 0:l.eip155,g=await f.connect({chainId:c,preferredAccountType:p});return e=((u=g==null?void 0:g.accounts)==null?void 0:u.map(y=>y.address))||[g.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),h}catch(h){throw h instanceof Error?new Ul(h):h}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(hp)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}u5.type="walletConnect";function u5(t,e){const n=t.isNewChainsStale??!0;let r,i,s,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:u5.type,async setup(){const h=await this.getProvider().catch(()=>null);h&&(o||(o=this.onConnect.bind(this),h.on("connect",o)),c||(c=this.onSessionDelete.bind(this),h.on("session_delete",c)))},async connect({...h}={}){var f,p,g;try{const y=X.getCaipNetworks(),v=await this.getProvider();if(!v)throw new Kd;a||(a=this.onDisplayUri,v.on("display_uri",a));const b=await this.isChainsStale();v.session&&b&&await v.disconnect();const w=Pe.state.universalProviderConfigOverride;if(!v.session||b){const x=zO.createNamespaces(y,w);await v.connect({optionalNamespaces:x,..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(y.map(N=>Number(N.id)))}const A=await this.getAccounts(),S=await this.getChainId(),P=(g=(p=(f=v.session)==null?void 0:f.namespaces)==null?void 0:p.eip155)==null?void 0:g.chains,D=P==null?void 0:P.some(x=>Number(x.split(":")[1])===S);let C=1;D?C=S:P!=null&&P[0]&&(C=Number(P[0].split(":")[1])),a&&(v.removeListener("display_uri",a),a=void 0),o&&(v.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),v.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),v.on("chainChanged",s)),l||(l=this.onDisconnect.bind(this),v.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),v.on("session_delete",c));const I=w==null?void 0:w.defaultChain;return v.setDefaultChain(I??`eip155:${C}`),{accounts:A,chainId:C}}catch(y){throw/(user rejected|connection request reset)/i.test(y==null?void 0:y.message)?new Ti(y):y}},async disconnect(){const h=await this.getProvider();try{await(h==null?void 0:h.disconnect())}catch(f){if(!/No matching key/i.test(f.message))throw f}finally{s&&(h==null||h.removeListener("chainChanged",s),s=void 0),l&&(h==null||h.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),h==null||h.on("connect",o)),i&&(h==null||h.removeListener("accountsChanged",i),i=void 0),c&&(h==null||h.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var g,y,v;const h=await this.getProvider();if(!((g=h==null?void 0:h.session)!=null&&g.namespaces))return[];const f=(v=(y=h==null?void 0:h.session)==null?void 0:y.namespaces[Se.CHAIN.EVM])==null?void 0:v.accounts;return(f==null?void 0:f.map(b=>b.split(":")[2]))??[]},async getProvider({chainId:h}={}){var g,y;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const f=Qe.getActiveNamespace(),p=(g=e.getCaipNetwork())==null?void 0:g.id;if(h&&p!==h&&f){const v=Qe.getStoredActiveCaipNetworkId(),b=e.getCaipNetworks(f),w=b==null?void 0:b.find(A=>A.id===v);w&&w.chainNamespace===Se.CHAIN.EVM&&await((y=this.switchChain)==null?void 0:y.call(this,{chainId:Number(w.id)}))}return r},async getChainId(){var y,v,b,w;const h=(y=e.getCaipNetwork(Se.CHAIN.EVM))==null?void 0:y.id;if(h)return h;const p=(w=(b=(v=(await this.getProvider()).session)==null?void 0:v.namespaces[Se.CHAIN.EVM])==null?void 0:b.chains)==null?void 0:w[0],g=X.getCaipNetworks().find(A=>A.id===p);return g==null?void 0:g.id},async isAuthorized(){try{const[h,f]=await Promise.all([this.getAccounts(),this.getProvider()]);return h.length?await this.isChainsStale()&&f.session?(await f.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:f}){var y,v,b,w;const p=await this.getProvider();if(!p)throw new Kd;const g=X.getCaipNetworks().find(A=>A.id===f);if(!g)throw new Ul(new Jb);try{await p.request({method:"wallet_switchEthereumChain",params:[{chainId:an(f)}]}),g!=null&&g.caipNetworkId&&p.setDefaultChain(g==null?void 0:g.caipNetworkId),u.emitter.emit("change",{chainId:Number(f)});const A=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...A,f]),{...g,id:g.id}}catch(A){const S=A;if(/(?:user rejected)/iu.test(S.message))throw new Ti(S);try{let P;h!=null&&h.blockExplorerUrls?P=h.blockExplorerUrls:P=(y=g.blockExplorers)!=null&&y.default.url?[(v=g.blockExplorers)==null?void 0:v.default.url]:[];const D=((w=(b=g.rpcUrls)==null?void 0:b.chainDefault)==null?void 0:w.http)||[],C={blockExplorerUrls:P,chainId:an(f),chainName:g.name,iconUrls:h==null?void 0:h.iconUrls,nativeCurrency:g.nativeCurrency,rpcUrls:D};await p.request({method:"wallet_addEthereumChain",params:[C]});const I=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...I,f]),{...g,id:g.id}}catch(P){throw new Ti(P)}}},onAccountsChanged(h){h.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:h.map(f=>hp(f))})},onChainChanged(h){const f=Number(h);u.emitter.emit("change",{chainId:f})},onConnect(h){this.setRequestedChainsIds(X.getCaipNetworks().map(f=>Number(f.id)))},async onDisconnect(h){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const f=await this.getProvider();i&&(f.removeListener("accountsChanged",i),i=void 0),s&&(f.removeListener("chainChanged",s),s=void 0),l&&(f.removeListener("disconnect",l),l=void 0),c&&(f.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))},onDisplayUri(h){u.emitter.emit("message",{type:"display_uri",data:h})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var p,g,y;if(!((p=r==null?void 0:r.session)!=null&&p.namespaces))return[];const h=(y=(g=r==null?void 0:r.session)==null?void 0:g.namespaces[Se.CHAIN.EVM])==null?void 0:y.accounts;return(h==null?void 0:h.map(v=>Number.parseInt(v.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var f;const h=await((f=u.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[];return[...new Set(h)]},async isChainsStale(){if(!n)return!1;const h=u.chains.map(g=>g.id),f=this.getNamespaceChainsIds();if(f.length&&!f.some(g=>h.includes(g)))return!1;const p=await this.getRequestedChainsIds();return!h.every(g=>p.includes(Number(g)))},async setRequestedChainsIds(h){var f;await((f=u.storage)==null?void 0:f.setItem(this.requestedChainsStorageKey,h))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const k0=Mr({pendingTransactions:0}),Eq={state:k0,subscribeKey(t,e){return lo(k0,t,e)},increase(t){k0[t]+=1},decrease(t){k0[t]-=1},reset(t){k0[t]=0}};function jot(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const Bot={enable:!1,pollingInterval:3e4};class zot extends Wae{constructor(e){const n=gl.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,adapterType:Se.ADAPTER_TYPES.WAGMI,namespace:Se.CHAIN.EVM}),this.balancePromises={},this.pendingTransactionsFilter={...Bot,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.setupWatchers()}async getAccounts(e){var s;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===Se.CONNECTOR_ID.AUTH){const o=n.provider;if(!o.user)return{accounts:[]};const{address:a,accounts:c}=o.user;return Promise.resolve({accounts:(c||[{address:a,type:"eoa"}]).map(l=>Lt.createAccount("eip155",l.address,l.type))})}const{addresses:r,address:i}=kI(this.wagmiConfig);return Promise.resolve({accounts:(s=r||[i])==null?void 0:s.map(o=>Lt.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(i=>i.chainNamespace===Se.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(i=>{var a,c;const s=(a=e.transports)==null?void 0:a[i.id],o=gl.getCaipNetworkId(i);s?n[i.id]=gl.extendWagmiTransports(i,e.projectId,s):n[i.id]=gl.getViemTransport(i,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=w5e({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=Xje(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),Eq.increase("pendingTransactions")}});const e=Eq.subscribeKey("pendingTransactions",n=>{var r;n>=Se.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){Zje(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var r,i;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:s}=await Ao(()=>import("./index-fec65095.js"),[]);s&&n.push(s({version:"4",appName:((r=e.metadata)==null?void 0:r.name)??"Unknown",appLogoUrl:((i=e.metadata)==null?void 0:i.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(s){console.error("Failed to import Coinbase Wallet SDK:",s)}n.forEach(s=>{const o=this.wagmiConfig._internal.connectors.setup(s);this.wagmiConfig._internal.connectors.setState(a=>[...a,o])})}addWagmiConnectors(e,n){var o,a,c,l,u;const r=[];e.enableWalletConnect!==!1&&r.push(u5(e,n)),e.enableInjected!==!1&&r.push(uO({shimDisconnect:!0}));const i=((o=e.features)==null?void 0:o.email)===void 0?Wi.DEFAULT_FEATURES.email:(a=e.features)==null?void 0:a.email,s=(c=e.features)!=null&&c.socials?((u=(l=e.features)==null?void 0:l.socials)==null?void 0:u.length)>0:Wi.DEFAULT_FEATURES.socials;(i||s)&&r.push(Uot({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(h=>{const f=this.wagmiConfig._internal.connectors.setup(h);this.wagmiConfig._internal.connectors.setState(p=>[...p,f])})}async signMessage(e){try{return{signature:await Yje(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n}=kI(this.wagmiConfig),r={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await Gje(this.wagmiConfig,r);const i=await Kje(this.wagmiConfig,r);return await e5e(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,i=Number(rE.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await Wre(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[i],chainId:i,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:n,caipNetwork:r}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let i=!1,s=!1;return p8e(n)&&(s=await zO.resolveReownName(n)||!1),r.id===1&&(i=await Hje(this.wagmiConfig,{name:$ot(n),chainId:r.id})),{address:i||s||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await Uje(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return Fre(e.value,e.decimals)}formatUnits(e){return dw(e.value,e.decimals)}async addWagmiConnector(e,n){var i;if(e.id===Se.CONNECTOR_ID.AUTH||e.id===Se.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Ch.ConnectorExplorerIds[e.id],imageUrl:((i=n==null?void 0:n.connectorImages)==null?void 0:i[e.id])??e.icon,name:Ch.ConnectorNamesMap[e.id]??e.name,imageId:Ch.ConnectorImageIds[e.id],type:Ch.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Se.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){Jje(this.wagmiConfig,{onChange:r=>r.forEach(i=>this.addWagmiConnector(i,e))}),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:n}=e,i=gg(this.wagmiConfig).find(a=>a.connector.id===n),s=this.getWagmiConnector(n),o=await(s==null?void 0:s.getProvider());return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:o,type:i==null?void 0:i.connector.type,id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const i=await _V(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return i.chainId!==Number(e)&&await AV(this.wagmiConfig,{chainId:i.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var l,u,h,f,p;const{id:n,provider:r,type:i,info:s,chainId:o}=e,a=this.getWagmiConnector(n);if(!a)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&s&&a.id===Se.CONNECTOR_ID.EIP6963&&((l=a.setEip6963Wallet)==null||l.call(a,{provider:r,info:s})),a.uid===((h=(u=this.wagmiConfig)==null?void 0:u.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(a.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:i,id:n}}const c=await _V(this.wagmiConfig,{connector:a,chainId:o?Number(o):void 0});return{address:c.accounts[0],chainId:c.chainId,provider:r,type:i,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await Hre(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(i=>i.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const i=`${r.caipNetworkId}:${e.address}`,s=this.balancePromises[i];if(s)return s;const o=Qe.getNativeBalanceCacheForCaipAddress(i);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[i]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),h=await Vje(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});Qe.updateNativeBalanceCache({caipAddress:i,balance:h.formatted,symbol:h.symbol,timestamp:Date.now()}),a({balance:h.formatted,symbol:h.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const n=e.chainId,r=await qje(this.wagmiConfig,{address:e.address,chainId:n});if(r){const i=await Wje(this.wagmiConfig,{name:r,chainId:n});return{profileName:r,profileImage:i??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=gg(this.wagmiConfig);await Promise.all(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await $je(this.wagmiConfig,{connector:r})}))}async switchNetwork(e){await AV(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=gg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=s.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=jot(o)[e];if(u)return u}return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=gg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=gg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=gg(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new o5({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const Vot=new Q5e,dce="8dee16f61a63afc2345a8cabc6ebc2ed",Hot={name:"travel-booking",description:"AppKit Example",url:"http://localhost:5173/",icons:["https://avatars.githubusercontent.com/u/179229932"]},hce=[Gst,Wst,qst],fce=new zot({networks:hce,projectId:dce,ssr:!0});eot({adapters:[fce],networks:hce,projectId:dce,metadata:Hot,features:{analytics:!0}});function Wot({children:t}){return T.jsx(E5e,{config:fce.wagmiConfig,children:T.jsx(e4e,{client:Vot,children:t})})}const qot={}.VITE_BASE_NAME,Got=lpe(Zk(T.jsx(DY,{path:"*",element:T.jsx(K6e,{})})),{basename:qot});function Kot(){return T.jsx(Wot,{children:T.jsx(lhe,{store:q3,children:T.jsx(UY,{persistor:Pye,children:T.jsxs(uy,{children:[T.jsx(ype,{router:Got}),T.jsx(Whe,{position:"top-right",autoClose:3e3})]})})})})}ZR.createRoot(document.getElementById("root")).render(T.jsx(ae.StrictMode,{children:T.jsx(Kot,{})}));export{kp as $,st as A,ds as B,Oje as C,vct as D,xae as E,Jo as F,pr as G,Er as H,Sst as I,Qe as J,QW as K,Wie as L,oi as M,fC as N,Pe as O,Kd as P,Dt as Q,XU as R,Ul as S,ks as T,Ti as U,Mr as V,yi as W,io as X,lo as Y,YW as Z,Ao as _,hp as a,uct as a$,gat as a0,jt as a1,mat as a2,ert as a3,wc as a4,wct as a5,pct as a6,fF as a7,UT as a8,R_ as a9,t$e as aA,EWe as aB,Yat as aC,QH as aD,qse as aE,hWe as aF,AWe as aG,Qat as aH,Kat as aI,IO as aJ,Zat as aK,Jat as aL,kq as aM,u5e as aN,Ya as aO,Xot as aP,Ll as aQ,t3e as aR,$l as aS,am as aT,uat as aU,Hi as aV,iat as aW,bs as aX,fw as aY,Xat as aZ,tr as a_,zi as aa,Zs as ab,oo as ac,gct as ad,pF as ae,$ae as af,zv as ag,Ee as ah,JU as ai,Ba as aj,gUe as ak,sje as al,Ire as am,dat as an,Dre as ao,om as ap,oO as aq,I_ as ar,od as as,xne as at,oat as au,WU as av,SI as aw,iO as ax,aat as ay,lat as az,Jb as b,Hh as b0,hat as c,kje as d,zh as e,rat as f,vje as g,Lre as h,mf as i,uO as j,gf as k,By as l,BT as m,an as n,qn as o,Yt as p,Pu as q,Wi as r,eO as s,yct as t,Se as u,Lt as v,DI as w,fct as x,X as y,ar as z};
